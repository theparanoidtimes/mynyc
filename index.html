<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>My NYC</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />
        <style>
         .ol-attribution {
             position: absolute;
             left: 0;
             bottom: 0;
         }
         .ol-attribution button{
             display: none;
         }
        </style>
    </head>
    <body>
        <div class="container-fluid bg-body">
            <div class="row">
                <div class="col-8">
                    <h1 class="h1 display-4 text-center">My NYC</h1>
                    <div id="map" class="w-100 vh-100 border rounded"></div>
                </div>
                <div id="feature" class="col-4 border rounded bg-light"></div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
        <script id="app-script" type="text/javascript">var shadow$provide = {};
(function(){
shadow$provide[0]=function(X,c,Z,N){function J(v){if(null===v||"object"!==typeof v)return null;v=q&&v[q]||v["@@iterator"];return"function"===typeof v?v:null}function K(v,I,O){this.props=v;this.context=I;this.refs=y;this.updater=O||A}function E(){}function C(v,I,O){this.props=v;this.context=I;this.refs=y;this.updater=O||A}function u(v,I,O){var ea,la={},va=null,Da=null;if(null!=I)for(ea in void 0!==I.ref&&(Da=I.ref),void 0!==I.key&&(va=""+I.key),I)T.call(I,ea)&&!S.hasOwnProperty(ea)&&(la[ea]=I[ea]);
var Ya=arguments.length-2;if(1===Ya)la.children=O;else if(1<Ya){for(var Za=Array(Ya),gb=0;gb<Ya;gb++)Za[gb]=arguments[gb+2];la.children=Za}if(v&&v.defaultProps)for(ea in Ya=v.defaultProps,Ya)void 0===la[ea]&&(la[ea]=Ya[ea]);return{$$typeof:h,type:v,key:va,ref:Da,props:la,_owner:Q.current}}function p(v,I){return{$$typeof:h,type:v.type,key:I,ref:v.ref,props:v.props,_owner:v._owner}}function m(v){return"object"===typeof v&&null!==v&&v.$$typeof===h}function f(v){var I={"\x3d":"\x3d0",":":"\x3d2"};return"$"+
v.replace(/[=:]/g,function(O){return I[O]})}function l(v,I){return"object"===typeof v&&null!==v&&null!=v.key?f(""+v.key):I.toString(36)}function e(v,I,O,ea,la){var va=typeof v;if("undefined"===va||"boolean"===va)v=null;var Da=!1;if(null===v)Da=!0;else switch(va){case "string":case "number":Da=!0;break;case "object":switch(v.$$typeof){case h:case k:Da=!0}}if(Da)return Da=v,la=la(Da),v=""===ea?"."+l(Da,0):ea,M(la)?(O="",null!=v&&(O=v.replace(W,"$\x26/")+"/"),e(la,I,O,"",function(gb){return gb})):null!=
la&&(m(la)&&(la=p(la,O+(!la.key||Da&&Da.key===la.key?"":(""+la.key).replace(W,"$\x26/")+"/")+v)),I.push(la)),1;Da=0;ea=""===ea?".":ea+":";if(M(v))for(var Ya=0;Ya<v.length;Ya++){va=v[Ya];var Za=ea+l(va,Ya);Da+=e(va,I,O,Za,la)}else if(Za=J(v),"function"===typeof Za)for(v=Za.call(v),Ya=0;!(va=v.next()).done;)va=va.value,Za=ea+l(va,Ya++),Da+=e(va,I,O,Za,la);else if("object"===va)throw I=String(v),Error("Objects are not valid as a React child (found: "+("[object Object]"===I?"object with keys {"+Object.keys(v).join(", ")+
"}":I)+"). If you meant to render a collection of children, use an array instead.");return Da}function d(v,I,O){if(null==v)return v;var ea=[],la=0;e(v,ea,"","",function(va){return I.call(O,va,la++)});return ea}function g(v){if(-1===v._status){var I=v._result;I=I();I.then(function(O){if(0===v._status||-1===v._status)v._status=1,v._result=O},function(O){if(0===v._status||-1===v._status)v._status=2,v._result=O});-1===v._status&&(v._status=0,v._result=I)}if(1===v._status)return v._result.default;throw v._result;
}var h=Symbol.for("react.element"),k=Symbol.for("react.portal");X=Symbol.for("react.fragment");c=Symbol.for("react.strict_mode");Z=Symbol.for("react.profiler");var n=Symbol.for("react.provider"),r=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),q=Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,
y={};K.prototype.isReactComponent={};K.prototype.setState=function(v,I){if("object"!==typeof v&&"function"!==typeof v&&null!=v)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,I,"setState")};K.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};E.prototype=K.prototype;var F=C.prototype=new E;F.constructor=C;L(F,K.prototype);F.isPureReactComponent=
!0;var M=Array.isArray,T=Object.prototype.hasOwnProperty,Q={current:null},S={key:!0,ref:!0,__self:!0,__source:!0},W=/\/+/g,ca={current:null},B={transition:null};F={ReactCurrentDispatcher:ca,ReactCurrentBatchConfig:B,ReactCurrentOwner:Q};N.Children={map:d,forEach:function(v,I,O){d(v,function(){I.apply(this,arguments)},O)},count:function(v){var I=0;d(v,function(){I++});return I},toArray:function(v){return d(v,function(I){return I})||[]},only:function(v){if(!m(v))throw Error("React.Children.only expected to receive a single React element child.");
return v}};N.Component=K;N.Fragment=X;N.Profiler=Z;N.PureComponent=C;N.StrictMode=c;N.Suspense=D;N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F;N.cloneElement=function(v,I,O){if(null===v||void 0===v)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var ea=L({},v.props),la=v.key,va=v.ref,Da=v._owner;if(null!=I){void 0!==I.ref&&(va=I.ref,Da=Q.current);void 0!==I.key&&(la=""+I.key);if(v.type&&v.type.defaultProps)var Ya=v.type.defaultProps;for(Za in I)T.call(I,
Za)&&!S.hasOwnProperty(Za)&&(ea[Za]=void 0===I[Za]&&void 0!==Ya?Ya[Za]:I[Za])}var Za=arguments.length-2;if(1===Za)ea.children=O;else if(1<Za){Ya=Array(Za);for(var gb=0;gb<Za;gb++)Ya[gb]=arguments[gb+2];ea.children=Ya}return{$$typeof:h,type:v.type,key:la,ref:va,props:ea,_owner:Da}};N.createContext=function(v){v={$$typeof:r,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};v.Provider={$$typeof:n,_context:v};return v.Consumer=v};N.createElement=
u;N.createFactory=function(v){var I=u.bind(null,v);I.type=v;return I};N.createRef=function(){return{current:null}};N.forwardRef=function(v){return{$$typeof:x,render:v}};N.isValidElement=m;N.lazy=function(v){return{$$typeof:w,_payload:{_status:-1,_result:v},_init:g}};N.memo=function(v,I){return{$$typeof:z,type:v,compare:void 0===I?null:I}};N.startTransition=function(v){var I=B.transition;B.transition={};try{v()}finally{B.transition=I}};N.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};N.useCallback=function(v,I){return ca.current.useCallback(v,I)};N.useContext=function(v){return ca.current.useContext(v)};N.useDebugValue=function(){};N.useDeferredValue=function(v){return ca.current.useDeferredValue(v)};N.useEffect=function(v,I){return ca.current.useEffect(v,I)};N.useId=function(){return ca.current.useId()};N.useImperativeHandle=function(v,I,O){return ca.current.useImperativeHandle(v,I,O)};N.useInsertionEffect=function(v,I){return ca.current.useInsertionEffect(v,I)};N.useLayoutEffect=
function(v,I){return ca.current.useLayoutEffect(v,I)};N.useMemo=function(v,I){return ca.current.useMemo(v,I)};N.useReducer=function(v,I,O){return ca.current.useReducer(v,I,O)};N.useRef=function(v){return ca.current.useRef(v)};N.useState=function(v){return ca.current.useState(v)};N.useSyncExternalStore=function(v,I,O){return ca.current.useSyncExternalStore(v,I,O)};N.useTransition=function(){return ca.current.useTransition()};N.version="18.2.0"};
shadow$provide[2]=function(X,c,Z,N){Z.exports=c(0)};
shadow$provide[3]=function(X,c,Z,N){function J(v,I){var O=v.length;v.push(I);a:for(;0<O;){var ea=O-1>>>1,la=v[ea];if(0<C(la,I))v[ea]=I,v[O]=la,O=ea;else break a}}function K(v){return 0===v.length?null:v[0]}function E(v){if(0===v.length)return null;var I=v[0],O=v.pop();if(O!==I){v[0]=O;var ea=0,la=v.length,va=la>>>1;a:for(;ea<va;){var Da=2*(ea+1)-1,Ya=v[Da],Za=Da+1,gb=v[Za];if(0>C(Ya,O))Za<la&&0>C(gb,Ya)?(v[ea]=gb,v[Za]=O,ea=Za):(v[ea]=Ya,v[Da]=O,ea=Da);else if(Za<la&&0>C(gb,O))v[ea]=gb,v[Za]=O,ea=
Za;else break a}}return I}function C(v,I){var O=v.sortIndex-I.sortIndex;return 0!==O?O:v.id-I.id}function u(v){for(var I=K(r);null!==I;){if(null===I.callback)E(r);else if(I.startTime<=v)E(r),I.sortIndex=I.expirationTime,J(n,I);else break;I=K(r)}}function p(v){A=!1;u(v);if(!q)if(null!==K(n))q=!0,e(m);else{var I=K(r);null!==I&&d(p,I.startTime-v)}}function m(v,I){q=!1;A&&(A=!1,y(Q),Q=-1);w=!0;var O=z;try{u(I);for(D=K(n);null!==D&&(!(D.expirationTime>I)||v&&!f());){var ea=D.callback;if("function"===typeof ea){D.callback=
null;z=D.priorityLevel;var la=ea(D.expirationTime<=I);I=N.unstable_now();"function"===typeof la?D.callback=la:D===K(n)&&E(n);u(I)}else E(n);D=K(n)}if(null!==D)var va=!0;else{var Da=K(r);null!==Da&&d(p,Da.startTime-I);va=!1}return va}finally{D=null,z=O,w=!1}}function f(){return N.unstable_now()-W<S?!1:!0}function l(){if(null!==T){var v=N.unstable_now();W=v;var I=!0;try{I=T(!0,v)}finally{I?ca():(M=!1,T=null)}}else M=!1}function e(v){T=v;M||(M=!0,ca())}function d(v,I){Q=L(function(){v(N.unstable_now())},
I)}if("object"===typeof performance&&"function"===typeof performance.now){var g=performance;N.unstable_now=function(){return g.now()}}else{var h=Date,k=h.now();N.unstable_now=function(){return h.now()-k}}var n=[],r=[],x=1,D=null,z=3,w=!1,q=!1,A=!1,L="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,F="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&
navigator.scheduling.isInputPending.bind(navigator.scheduling);var M=!1,T=null,Q=-1,S=5,W=-1;if("function"===typeof F)var ca=function(){F(l)};else if("undefined"!==typeof MessageChannel){X=new MessageChannel;var B=X.port2;X.port1.onmessage=l;ca=function(){B.postMessage(null)}}else ca=function(){L(l,0)};N.unstable_IdlePriority=5;N.unstable_ImmediatePriority=1;N.unstable_LowPriority=4;N.unstable_NormalPriority=3;N.unstable_Profiling=null;N.unstable_UserBlockingPriority=2;N.unstable_cancelCallback=function(v){v.callback=
null};N.unstable_continueExecution=function(){q||w||(q=!0,e(m))};N.unstable_forceFrameRate=function(v){0>v||125<v?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<v?Math.floor(1E3/v):5};N.unstable_getCurrentPriorityLevel=function(){return z};N.unstable_getFirstCallbackNode=function(){return K(n)};N.unstable_next=function(v){switch(z){case 1:case 2:case 3:var I=3;break;default:I=z}var O=z;z=I;try{return v()}finally{z=
O}};N.unstable_pauseExecution=function(){};N.unstable_requestPaint=function(){};N.unstable_runWithPriority=function(v,I){switch(v){case 1:case 2:case 3:case 4:case 5:break;default:v=3}var O=z;z=v;try{return I()}finally{z=O}};N.unstable_scheduleCallback=function(v,I,O){var ea=N.unstable_now();"object"===typeof O&&null!==O?(O=O.delay,O="number"===typeof O&&0<O?ea+O:ea):O=ea;switch(v){case 1:var la=-1;break;case 2:la=250;break;case 5:la=1073741823;break;case 4:la=1E4;break;default:la=5E3}la=O+la;v={id:x++,
callback:I,priorityLevel:v,startTime:O,expirationTime:la,sortIndex:-1};O>ea?(v.sortIndex=O,J(r,v),null===K(n)&&v===K(r)&&(A?(y(Q),Q=-1):A=!0,d(p,O-ea))):(v.sortIndex=la,J(n,v),q||w||(q=!0,e(m)));return v};N.unstable_shouldYield=f;N.unstable_wrapCallback=function(v){var I=z;return function(){var O=z;z=I;try{return v.apply(this,arguments)}finally{z=O}}}};
shadow$provide[5]=function(X,c,Z,N){Z.exports=c(3)};
shadow$provide[6]=function(X,c,Z,N){function J(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,t=1;t<arguments.length;t++)b+="\x26args[]\x3d"+encodeURIComponent(arguments[t]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function K(a,b){E(a,b);E(a+"Capture",b)}function E(a,b){tf[a]=b;for(a=0;a<b.length;a++)jj.add(b[a])}function C(a){if($h.call(kj,a))return!0;
if($h.call(lj,a))return!1;if(fk.test(a))return kj[a]=!0;lj[a]=!0;return!1}function u(a,b,t,G){if(null!==t&&0===t.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(G)return!1;if(null!==t)return!t.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function p(a,b,t,G){if(null===b||"undefined"===typeof b||u(a,b,t,G))return!0;if(G)return!1;if(null!==t)switch(t.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);
case 6:return isNaN(b)||1>b}return!1}function m(a,b,t,G,P,Y,na){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=G;this.attributeNamespace=P;this.mustUseProperty=t;this.propertyName=a;this.type=b;this.sanitizeURL=Y;this.removeEmptyString=na}function f(a){return a[1].toUpperCase()}function l(a,b,t,G){var P=wc.hasOwnProperty(b)?wc[b]:null;if(null!==P?0!==P.type:G||!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1])p(b,t,P,G)&&(t=null),G||null===P?C(b)&&(null===t?a.removeAttribute(b):
a.setAttribute(b,""+t)):P.mustUseProperty?a[P.propertyName]=null===t?3===P.type?!1:"":t:(b=P.attributeName,G=P.attributeNamespace,null===t?a.removeAttribute(b):(P=P.type,t=3===P||4===P&&!0===t?"":""+t,G?a.setAttributeNS(G,b,t):a.setAttribute(b,t)))}function e(a){if(null===a||"object"!==typeof a)return null;a=mj&&a[mj]||a["@@iterator"];return"function"===typeof a?a:null}function d(a){if(void 0===ai)try{throw Error();}catch(t){var b=t.stack.trim().match(/\n( *(at )?)/);ai=b&&b[1]||""}return"\n"+ai+
a}function g(a,b){if(!a||bi)return"";bi=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(eb){var G=eb}Reflect.construct(a,[],b)}else{try{b.call()}catch(eb){G=eb}a.call(b.prototype)}else{try{throw Error();}catch(eb){G=eb}a()}}catch(eb){if(eb&&G&&"string"===typeof eb.stack){for(var P=eb.stack.split("\n"),
Y=G.stack.split("\n"),na=P.length-1,Ja=Y.length-1;1<=na&&0<=Ja&&P[na]!==Y[Ja];)Ja--;for(;1<=na&&0<=Ja;na--,Ja--)if(P[na]!==Y[Ja]){if(1!==na||1!==Ja){do if(na--,Ja--,0>Ja||P[na]!==Y[Ja]){var Qa="\n"+P[na].replace(" at new "," at ");a.displayName&&Qa.includes("\x3canonymous\x3e")&&(Qa=Qa.replace("\x3canonymous\x3e",a.displayName));return Qa}while(1<=na&&0<=Ja)}break}}}finally{bi=!1,Error.prepareStackTrace=t}return(a=a?a.displayName||a.name:"")?d(a):""}function h(a){switch(a.tag){case 5:return d(a.type);
case 16:return d("Lazy");case 13:return d("Suspense");case 19:return d("SuspenseList");case 0:case 2:case 15:return a=g(a.type,!1),a;case 11:return a=g(a.type.render,!1),a;case 1:return a=g(a.type,!0),a;default:return""}}function k(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case Oe:return"Fragment";case Pe:return"Portal";case ci:return"Profiler";case di:return"StrictMode";case ei:return"Suspense";case fi:return"SuspenseList"}if("object"===
typeof a)switch(a.$$typeof){case nj:return(a.displayName||"Context")+".Consumer";case oj:return(a._context.displayName||"Context")+".Provider";case gi:var b=a.render;(a=a.displayName)||(a=b.displayName||b.name||"",a=""!==a?"ForwardRef("+a+")":"ForwardRef");return a;case hi:return b=a.displayName||null,null!==b?b:k(a.type)||"Memo";case Od:b=a._payload;a=a._init;try{return k(a(b))}catch(t){}}return null}function n(a){var b=a.type;switch(a.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+
".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=b.render,a=a.displayName||a.name||"",b.displayName||(""!==a?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(b);case 8:return b===di?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b}return null}function r(a){switch(typeof a){case "boolean":case "number":case "string":case "undefined":return a;case "object":return a;default:return""}}function x(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function D(a){var b=x(a)?"checked":"value",t=Object.getOwnPropertyDescriptor(a.constructor.prototype,
b),G=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var P=t.get,Y=t.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return P.call(this)},set:function(na){G=""+na;Y.call(this,na)}});Object.defineProperty(a,b,{enumerable:t.enumerable});return{getValue:function(){return G},setValue:function(na){G=""+na},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function z(a){a._valueTracker||(a._valueTracker=D(a))}function w(a){if(!a)return!1;
var b=a._valueTracker;if(!b)return!0;var t=b.getValue(),G="";a&&(G=x(a)?a.checked?"true":"false":a.value);a=G;return a!==t?(b.setValue(a),!0):!1}function q(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function A(a,b){var t=b.checked;return Zb({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:a._wrapperState.initialChecked})}function L(a,b){var t=null==b.defaultValue?
"":b.defaultValue,G=null!=b.checked?b.checked:b.defaultChecked;t=r(null!=b.value?b.value:t);a._wrapperState={initialChecked:G,initialValue:t,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function y(a,b){b=b.checked;null!=b&&l(a,"checked",b,!1)}function F(a,b){y(a,b);var t=r(b.value),G=b.type;if(null!=t)if("number"===G){if(0===t&&""===a.value||a.value!=t)a.value=""+t}else a.value!==""+t&&(a.value=""+t);else if("submit"===G||"reset"===G){a.removeAttribute("value");
return}b.hasOwnProperty("value")?T(a,b.type,t):b.hasOwnProperty("defaultValue")&&T(a,b.type,r(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function M(a,b,t){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var G=b.type;if(!("submit"!==G&&"reset"!==G||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;t||b===a.value||(a.value=b);a.defaultValue=b}t=a.name;""!==t&&(a.name="");a.defaultChecked=!!a._wrapperState.initialChecked;
""!==t&&(a.name=t)}function T(a,b,t){if("number"!==b||q(a.ownerDocument)!==a)null==t?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+t&&(a.defaultValue=""+t)}function Q(a,b,t,G){a=a.options;if(b){b={};for(var P=0;P<t.length;P++)b["$"+t[P]]=!0;for(t=0;t<a.length;t++)P=b.hasOwnProperty("$"+a[t].value),a[t].selected!==P&&(a[t].selected=P),P&&G&&(a[t].defaultSelected=!0)}else{t=""+r(t);b=null;for(P=0;P<a.length;P++){if(a[P].value===t){a[P].selected=!0;G&&(a[P].defaultSelected=!0);return}null!==
b||a[P].disabled||(b=a[P])}null!==b&&(b.selected=!0)}}function S(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(J(91));return Zb({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function W(a,b){var t=b.value;if(null==t){t=b.children;b=b.defaultValue;if(null!=t){if(null!=b)throw Error(J(92));if(uf(t)){if(1<t.length)throw Error(J(93));t=t[0]}b=t}null==b&&(b="");t=b}a._wrapperState={initialValue:r(t)}}function ca(a,b){var t=r(b.value),G=r(b.defaultValue);null!=t&&
(t=""+t,t!==a.value&&(a.value=t),null==b.defaultValue&&a.defaultValue!==t&&(a.defaultValue=t));null!=G&&(a.defaultValue=""+G)}function B(a){var b=a.textContent;b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}function v(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?v(b):"http://www.w3.org/2000/svg"===a&&
"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function O(a,b){if(b){var t=a.firstChild;if(t&&t===a.lastChild&&3===t.nodeType){t.nodeValue=b;return}}a.textContent=b}function ea(a,b,t){return null==b||"boolean"===typeof b||""===b?"":t||"number"!==typeof b||0===b||vf.hasOwnProperty(a)&&vf[a]?(""+b).trim():b+"px"}function la(a,b){a=a.style;for(var t in b)if(b.hasOwnProperty(t)){var G=0===t.indexOf("--"),P=ea(t,b[t],G);"float"===t&&(t="cssFloat");G?a.setProperty(t,P):a[t]=P}}function va(a,b){if(b){if(gk[a]&&
(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(J(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(J(60));if("object"!==typeof b.dangerouslySetInnerHTML||!("__html"in b.dangerouslySetInnerHTML))throw Error(J(61));}if(null!=b.style&&"object"!==typeof b.style)throw Error(J(62));}}function Da(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function Ya(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function Za(a){if(a=rd(a)){if("function"!==typeof ii)throw Error(J(280));var b=a.stateNode;b&&(b=sd(b),ii(a.stateNode,a.type,b))}}function gb(a){Qe?Re?Re.push(a):Re=[a]:Qe=a}function qb(){if(Qe){var a=Qe,b=Re;Re=Qe=null;Za(a);if(b)for(a=0;a<b.length;a++)Za(b[a])}}function db(a,b){return a(b)}function sb(){}function Ha(a,b,t){if(ji)return a(b,
t);ji=!0;try{return db(a,b,t)}finally{if(ji=!1,null!==Qe||null!==Re)sb(),qb()}}function ta(a,b){var t=a.stateNode;if(null===t)return null;var G=sd(t);if(null===G)return null;t=G[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(G=!G.disabled)||(a=a.type,G=!("button"===a||"input"===a||"select"===a||
"textarea"===a));a=!G;break a;default:a=!1}if(a)return null;if(t&&"function"!==typeof t)throw Error(J(231,b,typeof t));return t}function Pa(a,b,t,G,P,Y,na,Ja,Qa){var eb=Array.prototype.slice.call(arguments,3);try{b.apply(t,eb)}catch(mb){this.onError(mb)}}function fb(a,b,t,G,P,Y,na,Ja,Qa){wf=!1;Eg=null;Pa.apply(hk,arguments)}function ka(a,b,t,G,P,Y,na,Ja,Qa){fb.apply(this,arguments);if(wf){if(wf){var eb=Eg;wf=!1;Eg=null}else throw Error(J(198));Fg||(Fg=!0,ki=eb)}}function Ea(a){var b=a,t=a;if(a.alternate)for(;b.return;)b=
b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(t=b.return),a=b.return;while(a)}return 3===b.tag?t:null}function Va(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ib(a){if(Ea(a)!==a)throw Error(J(188));}function wa(a){var b=a.alternate;if(!b){b=Ea(a);if(null===b)throw Error(J(188));return b!==a?null:a}for(var t=a,G=b;;){var P=t.return;if(null===P)break;var Y=P.alternate;if(null===Y){G=P.return;if(null!==
G){t=G;continue}break}if(P.child===Y.child){for(Y=P.child;Y;){if(Y===t)return ib(P),a;if(Y===G)return ib(P),b;Y=Y.sibling}throw Error(J(188));}if(t.return!==G.return)t=P,G=Y;else{for(var na=!1,Ja=P.child;Ja;){if(Ja===t){na=!0;t=P;G=Y;break}if(Ja===G){na=!0;G=P;t=Y;break}Ja=Ja.sibling}if(!na){for(Ja=Y.child;Ja;){if(Ja===t){na=!0;t=Y;G=P;break}if(Ja===G){na=!0;G=Y;t=P;break}Ja=Ja.sibling}if(!na)throw Error(J(189));}}if(t.alternate!==G)throw Error(J(190));}if(3!==t.tag)throw Error(J(188));return t.stateNode.current===
t?a:b}function Ra(a){a=wa(a);return null!==a?$a(a):null}function $a(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$a(a);if(null!==b)return b;a=a.sibling}return null}function jb(a){if(td&&"function"===typeof td.onCommitFiberRoot)try{td.onCommitFiberRoot(Gg,a,void 0,128===(a.current.flags&128))}catch(b){}}function rb(a){a>>>=0;return 0===a?32:31-(ik(a)/jk|0)|0}function xb(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;
case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function dc(a,b){var t=a.pendingLanes;if(0===t)return 0;var G=0,P=a.suspendedLanes,
Y=a.pingedLanes,na=t&268435455;if(0!==na){var Ja=na&~P;0!==Ja?G=xb(Ja):(Y&=na,0!==Y&&(G=xb(Y)))}else na=t&~P,0!==na?G=xb(na):0!==Y&&(G=xb(Y));if(0===G)return 0;if(0!==b&&b!==G&&0===(b&P)&&(P=G&-G,Y=b&-b,P>=Y||16===P&&0!==(Y&4194240)))return b;0!==(G&4)&&(G|=t&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=G;0<b;)t=31-hd(b),P=1<<t,G|=a[t],b&=~P;return G}function qc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(a,b){for(var t=a.suspendedLanes,G=a.pingedLanes,P=a.expirationTimes,Y=a.pendingLanes;0<Y;){var na=31-hd(Y),Ja=1<<na,Qa=P[na];if(-1===Qa){if(0===(Ja&t)||0!==(Ja&G))P[na]=qc(Ja,b)}else Qa<=b&&(a.expiredLanes|=Ja);Y&=~Ja}}function jc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function ec(){var a=
Hg;Hg<<=1;0===(Hg&4194240)&&(Hg=64);return a}function fc(a){for(var b=[],t=0;31>t;t++)b.push(a);return b}function Hc(a,b,t){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-hd(b);a[b]=t}function Ob(a,b){var t=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var G=a.eventTimes;for(a=a.expirationTimes;0<t;){var P=31-hd(t),Y=1<<P;b[P]=0;G[P]=-1;a[P]=-1;t&=~Y}}function Xb(a,
b){var t=a.entangledLanes|=b;for(a=a.entanglements;t;){var G=31-hd(t),P=1<<G;P&b|a[G]&b&&(a[G]|=b);t&=~P}}function Tb(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}function ne(a,b){switch(a){case "focusin":case "focusout":Pd=null;break;case "dragenter":case "dragleave":Qd=null;break;case "mouseover":case "mouseout":Rd=null;break;case "pointerover":case "pointerout":xf.delete(b.pointerId);break;case "gotpointercapture":case "lostpointercapture":yf.delete(b.pointerId)}}function oe(a,b,
t,G,P,Y){if(null===a||a.nativeEvent!==Y)return a={blockedOn:b,domEventName:t,eventSystemFlags:G,nativeEvent:Y,targetContainers:[P]},null!==b&&(b=rd(b),null!==b&&pj(b)),a;a.eventSystemFlags|=G;b=a.targetContainers;null!==P&&-1===b.indexOf(P)&&b.push(P);return a}function zf(a,b,t,G,P){switch(b){case "focusin":return Pd=oe(Pd,a,b,t,G,P),!0;case "dragenter":return Qd=oe(Qd,a,b,t,G,P),!0;case "mouseover":return Rd=oe(Rd,a,b,t,G,P),!0;case "pointerover":var Y=P.pointerId;xf.set(Y,oe(xf.get(Y)||null,a,b,
t,G,P));return!0;case "gotpointercapture":return Y=P.pointerId,yf.set(Y,oe(yf.get(Y)||null,a,b,t,G,P)),!0}return!1}function Ig(a){var b=Xc(a.target);if(null!==b){var t=Ea(b);if(null!==t)if(b=t.tag,13===b){if(b=Va(t),null!==b){a.blockedOn=b;kk(a.priority,function(){lk(t)});return}}else if(3===b&&t.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===t.tag?t.stateNode.containerInfo:null;return}}a.blockedOn=null}function Se(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var t=
Af(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===t){t=a.nativeEvent;var G=new t.constructor(t.type,t);li=G;t.target.dispatchEvent(G);li=null}else return b=rd(t),null!==b&&pj(b),a.blockedOn=t,!1;b.shift()}return!0}function Jg(a,b,t){Se(a)&&t.delete(b)}function Bf(){mi=!1;null!==Pd&&Se(Pd)&&(Pd=null);null!==Qd&&Se(Qd)&&(Qd=null);null!==Rd&&Se(Rd)&&(Rd=null);xf.forEach(Jg);yf.forEach(Jg)}function pe(a,b){a.blockedOn===b&&(a.blockedOn=null,mi||(mi=!0,Qc.unstable_scheduleCallback(Qc.unstable_NormalPriority,
Bf)))}function qe(a){function b(P){return pe(P,a)}if(0<Kg.length){pe(Kg[0],a);for(var t=1;t<Kg.length;t++){var G=Kg[t];G.blockedOn===a&&(G.blockedOn=null)}}null!==Pd&&pe(Pd,a);null!==Qd&&pe(Qd,a);null!==Rd&&pe(Rd,a);xf.forEach(b);yf.forEach(b);for(t=0;t<Sd.length;t++)G=Sd[t],G.blockedOn===a&&(G.blockedOn=null);for(;0<Sd.length&&(t=Sd[0],null===t.blockedOn);)Ig(t),null===t.blockedOn&&Sd.shift()}function ni(a,b,t,G){var P=Rb,Y=Te.transition;Te.transition=null;try{Rb=1,Cf(a,b,t,G)}finally{Rb=P,Te.transition=
Y}}function oi(a,b,t,G){var P=Rb,Y=Te.transition;Te.transition=null;try{Rb=4,Cf(a,b,t,G)}finally{Rb=P,Te.transition=Y}}function Cf(a,b,t,G){if(Lg){var P=Af(a,b,t,G);if(null===P)Td(a,b,G,Mg,t),ne(a,G);else if(zf(P,a,b,t,G))G.stopPropagation();else if(ne(a,G),b&4&&-1<mk.indexOf(a)){for(;null!==P;){var Y=rd(P);null!==Y&&nk(Y);Y=Af(a,b,t,G);null===Y&&Td(a,b,G,Mg,t);if(Y===P)break;P=Y}null!==P&&G.stopPropagation()}else Td(a,b,G,null,t)}}function Af(a,b,t,G){Mg=null;a=Ya(G);a=Xc(a);if(null!==a)if(b=Ea(a),
null===b)a=null;else if(t=b.tag,13===t){a=Va(b);if(null!==a)return a;a=null}else if(3===t){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);Mg=a;return null}function Df(a){switch(a){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(ok()){case pi:return 1;case qj:return 4;case Ng:case pk:return 16;case rj:return 536870912;default:return 16}default:return 16}}function Og(){if(Pg)return Pg;
var a,b=qi,t=b.length,G,P="value"in Ud?Ud.value:Ud.textContent,Y=P.length;for(a=0;a<t&&b[a]===P[a];a++);var na=t-a;for(G=1;G<=na&&b[t-G]===P[Y-G];G++);return Pg=P.slice(a,1<G?1-G:void 0)}function re(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function se(){return!0}function Ue(){return!1}function yc(a){function b(t,G,P,Y,na){this._reactName=t;this._targetInst=P;this.type=G;this.nativeEvent=Y;this.target=na;this.currentTarget=null;
for(var Ja in a)a.hasOwnProperty(Ja)&&(t=a[Ja],this[Ja]=t?t(Y):Y[Ja]);this.isDefaultPrevented=(null!=Y.defaultPrevented?Y.defaultPrevented:!1===Y.returnValue)?se:Ue;this.isPropagationStopped=Ue;return this}Zb(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():
"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){},isPersistent:se});return b}function Vd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=qk[a])?!!b[a]:!1}function te(){return Vd}function Ef(a,b){switch(a){case "keyup":return-1!==rk.indexOf(b.keyCode);case "keydown":return 229!==b.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Ff(a){a=a.detail;return"object"===typeof a&&
"data"in a?a.data:null}function Qg(a,b){switch(a){case "compositionend":return Ff(b);case "keypress":if(32!==b.which)return null;sj=!0;return tj;case "textInput":return a=b.data,a===tj&&sj?null:a;default:return null}}function Gf(a,b){if(Ve)return"compositionend"===a||!ri&&Ef(a,b)?(a=Og(),Pg=qi=Ud=null,Ve=!1,a):null;switch(a){case "paste":return null;case "keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;
case "compositionend":return uj&&"ko"!==b.locale?null:b.data;default:return null}}function Rg(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!sk[a.type]:"textarea"===b?!0:!1}function Sg(a,b,t,G){gb(G);b=zd(b,"onChange");0<b.length&&(t=new si("onChange","change",null,t,G),a.push({event:t,listeners:b}))}function Hf(a){ud(a,0)}function We(a){var b=Ad(a);if(w(b))return a}function ti(a,b){if("change"===a)return b}function If(){Jf&&(Jf.detachEvent("onpropertychange",Tg),Kf=Jf=null)}
function Tg(a){if("value"===a.propertyName&&We(Kf)){var b=[];Sg(b,Kf,a,Ya(a));Ha(Hf,b)}}function Wd(a,b,t){"focusin"===a?(If(),Jf=b,Kf=t,Jf.attachEvent("onpropertychange",Tg)):"focusout"===a&&If()}function ui(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return We(Kf)}function Xe(a,b){if("click"===a)return We(b)}function vi(a,b){if("input"===a||"change"===a)return We(b)}function wi(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function ue(a,b){if(id(a,b))return!0;if("object"!==typeof a||
null===a||"object"!==typeof b||null===b)return!1;var t=Object.keys(a),G=Object.keys(b);if(t.length!==G.length)return!1;for(G=0;G<t.length;G++){var P=t[G];if(!$h.call(b,P)||!id(a[P],b[P]))return!1}return!0}function Ug(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Lf(a,b){var t=Ug(a);a=0;for(var G;t;){if(3===t.nodeType){G=a+t.textContent.length;if(a<=b&&G>=b)return{node:t,offset:b-a};a=G}a:{for(;t;){if(t.nextSibling){t=t.nextSibling;break a}t=t.parentNode}t=void 0}t=Ug(t)}}function kb(a,
b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?kb(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function Mf(){for(var a=window,b=q();b instanceof a.HTMLIFrameElement;){try{var t="string"===typeof b.contentWindow.location.href}catch(G){t=!1}if(t)a=b.contentWindow;else break;b=q(a.document)}return b}function Nf(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||
"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function xi(a){var b=Mf(),t=a.focusedElem,G=a.selectionRange;if(b!==t&&t&&t.ownerDocument&&kb(t.ownerDocument.documentElement,t)){if(null!==G&&Nf(t))if(b=G.start,a=G.end,void 0===a&&(a=b),"selectionStart"in t)t.selectionStart=b,t.selectionEnd=Math.min(a,t.value.length);else if(a=(b=t.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var P=t.textContent.length,Y=Math.min(G.start,
P);G=void 0===G.end?Y:Math.min(G.end,P);!a.extend&&Y>G&&(P=G,G=Y,Y=P);P=Lf(t,Y);var na=Lf(t,G);P&&na&&(1!==a.rangeCount||a.anchorNode!==P.node||a.anchorOffset!==P.offset||a.focusNode!==na.node||a.focusOffset!==na.offset)&&(b=b.createRange(),b.setStart(P.node,P.offset),a.removeAllRanges(),Y>G?(a.addRange(b),a.extend(na.node,na.offset)):(b.setEnd(na.node,na.offset),a.addRange(b)))}b=[];for(a=t;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});"function"===typeof t.focus&&
t.focus();for(t=0;t<b.length;t++)a=b[t],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}function Rc(a,b,t){var G=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;yi||null==Ye||Ye!==q(G)||(G=Ye,"selectionStart"in G&&Nf(G)?G={start:G.selectionStart,end:G.selectionEnd}:(G=(G.ownerDocument&&G.ownerDocument.defaultView||window).getSelection(),G={anchorNode:G.anchorNode,anchorOffset:G.anchorOffset,focusNode:G.focusNode,focusOffset:G.focusOffset}),Of&&ue(Of,G)||(Of=G,G=zd(zi,"onSelect"),0<
G.length&&(b=new si("onSelect","select",null,b,t),a.push({event:b,listeners:G}),b.target=Ye)))}function Ic(a,b){var t={};t[a.toLowerCase()]=b.toLowerCase();t["Webkit"+a]="webkit"+b;t["Moz"+a]="moz"+b;return t}function Ub(a){if(Ai[a])return Ai[a];if(!Ze[a])return a;var b=Ze[a],t;for(t in b)if(b.hasOwnProperty(t)&&t in vj)return Ai[a]=b[t];return a}function kc(a,b){wj.set(a,b);K(b,[a])}function ve(a,b,t){var G=a.type||"unknown-event";a.currentTarget=t;ka(G,b,void 0,a);a.currentTarget=null}function ud(a,
b){b=0!==(b&4);for(var t=0;t<a.length;t++){var G=a[t],P=G.event;G=G.listeners;a:{var Y=void 0;if(b)for(var na=G.length-1;0<=na;na--){var Ja=G[na],Qa=Ja.instance,eb=Ja.currentTarget;Ja=Ja.listener;if(Qa!==Y&&P.isPropagationStopped())break a;ve(P,Ja,eb);Y=Qa}else for(na=0;na<G.length;na++){Ja=G[na];Qa=Ja.instance;eb=Ja.currentTarget;Ja=Ja.listener;if(Qa!==Y&&P.isPropagationStopped())break a;ve(P,Ja,eb);Y=Qa}}}if(Fg)throw a=ki,Fg=!1,ki=null,a;}function Sb(a,b){var t=b[Bi];void 0===t&&(t=b[Bi]=new Set);
var G=a+"__bubble";t.has(G)||($e(b,a,2,!1),t.add(G))}function Xd(a,b,t){var G=0;b&&(G|=4);$e(t,a,G,b)}function vd(a){if(!a[Vg]){a[Vg]=!0;jj.forEach(function(t){"selectionchange"!==t&&(tk.has(t)||Xd(t,!1,a),Xd(t,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[Vg]||(b[Vg]=!0,Xd("selectionchange",!1,b))}}function $e(a,b,t,G){switch(Df(b)){case 1:var P=ni;break;case 4:P=oi;break;default:P=Cf}t=P.bind(null,b,t,a);P=void 0;!Ci||"touchstart"!==b&&"touchmove"!==b&&"wheel"!==b||(P=!0);G?void 0!==
P?a.addEventListener(b,t,{capture:!0,passive:P}):a.addEventListener(b,t,!0):void 0!==P?a.addEventListener(b,t,{passive:P}):a.addEventListener(b,t,!1)}function Td(a,b,t,G,P){var Y=G;if(0===(b&1)&&0===(b&2)&&null!==G)a:for(;;){if(null===G)return;var na=G.tag;if(3===na||4===na){var Ja=G.stateNode.containerInfo;if(Ja===P||8===Ja.nodeType&&Ja.parentNode===P)break;if(4===na)for(na=G.return;null!==na;){var Qa=na.tag;if(3===Qa||4===Qa)if(Qa=na.stateNode.containerInfo,Qa===P||8===Qa.nodeType&&Qa.parentNode===
P)return;na=na.return}for(;null!==Ja;){na=Xc(Ja);if(null===na)return;Qa=na.tag;if(5===Qa||6===Qa){G=Y=na;continue a}Ja=Ja.parentNode}}G=G.return}Ha(function(){var eb=Y,mb=Ya(t),nb=[];a:{var lb=wj.get(a);if(void 0!==lb){var tb=si,wb=a;switch(a){case "keypress":if(0===re(t))break a;case "keydown":case "keyup":tb=uk;break;case "focusin":wb="focus";tb=Di;break;case "focusout":wb="blur";tb=Di;break;case "beforeblur":case "afterblur":tb=Di;break;case "click":if(2===t.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":tb=
xj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":tb=vk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":tb=wk;break;case yj:case zj:case Aj:tb=xk;break;case Bj:tb=yk;break;case "scroll":tb=zk;break;case "wheel":tb=Ak;break;case "copy":case "cut":case "paste":tb=Bk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":tb=
Cj}var yb=0!==(b&4),ac=!yb&&"scroll"===a,ab=yb?null!==lb?lb+"Capture":null:lb;yb=[];for(var Ta=eb,cb;null!==Ta;){cb=Ta;var pb=cb.stateNode;5===cb.tag&&null!==pb&&(cb=pb,null!==ab&&(pb=ta(Ta,ab),null!=pb&&yb.push(wd(Ta,pb,cb))));if(ac)break;Ta=Ta.return}0<yb.length&&(lb=new tb(lb,wb,null,t,mb),nb.push({event:lb,listeners:yb}))}}if(0===(b&7)){lb="mouseover"===a||"pointerover"===a;tb="mouseout"===a||"pointerout"===a;if(!lb||t===li||!(wb=t.relatedTarget||t.fromElement)||!Xc(wb)&&!wb[Bd])if(tb||lb){lb=
mb.window===mb?mb:(lb=mb.ownerDocument)?lb.defaultView||lb.parentWindow:window;if(tb){if(wb=t.relatedTarget||t.toElement,tb=eb,wb=wb?Xc(wb):null,null!==wb&&(ac=Ea(wb),wb!==ac||5!==wb.tag&&6!==wb.tag))wb=null}else tb=null,wb=eb;if(tb!==wb){yb=xj;pb="onMouseLeave";ab="onMouseEnter";Ta="mouse";if("pointerout"===a||"pointerover"===a)yb=Cj,pb="onPointerLeave",ab="onPointerEnter",Ta="pointer";ac=null==tb?lb:Ad(tb);cb=null==wb?lb:Ad(wb);lb=new yb(pb,Ta+"leave",tb,t,mb);lb.target=ac;lb.relatedTarget=cb;pb=
null;Xc(mb)===eb&&(yb=new yb(ab,Ta+"enter",wb,t,mb),yb.target=cb,yb.relatedTarget=ac,pb=yb);ac=pb;if(tb&&wb)b:{yb=tb;ab=wb;Ta=0;for(cb=yb;cb;cb=jd(cb))Ta++;cb=0;for(pb=ab;pb;pb=jd(pb))cb++;for(;0<Ta-cb;)yb=jd(yb),Ta--;for(;0<cb-Ta;)ab=jd(ab),cb--;for(;Ta--;){if(yb===ab||null!==ab&&yb===ab.alternate)break b;yb=jd(yb);ab=jd(ab)}yb=null}else yb=null;null!==tb&&Wg(nb,lb,tb,yb,!1);null!==wb&&null!==ac&&Wg(nb,ac,wb,yb,!0)}}lb=eb?Ad(eb):window;tb=lb.nodeName&&lb.nodeName.toLowerCase();if("select"===tb||
"input"===tb&&"file"===lb.type)var zb=ti;else if(Rg(lb))if(Dj)zb=vi;else{zb=ui;var Bb=Wd}else(tb=lb.nodeName)&&"input"===tb.toLowerCase()&&("checkbox"===lb.type||"radio"===lb.type)&&(zb=Xe);zb&&(zb=zb(a,eb))?Sg(nb,zb,t,mb):(Bb&&Bb(a,lb,eb),"focusout"===a&&(Bb=lb._wrapperState)&&Bb.controlled&&"number"===lb.type&&T(lb,"number",lb.value));Bb=eb?Ad(eb):window;switch(a){case "focusin":if(Rg(Bb)||"true"===Bb.contentEditable)Ye=Bb,zi=eb,Of=null;break;case "focusout":Of=zi=Ye=null;break;case "mousedown":yi=
!0;break;case "contextmenu":case "mouseup":case "dragend":yi=!1;Rc(nb,t,mb);break;case "selectionchange":if(Ck)break;case "keydown":case "keyup":Rc(nb,t,mb)}var Cb;if(ri)a:{switch(a){case "compositionstart":var Ib="onCompositionStart";break a;case "compositionend":Ib="onCompositionEnd";break a;case "compositionupdate":Ib="onCompositionUpdate";break a}Ib=void 0}else Ve?Ef(a,t)&&(Ib="onCompositionEnd"):"keydown"===a&&229===t.keyCode&&(Ib="onCompositionStart");Ib&&(uj&&"ko"!==t.locale&&(Ve||"onCompositionStart"!==
Ib?"onCompositionEnd"===Ib&&Ve&&(Cb=Og()):(Ud=mb,qi="value"in Ud?Ud.value:Ud.textContent,Ve=!0)),Bb=zd(eb,Ib),0<Bb.length&&(Ib=new Ej(Ib,a,null,t,mb),nb.push({event:Ib,listeners:Bb}),Cb?Ib.data=Cb:(Cb=Ff(t),null!==Cb&&(Ib.data=Cb))));if(Cb=Dk?Qg(a,t):Gf(a,t))eb=zd(eb,"onBeforeInput"),0<eb.length&&(mb=new Ej("onBeforeInput","beforeinput",null,t,mb),nb.push({event:mb,listeners:eb}),mb.data=Cb)}ud(nb,b)})}function wd(a,b,t){return{instance:a,listener:b,currentTarget:t}}function zd(a,b){for(var t=b+"Capture",
G=[];null!==a;){var P=a,Y=P.stateNode;5===P.tag&&null!==Y&&(P=Y,Y=ta(a,t),null!=Y&&G.unshift(wd(a,Y,P)),Y=ta(a,b),null!=Y&&G.push(wd(a,Y,P)));a=a.return}return G}function jd(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}function Wg(a,b,t,G,P){for(var Y=b._reactName,na=[];null!==t&&t!==G;){var Ja=t,Qa=Ja.alternate,eb=Ja.stateNode;if(null!==Qa&&Qa===G)break;5===Ja.tag&&null!==eb&&(Ja=eb,P?(Qa=ta(t,Y),null!=Qa&&na.unshift(wd(t,Qa,Ja))):P||(Qa=ta(t,Y),null!=Qa&&na.push(wd(t,
Qa,Ja))));t=t.return}0!==na.length&&a.push({event:b,listeners:na})}function Xg(a){return("string"===typeof a?a:""+a).replace(Ek,"\n").replace(Fk,"")}function af(a,b,t){b=Xg(b);if(Xg(a)!==b&&t)throw Error(J(425));}function Yd(){}function we(a,b){return"textarea"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function Ei(a){setTimeout(function(){throw a;
})}function Pf(a,b){var t=b,G=0;do{var P=t.nextSibling;a.removeChild(t);if(P&&8===P.nodeType)if(t=P.data,"/$"===t){if(0===G){a.removeChild(P);qe(b);return}G--}else"$"!==t&&"$?"!==t&&"$!"!==t||G++;t=P}while(t);qe(b)}function Dc(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if("$"===b||"$!"===b||"$?"===b)break;if("/$"===b)return null}}return a}function Lc(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var t=a.data;if("$"===t||"$!"===t||"$?"===
t){if(0===b)return a;b--}else"/$"===t&&b++}a=a.previousSibling}return null}function Xc(a){var b=a[xd];if(b)return b;for(var t=a.parentNode;t;){if(b=t[Bd]||t[xd]){t=b.alternate;if(null!==b.child||null!==t&&null!==t.child)for(a=Lc(a);null!==a;){if(t=a[xd])return t;a=Lc(a)}return b}a=t;t=a.parentNode}return null}function rd(a){a=a[xd]||a[Bd];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Ad(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(J(33));}function sd(a){return a[Qf]||
null}function Eb(a){return{current:a}}function Pb(a){0>bf||(a.current=Fi[bf],Fi[bf]=null,bf--)}function Jb(a,b){bf++;Fi[bf]=a.current;a.current=b}function Cd(a,b){var t=a.type.contextTypes;if(!t)return Zd;var G=a.stateNode;if(G&&G.__reactInternalMemoizedUnmaskedChildContext===b)return G.__reactInternalMemoizedMaskedChildContext;var P={},Y;for(Y in t)P[Y]=b[Y];G&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=P);return P}function zc(a){a=
a.childContextTypes;return null!==a&&void 0!==a}function $d(){Pb(Mc);Pb(Ec)}function Dd(a,b,t){if(Ec.current!==Zd)throw Error(J(168));Jb(Ec,b);Jb(Mc,t)}function Rf(a,b,t){var G=a.stateNode;b=b.childContextTypes;if("function"!==typeof G.getChildContext)return t;G=G.getChildContext();for(var P in G)if(!(P in b))throw Error(J(108,n(a)||"Unknown",P));return Zb({},t,G)}function Ed(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Zd;xe=Ec.current;Jb(Ec,a);Jb(Mc,Mc.current);return!0}function Yg(a,
b,t){var G=a.stateNode;if(!G)throw Error(J(169));t?(a=Rf(a,b,xe),G.__reactInternalMemoizedMergedChildContext=a,Pb(Mc),Pb(Ec),Jb(Ec,a)):Pb(Mc);Jb(Mc,t)}function Zg(a){null===Fd?Fd=[a]:Fd.push(a)}function $g(a){ah=!0;Zg(a)}function Yc(){if(!Gi&&null!==Fd){Gi=!0;var a=0,b=Rb;try{var t=Fd;for(Rb=1;a<t.length;a++){var G=t[a];do G=G(!0);while(null!==G)}Fd=null;ah=!1}catch(P){throw null!==Fd&&(Fd=Fd.slice(a+1)),Fj(pi,Yc),P;}finally{Rb=b,Gi=!1}}return null}function Gd(a,b){cf[df++]=bh;cf[df++]=ch;ch=a;bh=
b}function dh(a,b,t){Zc[$c++]=Hd;Zc[$c++]=Id;Zc[$c++]=ye;ye=a;var G=Hd;a=Id;var P=32-hd(G)-1;G&=~(1<<P);t+=1;var Y=32-hd(b)+P;if(30<Y){var na=P-P%5;Y=(G&(1<<na)-1).toString(32);G>>=na;P-=na;Hd=1<<32-hd(b)+P|t<<P|G;Id=Y+a}else Hd=1<<Y|t<<P|G,Id=a}function Sf(a){null!==a.return&&(Gd(a,1),dh(a,1,0))}function Tf(a){for(;a===ch;)ch=cf[--df],cf[df]=null,bh=cf[--df],cf[df]=null;for(;a===ye;)ye=Zc[--$c],Zc[$c]=null,Id=Zc[--$c],Zc[$c]=null,Hd=Zc[--$c],Zc[$c]=null}function ae(a,b){var t=ad(5,null,null,0);t.elementType=
"DELETED";t.stateNode=b;t.return=a;b=a.deletions;null===b?(a.deletions=[t],a.flags|=16):b.push(t)}function eh(a,b){switch(a.tag){case 5:var t=a.type;b=1!==b.nodeType||t.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,Sc=a,Tc=Dc(b.firstChild),!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,Sc=a,Tc=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(t=null!==ye?{id:Hd,overflow:Id}:null,a.memoizedState={dehydrated:b,treeContext:t,
retryLane:1073741824},t=ad(18,null,null,0),t.stateNode=b,t.return=a,a.child=t,Sc=a,Tc=null,!0):!1;default:return!1}}function Jd(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Uf(a){if(Yb){var b=Tc;if(b){var t=b;if(!eh(a,b)){if(Jd(a))throw Error(J(418));b=Dc(t.nextSibling);var G=Sc;b&&eh(a,b)?ae(G,t):(a.flags=a.flags&-4097|2,Yb=!1,Sc=a)}}else{if(Jd(a))throw Error(J(418));a.flags=a.flags&-4097|2;Yb=!1;Sc=a}}}function fh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;
Sc=a}function ze(a){if(a!==Sc)return!1;if(!Yb)return fh(a),Yb=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b="head"!==b&&"body"!==b&&!we(a.type,a.memoizedProps));if(b&&(b=Tc)){if(Jd(a))throw gh(),Error(J(418));for(;b;)ae(a,b),b=Dc(b.nextSibling)}fh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(J(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var t=a.data;if("/$"===t){if(0===b){Tc=Dc(a.nextSibling);break a}b--}else"$"!==t&&"$!"!==t&&"$?"!==t||b++}a=
a.nextSibling}Tc=null}}else Tc=Sc?Dc(a.stateNode.nextSibling):null;return!0}function gh(){for(var a=Tc;a;)a=Dc(a.nextSibling)}function kd(){Tc=Sc=null;Yb=!1}function be(a){null===ld?ld=[a]:ld.push(a)}function Uc(a,b){if(a&&a.defaultProps){b=Zb({},b);a=a.defaultProps;for(var t in a)void 0===b[t]&&(b[t]=a[t])}return b}function Vf(a){var b=hh.current;Pb(hh);a._currentValue=b}function Wf(a,b,t){for(;null!==a;){var G=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==G&&(G.childLanes|=b)):null!==
G&&(G.childLanes&b)!==b&&(G.childLanes|=b);if(a===t)break;a=a.return}}function ce(a,b){ef=a;Xf=de=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(Nc=!0),a.firstContext=null)}function lc(a){var b=a._currentValue;if(Xf!==a)if(a={context:a,memoizedValue:b,next:null},null===de){if(null===ef)throw Error(J(308));de=a;ef.dependencies={lanes:0,firstContext:a}}else de=de.next=a;return b}function Yf(a){null===Ae?Ae=[a]:Ae.push(a)}function ih(a,b,t,G){var P=b.interleaved;null===P?(t.next=
t,Yf(b)):(t.next=P.next,P.next=t);b.interleaved=t;return md(a,G)}function md(a,b){a.lanes|=b;var t=a.alternate;null!==t&&(t.lanes|=b);t=a;for(a=a.return;null!==a;)a.childLanes|=b,t=a.alternate,null!==t&&(t.childLanes|=b),t=a,a=a.return;return 3===t.tag?t.stateNode:null}function Zf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,
firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function nd(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function bd(a,b,t){var G=a.updateQueue;if(null===G)return null;G=G.shared;if(0!==(Mb&2)){var P=G.pending;null===P?b.next=b:(b.next=P.next,P.next=b);G.pending=b;return md(a,t)}P=G.interleaved;null===P?(b.next=b,Yf(G)):(b.next=P.next,P.next=b);G.interleaved=b;return md(a,t)}function ff(a,b,t){b=b.updateQueue;if(null!==
b&&(b=b.shared,0!==(t&4194240))){var G=b.lanes;G&=a.pendingLanes;t|=G;b.lanes=t;Xb(a,t)}}function kh(a,b){var t=a.updateQueue,G=a.alternate;if(null!==G&&(G=G.updateQueue,t===G)){var P=null,Y=null;t=t.firstBaseUpdate;if(null!==t){do{var na={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===Y?P=Y=na:Y=Y.next=na;t=t.next}while(null!==t);null===Y?P=Y=b:Y=Y.next=b}else P=Y=b;t={baseState:G.baseState,firstBaseUpdate:P,lastBaseUpdate:Y,shared:G.shared,effects:G.effects};
a.updateQueue=t}else a=t.lastBaseUpdate,null===a?t.firstBaseUpdate=b:a.next=b,t.lastBaseUpdate=b}function gf(a,b,t,G){var P=a.updateQueue;ee=!1;var Y=P.firstBaseUpdate,na=P.lastBaseUpdate,Ja=P.shared.pending;if(null!==Ja){P.shared.pending=null;var Qa=Ja,eb=Qa.next;Qa.next=null;null===na?Y=eb:na.next=eb;var mb=a.alternate;null!==mb&&(mb=mb.updateQueue,Ja=mb.lastBaseUpdate,Ja!==Qa&&(null===Ja?mb.firstBaseUpdate=eb:Ja.next=eb,mb.lastBaseUpdate=Qa))}if(null!==Y){var nb=P.baseState;na=0;mb=eb=Qa=null;
Ja=Y;do{var lb=Ja.lane,tb=Ja.eventTime;if((G&lb)===lb){null!==mb&&(mb=mb.next={eventTime:tb,lane:0,tag:Ja.tag,payload:Ja.payload,callback:Ja.callback,next:null});a:{var wb=a,yb=Ja;lb=b;tb=t;switch(yb.tag){case 1:wb=yb.payload;if("function"===typeof wb){nb=wb.call(tb,nb,lb);break a}nb=wb;break a;case 3:wb.flags=wb.flags&-65537|128;case 0:wb=yb.payload;lb="function"===typeof wb?wb.call(tb,nb,lb):wb;if(null===lb||void 0===lb)break a;nb=Zb({},nb,lb);break a;case 2:ee=!0}}null!==Ja.callback&&0!==Ja.lane&&
(a.flags|=64,lb=P.effects,null===lb?P.effects=[Ja]:lb.push(Ja))}else tb={eventTime:tb,lane:lb,tag:Ja.tag,payload:Ja.payload,callback:Ja.callback,next:null},null===mb?(eb=mb=tb,Qa=nb):mb=mb.next=tb,na|=lb;Ja=Ja.next;if(null===Ja)if(Ja=P.shared.pending,null===Ja)break;else lb=Ja,Ja=lb.next,lb.next=null,P.lastBaseUpdate=lb,P.shared.pending=null}while(1);null===mb&&(Qa=nb);P.baseState=Qa;P.firstBaseUpdate=eb;P.lastBaseUpdate=mb;b=P.shared.interleaved;if(null!==b){P=b;do na|=P.lane,P=P.next;while(P!==
b)}else null===Y&&(P.shared.lanes=0);Be|=na;a.lanes=na;a.memoizedState=nb}}function lh(a,b,t){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var G=a[b],P=G.callback;if(null!==P){G.callback=null;G=t;if("function"!==typeof P)throw Error(J(191,P));P.call(G)}}}function $f(a,b,t,G){b=a.memoizedState;t=t(G,b);t=null===t||void 0===t?b:Zb({},b,t);a.memoizedState=t;0===a.lanes&&(a.updateQueue.baseState=t)}function Vc(a,b,t,G,P,Y,na){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?
a.shouldComponentUpdate(G,Y,na):b.prototype&&b.prototype.isPureReactComponent?!ue(t,G)||!ue(P,Y):!0}function mh(a,b,t){var G=!1,P=Zd,Y=b.contextType;"object"===typeof Y&&null!==Y?Y=lc(Y):(P=zc(b)?xe:Ec.current,G=b.contextTypes,Y=(G=null!==G&&void 0!==G)?Cd(a,P):Zd);b=new b(t,Y);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=nh;a.stateNode=b;b._reactInternals=a;G&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=P,a.__reactInternalMemoizedMaskedChildContext=Y);
return b}function mc(a,b,t,G){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(t,G);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(t,G);b.state!==a&&nh.enqueueReplaceState(b,b.state,null)}function ag(a,b,t,G){var P=a.stateNode;P.props=t;P.state=a.memoizedState;P.refs=Gj;Zf(a);var Y=b.contextType;"object"===typeof Y&&null!==Y?P.context=lc(Y):(Y=zc(b)?xe:Ec.current,P.context=Cd(a,Y));P.state=a.memoizedState;Y=b.getDerivedStateFromProps;
"function"===typeof Y&&($f(a,b,Y,t),P.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof P.getSnapshotBeforeUpdate||"function"!==typeof P.UNSAFE_componentWillMount&&"function"!==typeof P.componentWillMount||(b=P.state,"function"===typeof P.componentWillMount&&P.componentWillMount(),"function"===typeof P.UNSAFE_componentWillMount&&P.UNSAFE_componentWillMount(),b!==P.state&&nh.enqueueReplaceState(P,P.state,null),gf(a,t,P,G),P.state=a.memoizedState);"function"===
typeof P.componentDidMount&&(a.flags|=4194308)}function Ce(a,b,t){a=t.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(J(309));var G=t.stateNode}if(!G)throw Error(J(147,a));var P=G,Y=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===Y)return b.ref;b=function(na){var Ja=P.refs;Ja===Gj&&(Ja=P.refs={});null===na?delete Ja[Y]:Ja[Y]=na};b._stringRef=Y;return b}if("string"!==typeof a)throw Error(J(284));if(!t._owner)throw Error(J(290,
a));}return a}function De(a,b){a=Object.prototype.toString.call(b);throw Error(J(31,"[object Object]"===a?"object with keys {"+Object.keys(b).join(", ")+"}":a));}function od(a){var b=a._init;return b(a._payload)}function oh(a){function b(ab,Ta){if(a){var cb=ab.deletions;null===cb?(ab.deletions=[Ta],ab.flags|=16):cb.push(Ta)}}function t(ab,Ta){if(!a)return null;for(;null!==Ta;)b(ab,Ta),Ta=Ta.sibling;return null}function G(ab,Ta){for(ab=new Map;null!==Ta;)null!==Ta.key?ab.set(Ta.key,Ta):ab.set(Ta.index,
Ta),Ta=Ta.sibling;return ab}function P(ab,Ta){ab=fe(ab,Ta);ab.index=0;ab.sibling=null;return ab}function Y(ab,Ta,cb){ab.index=cb;if(!a)return ab.flags|=1048576,Ta;cb=ab.alternate;if(null!==cb)return cb=cb.index,cb<Ta?(ab.flags|=2,Ta):cb;ab.flags|=2;return Ta}function na(ab){a&&null===ab.alternate&&(ab.flags|=2);return ab}function Ja(ab,Ta,cb,pb){if(null===Ta||6!==Ta.tag)return Ta=Hi(cb,ab.mode,pb),Ta.return=ab,Ta;Ta=P(Ta,cb);Ta.return=ab;return Ta}function Qa(ab,Ta,cb,pb){var zb=cb.type;if(zb===Oe)return mb(ab,
Ta,cb.props.children,pb,cb.key);if(null!==Ta&&(Ta.elementType===zb||"object"===typeof zb&&null!==zb&&zb.$$typeof===Od&&od(zb)===Ta.type))return pb=P(Ta,cb.props),pb.ref=Ce(ab,Ta,cb),pb.return=ab,pb;pb=ph(cb.type,cb.key,cb.props,null,ab.mode,pb);pb.ref=Ce(ab,Ta,cb);pb.return=ab;return pb}function eb(ab,Ta,cb,pb){if(null===Ta||4!==Ta.tag||Ta.stateNode.containerInfo!==cb.containerInfo||Ta.stateNode.implementation!==cb.implementation)return Ta=Ii(cb,ab.mode,pb),Ta.return=ab,Ta;Ta=P(Ta,cb.children||[]);
Ta.return=ab;return Ta}function mb(ab,Ta,cb,pb,zb){if(null===Ta||7!==Ta.tag)return Ta=Ee(cb,ab.mode,pb,zb),Ta.return=ab,Ta;Ta=P(Ta,cb);Ta.return=ab;return Ta}function nb(ab,Ta,cb){if("string"===typeof Ta&&""!==Ta||"number"===typeof Ta)return Ta=Hi(""+Ta,ab.mode,cb),Ta.return=ab,Ta;if("object"===typeof Ta&&null!==Ta){switch(Ta.$$typeof){case qh:return cb=ph(Ta.type,Ta.key,Ta.props,null,ab.mode,cb),cb.ref=Ce(ab,null,Ta),cb.return=ab,cb;case Pe:return Ta=Ii(Ta,ab.mode,cb),Ta.return=ab,Ta;case Od:var pb=
Ta._init;return nb(ab,pb(Ta._payload),cb)}if(uf(Ta)||e(Ta))return Ta=Ee(Ta,ab.mode,cb,null),Ta.return=ab,Ta;De(ab,Ta)}return null}function lb(ab,Ta,cb,pb){var zb=null!==Ta?Ta.key:null;if("string"===typeof cb&&""!==cb||"number"===typeof cb)return null!==zb?null:Ja(ab,Ta,""+cb,pb);if("object"===typeof cb&&null!==cb){switch(cb.$$typeof){case qh:return cb.key===zb?Qa(ab,Ta,cb,pb):null;case Pe:return cb.key===zb?eb(ab,Ta,cb,pb):null;case Od:return zb=cb._init,lb(ab,Ta,zb(cb._payload),pb)}if(uf(cb)||e(cb))return null!==
zb?null:mb(ab,Ta,cb,pb,null);De(ab,cb)}return null}function tb(ab,Ta,cb,pb,zb){if("string"===typeof pb&&""!==pb||"number"===typeof pb)return ab=ab.get(cb)||null,Ja(Ta,ab,""+pb,zb);if("object"===typeof pb&&null!==pb){switch(pb.$$typeof){case qh:return ab=ab.get(null===pb.key?cb:pb.key)||null,Qa(Ta,ab,pb,zb);case Pe:return ab=ab.get(null===pb.key?cb:pb.key)||null,eb(Ta,ab,pb,zb);case Od:var Bb=pb._init;return tb(ab,Ta,cb,Bb(pb._payload),zb)}if(uf(pb)||e(pb))return ab=ab.get(cb)||null,mb(Ta,ab,pb,zb,
null);De(Ta,pb)}return null}function wb(ab,Ta,cb,pb){for(var zb=null,Bb=null,Cb=Ta,Ib=Ta=0,rc=null;null!==Cb&&Ib<cb.length;Ib++){Cb.index>Ib?(rc=Cb,Cb=null):rc=Cb.sibling;var Nb=lb(ab,Cb,cb[Ib],pb);if(null===Nb){null===Cb&&(Cb=rc);break}a&&Cb&&null===Nb.alternate&&b(ab,Cb);Ta=Y(Nb,Ta,Ib);null===Bb?zb=Nb:Bb.sibling=Nb;Bb=Nb;Cb=rc}if(Ib===cb.length)return t(ab,Cb),Yb&&Gd(ab,Ib),zb;if(null===Cb){for(;Ib<cb.length;Ib++)Cb=nb(ab,cb[Ib],pb),null!==Cb&&(Ta=Y(Cb,Ta,Ib),null===Bb?zb=Cb:Bb.sibling=Cb,Bb=Cb);
Yb&&Gd(ab,Ib);return zb}for(Cb=G(ab,Cb);Ib<cb.length;Ib++)rc=tb(Cb,ab,Ib,cb[Ib],pb),null!==rc&&(a&&null!==rc.alternate&&Cb.delete(null===rc.key?Ib:rc.key),Ta=Y(rc,Ta,Ib),null===Bb?zb=rc:Bb.sibling=rc,Bb=rc);a&&Cb.forEach(function(ge){return b(ab,ge)});Yb&&Gd(ab,Ib);return zb}function yb(ab,Ta,cb,pb){var zb=e(cb);if("function"!==typeof zb)throw Error(J(150));cb=zb.call(cb);if(null==cb)throw Error(J(151));for(var Bb=zb=null,Cb=Ta,Ib=Ta=0,rc=null,Nb=cb.next();null!==Cb&&!Nb.done;Ib++,Nb=cb.next()){Cb.index>
Ib?(rc=Cb,Cb=null):rc=Cb.sibling;var ge=lb(ab,Cb,Nb.value,pb);if(null===ge){null===Cb&&(Cb=rc);break}a&&Cb&&null===ge.alternate&&b(ab,Cb);Ta=Y(ge,Ta,Ib);null===Bb?zb=ge:Bb.sibling=ge;Bb=ge;Cb=rc}if(Nb.done)return t(ab,Cb),Yb&&Gd(ab,Ib),zb;if(null===Cb){for(;!Nb.done;Ib++,Nb=cb.next())Nb=nb(ab,Nb.value,pb),null!==Nb&&(Ta=Y(Nb,Ta,Ib),null===Bb?zb=Nb:Bb.sibling=Nb,Bb=Nb);Yb&&Gd(ab,Ib);return zb}for(Cb=G(ab,Cb);!Nb.done;Ib++,Nb=cb.next())Nb=tb(Cb,ab,Ib,Nb.value,pb),null!==Nb&&(a&&null!==Nb.alternate&&
Cb.delete(null===Nb.key?Ib:Nb.key),Ta=Y(Nb,Ta,Ib),null===Bb?zb=Nb:Bb.sibling=Nb,Bb=Nb);a&&Cb.forEach(function(Gk){return b(ab,Gk)});Yb&&Gd(ab,Ib);return zb}function ac(ab,Ta,cb,pb){"object"===typeof cb&&null!==cb&&cb.type===Oe&&null===cb.key&&(cb=cb.props.children);if("object"===typeof cb&&null!==cb){switch(cb.$$typeof){case qh:a:{for(var zb=cb.key,Bb=Ta;null!==Bb;){if(Bb.key===zb){zb=cb.type;if(zb===Oe){if(7===Bb.tag){t(ab,Bb.sibling);Ta=P(Bb,cb.props.children);Ta.return=ab;ab=Ta;break a}}else if(Bb.elementType===
zb||"object"===typeof zb&&null!==zb&&zb.$$typeof===Od&&od(zb)===Bb.type){t(ab,Bb.sibling);Ta=P(Bb,cb.props);Ta.ref=Ce(ab,Bb,cb);Ta.return=ab;ab=Ta;break a}t(ab,Bb);break}else b(ab,Bb);Bb=Bb.sibling}cb.type===Oe?(Ta=Ee(cb.props.children,ab.mode,pb,cb.key),Ta.return=ab,ab=Ta):(pb=ph(cb.type,cb.key,cb.props,null,ab.mode,pb),pb.ref=Ce(ab,Ta,cb),pb.return=ab,ab=pb)}return na(ab);case Pe:a:{for(Bb=cb.key;null!==Ta;){if(Ta.key===Bb)if(4===Ta.tag&&Ta.stateNode.containerInfo===cb.containerInfo&&Ta.stateNode.implementation===
cb.implementation){t(ab,Ta.sibling);Ta=P(Ta,cb.children||[]);Ta.return=ab;ab=Ta;break a}else{t(ab,Ta);break}else b(ab,Ta);Ta=Ta.sibling}Ta=Ii(cb,ab.mode,pb);Ta.return=ab;ab=Ta}return na(ab);case Od:return Bb=cb._init,ac(ab,Ta,Bb(cb._payload),pb)}if(uf(cb))return wb(ab,Ta,cb,pb);if(e(cb))return yb(ab,Ta,cb,pb);De(ab,cb)}return"string"===typeof cb&&""!==cb||"number"===typeof cb?(cb=""+cb,null!==Ta&&6===Ta.tag?(t(ab,Ta.sibling),Ta=P(Ta,cb),Ta.return=ab,ab=Ta):(t(ab,Ta),Ta=Hi(cb,ab.mode,pb),Ta.return=
ab,ab=Ta),na(ab)):t(ab,Ta)}return ac}function cd(a){if(a===bg)throw Error(J(174));return a}function hf(a,b){Jb(cg,b);Jb(dg,a);Jb(yd,bg);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:I(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=I(b,a)}Pb(yd);Jb(yd,b)}function Jc(){Pb(yd);Pb(dg);Pb(cg)}function eg(a){cd(cg.current);var b=cd(yd.current),t=I(b,a.type);b!==t&&(Jb(dg,a),Jb(yd,t))}function fg(a){dg.current===a&&(Pb(yd),Pb(dg))}function jf(a){for(var b=
a;null!==b;){if(13===b.tag){var t=b.memoizedState;if(null!==t&&(t=t.dehydrated,null===t||"$?"===t.data||"$!"===t.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function gg(){for(var a=0;a<Ji.length;a++)Ji[a]._workInProgressVersionPrimary=null;
Ji.length=0}function sc(){throw Error(J(321));}function Kd(a,b){if(null===b)return!1;for(var t=0;t<b.length&&t<a.length;t++)if(!id(a[t],b[t]))return!1;return!0}function hg(a,b,t,G,P,Y){Fe=Y;Vb=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;rh.current=null===a||null===a.memoizedState?Hk:Ik;a=t(G,P);if(ig){Y=0;do{ig=!1;jg=0;if(25<=Y)throw Error(J(301));Y+=1;tc=nc=null;b.updateQueue=null;rh.current=Jk;a=t(G,P)}while(ig)}rh.current=sh;b=null!==nc&&null!==nc.next;Fe=0;tc=nc=Vb=null;th=!1;if(b)throw Error(J(300));
return a}function kg(){var a=0!==jg;jg=0;return a}function dd(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===tc?Vb.memoizedState=tc=a:tc=tc.next=a;return tc}function Fc(){if(null===nc){var a=Vb.alternate;a=null!==a?a.memoizedState:null}else a=nc.next;var b=null===tc?Vb.memoizedState:tc.next;if(null!==b)tc=b,nc=a;else{if(null===a)throw Error(J(310));nc=a;a={memoizedState:nc.memoizedState,baseState:nc.baseState,baseQueue:nc.baseQueue,queue:nc.queue,next:null};
null===tc?Vb.memoizedState=tc=a:tc=tc.next=a}return tc}function Ge(a,b){return"function"===typeof b?b(a):b}function Oc(a){var b=Fc(),t=b.queue;if(null===t)throw Error(J(311));t.lastRenderedReducer=a;var G=nc,P=G.baseQueue,Y=t.pending;if(null!==Y){if(null!==P){var na=P.next;P.next=Y.next;Y.next=na}G.baseQueue=P=Y;t.pending=null}if(null!==P){Y=P.next;G=G.baseState;var Ja=na=null,Qa=null,eb=Y;do{var mb=eb.lane;if((Fe&mb)===mb)null!==Qa&&(Qa=Qa.next={lane:0,action:eb.action,hasEagerState:eb.hasEagerState,
eagerState:eb.eagerState,next:null}),G=eb.hasEagerState?eb.eagerState:a(G,eb.action);else{var nb={lane:mb,action:eb.action,hasEagerState:eb.hasEagerState,eagerState:eb.eagerState,next:null};null===Qa?(Ja=Qa=nb,na=G):Qa=Qa.next=nb;Vb.lanes|=mb;Be|=mb}eb=eb.next}while(null!==eb&&eb!==Y);null===Qa?na=G:Qa.next=Ja;id(G,b.memoizedState)||(Nc=!0);b.memoizedState=G;b.baseState=na;b.baseQueue=Qa;t.lastRenderedState=G}a=t.interleaved;if(null!==a){P=a;do Y=P.lane,Vb.lanes|=Y,Be|=Y,P=P.next;while(P!==a)}else null===
P&&(t.lanes=0);return[b.memoizedState,t.dispatch]}function He(a){var b=Fc(),t=b.queue;if(null===t)throw Error(J(311));t.lastRenderedReducer=a;var G=t.dispatch,P=t.pending,Y=b.memoizedState;if(null!==P){t.pending=null;var na=P=P.next;do Y=a(Y,na.action),na=na.next;while(na!==P);id(Y,b.memoizedState)||(Nc=!0);b.memoizedState=Y;null===b.baseQueue&&(b.baseState=Y);t.lastRenderedState=Y}return[Y,G]}function uh(){}function lg(a,b){var t=Vb,G=Fc(),P=b(),Y=!id(G.memoizedState,P);Y&&(G.memoizedState=P,Nc=
!0);G=G.queue;kf(vh.bind(null,t,G,a),[a]);if(G.getSnapshot!==b||Y||null!==tc&&tc.memoizedState.tag&1){t.flags|=2048;Ie(9,pd.bind(null,t,G,P,b),void 0,null);if(null===uc)throw Error(J(349));0!==(Fe&30)||he(t,b,P)}return P}function he(a,b,t){a.flags|=16384;a={getSnapshot:b,value:t};b=Vb.updateQueue;null===b?(b={lastEffect:null,stores:null},Vb.updateQueue=b,b.stores=[a]):(t=b.stores,null===t?b.stores=[a]:t.push(a))}function pd(a,b,t,G){b.value=t;b.getSnapshot=G;wh(b)&&xh(a)}function vh(a,b,t){return t(function(){wh(b)&&
xh(a)})}function wh(a){var b=a.getSnapshot;a=a.value;try{var t=b();return!id(a,t)}catch(G){return!0}}function xh(a){var b=md(a,1);null!==b&&bc(b,a,1,-1)}function yh(a){var b=dd();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ge,lastRenderedState:a};b.queue=a;a=a.dispatch=Ki.bind(null,Vb,a);return[b.memoizedState,a]}function Ie(a,b,t,G){a={tag:a,create:b,destroy:t,deps:G,next:null};b=Vb.updateQueue;null===b?(b=
{lastEffect:null,stores:null},Vb.updateQueue=b,b.lastEffect=a.next=a):(t=b.lastEffect,null===t?b.lastEffect=a.next=a:(G=t.next,t.next=a,a.next=G,b.lastEffect=a));return a}function ie(){return Fc().memoizedState}function Je(a,b,t,G){var P=dd();Vb.flags|=a;P.memoizedState=Ie(1|b,t,void 0,void 0===G?null:G)}function je(a,b,t,G){var P=Fc();G=void 0===G?null:G;var Y=void 0;if(null!==nc){var na=nc.memoizedState;Y=na.destroy;if(null!==G&&Kd(G,na.deps)){P.memoizedState=Ie(b,t,Y,G);return}}Vb.flags|=a;P.memoizedState=
Ie(1|b,t,Y,G)}function lf(a,b){return Je(8390656,8,a,b)}function kf(a,b){return je(2048,8,a,b)}function mg(a,b){return je(4,2,a,b)}function ng(a,b){return je(4,4,a,b)}function og(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function pg(a,b,t){t=null!==t&&void 0!==t?t.concat([a]):null;return je(4,4,og.bind(null,b,a),t)}function mf(){}function ed(a,b){var t=Fc();b=void 0===b?null:b;var G=t.memoizedState;
if(null!==G&&null!==b&&Kd(b,G[1]))return G[0];t.memoizedState=[a,b];return a}function zh(a,b){var t=Fc();b=void 0===b?null:b;var G=t.memoizedState;if(null!==G&&null!==b&&Kd(b,G[1]))return G[0];a=a();t.memoizedState=[a,b];return a}function qg(a,b,t){if(0===(Fe&21))return a.baseState&&(a.baseState=!1,Nc=!0),a.memoizedState=t;id(t,b)||(t=ec(),Vb.lanes|=t,Be|=t,a.baseState=!0);return b}function Ah(a,b){var t=Rb;Rb=0!==t&&4>t?t:4;a(!0);var G=Li.transition;Li.transition={};try{a(!1),b()}finally{Rb=t,Li.transition=
G}}function Bh(){return Fc().memoizedState}function Mi(a,b,t){var G=vc(a);t={lane:G,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ch(a))rg(b,t);else if(t=ih(a,b,t,G),null!==t){var P=hc();bc(t,a,G,P);Dh(t,b,G)}}function Ki(a,b,t){var G=vc(a),P={lane:G,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ch(a))rg(b,P);else{var Y=a.alternate;if(0===a.lanes&&(null===Y||0===Y.lanes)&&(Y=b.lastRenderedReducer,null!==Y))try{var na=b.lastRenderedState,Ja=Y(na,t);P.hasEagerState=!0;P.eagerState=
Ja;if(id(Ja,na)){var Qa=b.interleaved;null===Qa?(P.next=P,Yf(b)):(P.next=Qa.next,Qa.next=P);b.interleaved=P;return}}catch(eb){}finally{}t=ih(a,b,P,G);null!==t&&(P=hc(),bc(t,a,G,P),Dh(t,b,G))}}function Ch(a){var b=a.alternate;return a===Vb||null!==b&&b===Vb}function rg(a,b){ig=th=!0;var t=a.pending;null===t?b.next=b:(b.next=t.next,t.next=b);a.pending=b}function Dh(a,b,t){if(0!==(t&4194240)){var G=b.lanes;G&=a.pendingLanes;t|=G;b.lanes=t;Xb(a,t)}}function ke(a,b){try{var t="",G=b;do t+=h(G),G=G.return;
while(G)}catch(P){t="\nError generating stack: "+P.message+"\n"+P.stack}return{value:a,source:b,stack:t,digest:null}}function sg(a,b,t){return{value:a,source:null,stack:null!=t?t:null,digest:null!=b?b:null}}function tg(a,b){try{console.error(b.value)}catch(t){setTimeout(function(){throw t;})}}function Eh(a,b,t){t=nd(-1,t);t.tag=3;t.payload={element:null};var G=b.value;t.callback=function(){Fh||(Fh=!0,Ni=G);tg(a,b)};return t}function Gh(a,b,t){t=nd(-1,t);t.tag=3;var G=a.type.getDerivedStateFromError;
if("function"===typeof G){var P=b.value;t.payload=function(){return G(P)};t.callback=function(){tg(a,b)}}var Y=a.stateNode;null!==Y&&"function"===typeof Y.componentDidCatch&&(t.callback=function(){tg(a,b);"function"!==typeof G&&(null===le?le=new Set([this]):le.add(this));var na=b.stack;this.componentDidCatch(b.value,{componentStack:null!==na?na:""})});return t}function Hh(a,b,t){var G=a.pingCache;if(null===G){G=a.pingCache=new Kk;var P=new Set;G.set(b,P)}else P=G.get(b),void 0===P&&(P=new Set,G.set(b,
P));P.has(t)||(P.add(t),a=Lk.bind(null,a,b,t),b.then(a,a))}function ia(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}function V(a,b,t,G,P){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:(b=nd(-1,1),b.tag=2,bd(t,b,1))),t.lanes|=1),a;a.flags|=65536;a.lanes=P;return a}function H(a,b,t,G){b.child=null===a?Hj(b,null,t,G):nf(b,
a.child,t,G)}function U(a,b,t,G,P){t=t.render;var Y=b.ref;ce(b,P);G=hg(a,b,t,G,Y,P);t=kg();if(null!==a&&!Nc)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~P,fa(a,b,P);Yb&&t&&Sf(b);b.flags|=1;H(a,b,G,P);return b.child}function R(a,b,t,G,P){if(null===a){var Y=t.type;if("function"===typeof Y&&!Oi(Y)&&void 0===Y.defaultProps&&null===t.compare&&void 0===t.defaultProps)return b.tag=15,b.type=Y,ha(a,b,Y,G,P);a=ph(t.type,null,G,b,b.mode,P);a.ref=b.ref;a.return=b;return b.child=a}Y=a.child;if(0===
(a.lanes&P)){var na=Y.memoizedProps;t=t.compare;t=null!==t?t:ue;if(t(na,G)&&a.ref===b.ref)return fa(a,b,P)}b.flags|=1;a=fe(Y,G);a.ref=b.ref;a.return=b;return b.child=a}function ha(a,b,t,G,P){if(null!==a){var Y=a.memoizedProps;if(ue(Y,G)&&a.ref===b.ref)if(Nc=!1,b.pendingProps=G=Y,0!==(a.lanes&P))0!==(a.flags&131072)&&(Nc=!0);else return b.lanes=a.lanes,fa(a,b,P)}return qa(a,b,t,G,P)}function da(a,b,t){var G=b.pendingProps,P=G.children,Y=null!==a?a.memoizedState:null;if("hidden"===G.mode)if(0===(b.mode&
1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jb(of,Wc),Wc|=t;else{if(0===(t&1073741824))return a=null!==Y?Y.baseLanes|t:t,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,Jb(of,Wc),Wc|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};G=null!==Y?Y.baseLanes:t;Jb(of,Wc);Wc|=G}else null!==Y?(G=Y.baseLanes|t,b.memoizedState=null):G=t,Jb(of,Wc),Wc|=G;H(a,b,P,t);return b.child}function ja(a,b){var t=
b.ref;if(null===a&&null!==t||null!==a&&a.ref!==t)b.flags|=512,b.flags|=2097152}function qa(a,b,t,G,P){var Y=zc(t)?xe:Ec.current;Y=Cd(b,Y);ce(b,P);t=hg(a,b,t,G,Y,P);G=kg();if(null!==a&&!Nc)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~P,fa(a,b,P);Yb&&G&&Sf(b);b.flags|=1;H(a,b,t,P);return b.child}function pa(a,b,t,G,P){if(zc(t)){var Y=!0;Ed(b)}else Y=!1;ce(b,P);if(null===b.stateNode)ma(a,b),mh(b,t,G),ag(b,t,G,P),G=!0;else if(null===a){var na=b.stateNode,Ja=b.memoizedProps;na.props=Ja;
var Qa=na.context,eb=t.contextType;"object"===typeof eb&&null!==eb?eb=lc(eb):(eb=zc(t)?xe:Ec.current,eb=Cd(b,eb));var mb=t.getDerivedStateFromProps,nb="function"===typeof mb||"function"===typeof na.getSnapshotBeforeUpdate;nb||"function"!==typeof na.UNSAFE_componentWillReceiveProps&&"function"!==typeof na.componentWillReceiveProps||(Ja!==G||Qa!==eb)&&mc(b,na,G,eb);ee=!1;var lb=b.memoizedState;na.state=lb;gf(b,G,na,P);Qa=b.memoizedState;Ja!==G||lb!==Qa||Mc.current||ee?("function"===typeof mb&&($f(b,
t,mb,G),Qa=b.memoizedState),(Ja=ee||Vc(b,t,Ja,G,lb,Qa,eb))?(nb||"function"!==typeof na.UNSAFE_componentWillMount&&"function"!==typeof na.componentWillMount||("function"===typeof na.componentWillMount&&na.componentWillMount(),"function"===typeof na.UNSAFE_componentWillMount&&na.UNSAFE_componentWillMount()),"function"===typeof na.componentDidMount&&(b.flags|=4194308)):("function"===typeof na.componentDidMount&&(b.flags|=4194308),b.memoizedProps=G,b.memoizedState=Qa),na.props=G,na.state=Qa,na.context=
eb,G=Ja):("function"===typeof na.componentDidMount&&(b.flags|=4194308),G=!1)}else{na=b.stateNode;jh(a,b);Ja=b.memoizedProps;eb=b.type===b.elementType?Ja:Uc(b.type,Ja);na.props=eb;nb=b.pendingProps;lb=na.context;Qa=t.contextType;"object"===typeof Qa&&null!==Qa?Qa=lc(Qa):(Qa=zc(t)?xe:Ec.current,Qa=Cd(b,Qa));var tb=t.getDerivedStateFromProps;(mb="function"===typeof tb||"function"===typeof na.getSnapshotBeforeUpdate)||"function"!==typeof na.UNSAFE_componentWillReceiveProps&&"function"!==typeof na.componentWillReceiveProps||
(Ja!==nb||lb!==Qa)&&mc(b,na,G,Qa);ee=!1;lb=b.memoizedState;na.state=lb;gf(b,G,na,P);var wb=b.memoizedState;Ja!==nb||lb!==wb||Mc.current||ee?("function"===typeof tb&&($f(b,t,tb,G),wb=b.memoizedState),(eb=ee||Vc(b,t,eb,G,lb,wb,Qa)||!1)?(mb||"function"!==typeof na.UNSAFE_componentWillUpdate&&"function"!==typeof na.componentWillUpdate||("function"===typeof na.componentWillUpdate&&na.componentWillUpdate(G,wb,Qa),"function"===typeof na.UNSAFE_componentWillUpdate&&na.UNSAFE_componentWillUpdate(G,wb,Qa)),
"function"===typeof na.componentDidUpdate&&(b.flags|=4),"function"===typeof na.getSnapshotBeforeUpdate&&(b.flags|=1024)):("function"!==typeof na.componentDidUpdate||Ja===a.memoizedProps&&lb===a.memoizedState||(b.flags|=4),"function"!==typeof na.getSnapshotBeforeUpdate||Ja===a.memoizedProps&&lb===a.memoizedState||(b.flags|=1024),b.memoizedProps=G,b.memoizedState=wb),na.props=G,na.state=wb,na.context=Qa,G=eb):("function"!==typeof na.componentDidUpdate||Ja===a.memoizedProps&&lb===a.memoizedState||(b.flags|=
4),"function"!==typeof na.getSnapshotBeforeUpdate||Ja===a.memoizedProps&&lb===a.memoizedState||(b.flags|=1024),G=!1)}return oa(a,b,t,G,Y,P)}function oa(a,b,t,G,P,Y){ja(a,b);var na=0!==(b.flags&128);if(!G&&!na)return P&&Yg(b,t,!1),fa(a,b,Y);G=b.stateNode;Mk.current=b;var Ja=na&&"function"!==typeof t.getDerivedStateFromError?null:G.render();b.flags|=1;null!==a&&na?(b.child=nf(b,a.child,null,Y),b.child=nf(b,null,Ja,Y)):H(a,b,Ja,Y);b.memoizedState=G.state;P&&Yg(b,t,!0);return b.child}function xa(a){var b=
a.stateNode;b.pendingContext?Dd(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Dd(a,b.context,!1);hf(a,b.containerInfo)}function Ba(a){return{baseLanes:a,cachePool:null,transitions:null}}function Na(a,b,t){var G=b.pendingProps,P=$b.current,Y=!1,na=0!==(b.flags&128),Ja;(Ja=na)||(Ja=null!==a&&null===a.memoizedState?!1:0!==(P&2));if(Ja)Y=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)P|=1;Jb($b,P&1);if(null===a){Uf(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===
(b.mode&1)?b.lanes=1:"$!"===a.data?b.lanes=8:b.lanes=1073741824,null;na=G.children;a=G.fallback;return Y?(G=b.mode,Y=b.child,na={mode:"hidden",children:na},0===(G&1)&&null!==Y?(Y.childLanes=0,Y.pendingProps=na):Y=Ih(na,G,0,null),a=Ee(a,G,t,null),Y.return=b,a.return=b,Y.sibling=a,b.child=Y,b.child.memoizedState=Ba(t),b.memoizedState=Pi,a):ua(b,na)}P=a.memoizedState;if(null!==P&&(Ja=P.dehydrated,null!==Ja))return Fa(a,b,na,G,Ja,P,t);if(Y){Y=G.fallback;na=b.mode;P=a.child;Ja=P.sibling;var Qa={mode:"hidden",
children:G.children};0===(na&1)&&b.child!==P?(G=b.child,G.childLanes=0,G.pendingProps=Qa,b.deletions=null):(G=fe(P,Qa),G.subtreeFlags=P.subtreeFlags&14680064);null!==Ja?Y=fe(Ja,Y):(Y=Ee(Y,na,t,null),Y.flags|=2);Y.return=b;G.return=b;G.sibling=Y;b.child=G;G=Y;Y=b.child;na=a.child.memoizedState;na=null===na?Ba(t):{baseLanes:na.baseLanes|t,cachePool:null,transitions:na.transitions};Y.memoizedState=na;Y.childLanes=a.childLanes&~t;b.memoizedState=Pi;return G}Y=a.child;a=Y.sibling;G=fe(Y,{mode:"visible",
children:G.children});0===(b.mode&1)&&(G.lanes=t);G.return=b;G.sibling=null;null!==a&&(t=b.deletions,null===t?(b.deletions=[a],b.flags|=16):t.push(a));b.child=G;b.memoizedState=null;return G}function ua(a,b){b=Ih({mode:"visible",children:b},a.mode,0,null);b.return=a;return a.child=b}function La(a,b,t,G){null!==G&&be(G);nf(b,a.child,null,t);a=ua(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}function Fa(a,b,t,G,P,Y,na){if(t){if(b.flags&256)return b.flags&=-257,G=sg(Error(J(422))),
La(a,b,na,G);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;Y=G.fallback;P=b.mode;G=Ih({mode:"visible",children:G.children},P,0,null);Y=Ee(Y,P,na,null);Y.flags|=2;G.return=b;Y.return=b;G.sibling=Y;b.child=G;0!==(b.mode&1)&&nf(b,a.child,null,na);b.child.memoizedState=Ba(na);b.memoizedState=Pi;return Y}if(0===(b.mode&1))return La(a,b,na,null);if("$!"===P.data){if(G=P.nextSibling&&P.nextSibling.dataset)var Ja=G.dgst;G=Ja;Y=Error(J(419));G=sg(Y,G,void 0);return La(a,b,na,G)}Ja=0!==
(na&a.childLanes);if(Nc||Ja){G=uc;if(null!==G){switch(na&-na){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=0!==(P&(G.suspendedLanes|na))?0:P;0!==P&&P!==Y.retryLane&&(Y.retryLane=P,md(a,P),bc(G,a,P,-1))}Qi();G=sg(Error(J(421)));
return La(a,b,na,G)}if("$?"===P.data)return b.flags|=128,b.child=a.child,b=Nk.bind(null,a),P._reactRetry=b,null;a=Y.treeContext;Tc=Dc(P.nextSibling);Sc=b;Yb=!0;ld=null;null!==a&&(Zc[$c++]=Hd,Zc[$c++]=Id,Zc[$c++]=ye,Hd=a.id,Id=a.overflow,ye=b);b=ua(b,G.children);b.flags|=4096;return b}function sa(a,b,t){a.lanes|=b;var G=a.alternate;null!==G&&(G.lanes|=b);Wf(a.return,b,t)}function ba(a,b,t,G,P){var Y=a.memoizedState;null===Y?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:G,
tail:t,tailMode:P}:(Y.isBackwards=b,Y.rendering=null,Y.renderingStartTime=0,Y.last=G,Y.tail=t,Y.tailMode=P)}function aa(a,b,t){var G=b.pendingProps,P=G.revealOrder,Y=G.tail;H(a,b,G.children,t);G=$b.current;if(0!==(G&2))G=G&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&sa(a,t,b);else if(19===a.tag)sa(a,t,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||
a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}G&=1}Jb($b,G);if(0===(b.mode&1))b.memoizedState=null;else switch(P){case "forwards":t=b.child;for(P=null;null!==t;)a=t.alternate,null!==a&&null===jf(a)&&(P=t),t=t.sibling;t=P;null===t?(P=b.child,b.child=null):(P=t.sibling,t.sibling=null);ba(b,!1,P,t,Y);break;case "backwards":t=null;P=b.child;for(b.child=null;null!==P;){a=P.alternate;if(null!==a&&null===jf(a)){b.child=P;break}a=P.sibling;P.sibling=t;t=P;P=a}ba(b,!0,t,null,Y);break;
case "together":ba(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function ma(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function fa(a,b,t){null!==a&&(b.dependencies=a.dependencies);Be|=b.lanes;if(0===(t&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(J(153));if(null!==b.child){a=b.child;t=fe(a,a.pendingProps);b.child=t;for(t.return=b;null!==a.sibling;)a=a.sibling,t=t.sibling=fe(a,a.pendingProps),t.return=b;t.sibling=
null}return b.child}function Ga(a,b,t){switch(b.tag){case 3:xa(b);kd();break;case 5:eg(b);break;case 1:zc(b.type)&&Ed(b);break;case 4:hf(b,b.stateNode.containerInfo);break;case 10:var G=b.type._context,P=b.memoizedProps.value;Jb(hh,G._currentValue);G._currentValue=P;break;case 13:G=b.memoizedState;if(null!==G){if(null!==G.dehydrated)return Jb($b,$b.current&1),b.flags|=128,null;if(0!==(t&b.child.childLanes))return Na(a,b,t);Jb($b,$b.current&1);a=fa(a,b,t);return null!==a?a.sibling:null}Jb($b,$b.current&
1);break;case 19:G=0!==(t&b.childLanes);if(0!==(a.flags&128)){if(G)return aa(a,b,t);b.flags|=128}P=b.memoizedState;null!==P&&(P.rendering=null,P.tail=null,P.lastEffect=null);Jb($b,$b.current);if(G)break;else return null;case 22:case 23:return b.lanes=0,da(a,b,t)}return fa(a,b,t)}function Aa(a,b){if(!Yb)switch(a.tailMode){case "hidden":b=a.tail;for(var t=null;null!==b;)null!==b.alternate&&(t=b),b=b.sibling;null===t?a.tail=null:t.sibling=null;break;case "collapsed":t=a.tail;for(var G=null;null!==t;)null!==
t.alternate&&(G=t),t=t.sibling;null===G?b||null===a.tail?a.tail=null:a.tail.sibling=null:G.sibling=null}}function ya(a){var b=null!==a.alternate&&a.alternate.child===a.child,t=0,G=0;if(b)for(var P=a.child;null!==P;)t|=P.lanes|P.childLanes,G|=P.subtreeFlags&14680064,G|=P.flags&14680064,P.return=a,P=P.sibling;else for(P=a.child;null!==P;)t|=P.lanes|P.childLanes,G|=P.subtreeFlags,G|=P.flags,P.return=a,P=P.sibling;a.subtreeFlags|=G;a.childLanes=t;return b}function ra(a,b,t){var G=b.pendingProps;Tf(b);
switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ya(b),null;case 1:return zc(b.type)&&$d(),ya(b),null;case 3:G=b.stateNode;Jc();Pb(Mc);Pb(Ec);gg();G.pendingContext&&(G.context=G.pendingContext,G.pendingContext=null);if(null===a||null===a.child)ze(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==ld&&(Kc(ld),ld=null));Ij(a,b);ya(b);return null;case 5:fg(b);var P=cd(cg.current);t=b.type;if(null!==a&&null!=b.stateNode)Ok(a,
b,t,G,P),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!G){if(null===b.stateNode)throw Error(J(166));ya(b);return null}a=cd(yd.current);if(ze(b)){G=b.stateNode;t=b.type;var Y=b.memoizedProps;G[xd]=b;G[Qf]=Y;a=0!==(b.mode&1);switch(t){case "dialog":Sb("cancel",G);Sb("close",G);break;case "iframe":case "object":case "embed":Sb("load",G);break;case "video":case "audio":for(P=0;P<ug.length;P++)Sb(ug[P],G);break;case "source":Sb("error",G);break;case "img":case "image":case "link":Sb("error",
G);Sb("load",G);break;case "details":Sb("toggle",G);break;case "input":L(G,Y);Sb("invalid",G);break;case "select":G._wrapperState={wasMultiple:!!Y.multiple};Sb("invalid",G);break;case "textarea":W(G,Y),Sb("invalid",G)}va(t,Y);P=null;for(var na in Y)if(Y.hasOwnProperty(na)){var Ja=Y[na];"children"===na?"string"===typeof Ja?G.textContent!==Ja&&(!0!==Y.suppressHydrationWarning&&af(G.textContent,Ja,a),P=["children",Ja]):"number"===typeof Ja&&G.textContent!==""+Ja&&(!0!==Y.suppressHydrationWarning&&af(G.textContent,
Ja,a),P=["children",""+Ja]):tf.hasOwnProperty(na)&&null!=Ja&&"onScroll"===na&&Sb("scroll",G)}switch(t){case "input":z(G);M(G,Y,!0);break;case "textarea":z(G);B(G);break;case "select":case "option":break;default:"function"===typeof Y.onClick&&(G.onclick=Yd)}G=P;b.updateQueue=G;null!==G&&(b.flags|=4)}else{na=9===P.nodeType?P:P.ownerDocument;"http://www.w3.org/1999/xhtml"===a&&(a=v(t));"http://www.w3.org/1999/xhtml"===a?"script"===t?(a=na.createElement("div"),a.innerHTML="\x3cscript\x3e\x3c/script\x3e",
a=a.removeChild(a.firstChild)):"string"===typeof G.is?a=na.createElement(t,{is:G.is}):(a=na.createElement(t),"select"===t&&(na=a,G.multiple?na.multiple=!0:G.size&&(na.size=G.size))):a=na.createElementNS(a,t);a[xd]=b;a[Qf]=G;Pk(a,b,!1,!1);b.stateNode=a;a:{na=Da(t,G);switch(t){case "dialog":Sb("cancel",a);Sb("close",a);P=G;break;case "iframe":case "object":case "embed":Sb("load",a);P=G;break;case "video":case "audio":for(P=0;P<ug.length;P++)Sb(ug[P],a);P=G;break;case "source":Sb("error",a);P=G;break;
case "img":case "image":case "link":Sb("error",a);Sb("load",a);P=G;break;case "details":Sb("toggle",a);P=G;break;case "input":L(a,G);P=A(a,G);Sb("invalid",a);break;case "option":P=G;break;case "select":a._wrapperState={wasMultiple:!!G.multiple};P=Zb({},G,{value:void 0});Sb("invalid",a);break;case "textarea":W(a,G);P=S(a,G);Sb("invalid",a);break;default:P=G}va(t,P);Ja=P;for(Y in Ja)if(Ja.hasOwnProperty(Y)){var Qa=Ja[Y];"style"===Y?la(a,Qa):"dangerouslySetInnerHTML"===Y?(Qa=Qa?Qa.__html:void 0,null!=
Qa&&Jj(a,Qa)):"children"===Y?"string"===typeof Qa?("textarea"!==t||""!==Qa)&&O(a,Qa):"number"===typeof Qa&&O(a,""+Qa):"suppressContentEditableWarning"!==Y&&"suppressHydrationWarning"!==Y&&"autoFocus"!==Y&&(tf.hasOwnProperty(Y)?null!=Qa&&"onScroll"===Y&&Sb("scroll",a):null!=Qa&&l(a,Y,Qa,na))}switch(t){case "input":z(a);M(a,G,!1);break;case "textarea":z(a);B(a);break;case "option":null!=G.value&&a.setAttribute("value",""+r(G.value));break;case "select":a.multiple=!!G.multiple;Y=G.value;null!=Y?Q(a,
!!G.multiple,Y,!1):null!=G.defaultValue&&Q(a,!!G.multiple,G.defaultValue,!0);break;default:"function"===typeof P.onClick&&(a.onclick=Yd)}switch(t){case "button":case "input":case "select":case "textarea":G=!!G.autoFocus;break a;case "img":G=!0;break a;default:G=!1}}G&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}ya(b);return null;case 6:if(a&&null!=b.stateNode)Qk(a,b,a.memoizedProps,G);else{if("string"!==typeof G&&null===b.stateNode)throw Error(J(166));t=cd(cg.current);cd(yd.current);
if(ze(b)){G=b.stateNode;t=b.memoizedProps;G[xd]=b;if(Y=G.nodeValue!==t)if(a=Sc,null!==a)switch(a.tag){case 3:af(G.nodeValue,t,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&af(G.nodeValue,t,0!==(a.mode&1))}Y&&(b.flags|=4)}else G=(9===t.nodeType?t:t.ownerDocument).createTextNode(G),G[xd]=b,b.stateNode=G}ya(b);return null;case 13:Pb($b);G=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(Yb&&null!==Tc&&0!==(b.mode&1)&&0===(b.flags&
128))gh(),kd(),b.flags|=98560,Y=!1;else if(Y=ze(b),null!==G&&null!==G.dehydrated){if(null===a){if(!Y)throw Error(J(318));Y=b.memoizedState;Y=null!==Y?Y.dehydrated:null;if(!Y)throw Error(J(317));Y[xd]=b}else kd(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;ya(b);Y=!1}else null!==ld&&(Kc(ld),ld=null),Y=!0;if(!Y)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=t,b;G=null!==G;G!==(null!==a&&null!==a.memoizedState)&&G&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==($b.current&
1)?0===oc&&(oc=3):Qi()));null!==b.updateQueue&&(b.flags|=4);ya(b);return null;case 4:return Jc(),Ij(a,b),null===a&&vd(b.stateNode.containerInfo),ya(b),null;case 10:return Vf(b.type._context),ya(b),null;case 17:return zc(b.type)&&$d(),ya(b),null;case 19:Pb($b);Y=b.memoizedState;if(null===Y)return ya(b),null;G=0!==(b.flags&128);na=Y.rendering;if(null===na)if(G)Aa(Y,!1);else{if(0!==oc||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){na=jf(a);if(null!==na){b.flags|=128;Aa(Y,!1);G=na.updateQueue;
null!==G&&(b.updateQueue=G,b.flags|=4);b.subtreeFlags=0;G=t;for(t=b.child;null!==t;)Y=t,a=G,Y.flags&=14680066,na=Y.alternate,null===na?(Y.childLanes=0,Y.lanes=a,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null):(Y.childLanes=na.childLanes,Y.lanes=na.lanes,Y.child=na.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=na.memoizedProps,Y.memoizedState=na.memoizedState,Y.updateQueue=na.updateQueue,Y.type=na.type,a=na.dependencies,
Y.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),t=t.sibling;Jb($b,$b.current&1|2);return b.child}a=a.sibling}null!==Y.tail&&gc()>pf&&(b.flags|=128,G=!0,Aa(Y,!1),b.lanes=4194304)}else{if(!G)if(a=jf(na),null!==a){if(b.flags|=128,G=!0,t=a.updateQueue,null!==t&&(b.updateQueue=t,b.flags|=4),Aa(Y,!0),null===Y.tail&&"hidden"===Y.tailMode&&!na.alternate&&!Yb)return ya(b),null}else 2*gc()-Y.renderingStartTime>pf&&1073741824!==t&&(b.flags|=128,G=!0,Aa(Y,!1),b.lanes=4194304);Y.isBackwards?
(na.sibling=b.child,b.child=na):(t=Y.last,null!==t?t.sibling=na:b.child=na,Y.last=na)}if(null!==Y.tail)return b=Y.tail,Y.rendering=b,Y.tail=b.sibling,Y.renderingStartTime=gc(),b.sibling=null,t=$b.current,Jb($b,G?t&1|2:t&1),b;ya(b);return null;case 22:case 23:return Ri(),G=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==G&&(b.flags|=8192),G&&0!==(b.mode&1)?0!==(Wc&1073741824)&&(ya(b),b.subtreeFlags&6&&(b.flags|=8192)):ya(b),null;case 24:return null;case 25:return null}throw Error(J(156,b.tag));
}function Ca(a,b){Tf(b);switch(b.tag){case 1:return zc(b.type)&&$d(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return Jc(),Pb(Mc),Pb(Ec),gg(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return fg(b),null;case 13:Pb($b);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(J(340));kd()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return Pb($b),null;case 4:return Jc(),null;case 10:return Vf(b.type._context),
null;case 22:case 23:return Ri(),null;case 24:return null;default:return null}}function Ma(a,b){var t=a.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(G){cc(a,b,G)}else t.current=null}function Oa(a,b,t){try{t()}catch(G){cc(a,b,G)}}function Ua(a,b){Si=Lg;a=Mf();if(Nf(a)){if("selectionStart"in a)var t={start:a.selectionStart,end:a.selectionEnd};else a:{t=(t=a.ownerDocument)&&t.defaultView||window;var G=t.getSelection&&t.getSelection();if(G&&0!==G.rangeCount){t=G.anchorNode;var P=G.anchorOffset,
Y=G.focusNode;G=G.focusOffset;try{t.nodeType,Y.nodeType}catch(pb){t=null;break a}var na=0,Ja=-1,Qa=-1,eb=0,mb=0,nb=a,lb=null;b:for(;;){for(var tb;;){nb!==t||0!==P&&3!==nb.nodeType||(Ja=na+P);nb!==Y||0!==G&&3!==nb.nodeType||(Qa=na+G);3===nb.nodeType&&(na+=nb.nodeValue.length);if(null===(tb=nb.firstChild))break;lb=nb;nb=tb}for(;;){if(nb===a)break b;lb===t&&++eb===P&&(Ja=na);lb===Y&&++mb===G&&(Qa=na);if(null!==(tb=nb.nextSibling))break;nb=lb;lb=nb.parentNode}nb=tb}t=-1===Ja||-1===Qa?null:{start:Ja,end:Qa}}else t=
null}t=t||{start:0,end:0}}else t=null;Ti={focusedElem:a,selectionRange:t};Lg=!1;for(vb=b;null!==vb;)if(b=vb,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,vb=a;else for(;null!==vb;){b=vb;try{var wb=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;case 1:if(null!==wb){var yb=wb.memoizedProps,ac=wb.memoizedState,ab=b.stateNode,Ta=ab.getSnapshotBeforeUpdate(b.elementType===b.type?yb:Uc(b.type,yb),ac);ab.__reactInternalSnapshotBeforeUpdate=Ta}break;case 3:var cb=
b.stateNode.containerInfo;1===cb.nodeType?cb.textContent="":9===cb.nodeType&&cb.documentElement&&cb.removeChild(cb.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163));}}catch(pb){cc(b,b.return,pb)}a=b.sibling;if(null!==a){a.return=b.return;vb=a;break}vb=b.return}wb=Kj;Kj=!1;return wb}function Ia(a,b,t){var G=b.updateQueue;G=null!==G?G.lastEffect:null;if(null!==G){var P=G=G.next;do{if((P.tag&a)===a){var Y=P.destroy;P.destroy=void 0;void 0!==Y&&Oa(b,t,Y)}P=P.next}while(P!==
G)}}function za(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var t=b=b.next;do{if((t.tag&a)===a){var G=t.create;t.destroy=G()}t=t.next}while(t!==b)}}function Ka(a){var b=a.ref;if(null!==b){var t=a.stateNode;switch(a.tag){case 5:a=t;break;default:a=t}"function"===typeof b?b(a):b.current=a}}function Wa(a){var b=a.alternate;null!==b&&(a.alternate=null,Wa(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[xd],delete b[Qf],delete b[Bi],delete b[Rk],
delete b[Sk]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function hb(a){return 5===a.tag||3===a.tag||4===a.tag}function ob(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||hb(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&
2))return a.stateNode}}function Sa(a,b,t){var G=a.tag;if(5===G||6===G)a=a.stateNode,b?8===t.nodeType?t.parentNode.insertBefore(a,b):t.insertBefore(a,b):(8===t.nodeType?(b=t.parentNode,b.insertBefore(a,t)):(b=t,b.appendChild(a)),t=t._reactRootContainer,null!==t&&void 0!==t||null!==b.onclick||(b.onclick=Yd));else if(4!==G&&(a=a.child,null!==a))for(Sa(a,b,t),a=a.sibling;null!==a;)Sa(a,b,t),a=a.sibling}function Xa(a,b,t){var G=a.tag;if(5===G||6===G)a=a.stateNode,b?t.insertBefore(a,b):t.appendChild(a);
else if(4!==G&&(a=a.child,null!==a))for(Xa(a,b,t),a=a.sibling;null!==a;)Xa(a,b,t),a=a.sibling}function bb(a,b,t){for(t=t.child;null!==t;)ub(a,b,t),t=t.sibling}function ub(a,b,t){if(td&&"function"===typeof td.onCommitFiberUnmount)try{td.onCommitFiberUnmount(Gg,t)}catch(Ja){}switch(t.tag){case 5:Gc||Ma(t,b);case 6:var G=Ac,P=qd;Ac=null;bb(a,b,t);Ac=G;qd=P;null!==Ac&&(qd?(a=Ac,t=t.stateNode,8===a.nodeType?a.parentNode.removeChild(t):a.removeChild(t)):Ac.removeChild(t.stateNode));break;case 18:null!==
Ac&&(qd?(a=Ac,t=t.stateNode,8===a.nodeType?Pf(a.parentNode,t):1===a.nodeType&&Pf(a,t),qe(a)):Pf(Ac,t.stateNode));break;case 4:G=Ac;P=qd;Ac=t.stateNode.containerInfo;qd=!0;bb(a,b,t);Ac=G;qd=P;break;case 0:case 11:case 14:case 15:if(!Gc&&(G=t.updateQueue,null!==G&&(G=G.lastEffect,null!==G))){P=G=G.next;do{var Y=P,na=Y.destroy;Y=Y.tag;void 0!==na&&(0!==(Y&2)?Oa(t,b,na):0!==(Y&4)&&Oa(t,b,na));P=P.next}while(P!==G)}bb(a,b,t);break;case 1:if(!Gc&&(Ma(t,b),G=t.stateNode,"function"===typeof G.componentWillUnmount))try{G.props=
t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(Ja){cc(t,b,Ja)}bb(a,b,t);break;case 21:bb(a,b,t);break;case 22:t.mode&1?(Gc=(G=Gc)||null!==t.memoizedState,bb(a,b,t),Gc=G):bb(a,b,t);break;default:bb(a,b,t)}}function Fb(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var t=a.stateNode;null===t&&(t=a.stateNode=new Tk);b.forEach(function(G){var P=Uk.bind(null,a,G);t.has(G)||(t.add(G),G.then(P,P))})}}function Ab(a,b){var t=b.deletions;if(null!==t)for(var G=0;G<t.length;G++){var P=
t[G];try{var Y=a,na=b,Ja=na;a:for(;null!==Ja;){switch(Ja.tag){case 5:Ac=Ja.stateNode;qd=!1;break a;case 3:Ac=Ja.stateNode.containerInfo;qd=!0;break a;case 4:Ac=Ja.stateNode.containerInfo;qd=!0;break a}Ja=Ja.return}if(null===Ac)throw Error(J(160));ub(Y,na,P);Ac=null;qd=!1;var Qa=P.alternate;null!==Qa&&(Qa.return=null);P.return=null}catch(eb){cc(P,b,eb)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)Lb(b,a),b=b.sibling}function Lb(a,b){var t=a.alternate,G=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ab(b,
a);Hb(a);if(G&4){try{Ia(3,a,a.return),za(3,a)}catch(yb){cc(a,a.return,yb)}try{Ia(5,a,a.return)}catch(yb){cc(a,a.return,yb)}}break;case 1:Ab(b,a);Hb(a);G&512&&null!==t&&Ma(t,t.return);break;case 5:Ab(b,a);Hb(a);G&512&&null!==t&&Ma(t,t.return);if(a.flags&32){var P=a.stateNode;try{O(P,"")}catch(yb){cc(a,a.return,yb)}}if(G&4&&(P=a.stateNode,null!=P)){var Y=a.memoizedProps,na=null!==t?t.memoizedProps:Y,Ja=a.type,Qa=a.updateQueue;a.updateQueue=null;if(null!==Qa)try{"input"===Ja&&"radio"===Y.type&&null!=
Y.name&&y(P,Y);Da(Ja,na);var eb=Da(Ja,Y);for(na=0;na<Qa.length;na+=2){var mb=Qa[na],nb=Qa[na+1];"style"===mb?la(P,nb):"dangerouslySetInnerHTML"===mb?Jj(P,nb):"children"===mb?O(P,nb):l(P,mb,nb,eb)}switch(Ja){case "input":F(P,Y);break;case "textarea":ca(P,Y);break;case "select":var lb=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!Y.multiple;var tb=Y.value;null!=tb?Q(P,!!Y.multiple,tb,!1):lb!==!!Y.multiple&&(null!=Y.defaultValue?Q(P,!!Y.multiple,Y.defaultValue,!0):Q(P,!!Y.multiple,Y.multiple?
[]:"",!1))}P[Qf]=Y}catch(yb){cc(a,a.return,yb)}}break;case 6:Ab(b,a);Hb(a);if(G&4){if(null===a.stateNode)throw Error(J(162));P=a.stateNode;Y=a.memoizedProps;try{P.nodeValue=Y}catch(yb){cc(a,a.return,yb)}}break;case 3:Ab(b,a);Hb(a);if(G&4&&null!==t&&t.memoizedState.isDehydrated)try{qe(b.containerInfo)}catch(yb){cc(a,a.return,yb)}break;case 4:Ab(b,a);Hb(a);break;case 13:Ab(b,a);Hb(a);P=a.child;P.flags&8192&&(Y=null!==P.memoizedState,P.stateNode.isHidden=Y,!Y||null!==P.alternate&&null!==P.alternate.memoizedState||
(Ui=gc()));G&4&&Fb(a);break;case 22:mb=null!==t&&null!==t.memoizedState;a.mode&1?(Gc=(eb=Gc)||mb,Ab(b,a),Gc=eb):Ab(b,a);Hb(a);if(G&8192){eb=null!==a.memoizedState;if((a.stateNode.isHidden=eb)&&!mb&&0!==(a.mode&1))for(vb=a,mb=a.child;null!==mb;){for(nb=vb=mb;null!==vb;){lb=vb;tb=lb.child;switch(lb.tag){case 0:case 11:case 14:case 15:Ia(4,lb,lb.return);break;case 1:Ma(lb,lb.return);var wb=lb.stateNode;if("function"===typeof wb.componentWillUnmount){G=lb;t=lb.return;try{b=G,wb.props=b.memoizedProps,
wb.state=b.memoizedState,wb.componentWillUnmount()}catch(yb){cc(G,t,yb)}}break;case 5:Ma(lb,lb.return);break;case 22:if(null!==lb.memoizedState){Gb(nb);continue}}null!==tb?(tb.return=lb,vb=tb):Gb(nb)}mb=mb.sibling}mb=null;nb=a;a:for(;;){if(5===nb.tag){if(null===mb){mb=nb;try{P=nb.stateNode,eb?(Y=P.style,"function"===typeof Y.setProperty?Y.setProperty("display","none","important"):Y.display="none"):(Ja=nb.stateNode,Qa=nb.memoizedProps.style,na=void 0!==Qa&&null!==Qa&&Qa.hasOwnProperty("display")?Qa.display:
null,Ja.style.display=ea("display",na))}catch(yb){cc(a,a.return,yb)}}}else if(6===nb.tag){if(null===mb)try{nb.stateNode.nodeValue=eb?"":nb.memoizedProps}catch(yb){cc(a,a.return,yb)}}else if((22!==nb.tag&&23!==nb.tag||null===nb.memoizedState||nb===a)&&null!==nb.child){nb.child.return=nb;nb=nb.child;continue}if(nb===a)break a;for(;null===nb.sibling;){if(null===nb.return||nb.return===a)break a;mb===nb&&(mb=null);nb=nb.return}mb===nb&&(mb=null);nb.sibling.return=nb.return;nb=nb.sibling}}break;case 19:Ab(b,
a);Hb(a);G&4&&Fb(a);break;case 21:break;default:Ab(b,a),Hb(a)}}function Hb(a){var b=a.flags;if(b&2){try{a:{for(var t=a.return;null!==t;){if(hb(t))break a;t=t.return}throw Error(J(160));}switch(t.tag){case 5:var G=t.stateNode;t.flags&32&&(O(G,""),t.flags&=-33);var P=ob(a);Xa(a,P,G);break;case 3:case 4:var Y=t.stateNode.containerInfo,na=ob(a);Sa(a,na,Y);break;default:throw Error(J(161));}}catch(Ja){cc(a,a.return,Ja)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function Qb(a,b,t){vb=a;pc(a,b,t)}function pc(a,
b,t){for(var G=0!==(a.mode&1);null!==vb;){var P=vb,Y=P.child;if(22===P.tag&&G){var na=null!==P.memoizedState||Jh;if(!na){var Ja=P.alternate,Qa=null!==Ja&&null!==Ja.memoizedState||Gc;Ja=Jh;var eb=Gc;Jh=na;if((Gc=Qa)&&!eb)for(vb=P;null!==vb;)na=vb,Qa=na.child,22===na.tag&&null!==na.memoizedState?fd(P):null!==Qa?(Qa.return=na,vb=Qa):fd(P);for(;null!==Y;)vb=Y,pc(Y,b,t),Y=Y.sibling;vb=P;Jh=Ja;Gc=eb}Db(a,b,t)}else 0!==(P.subtreeFlags&8772)&&null!==Y?(Y.return=P,vb=Y):Db(a,b,t)}}function Db(a){for(;null!==
vb;){var b=vb;if(0!==(b.flags&8772)){var t=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:Gc||za(5,b);break;case 1:var G=b.stateNode;if(b.flags&4&&!Gc)if(null===t)G.componentDidMount();else{var P=b.elementType===b.type?t.memoizedProps:Uc(b.type,t.memoizedProps);G.componentDidUpdate(P,t.memoizedState,G.__reactInternalSnapshotBeforeUpdate)}var Y=b.updateQueue;null!==Y&&lh(b,Y,G);break;case 3:var na=b.updateQueue;if(null!==na){t=null;if(null!==b.child)switch(b.child.tag){case 5:t=
b.child.stateNode;break;case 1:t=b.child.stateNode}lh(b,na,t)}break;case 5:var Ja=b.stateNode;if(null===t&&b.flags&4){t=Ja;var Qa=b.memoizedProps;switch(b.type){case "button":case "input":case "select":case "textarea":Qa.autoFocus&&t.focus();break;case "img":Qa.src&&(t.src=Qa.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var eb=b.alternate;if(null!==eb){var mb=eb.memoizedState;if(null!==mb){var nb=mb.dehydrated;null!==nb&&qe(nb)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;
default:throw Error(J(163));}Gc||b.flags&512&&Ka(b)}catch(lb){cc(b,b.return,lb)}}if(b===a){vb=null;break}t=b.sibling;if(null!==t){t.return=b.return;vb=t;break}vb=b.return}}function Gb(a){for(;null!==vb;){var b=vb;if(b===a){vb=null;break}var t=b.sibling;if(null!==t){t.return=b.return;vb=t;break}vb=b.return}}function fd(a){for(;null!==vb;){var b=vb;try{switch(b.tag){case 0:case 11:case 15:var t=b.return;try{za(4,b)}catch(Qa){cc(b,t,Qa)}break;case 1:var G=b.stateNode;if("function"===typeof G.componentDidMount){var P=
b.return;try{G.componentDidMount()}catch(Qa){cc(b,P,Qa)}}var Y=b.return;try{Ka(b)}catch(Qa){cc(b,Y,Qa)}break;case 5:var na=b.return;try{Ka(b)}catch(Qa){cc(b,na,Qa)}}}catch(Qa){cc(b,b.return,Qa)}if(b===a){vb=null;break}var Ja=b.sibling;if(null!==Ja){Ja.return=b.return;vb=Ja;break}vb=b.return}}function hc(){return 0!==(Mb&6)?gc():-1!==Kh?Kh:Kh=gc()}function vc(a){if(0===(a.mode&1))return 1;if(0!==(Mb&2)&&0!==Bc)return Bc&-Bc;if(null!==Vk.transition)return 0===Lh&&(Lh=ec()),Lh;a=Rb;if(0!==a)return a;
a=window.event;return a=void 0===a?16:Df(a.type)}function bc(a,b,t,G){if(50<vg)throw vg=0,Vi=null,Error(J(185));Hc(a,t,G);if(0===(Mb&2)||a!==uc)a===uc&&(0===(Mb&2)&&(Mh|=t),4===oc&&Cc(a,Bc)),Wb(a,G),1===t&&0===Mb&&0===(b.mode&1)&&(pf=gc()+500,ah&&Yc())}function Wb(a,b){var t=a.callbackNode;xc(a,b);var G=dc(a,a===uc?Bc:0);if(0===G)null!==t&&Lj(t),a.callbackNode=null,a.callbackPriority=0;else if(b=G&-G,a.callbackPriority!==b){null!=t&&Lj(t);if(1===b)0===a.tag?$g(Mj.bind(null,a)):Zg(Mj.bind(null,a)),
Wk(function(){0===(Mb&6)&&Yc()}),t=null;else{switch(Tb(G)){case 1:t=pi;break;case 4:t=qj;break;case 16:t=Ng;break;case 536870912:t=rj;break;default:t=Ng}t=Nj(t,wg.bind(null,a))}a.callbackPriority=b;a.callbackNode=t}}function wg(a,b){Kh=-1;Lh=0;if(0!==(Mb&6))throw Error(J(327));var t=a.callbackNode;if(qf()&&a.callbackNode!==t)return null;var G=dc(a,a===uc?Bc:0);if(0===G)return null;if(0!==(G&30)||0!==(G&a.expiredLanes)||b)b=Nh(a,G);else{b=G;var P=Mb;Mb|=2;var Y=Oj();if(uc!==a||Bc!==b)Ld=null,pf=gc()+
500,Ke(a,b);do try{for(;null!==ic&&!Xk();)Pj(ic);break}catch(Ja){Qj(a,Ja)}while(1);Xf=de=ef=null;Oh.current=Y;Mb=P;null!==ic?b=0:(uc=null,Bc=0,b=oc)}if(0!==b){2===b&&(P=jc(a),0!==P&&(G=P,b=Le(a,P)));if(1===b)throw t=xg,Ke(a,0),Cc(a,G),Wb(a,gc()),t;if(6===b)Cc(a,G);else{P=a.current.alternate;if(0===(G&30)&&!Kb(P)&&(b=Nh(a,G),2===b&&(Y=jc(a),0!==Y&&(G=Y,b=Le(a,Y))),1===b))throw t=xg,Ke(a,0),Cc(a,G),Wb(a,gc()),t;a.finishedWork=P;a.finishedLanes=G;switch(b){case 0:case 1:throw Error(J(345));case 2:Me(a,
Pc,Ld);break;case 3:Cc(a,G);if((G&130023424)===G&&(b=Ui+500-gc(),10<b)){if(0!==dc(a,0))break;P=a.suspendedLanes;if((P&G)!==G){hc();a.pingedLanes|=a.suspendedLanes&P;break}a.timeoutHandle=Wi(Me.bind(null,a,Pc,Ld),b);break}Me(a,Pc,Ld);break;case 4:Cc(a,G);if((G&4194240)===G)break;b=a.eventTimes;for(P=-1;0<G;){var na=31-hd(G);Y=1<<na;na=b[na];na>P&&(P=na);G&=~Y}G=P;G=gc()-G;G=(120>G?120:480>G?480:1080>G?1080:1920>G?1920:3E3>G?3E3:4320>G?4320:1960*Yk(G/1960))-G;if(10<G){a.timeoutHandle=Wi(Me.bind(null,
a,Pc,Ld),G);break}Me(a,Pc,Ld);break;case 5:Me(a,Pc,Ld);break;default:throw Error(J(329));}}}Wb(a,gc());return a.callbackNode===t?wg.bind(null,a):null}function Le(a,b){var t=yg;a.current.memoizedState.isDehydrated&&(Ke(a,b).flags|=256);a=Nh(a,b);2!==a&&(b=Pc,Pc=t,null!==b&&Kc(b));return a}function Kc(a){null===Pc?Pc=a:Pc.push.apply(Pc,a)}function Kb(a){for(var b=a;;){if(b.flags&16384){var t=b.updateQueue;if(null!==t&&(t=t.stores,null!==t))for(var G=0;G<t.length;G++){var P=t[G],Y=P.getSnapshot;P=P.value;
try{if(!id(Y(),P))return!1}catch(na){return!1}}}t=b.child;if(b.subtreeFlags&16384&&null!==t)t.return=b,b=t;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}function Cc(a,b){b&=~Xi;b&=~Mh;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var t=31-hd(b),G=1<<t;a[t]=-1;b&=~G}}function Mj(a){if(0!==(Mb&6))throw Error(J(327));qf();var b=dc(a,0);if(0===(b&1))return Wb(a,gc()),null;var t=Nh(a,
b);if(0!==a.tag&&2===t){var G=jc(a);0!==G&&(b=G,t=Le(a,G))}if(1===t)throw t=xg,Ke(a,0),Cc(a,b),Wb(a,gc()),t;if(6===t)throw Error(J(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Me(a,Pc,Ld);Wb(a,gc());return null}function Yi(a,b){var t=Mb;Mb|=1;try{return a(b)}finally{Mb=t,0===Mb&&(pf=gc()+500,ah&&Yc())}}function Ne(a){null!==me&&0===me.tag&&0===(Mb&6)&&qf();var b=Mb;Mb|=1;var t=gd.transition,G=Rb;try{if(gd.transition=null,Rb=1,a)return a()}finally{Rb=G,gd.transition=t,Mb=b,0===(Mb&6)&&
Yc()}}function Ri(){Wc=of.current;Pb(of)}function Ke(a,b){a.finishedWork=null;a.finishedLanes=0;var t=a.timeoutHandle;-1!==t&&(a.timeoutHandle=-1,Zk(t));if(null!==ic)for(t=ic.return;null!==t;){var G=t;Tf(G);switch(G.tag){case 1:G=G.type.childContextTypes;null!==G&&void 0!==G&&$d();break;case 3:Jc();Pb(Mc);Pb(Ec);gg();break;case 5:fg(G);break;case 4:Jc();break;case 13:Pb($b);break;case 19:Pb($b);break;case 10:Vf(G.type._context);break;case 22:case 23:Ri()}t=t.return}uc=a;ic=a=fe(a.current,null);Bc=
Wc=b;oc=0;xg=null;Xi=Mh=Be=0;Pc=yg=null;if(null!==Ae){for(b=0;b<Ae.length;b++)if(t=Ae[b],G=t.interleaved,null!==G){t.interleaved=null;var P=G.next,Y=t.pending;if(null!==Y){var na=Y.next;Y.next=P;G.next=na}t.pending=G}Ae=null}return a}function Qj(a,b){do{var t=ic;try{Xf=de=ef=null;rh.current=sh;if(th){for(var G=Vb.memoizedState;null!==G;){var P=G.queue;null!==P&&(P.pending=null);G=G.next}th=!1}Fe=0;tc=nc=Vb=null;ig=!1;jg=0;Zi.current=null;if(null===t||null===t.return){oc=1;xg=b;ic=null;break}a:{var Y=
a,na=t.return,Ja=t,Qa=b;b=Bc;Ja.flags|=32768;if(null!==Qa&&"object"===typeof Qa&&"function"===typeof Qa.then){var eb=Qa,mb=Ja,nb=mb.tag;if(0===(mb.mode&1)&&(0===nb||11===nb||15===nb)){var lb=mb.alternate;lb?(mb.updateQueue=lb.updateQueue,mb.memoizedState=lb.memoizedState,mb.lanes=lb.lanes):(mb.updateQueue=null,mb.memoizedState=null)}var tb=ia(na);if(null!==tb){tb.flags&=-257;V(tb,na,Ja,Y,b);tb.mode&1&&Hh(Y,eb,b);b=tb;Qa=eb;var wb=b.updateQueue;if(null===wb){var yb=new Set;yb.add(Qa);b.updateQueue=
yb}else wb.add(Qa);break a}else{if(0===(b&1)){Hh(Y,eb,b);Qi();break a}Qa=Error(J(426))}}else if(Yb&&Ja.mode&1){var ac=ia(na);if(null!==ac){0===(ac.flags&65536)&&(ac.flags|=256);V(ac,na,Ja,Y,b);be(ke(Qa,Ja));break a}}Y=Qa=ke(Qa,Ja);4!==oc&&(oc=2);null===yg?yg=[Y]:yg.push(Y);Y=na;do{switch(Y.tag){case 3:Y.flags|=65536;b&=-b;Y.lanes|=b;var ab=Eh(Y,Qa,b);kh(Y,ab);break a;case 1:Ja=Qa;var Ta=Y.type,cb=Y.stateNode;if(0===(Y.flags&128)&&("function"===typeof Ta.getDerivedStateFromError||null!==cb&&"function"===
typeof cb.componentDidCatch&&(null===le||!le.has(cb)))){Y.flags|=65536;b&=-b;Y.lanes|=b;var pb=Gh(Y,Ja,b);kh(Y,pb);break a}}Y=Y.return}while(null!==Y)}Rj(t)}catch(zb){b=zb;ic===t&&null!==t&&(ic=t.return);continue}break}while(1)}function Oj(){var a=Oh.current;Oh.current=sh;return null===a?sh:a}function Qi(){if(0===oc||3===oc||2===oc)oc=4;null===uc||0===(Be&268435455)&&0===(Mh&268435455)||Cc(uc,Bc)}function Nh(a,b){var t=Mb;Mb|=2;var G=Oj();if(uc!==a||Bc!==b)Ld=null,Ke(a,b);do try{for(;null!==ic;)Pj(ic);
break}catch(P){Qj(a,P)}while(1);Xf=de=ef=null;Mb=t;Oh.current=G;if(null!==ic)throw Error(J(261));uc=null;Bc=0;return oc}function Pj(a){var b=$k(a.alternate,a,Wc);a.memoizedProps=a.pendingProps;null===b?Rj(a):ic=b;Zi.current=null}function Rj(a){var b=a;do{var t=b.alternate;a=b.return;if(0===(b.flags&32768)){if(t=ra(t,b,Wc),null!==t){ic=t;return}}else{t=Ca(t,b);if(null!==t){t.flags&=32767;ic=t;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{oc=6;ic=null;return}}b=b.sibling;
if(null!==b){ic=b;return}ic=b=a}while(null!==b);0===oc&&(oc=5)}function Me(a,b,t){var G=Rb,P=gd.transition;try{gd.transition=null,Rb=1,al(a,b,t,G)}finally{gd.transition=P,Rb=G}return null}function al(a,b,t,G){do qf();while(null!==me);if(0!==(Mb&6))throw Error(J(327));t=a.finishedWork;var P=a.finishedLanes;if(null===t)return null;a.finishedWork=null;a.finishedLanes=0;if(t===a.current)throw Error(J(177));a.callbackNode=null;a.callbackPriority=0;var Y=t.lanes|t.childLanes;Ob(a,Y);a===uc&&(ic=uc=null,
Bc=0);0===(t.subtreeFlags&2064)&&0===(t.flags&2064)||Ph||(Ph=!0,Nj(Ng,function(){qf();return null}));Y=0!==(t.flags&15990);if(0!==(t.subtreeFlags&15990)||Y){Y=gd.transition;gd.transition=null;var na=Rb;Rb=1;var Ja=Mb;Mb|=4;Zi.current=null;Ua(a,t);Lb(t,a);xi(Ti);Lg=!!Si;Ti=Si=null;a.current=t;Qb(t,a,P);bl();Mb=Ja;Rb=na;gd.transition=Y}else a.current=t;Ph&&(Ph=!1,me=a,Qh=P);Y=a.pendingLanes;0===Y&&(le=null);jb(t.stateNode,G);Wb(a,gc());if(null!==b)for(G=a.onRecoverableError,t=0;t<b.length;t++)P=b[t],
G(P.value,{componentStack:P.stack,digest:P.digest});if(Fh)throw Fh=!1,a=Ni,Ni=null,a;0!==(Qh&1)&&0!==a.tag&&qf();Y=a.pendingLanes;0!==(Y&1)?a===Vi?vg++:(vg=0,Vi=a):vg=0;Yc();return null}function qf(){if(null!==me){var a=Tb(Qh),b=gd.transition,t=Rb;try{gd.transition=null;Rb=16>a?16:a;if(null===me)var G=!1;else{a=me;me=null;Qh=0;if(0!==(Mb&6))throw Error(J(331));var P=Mb;Mb|=4;for(vb=a.current;null!==vb;){var Y=vb,na=Y.child;if(0!==(vb.flags&16)){var Ja=Y.deletions;if(null!==Ja){for(var Qa=0;Qa<Ja.length;Qa++){var eb=
Ja[Qa];for(vb=eb;null!==vb;){var mb=vb;switch(mb.tag){case 0:case 11:case 15:Ia(8,mb,Y)}var nb=mb.child;if(null!==nb)nb.return=mb,vb=nb;else for(;null!==vb;){mb=vb;var lb=mb.sibling,tb=mb.return;Wa(mb);if(mb===eb){vb=null;break}if(null!==lb){lb.return=tb;vb=lb;break}vb=tb}}}var wb=Y.alternate;if(null!==wb){var yb=wb.child;if(null!==yb){wb.child=null;do{var ac=yb.sibling;yb.sibling=null;yb=ac}while(null!==yb)}}vb=Y}}if(0!==(Y.subtreeFlags&2064)&&null!==na)na.return=Y,vb=na;else a:for(;null!==vb;){Y=
vb;if(0!==(Y.flags&2048))switch(Y.tag){case 0:case 11:case 15:Ia(9,Y,Y.return)}var ab=Y.sibling;if(null!==ab){ab.return=Y.return;vb=ab;break a}vb=Y.return}}var Ta=a.current;for(vb=Ta;null!==vb;){na=vb;var cb=na.child;if(0!==(na.subtreeFlags&2064)&&null!==cb)cb.return=na,vb=cb;else a:for(na=Ta;null!==vb;){Ja=vb;if(0!==(Ja.flags&2048))try{switch(Ja.tag){case 0:case 11:case 15:za(9,Ja)}}catch(zb){cc(Ja,Ja.return,zb)}if(Ja===na){vb=null;break a}var pb=Ja.sibling;if(null!==pb){pb.return=Ja.return;vb=pb;
break a}vb=Ja.return}}Mb=P;Yc();if(td&&"function"===typeof td.onPostCommitFiberRoot)try{td.onPostCommitFiberRoot(Gg,a)}catch(zb){}G=!0}return G}finally{Rb=t,gd.transition=b}}return!1}function Sj(a,b,t){b=ke(t,b);b=Eh(a,b,1);a=bd(a,b,1);b=hc();null!==a&&(Hc(a,1,b),Wb(a,b))}function cc(a,b,t){if(3===a.tag)Sj(a,a,t);else for(;null!==b;){if(3===b.tag){Sj(b,a,t);break}else if(1===b.tag){var G=b.stateNode;if("function"===typeof b.type.getDerivedStateFromError||"function"===typeof G.componentDidCatch&&(null===
le||!le.has(G))){a=ke(t,a);a=Gh(b,a,1);b=bd(b,a,1);a=hc();null!==b&&(Hc(b,1,a),Wb(b,a));break}}b=b.return}}function Lk(a,b,t){var G=a.pingCache;null!==G&&G.delete(b);b=hc();a.pingedLanes|=a.suspendedLanes&t;uc===a&&(Bc&t)===t&&(4===oc||3===oc&&(Bc&130023424)===Bc&&500>gc()-Ui?Ke(a,0):Xi|=t);Wb(a,b)}function Tj(a,b){0===b&&(0===(a.mode&1)?b=1:(b=Rh,Rh<<=1,0===(Rh&130023424)&&(Rh=4194304)));var t=hc();a=md(a,b);null!==a&&(Hc(a,b,t),Wb(a,t))}function Nk(a){var b=a.memoizedState,t=0;null!==b&&(t=b.retryLane);
Tj(a,t)}function Uk(a,b){var t=0;switch(a.tag){case 13:var G=a.stateNode,P=a.memoizedState;null!==P&&(t=P.retryLane);break;case 19:G=a.stateNode;break;default:throw Error(J(314));}null!==G&&G.delete(b);Tj(a,t)}function Nj(a,b){return Fj(a,b)}function cl(a,b,t,G){this.tag=a;this.key=t;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=
G;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function ad(a,b,t,G){return new cl(a,b,t,G)}function Oi(a){a=a.prototype;return!(!a||!a.isReactComponent)}function dl(a){if("function"===typeof a)return Oi(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===gi)return 11;if(a===hi)return 14}return 2}function fe(a,b){var t=a.alternate;null===t?(t=ad(a.tag,b,a.key,a.mode),t.elementType=a.elementType,t.type=a.type,t.stateNode=a.stateNode,t.alternate=
a,a.alternate=t):(t.pendingProps=b,t.type=a.type,t.flags=0,t.subtreeFlags=0,t.deletions=null);t.flags=a.flags&14680064;t.childLanes=a.childLanes;t.lanes=a.lanes;t.child=a.child;t.memoizedProps=a.memoizedProps;t.memoizedState=a.memoizedState;t.updateQueue=a.updateQueue;b=a.dependencies;t.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};t.sibling=a.sibling;t.index=a.index;t.ref=a.ref;return t}function ph(a,b,t,G,P,Y){var na=2;G=a;if("function"===typeof a)Oi(a)&&(na=1);else if("string"===
typeof a)na=5;else a:switch(a){case Oe:return Ee(t.children,P,Y,b);case di:na=8;P|=8;break;case ci:return a=ad(12,t,b,P|2),a.elementType=ci,a.lanes=Y,a;case ei:return a=ad(13,t,b,P),a.elementType=ei,a.lanes=Y,a;case fi:return a=ad(19,t,b,P),a.elementType=fi,a.lanes=Y,a;case Uj:return Ih(t,P,Y,b);default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case oj:na=10;break a;case nj:na=9;break a;case gi:na=11;break a;case hi:na=14;break a;case Od:na=16;G=null;break a}throw Error(J(130,null==a?a:
typeof a,""));}b=ad(na,t,b,P);b.elementType=a;b.type=G;b.lanes=Y;return b}function Ee(a,b,t,G){a=ad(7,a,G,b);a.lanes=t;return a}function Ih(a,b,t,G){a=ad(22,a,G,b);a.elementType=Uj;a.lanes=t;a.stateNode={isHidden:!1};return a}function Hi(a,b,t){a=ad(6,a,null,b);a.lanes=t;return a}function Ii(a,b,t){b=ad(4,null!==a.children?a.children:[],a.key,b);b.lanes=t;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function el(a,b,t,G,P){this.tag=b;this.containerInfo=
a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=fc(0);this.expirationTimes=fc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=fc(0);this.identifierPrefix=G;this.onRecoverableError=P;this.mutableSourceEagerHydrationData=null}function $i(a,b,t,G,P,
Y,na,Ja,Qa){a=new el(a,b,t,Ja,Qa);1===b?(b=1,!0===Y&&(b|=8)):b=0;Y=ad(3,null,null,b);a.current=Y;Y.stateNode=a;Y.memoizedState={element:G,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null};Zf(Y);return a}function fl(a,b,t){var G=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Pe,key:null==G?null:""+G,children:a,containerInfo:b,implementation:t}}function Vj(a){if(!a)return Zd;a=a._reactInternals;a:{if(Ea(a)!==a||1!==a.tag)throw Error(J(170));var b=
a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(zc(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(J(171));}if(1===a.tag){var t=a.type;if(zc(t))return Rf(a,t,b)}return b}function Wj(a,b,t,G,P,Y,na,Ja,Qa){a=$i(t,G,!0,a,P,Y,na,Ja,Qa);a.context=Vj(null);t=a.current;G=hc();P=vc(t);Y=nd(G,P);Y.callback=void 0!==b&&null!==b?b:null;bd(t,Y,P);a.current.lanes=P;Hc(a,P,G);Wb(a,G);return a}function Sh(a,b,t,G){var P=b.current,
Y=hc(),na=vc(P);t=Vj(t);null===b.context?b.context=t:b.pendingContext=t;b=nd(Y,na);b.payload={element:a};G=void 0===G?null:G;null!==G&&(b.callback=G);a=bd(P,b,na);null!==a&&(bc(a,P,na,Y),ff(a,P,na));return na}function Th(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Xj(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var t=a.retryLane;a.retryLane=0!==t&&t<b?t:b}}function aj(a,b){Xj(a,b);(a=a.alternate)&&
Xj(a,b)}function gl(){return null}function bj(a){this._internalRoot=a}function Uh(a){this._internalRoot=a}function cj(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function Vh(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Yj(){}function hl(a,b,t,G,P){if(P){if("function"===typeof G){var Y=G;G=function(){var eb=Th(na);Y.call(eb)}}var na=Wj(b,G,a,0,null,!1,!1,"",Yj);a._reactRootContainer=na;a[Bd]=
na.current;vd(8===a.nodeType?a.parentNode:a);Ne();return na}for(;P=a.lastChild;)a.removeChild(P);if("function"===typeof G){var Ja=G;G=function(){var eb=Th(Qa);Ja.call(eb)}}var Qa=$i(a,0,!1,null,null,!1,!1,"",Yj);a._reactRootContainer=Qa;a[Bd]=Qa.current;vd(8===a.nodeType?a.parentNode:a);Ne(function(){Sh(b,Qa,t,G)});return Qa}function Wh(a,b,t,G,P){var Y=t._reactRootContainer;if(Y){var na=Y;if("function"===typeof P){var Ja=P;P=function(){var Qa=Th(na);Ja.call(Qa)}}Sh(b,na,a,P)}else na=hl(t,b,a,P,G);
return Th(na)}var Zj=c(2),Qc=c(5),jj=new Set,tf={},Md=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),$h=Object.prototype.hasOwnProperty,fk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
lj={},kj={},wc={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){wc[a]=new m(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];wc[b]=new m(b,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){wc[a]=new m(a,2,!1,a.toLowerCase(),null,
!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){wc[a]=new m(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){wc[a]=new m(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){wc[a]=
new m(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){wc[a]=new m(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){wc[a]=new m(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){wc[a]=new m(a,5,!1,a.toLowerCase(),null,!1,!1)});var dj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(dj,f);wc[b]=new m(b,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(dj,f);wc[b]=new m(b,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(dj,f);wc[b]=new m(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){wc[a]=new m(a,1,!1,a.toLowerCase(),null,!1,!1)});wc.xlinkHref=new m("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){wc[a]=new m(a,1,!1,a.toLowerCase(),null,!0,!0)});var Nd=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qh=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),di=Symbol.for("react.strict_mode"),ci=Symbol.for("react.profiler"),oj=Symbol.for("react.provider"),nj=Symbol.for("react.context"),gi=Symbol.for("react.forward_ref"),ei=Symbol.for("react.suspense"),
fi=Symbol.for("react.suspense_list"),hi=Symbol.for("react.memo"),Od=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Uj=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var mj=Symbol.iterator,Zb=Object.assign,ai,bi=!1,uf=Array.isArray,Xh,Jj=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,t,G,P){MSApp.execUnsafeLocalFunction(function(){return a(b,
t,G,P)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{Xh=Xh||document.createElement("div");Xh.innerHTML="\x3csvg\x3e"+b.valueOf().toString()+"\x3c/svg\x3e";for(b=Xh.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},il=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(a){il.forEach(function(b){b=
b+a.charAt(0).toUpperCase()+a.substring(1);vf[b]=vf[a]})});var gk=Zb({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),li=null,ii=null,Qe=null,Re=null,ji=!1,Ci=!1;if(Md)try{var zg={};Object.defineProperty(zg,"passive",{get:function(){Ci=!0}});window.addEventListener("test",zg,zg);window.removeEventListener("test",zg,zg)}catch(a){Ci=!1}var wf=!1,Eg=null,Fg=!1,ki=null,hk={onError:function(a){wf=!0;Eg=a}},Fj=Qc.unstable_scheduleCallback,
Lj=Qc.unstable_cancelCallback,Xk=Qc.unstable_shouldYield,bl=Qc.unstable_requestPaint,gc=Qc.unstable_now,ok=Qc.unstable_getCurrentPriorityLevel,pi=Qc.unstable_ImmediatePriority,qj=Qc.unstable_UserBlockingPriority,Ng=Qc.unstable_NormalPriority,pk=Qc.unstable_LowPriority,rj=Qc.unstable_IdlePriority,Gg=null,td=null,hd=Math.clz32?Math.clz32:rb,ik=Math.log,jk=Math.LN2,Hg=64,Rh=4194304,Rb=0,mi=!1,Kg=[],Pd=null,Qd=null,Rd=null,xf=new Map,yf=new Map,Sd=[],mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
Te=Nd.ReactCurrentBatchConfig,Lg=!0,Mg=null,Ud=null,qi=null,Pg=null,rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=yc(rf),Ag=Zb({},rf,{view:0,detail:0}),zk=yc(Ag),ej,fj,Bg,Yh=Zb({},Ag,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:te,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:
a.fromElement:a.relatedTarget},movementX:function(a){if("movementX"in a)return a.movementX;a!==Bg&&(Bg&&"mousemove"===a.type?(ej=a.screenX-Bg.screenX,fj=a.screenY-Bg.screenY):fj=ej=0,Bg=a);return ej},movementY:function(a){return"movementY"in a?a.movementY:fj}}),xj=yc(Yh),jl=Zb({},Yh,{dataTransfer:0}),vk=yc(jl),kl=Zb({},Ag,{relatedTarget:0}),Di=yc(kl),ll=Zb({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=yc(ll),ml=Zb({},rf,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:
window.clipboardData}}),Bk=yc(ml),nl=Zb({},rf,{data:0}),Ej=yc(nl),ol={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ql=Zb({},Ag,{key:function(a){if(a.key){var b=ol[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=re(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?pl[a.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:te,charCode:function(a){return"keypress"===a.type?re(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?re(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),uk=yc(ql),rl=Zb({},Yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cj=yc(rl),sl=Zb({},Ag,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:te}),wk=yc(sl),tl=Zb({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=yc(tl),ul=Zb({},Yh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ak=yc(ul),rk=[9,13,27,32],ri=Md&&"CompositionEvent"in window,Cg=null;Md&&"documentMode"in document&&(Cg=document.documentMode);
var Dk=Md&&"TextEvent"in window&&!Cg,uj=Md&&(!ri||Cg&&8<Cg&&11>=Cg),tj=String.fromCharCode(32),sj=!1,Ve=!1,sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Jf=null,Kf=null,Dj=!1;if(Md){if(Md){var gj="oninput"in document;if(!gj){var ak=document.createElement("div");ak.setAttribute("oninput","return;");gj="function"===typeof ak.oninput}var bk=gj}else bk=!1;Dj=bk&&(!document.documentMode||9<document.documentMode)}var id=
"function"===typeof Object.is?Object.is:wi,Ck=Md&&"documentMode"in document&&11>=document.documentMode,Ye=null,zi=null,Of=null,yi=!1,Ze={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},Ai={},vj={};Md&&(vj=document.createElement("div").style,"AnimationEvent"in window||(delete Ze.animationend.animation,delete Ze.animationiteration.animation,delete Ze.animationstart.animation),
"TransitionEvent"in window||delete Ze.transitionend.transition);for(var yj=Ub("animationend"),zj=Ub("animationiteration"),Aj=Ub("animationstart"),Bj=Ub("transitionend"),wj=new Map,ck="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
hj=0;hj<ck.length;hj++){var ij=ck[hj],vl=ij.toLowerCase(),wl=ij[0].toUpperCase()+ij.slice(1);kc(vl,"on"+wl)}kc(yj,"onAnimationEnd");kc(zj,"onAnimationIteration");kc(Aj,"onAnimationStart");kc("dblclick","onDoubleClick");kc("focusin","onFocus");kc("focusout","onBlur");kc(Bj,"onTransitionEnd");E("onMouseEnter",["mouseout","mouseover"]);E("onMouseLeave",["mouseout","mouseover"]);E("onPointerEnter",["pointerout","pointerover"]);E("onPointerLeave",["pointerout","pointerover"]);K("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
K("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));K("onBeforeInput",["compositionend","keypress","textInput","paste"]);K("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));K("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));K("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
tk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug)),Vg="_reactListening"+Math.random().toString(36).slice(2),Ek=/\r\n?/g,Fk=/\u0000|\uFFFD/g,Si=null,Ti=null,Wi="function"===typeof setTimeout?setTimeout:void 0,Zk="function"===typeof clearTimeout?clearTimeout:void 0,dk="function"===typeof Promise?Promise:void 0,Wk="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dk?function(a){return dk.resolve(null).then(a).catch(Ei)}:Wi,sf=Math.random().toString(36).slice(2),
xd="__reactFiber$"+sf,Qf="__reactProps$"+sf,Bd="__reactContainer$"+sf,Bi="__reactEvents$"+sf,Rk="__reactListeners$"+sf,Sk="__reactHandles$"+sf,Fi=[],bf=-1,Zd={},Ec=Eb(Zd),Mc=Eb(!1),xe=Zd,Fd=null,ah=!1,Gi=!1,cf=[],df=0,ch=null,bh=0,Zc=[],$c=0,ye=null,Hd=1,Id="",Sc=null,Tc=null,Yb=!1,ld=null,Vk=Nd.ReactCurrentBatchConfig,hh=Eb(null),ef=null,de=null,Xf=null,Ae=null,ee=!1,Gj=(new Zj.Component).refs,nh={isMounted:function(a){return(a=a._reactInternals)?Ea(a)===a:!1},enqueueSetState:function(a,b,t){a=a._reactInternals;
var G=hc(),P=vc(a),Y=nd(G,P);Y.payload=b;void 0!==t&&null!==t&&(Y.callback=t);b=bd(a,Y,P);null!==b&&(bc(b,a,P,G),ff(b,a,P))},enqueueReplaceState:function(a,b,t){a=a._reactInternals;var G=hc(),P=vc(a),Y=nd(G,P);Y.tag=1;Y.payload=b;void 0!==t&&null!==t&&(Y.callback=t);b=bd(a,Y,P);null!==b&&(bc(b,a,P,G),ff(b,a,P))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var t=hc(),G=vc(a),P=nd(t,G);P.tag=2;void 0!==b&&null!==b&&(P.callback=b);b=bd(a,P,G);null!==b&&(bc(b,a,G,t),ff(b,a,G))}},nf=oh(!0),Hj=
oh(!1),bg={},yd=Eb(bg),dg=Eb(bg),cg=Eb(bg),$b=Eb(0),Ji=[],rh=Nd.ReactCurrentDispatcher,Li=Nd.ReactCurrentBatchConfig,Fe=0,Vb=null,nc=null,tc=null,th=!1,ig=!1,jg=0,xl=0,sh={readContext:lc,useCallback:sc,useContext:sc,useEffect:sc,useImperativeHandle:sc,useInsertionEffect:sc,useLayoutEffect:sc,useMemo:sc,useReducer:sc,useRef:sc,useState:sc,useDebugValue:sc,useDeferredValue:sc,useTransition:sc,useMutableSource:sc,useSyncExternalStore:sc,useId:sc,unstable_isNewReconciler:!1},Hk={readContext:lc,useCallback:function(a,
b){dd().memoizedState=[a,void 0===b?null:b];return a},useContext:lc,useEffect:lf,useImperativeHandle:function(a,b,t){t=null!==t&&void 0!==t?t.concat([a]):null;return Je(4194308,4,og.bind(null,b,a),t)},useLayoutEffect:function(a,b){return Je(4194308,4,a,b)},useInsertionEffect:function(a,b){return Je(4,2,a,b)},useMemo:function(a,b){var t=dd();b=void 0===b?null:b;a=a();t.memoizedState=[a,b];return a},useReducer:function(a,b,t){var G=dd();b=void 0!==t?t(b):b;G.memoizedState=G.baseState=b;a={pending:null,
interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};G.queue=a;a=a.dispatch=Mi.bind(null,Vb,a);return[G.memoizedState,a]},useRef:function(a){var b=dd();a={current:a};return b.memoizedState=a},useState:yh,useDebugValue:mf,useDeferredValue:function(a){return dd().memoizedState=a},useTransition:function(){var a=yh(!1),b=a[0];a=Ah.bind(null,a[1]);dd().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,t){var G=Vb,P=dd();if(Yb){if(void 0===
t)throw Error(J(407));t=t()}else{t=b();if(null===uc)throw Error(J(349));0!==(Fe&30)||he(G,b,t)}P.memoizedState=t;var Y={value:t,getSnapshot:b};P.queue=Y;lf(vh.bind(null,G,Y,a),[a]);G.flags|=2048;Ie(9,pd.bind(null,G,Y,t,b),void 0,null);return t},useId:function(){var a=dd(),b=uc.identifierPrefix;if(Yb){var t=Id,G=Hd;t=(G&~(1<<32-hd(G)-1)).toString(32)+t;b=":"+b+"R"+t;t=jg++;0<t&&(b+="H"+t.toString(32));b+=":"}else t=xl++,b=":"+b+"r"+t.toString(32)+":";return a.memoizedState=b},unstable_isNewReconciler:!1},
Ik={readContext:lc,useCallback:ed,useContext:lc,useEffect:kf,useImperativeHandle:pg,useInsertionEffect:mg,useLayoutEffect:ng,useMemo:zh,useReducer:Oc,useRef:ie,useState:function(){return Oc(Ge)},useDebugValue:mf,useDeferredValue:function(a){var b=Fc();return qg(b,nc.memoizedState,a)},useTransition:function(){var a=Oc(Ge)[0],b=Fc().memoizedState;return[a,b]},useMutableSource:uh,useSyncExternalStore:lg,useId:Bh,unstable_isNewReconciler:!1},Jk={readContext:lc,useCallback:ed,useContext:lc,useEffect:kf,
useImperativeHandle:pg,useInsertionEffect:mg,useLayoutEffect:ng,useMemo:zh,useReducer:He,useRef:ie,useState:function(){return He(Ge)},useDebugValue:mf,useDeferredValue:function(a){var b=Fc();return null===nc?b.memoizedState=a:qg(b,nc.memoizedState,a)},useTransition:function(){var a=He(Ge)[0],b=Fc().memoizedState;return[a,b]},useMutableSource:uh,useSyncExternalStore:lg,useId:Bh,unstable_isNewReconciler:!1},Kk="function"===typeof WeakMap?WeakMap:Map,Mk=Nd.ReactCurrentOwner,Nc=!1,Pi={dehydrated:null,
treeContext:null,retryLane:0};var Pk=function(a,b){for(var t=b.child;null!==t;){if(5===t.tag||6===t.tag)a.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t;t=t.child;continue}if(t===b)break;for(;null===t.sibling;){if(null===t.return||t.return===b)return;t=t.return}t.sibling.return=t.return;t=t.sibling}};var Ij=function(){};var Ok=function(a,b,t,G){var P=a.memoizedProps;if(P!==G){a=b.stateNode;cd(yd.current);var Y=null;switch(t){case "input":P=A(a,P);G=A(a,G);Y=[];break;
case "select":P=Zb({},P,{value:void 0});G=Zb({},G,{value:void 0});Y=[];break;case "textarea":P=S(a,P);G=S(a,G);Y=[];break;default:"function"!==typeof P.onClick&&"function"===typeof G.onClick&&(a.onclick=Yd)}va(t,G);var na;t=null;for(eb in P)if(!G.hasOwnProperty(eb)&&P.hasOwnProperty(eb)&&null!=P[eb])if("style"===eb){var Ja=P[eb];for(na in Ja)Ja.hasOwnProperty(na)&&(t||(t={}),t[na]="")}else"dangerouslySetInnerHTML"!==eb&&"children"!==eb&&"suppressContentEditableWarning"!==eb&&"suppressHydrationWarning"!==
eb&&"autoFocus"!==eb&&(tf.hasOwnProperty(eb)?Y||(Y=[]):(Y=Y||[]).push(eb,null));for(eb in G){var Qa=G[eb];Ja=null!=P?P[eb]:void 0;if(G.hasOwnProperty(eb)&&Qa!==Ja&&(null!=Qa||null!=Ja))if("style"===eb)if(Ja){for(na in Ja)!Ja.hasOwnProperty(na)||Qa&&Qa.hasOwnProperty(na)||(t||(t={}),t[na]="");for(na in Qa)Qa.hasOwnProperty(na)&&Ja[na]!==Qa[na]&&(t||(t={}),t[na]=Qa[na])}else t||(Y||(Y=[]),Y.push(eb,t)),t=Qa;else"dangerouslySetInnerHTML"===eb?(Qa=Qa?Qa.__html:void 0,Ja=Ja?Ja.__html:void 0,null!=Qa&&
Ja!==Qa&&(Y=Y||[]).push(eb,Qa)):"children"===eb?"string"!==typeof Qa&&"number"!==typeof Qa||(Y=Y||[]).push(eb,""+Qa):"suppressContentEditableWarning"!==eb&&"suppressHydrationWarning"!==eb&&(tf.hasOwnProperty(eb)?(null!=Qa&&"onScroll"===eb&&Sb("scroll",a),Y||Ja===Qa||(Y=[])):(Y=Y||[]).push(eb,Qa))}t&&(Y=Y||[]).push("style",t);var eb;if(b.updateQueue=Y)b.flags|=4}};var Qk=function(a,b,t,G){t!==G&&(b.flags|=4)};var Jh=!1,Gc=!1,Tk="function"===typeof WeakSet?WeakSet:Set,vb=null,Kj=!1,Ac=null,qd=!1,Yk=
Math.ceil,Oh=Nd.ReactCurrentDispatcher,Zi=Nd.ReactCurrentOwner,gd=Nd.ReactCurrentBatchConfig,Mb=0,uc=null,ic=null,Bc=0,Wc=0,of=Eb(0),oc=0,xg=null,Be=0,Mh=0,Xi=0,yg=null,Pc=null,Ui=0,pf=Infinity,Ld=null,Fh=!1,Ni=null,le=null,Ph=!1,me=null,Qh=0,vg=0,Vi=null,Kh=-1,Lh=0;var $k=function(a,b,t){if(null!==a)if(a.memoizedProps!==b.pendingProps||Mc.current)Nc=!0;else{if(0===(a.lanes&t)&&0===(b.flags&128))return Nc=!1,Ga(a,b,t);Nc=0!==(a.flags&131072)?!0:!1}else Nc=!1,Yb&&0!==(b.flags&1048576)&&dh(b,bh,b.index);
b.lanes=0;switch(b.tag){case 2:var G=b.type;ma(a,b);a=b.pendingProps;var P=Cd(b,Ec.current);ce(b,t);P=hg(null,b,G,a,P,t);var Y=kg();b.flags|=1;"object"===typeof P&&null!==P&&"function"===typeof P.render&&void 0===P.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=null,zc(G)?(Y=!0,Ed(b)):Y=!1,b.memoizedState=null!==P.state&&void 0!==P.state?P.state:null,Zf(b),P.updater=nh,b.stateNode=P,P._reactInternals=b,ag(b,G,a,t),b=oa(null,b,G,!0,Y,t)):(b.tag=0,Yb&&Y&&Sf(b),H(null,b,P,t),b=b.child);return b;
case 16:G=b.elementType;a:{ma(a,b);a=b.pendingProps;P=G._init;G=P(G._payload);b.type=G;P=b.tag=dl(G);a=Uc(G,a);switch(P){case 0:b=qa(null,b,G,a,t);break a;case 1:b=pa(null,b,G,a,t);break a;case 11:b=U(null,b,G,a,t);break a;case 14:b=R(null,b,G,Uc(G.type,a),t);break a}throw Error(J(306,G,""));}return b;case 0:return G=b.type,P=b.pendingProps,P=b.elementType===G?P:Uc(G,P),qa(a,b,G,P,t);case 1:return G=b.type,P=b.pendingProps,P=b.elementType===G?P:Uc(G,P),pa(a,b,G,P,t);case 3:a:{xa(b);if(null===a)throw Error(J(387));
G=b.pendingProps;Y=b.memoizedState;P=Y.element;jh(a,b);gf(b,G,null,t);var na=b.memoizedState;G=na.element;if(Y.isDehydrated)if(Y={element:G,isDehydrated:!1,cache:na.cache,pendingSuspenseBoundaries:na.pendingSuspenseBoundaries,transitions:na.transitions},b.updateQueue.baseState=Y,b.memoizedState=Y,b.flags&256){P=ke(Error(J(423)),b);kd();be(P);b.flags|=256;H(a,b,G,t);b=b.child;break a}else if(G!==P){P=ke(Error(J(424)),b);kd();be(P);b.flags|=256;H(a,b,G,t);b=b.child;break a}else for(Tc=Dc(b.stateNode.containerInfo.firstChild),
Sc=b,Yb=!0,ld=null,t=Hj(b,null,G,t),b.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{kd();if(G===P){b=fa(a,b,t);break a}H(a,b,G,t)}b=b.child}return b;case 5:return eg(b),null===a&&Uf(b),G=b.type,P=b.pendingProps,Y=null!==a?a.memoizedProps:null,na=P.children,we(G,P)?na=null:null!==Y&&we(G,Y)&&(b.flags|=32),ja(a,b),H(a,b,na,t),b.child;case 6:return null===a&&Uf(b),null;case 13:return Na(a,b,t);case 4:return hf(b,b.stateNode.containerInfo),G=b.pendingProps,null===a?b.child=nf(b,null,G,t):H(a,b,
G,t),b.child;case 11:return G=b.type,P=b.pendingProps,P=b.elementType===G?P:Uc(G,P),U(a,b,G,P,t);case 7:return H(a,b,b.pendingProps,t),b.child;case 8:return H(a,b,b.pendingProps.children,t),b.child;case 12:return H(a,b,b.pendingProps.children,t),b.child;case 10:a:{G=b.type._context;P=b.pendingProps;Y=b.memoizedProps;na=P.value;Jb(hh,G._currentValue);G._currentValue=na;if(null!==Y)if(id(Y.value,na)){if(Y.children===P.children&&!Mc.current){b=fa(a,b,t);break a}}else for(Y=b.child,null!==Y&&(Y.return=
b);null!==Y;){var Ja=Y.dependencies;if(null!==Ja){na=Y.child;for(var Qa=Ja.firstContext;null!==Qa;){if(Qa.context===G){if(1===Y.tag){Qa=nd(-1,t&-t);Qa.tag=2;var eb=Y.updateQueue;if(null!==eb){eb=eb.shared;var mb=eb.pending;null===mb?Qa.next=Qa:(Qa.next=mb.next,mb.next=Qa);eb.pending=Qa}}Y.lanes|=t;Qa=Y.alternate;null!==Qa&&(Qa.lanes|=t);Wf(Y.return,t,b);Ja.lanes|=t;break}Qa=Qa.next}}else if(10===Y.tag)na=Y.type===b.type?null:Y.child;else if(18===Y.tag){na=Y.return;if(null===na)throw Error(J(341));
na.lanes|=t;Ja=na.alternate;null!==Ja&&(Ja.lanes|=t);Wf(na,t,b);na=Y.sibling}else na=Y.child;if(null!==na)na.return=Y;else for(na=Y;null!==na;){if(na===b){na=null;break}Y=na.sibling;if(null!==Y){Y.return=na.return;na=Y;break}na=na.return}Y=na}H(a,b,P.children,t);b=b.child}return b;case 9:return P=b.type,G=b.pendingProps.children,ce(b,t),P=lc(P),G=G(P),b.flags|=1,H(a,b,G,t),b.child;case 14:return G=b.type,P=Uc(G,b.pendingProps),P=Uc(G.type,P),R(a,b,G,P,t);case 15:return ha(a,b,b.type,b.pendingProps,
t);case 17:return G=b.type,P=b.pendingProps,P=b.elementType===G?P:Uc(G,P),ma(a,b),b.tag=1,zc(G)?(a=!0,Ed(b)):a=!1,ce(b,t),mh(b,G,P),ag(b,G,P,t),oa(null,b,G,!0,a,t);case 19:return aa(a,b,t);case 22:return da(a,b,t)}throw Error(J(156,b.tag));};var ek="function"===typeof reportError?reportError:function(a){console.error(a)};Uh.prototype.render=bj.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(J(409));Sh(a,b,null,null)};Uh.prototype.unmount=bj.prototype.unmount=function(){var a=
this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Ne(function(){Sh(null,a,null,null)});b[Bd]=null}};Uh.prototype.unstable_scheduleHydration=function(a){if(a){var b=yl();a={blockedOn:null,target:a,priority:b};for(var t=0;t<Sd.length&&0!==b&&b<Sd[t].priority;t++);Sd.splice(t,0,a);0===t&&Ig(a)}};var nk=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var t=xb(b.pendingLanes);0!==t&&(Xb(b,t|1),Wb(b,gc()),0===(Mb&6)&&(pf=gc()+500,Yc()))}break;
case 13:Ne(function(){var G=md(a,1);if(null!==G){var P=hc();bc(G,a,1,P)}}),aj(a,1)}};var pj=function(a){if(13===a.tag){var b=md(a,134217728);if(null!==b){var t=hc();bc(b,a,134217728,t)}aj(a,134217728)}};var lk=function(a){if(13===a.tag){var b=vc(a),t=md(a,b);if(null!==t){var G=hc();bc(t,a,b,G)}aj(a,b)}};var yl=function(){return Rb};var kk=function(a,b){var t=Rb;try{return Rb=a,b()}finally{Rb=t}};ii=function(a,b,t){switch(b){case "input":F(a,t);b=t.name;if("radio"===t.type&&null!=b){for(t=a;t.parentNode;)t=
t.parentNode;t=t.querySelectorAll("input[name\x3d"+JSON.stringify(""+b)+'][type\x3d"radio"]');for(b=0;b<t.length;b++){var G=t[b];if(G!==a&&G.form===a.form){var P=sd(G);if(!P)throw Error(J(90));w(G);F(G,P)}}}break;case "textarea":ca(a,t);break;case "select":b=t.value,null!=b&&Q(a,!!t.multiple,b,!1)}};db=Yi;sb=Ne;var zl={usingClientEntryPoint:!1,Events:[rd,Ad,sd,gb,qb,Yi]},Dg={findFiberByHostInstance:Xc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Al={bundleType:Dg.bundleType,version:Dg.version,
rendererPackageName:Dg.rendererPackageName,rendererConfig:Dg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nd.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Ra(a);return null===a?null:a.stateNode},findFiberByHostInstance:Dg.findFiberByHostInstance||gl,findHostInstancesForRefresh:null,
scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{Gg=Zh.inject(Al),td=Zh}catch(a){}}N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zl;N.createPortal=function(a,b){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!cj(b))throw Error(J(200));return fl(a,b,null,
t)};N.createRoot=function(a,b){if(!cj(a))throw Error(J(299));var t=!1,G="",P=ek;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(t=!0),void 0!==b.identifierPrefix&&(G=b.identifierPrefix),void 0!==b.onRecoverableError&&(P=b.onRecoverableError));b=$i(a,1,!1,null,null,t,!1,G,P);a[Bd]=b.current;vd(8===a.nodeType?a.parentNode:a);return new bj(b)};N.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if("function"===typeof a.render)throw Error(J(188));
a=Object.keys(a).join(",");throw Error(J(268,a));}a=Ra(b);return a=null===a?null:a.stateNode};N.flushSync=function(a){return Ne(a)};N.hydrate=function(a,b,t){if(!Vh(b))throw Error(J(200));return Wh(null,a,b,!0,t)};N.hydrateRoot=function(a,b,t){if(!cj(a))throw Error(J(405));var G=null!=t&&t.hydratedSources||null,P=!1,Y="",na=ek;null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(P=!0),void 0!==t.identifierPrefix&&(Y=t.identifierPrefix),void 0!==t.onRecoverableError&&(na=t.onRecoverableError));b=Wj(b,
null,a,1,null!=t?t:null,P,!1,Y,na);a[Bd]=b.current;vd(a);if(G)for(a=0;a<G.length;a++)t=G[a],P=t._getVersion,P=P(t._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[t,P]:b.mutableSourceEagerHydrationData.push(t,P);return new Uh(b)};N.render=function(a,b,t){if(!Vh(b))throw Error(J(200));return Wh(null,a,b,!1,t)};N.unmountComponentAtNode=function(a){if(!Vh(a))throw Error(J(40));return a._reactRootContainer?(Ne(function(){Wh(null,null,a,!1,function(){a._reactRootContainer=
null;a[Bd]=null})}),!0):!1};N.unstable_batchedUpdates=Yi;N.unstable_renderSubtreeIntoContainer=function(a,b,t,G){if(!Vh(t))throw Error(J(200));if(null==a||void 0===a._reactInternals)throw Error(J(38));return Wh(a,b,t,!1,G)};N.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(X,c,Z,N){function J(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J)}catch(K){console.error(K)}}J();Z.exports=c(6)};
shadow$provide[9]=function(X,c,Z,N){function J(u){u.stopPropagation()}function K(u){u.preventDefault()}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}},preventDefault:{enumerable:!0,get:function(){return K}},stopPropagation:{enumerable:!0,get:function(){return J}}});class E{constructor(u){this.propagationStopped;this.defaultPrevented;this.type=u;this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=
!0}}const C=E};
shadow$provide[10]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={PROPERTYCHANGE:"propertychange"}};
shadow$provide[11]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});class J{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const K=J};
shadow$provide[12]=function(X,c,Z,N){function J(d,g,h){let k,n;h=h||K;let r=0,x=d.length,D=!1;for(;r<x;)k=r+(x-r>>1),n=+h(d[k],g),0>n?r=k+1:(x=k,D=!n);return D?r:~r}function K(d,g){return d>g?1:d<g?-1:0}function E(d,g){return d<g?1:d>g?-1:0}function C(d,g,h){if(d[0]<=g)return 0;const k=d.length;if(g<=d[k-1])return k-1;if("function"===typeof h){for(let n=1;n<k;++n){const r=d[n];if(r===g)return n;if(r<g)return 0<h(g,d[n-1],r)?n-1:n}return k-1}if(0<h){for(h=1;h<k;++h)if(d[h]<g)return h-1;return k-1}if(0>
h){for(h=1;h<k;++h)if(d[h]<=g)return h;return k-1}for(h=1;h<k;++h){if(d[h]==g)return h;if(d[h]<g)return d[h-1]-g<g-d[h]?h-1:h}return k-1}function u(d,g,h){for(;g<h;){const k=d[g];d[g]=d[h];d[h]=k;++g;--h}}function p(d,g){g=Array.isArray(g)?g:[g];const h=g.length;for(let k=0;k<h;k++)d[d.length]=g[k]}function m(d,g){g=d.indexOf(g);const h=-1<g;h&&d.splice(g,1);return h}function f(d,g){const h=d.length;if(h!==g.length)return!1;for(let k=0;k<h;k++)if(d[k]!==g[k])return!1;return!0}function l(d,g){const h=
d.length,k=Array(d.length);let n;for(n=0;n<h;n++)k[n]={index:n,value:d[n]};k.sort(function(r,x){return g(r.value,x.value)||r.index-x.index});for(n=0;n<d.length;n++)d[n]=k[n].value}function e(d,g,h){const k=g||K;return d.every(function(n,r){if(0===r)return!0;n=k(d[r-1],n);return!(0<n||h&&0===n)})}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ascending:{enumerable:!0,get:function(){return K}},binarySearch:{enumerable:!0,get:function(){return J}},descending:{enumerable:!0,get:function(){return E}},
equals:{enumerable:!0,get:function(){return f}},extend:{enumerable:!0,get:function(){return p}},isSorted:{enumerable:!0,get:function(){return e}},linearFindNearest:{enumerable:!0,get:function(){return C}},remove:{enumerable:!0,get:function(){return m}},reverseSubArray:{enumerable:!0,get:function(){return u}},stableSort:{enumerable:!0,get:function(){return l}}})};
shadow$provide[13]=function(X,c,Z,N){function J(){return!0}function K(){return!1}function E(){}function C(m){let f=!1,l,e,d;return function(){const g=Array.prototype.slice.call(arguments);f&&this===d&&(0,p.equals)(g,e)||(f=!0,d=this,e=g,l=m.apply(this,arguments));return l}}function u(m){a:{let f;try{f=m()}catch(l){m=Promise.reject(l);break a}m=f instanceof Promise?f:Promise.resolve(f)}return m}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},FALSE:{enumerable:!0,get:function(){return K}},
TRUE:{enumerable:!0,get:function(){return J}},VOID:{enumerable:!0,get:function(){return E}},memoizeOne:{enumerable:!0,get:function(){return C}},toPromise:{enumerable:!0,get:function(){return u}}});var p=c(12)};
shadow$provide[14]=function(X,c,Z,N){function J(E){for(const C in E)delete E[C]}function K(E){let C;for(C in E)return!1;return!C}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},clear:{enumerable:!0,get:function(){return J}},isEmpty:{enumerable:!0,get:function(){return K}}})};
shadow$provide[15]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});Z=c(11);X=c(9);var J=c(13),K=c(14);Z=c.esmDefault(Z);var E=c.esmDefault(X);class C extends Z.default{constructor(p){super();this.eventTarget_=p;this.listeners_=this.dispatching_=this.pendingRemovals_=null}addEventListener(p,m){if(p&&m){var f=this.listeners_||(this.listeners_={});p=f[p]||(f[p]=[]);p.includes(m)||p.push(m)}}dispatchEvent(p){var m="string"===
typeof p;const f=m?p:p.type;var l=this.listeners_&&this.listeners_[f];if(l){var e=m?new E.default(p):p;e.target||(e.target=this.eventTarget_||this);p=this.dispatching_||(this.dispatching_={});m=this.pendingRemovals_||(this.pendingRemovals_={});f in p||(p[f]=0,m[f]=0);++p[f];for(let g=0,h=l.length;g<h;++g){var d="handleEvent"in l[g]?l[g].handleEvent(e):l[g].call(this,e);if(!1===d||e.propagationStopped){d=!1;break}}if(0===--p[f]){l=m[f];for(delete m[f];l--;)this.removeEventListener(f,J.VOID);delete p[f]}return d}}disposeInternal(){this.listeners_&&
(0,K.clear)(this.listeners_)}getListeners(p){return this.listeners_&&this.listeners_[p]||void 0}hasListener(p){return this.listeners_?p?p in this.listeners_:0<Object.keys(this.listeners_).length:!1}removeEventListener(p,m){const f=this.listeners_&&this.listeners_[p];f&&(m=f.indexOf(m),-1!==m&&(this.pendingRemovals_&&p in this.pendingRemovals_?(f[m]=J.VOID,++this.pendingRemovals_[p]):(f.splice(m,1),0===f.length&&delete this.listeners_[p])))}}const u=C};
shadow$provide[16]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[17]=function(X,c,Z,N){function J(u,p,m,f,l){f&&f!==u&&(m=m.bind(f));if(l){const e=m;m=function(){u.removeEventListener(p,m);e.apply(this,arguments)}}f={target:u,type:p,listener:m};u.addEventListener(p,m);return f}function K(u,p,m,f){return J(u,p,m,f,!0)}function E(u){u&&u.target&&(u.target.removeEventListener(u.type,u.listener),(0,C.clear)(u))}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},listen:{enumerable:!0,get:function(){return J}},listenOnce:{enumerable:!0,get:function(){return K}},
unlistenByKey:{enumerable:!0,get:function(){return E}}});var C=c(14)};
shadow$provide[18]=function(X,c,Z,N){function J(p){if(Array.isArray(p))for(let m=0,f=p.length;m<f;++m)(0,K.unlistenByKey)(p[m]);else(0,K.unlistenByKey)(p)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}},unByKey:{enumerable:!0,get:function(){return J}}});Z=c(15);X=c(16);var K=c(17);Z=c.esmDefault(Z);var E=c.esmDefault(X);class C extends Z.default{constructor(){super();this.on=this.onInternal;this.once=this.onceInternal;this.un=this.unInternal;
this.revision_=0}changed(){++this.revision_;this.dispatchEvent(E.default.CHANGE)}getRevision(){return this.revision_}onInternal(p,m){if(Array.isArray(p)){const f=p.length,l=Array(f);for(let e=0;e<f;++e)l[e]=(0,K.listen)(this,p[e],m);return l}return(0,K.listen)(this,p,m)}onceInternal(p,m){let f;if(Array.isArray(p)){const l=p.length;f=Array(l);for(let e=0;e<l;++e)f[e]=(0,K.listenOnce)(this,p[e],m)}else f=(0,K.listenOnce)(this,p,m);return m.ol_key=f}unInternal(p,m){const f=m.ol_key;if(f)J(f);else if(Array.isArray(p))for(let l=
0,e=p.length;l<e;++l)this.removeEventListener(p[l],m);else this.removeEventListener(p,m)}}C.prototype.on;C.prototype.once;C.prototype.un;const u=C};
shadow$provide[19]=function(X,c,Z,N){function J(){throw Error("Unimplemented abstract method.");}function K(C){return C.ol_uid||(C.ol_uid=String(++E))}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},VERSION:{enumerable:!0,get:function(){return"8.1.0"}},abstract:{enumerable:!0,get:function(){return J}},getUid:{enumerable:!0,get:function(){return K}}});let E=0};
shadow$provide[20]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ObjectEvent:{enumerable:!0,get:function(){return C}},default:{enumerable:!0,get:function(){return p}}});Z=c(9);N=c(10);X=c(18);var J=c(19),K=c(14),E=c.esmDefault(N);Z=c.esmDefault(Z);c=c.esmDefault(X);class C extends Z.default{constructor(m,f,l){super(m);this.key=f;this.oldValue=l}}class u extends c.default{constructor(m){super();this.on;this.once;this.un;(0,J.getUid)(this);this.values_=null;void 0!==
m&&this.setProperties(m)}get(m){let f;this.values_&&this.values_.hasOwnProperty(m)&&(f=this.values_[m]);return f}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(m,f){let l;l=`change:${m}`;this.hasListener(l)&&this.dispatchEvent(new C(l,m,f));l=E.default.PROPERTYCHANGE;this.hasListener(l)&&this.dispatchEvent(new C(l,m,f))}addChangeListener(m,
f){this.addEventListener(`change:${m}`,f)}removeChangeListener(m,f){this.removeEventListener(`change:${m}`,f)}set(m,f,l){const e=this.values_||(this.values_={});l?e[m]=f:(l=e[m],e[m]=f,l!==f&&this.notify(m,l))}setProperties(m,f){for(const l in m)this.set(l,m[l],f)}applyProperties(m){m.values_&&Object.assign(this.values_||(this.values_={}),m.values_)}unset(m,f){if(this.values_&&m in this.values_){const l=this.values_[m];delete this.values_[m];(0,K.isEmpty)(this.values_)&&(this.values_=null);f||this.notify(m,
l)}}}const p=u};
shadow$provide[21]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={ADD:"add",REMOVE:"remove"}};
shadow$provide[22]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},CollectionEvent:{enumerable:!0,get:function(){return K}},default:{enumerable:!0,get:function(){return C}}});N=c(20);X=c(21);Z=c(9);N=c.esmDefault(N);var J=c.esmDefault(X);c=c.esmDefault(Z);class K extends c.default{constructor(u,p,m){super(u);this.element=p;this.index=m}}class E extends N.default{constructor(u,p){super();this.on;this.once;this.un;p=p||{};this.unique_=!!p.unique;this.array_=u?u:[];if(this.unique_)for(let m=
0,f=this.array_.length;m<f;++m)this.assertUnique_(this.array_[m],m);this.updateLength_()}clear(){for(;0<this.getLength();)this.pop()}extend(u){for(let p=0,m=u.length;p<m;++p)this.push(u[p]);return this}forEach(u){const p=this.array_;for(let m=0,f=p.length;m<f;++m)u(p[m],m,p)}getArray(){return this.array_}item(u){return this.array_[u]}getLength(){return this.get("length")}insertAt(u,p){if(0>u||u>this.getLength())throw Error("Index out of bounds: "+u);this.unique_&&this.assertUnique_(p);this.array_.splice(u,
0,p);this.updateLength_();this.dispatchEvent(new K(J.default.ADD,p,u))}pop(){return this.removeAt(this.getLength()-1)}push(u){this.unique_&&this.assertUnique_(u);const p=this.getLength();this.insertAt(p,u);return this.getLength()}remove(u){const p=this.array_;for(let m=0,f=p.length;m<f;++m)if(p[m]===u)return this.removeAt(m)}removeAt(u){if(!(0>u||u>=this.getLength())){var p=this.array_[u];this.array_.splice(u,1);this.updateLength_();this.dispatchEvent(new K(J.default.REMOVE,p,u));return p}}setAt(u,
p){var m=this.getLength();if(u>=m)this.insertAt(u,p);else{if(0>u)throw Error("Index out of bounds: "+u);this.unique_&&this.assertUnique_(p,u);m=this.array_[u];this.array_[u]=p;this.dispatchEvent(new K(J.default.REMOVE,m,u));this.dispatchEvent(new K(J.default.ADD,p,u))}}updateLength_(){this.set("length",this.array_.length)}assertUnique_(u,p){for(let m=0,f=this.array_.length;m<f;++m)if(this.array_[m]===u&&m!==p)throw Error("Duplicate item added to a unique collection");}}const C=E};
shadow$provide[23]=function(X,c,Z,N){function J(K,E){if(!K)throw Error(E);}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},assert:{enumerable:!0,get:function(){return J}}})};
shadow$provide[24]=function(X,c,Z,N){function J(m){if("function"===typeof m)return m;let f;Array.isArray(m)?f=m:((0,K.assert)("function"===typeof m.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),f=[m]);return function(){return f}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createStyleFunction:{enumerable:!0,get:function(){return J}},default:{enumerable:!0,get:function(){return p}}});Z=c(20);X=c(16);var K=c(23),E=c(17);Z=c.esmDefault(Z);var C=c.esmDefault(X);
class u extends Z.default{constructor(m){super();this.on;this.once;this.un;this.id_=void 0;this.geometryName_="geometry";this.style_=null;this.styleFunction_=void 0;this.geometryChangeKey_=null;this.addChangeListener(this.geometryName_,this.handleGeometryChanged_);m&&("function"===typeof m.getSimplifiedGeometry?this.setGeometry(m):this.setProperties(m))}clone(){const m=new u(this.hasProperties()?this.getProperties():null);m.setGeometryName(this.getGeometryName());var f=this.getGeometry();f&&m.setGeometry(f.clone());
(f=this.getStyle())&&m.setStyle(f);return m}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,E.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);const m=this.getGeometry();m&&(this.geometryChangeKey_=(0,E.listen)(m,C.default.CHANGE,this.handleGeometryChange_,
this));this.changed()}setGeometry(m){this.set(this.geometryName_,m)}setStyle(m){this.styleFunction_=(this.style_=m)?J(m):void 0;this.changed()}setId(m){this.id_=m;this.changed()}setGeometryName(m){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_);this.geometryName_=m;this.addChangeListener(this.geometryName_,this.handleGeometryChanged_);this.handleGeometryChanged_()}}const p=u};
shadow$provide[25]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},CREATE_IMAGE_BITMAP:{enumerable:!0,get:function(){return l}},DEVICE_PIXEL_RATIO:{enumerable:!0,get:function(){return p}},FIREFOX:{enumerable:!0,get:function(){return J}},IMAGE_DECODE:{enumerable:!0,get:function(){return f}},MAC:{enumerable:!0,get:function(){return u}},PASSIVE_EVENT_LISTENERS:{enumerable:!0,get:function(){return e}},SAFARI:{enumerable:!0,get:function(){return K}},SAFARI_BUG_237906:{enumerable:!0,
get:function(){return E}},WEBKIT:{enumerable:!0,get:function(){return C}},WORKER_OFFSCREEN_CANVAS:{enumerable:!0,get:function(){return m}}});X="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";const J=X.includes("firefox"),K=X.includes("safari")&&!X.includes("chrom"),E=K&&(X.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(X)),C=X.includes("webkit")&&!X.includes("edge"),u=X.includes("macintosh"),p="undefined"!==typeof devicePixelRatio?
devicePixelRatio:1,m="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,f="undefined"!==typeof Image&&Image.prototype.decode,l="function"===typeof createImageBitmap,e=function(){let d=!1;try{const g=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("_",null,g);window.removeEventListener("_",null,g)}catch(g){}return d}()};
shadow$provide[26]=function(X,c,Z,N){function J(){return[1,0,0,1,0,0]}function K(q){return C(q,1,0,0,1,0,0)}function E(q,A){const L=q[0],y=q[1],F=q[2],M=q[3],T=q[4],Q=q[5],S=A[0],W=A[1],ca=A[2],B=A[3],v=A[4];A=A[5];q[0]=L*S+F*W;q[1]=y*S+M*W;q[2]=L*ca+F*B;q[3]=y*ca+M*B;q[4]=L*v+F*A+T;q[5]=y*v+M*A+Q;return q}function C(q,A,L,y,F,M,T){q[0]=A;q[1]=L;q[2]=y;q[3]=F;q[4]=M;q[5]=T;return q}function u(q,A){q[0]=A[0];q[1]=A[1];q[2]=A[2];q[3]=A[3];q[4]=A[4];q[5]=A[5];return q}function p(q,A){const L=A[0],y=
A[1];A[0]=q[0]*L+q[2]*y+q[4];A[1]=q[1]*L+q[3]*y+q[5];return A}function m(q,A){const L=Math.cos(A);A=Math.sin(A);return E(q,C(z,L,A,-A,L,0,0))}function f(q,A,L){return E(q,C(z,A,0,0,L,0,0))}function l(q,A,L){return C(q,A,0,0,L,0,0)}function e(q,A,L){return E(q,C(z,1,0,0,1,A,L))}function d(q,A,L,y,F,M,T,Q){const S=Math.sin(M);M=Math.cos(M);q[0]=y*M;q[1]=F*S;q[2]=-y*S;q[3]=F*M;q[4]=T*y*M-Q*y*S+A;q[5]=T*F*S+Q*F*M+L;return q}function g(q,A,L,y,F,M,T){return r(d(J(),q,A,L,y,F,M,T))}function h(q){return k(q,
q)}function k(q,A){const L=n(A);(0,D.assert)(0!==L,"Transformation matrix cannot be inverted");const y=A[0],F=A[1],M=A[2],T=A[3],Q=A[4];A=A[5];q[0]=T/L;q[1]=-F/L;q[2]=-M/L;q[3]=y/L;q[4]=(M*A-T*Q)/L;q[5]=-(y*A-F*Q)/L;return q}function n(q){return q[0]*q[3]-q[1]*q[2]}function r(q){q="matrix("+q.join(", ")+")";if(x.WORKER_OFFSCREEN_CANVAS)return q;const A=w||(w=document.createElement("div"));A.style.transform=q;return A.style.transform}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},apply:{enumerable:!0,
get:function(){return p}},compose:{enumerable:!0,get:function(){return d}},composeCssTransform:{enumerable:!0,get:function(){return g}},create:{enumerable:!0,get:function(){return J}},determinant:{enumerable:!0,get:function(){return n}},invert:{enumerable:!0,get:function(){return h}},makeInverse:{enumerable:!0,get:function(){return k}},makeScale:{enumerable:!0,get:function(){return l}},multiply:{enumerable:!0,get:function(){return E}},reset:{enumerable:!0,get:function(){return K}},rotate:{enumerable:!0,
get:function(){return m}},scale:{enumerable:!0,get:function(){return f}},set:{enumerable:!0,get:function(){return C}},setFromArray:{enumerable:!0,get:function(){return u}},toString:{enumerable:!0,get:function(){return r}},translate:{enumerable:!0,get:function(){return e}}});var x=c(25),D=c(23);const z=Array(6);let w};
shadow$provide[27]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[28]=function(X,c,Z,N){function J(ka){const Ea=l();for(let Va=0,ib=ka.length;Va<ib;++Va)z(Ea,ka[Va]);return Ea}function K(ka,Ea,Va){return Va?(Va[0]=ka[0]-Ea,Va[1]=ka[1]-Ea,Va[2]=ka[2]+Ea,Va[3]=ka[3]+Ea,Va):[ka[0]-Ea,ka[1]-Ea,ka[2]+Ea,ka[3]+Ea]}function E(ka,Ea){return Ea?(Ea[0]=ka[0],Ea[1]=ka[1],Ea[2]=ka[2],Ea[3]=ka[3],Ea):ka.slice()}function C(ka,Ea,Va){Ea=Ea<ka[0]?ka[0]-Ea:ka[2]<Ea?Ea-ka[2]:0;ka=Va<ka[1]?ka[1]-Va:ka[3]<Va?Va-ka[3]:0;return Ea*Ea+ka*ka}function u(ka,Ea){return m(ka,
Ea[0],Ea[1])}function p(ka,Ea){return ka[0]<=Ea[0]&&Ea[2]<=ka[2]&&ka[1]<=Ea[1]&&Ea[3]<=ka[3]}function m(ka,Ea,Va){return ka[0]<=Ea&&Ea<=ka[2]&&ka[1]<=Va&&Va<=ka[3]}function f(ka,Ea){const Va=ka[1],ib=ka[2],wa=ka[3],Ra=Ea[0];Ea=Ea[1];let $a=fb.default.UNKNOWN;Ra<ka[0]?$a|=fb.default.LEFT:Ra>ib&&($a|=fb.default.RIGHT);Ea<Va?$a|=fb.default.BELOW:Ea>wa&&($a|=fb.default.ABOVE);$a===fb.default.UNKNOWN&&($a=fb.default.INTERSECTING);return $a}function l(){return[Infinity,Infinity,-Infinity,-Infinity]}function e(ka,
Ea,Va,ib,wa){return wa?(wa[0]=ka,wa[1]=Ea,wa[2]=Va,wa[3]=ib,wa):[ka,Ea,Va,ib]}function d(ka){return e(Infinity,Infinity,-Infinity,-Infinity,ka)}function g(ka,Ea){const Va=ka[0];ka=ka[1];return e(Va,ka,Va,ka,Ea)}function h(ka,Ea){Ea=d(Ea);return w(Ea,ka)}function k(ka,Ea,Va,ib,wa){wa=d(wa);return q(wa,ka,Ea,Va,ib)}function n(ka,Ea){Ea=d(Ea);return A(Ea,ka)}function r(ka,Ea){return ka[0]==Ea[0]&&ka[2]==Ea[2]&&ka[1]==Ea[1]&&ka[3]==Ea[3]}function x(ka,Ea,Va){return Math.abs(ka[0]-Ea[0])<Va&&Math.abs(ka[2]-
Ea[2])<Va&&Math.abs(ka[1]-Ea[1])<Va&&Math.abs(ka[3]-Ea[3])<Va}function D(ka,Ea){Ea[0]<ka[0]&&(ka[0]=Ea[0]);Ea[2]>ka[2]&&(ka[2]=Ea[2]);Ea[1]<ka[1]&&(ka[1]=Ea[1]);Ea[3]>ka[3]&&(ka[3]=Ea[3]);return ka}function z(ka,Ea){Ea[0]<ka[0]&&(ka[0]=Ea[0]);Ea[0]>ka[2]&&(ka[2]=Ea[0]);Ea[1]<ka[1]&&(ka[1]=Ea[1]);Ea[1]>ka[3]&&(ka[3]=Ea[1])}function w(ka,Ea){for(let Va=0,ib=Ea.length;Va<ib;++Va)z(ka,Ea[Va]);return ka}function q(ka,Ea,Va,ib,wa){for(;Va<ib;Va+=wa)L(ka,Ea[Va],Ea[Va+1]);return ka}function A(ka,Ea){for(let Va=
0,ib=Ea.length;Va<ib;++Va)w(ka,Ea[Va]);return ka}function L(ka,Ea,Va){ka[0]=Math.min(ka[0],Ea);ka[1]=Math.min(ka[1],Va);ka[2]=Math.max(ka[2],Ea);ka[3]=Math.max(ka[3],Va)}function y(ka,Ea){let Va;return(Va=Ea(M(ka)))||(Va=Ea(T(ka)))||(Va=Ea(Da(ka)))?Va:(Va=Ea(va(ka)))?Va:!1}function F(ka){let Ea=0;gb(ka)||(Ea=Ya(ka)*v(ka));return Ea}function M(ka){return[ka[0],ka[1]]}function T(ka){return[ka[2],ka[1]]}function Q(ka){return[(ka[0]+ka[2])/2,(ka[1]+ka[3])/2]}function S(ka,Ea){if("bottom-left"===Ea)ka=
M(ka);else if("bottom-right"===Ea)ka=T(ka);else if("top-left"===Ea)ka=va(ka);else if("top-right"===Ea)ka=Da(ka);else throw Error("Invalid corner");return ka}function W(ka,Ea){return(Math.max(ka[2],Ea[2])-Math.min(ka[0],Ea[0]))*(Math.max(ka[3],Ea[3])-Math.min(ka[1],Ea[1]))}function ca(ka,Ea,Va,ib,wa){const [Ra,$a,jb,rb,xb,dc,qc,xc]=B(ka,Ea,Va,ib);return e(Math.min(Ra,jb,xb,qc),Math.min($a,rb,dc,xc),Math.max(Ra,jb,xb,qc),Math.max($a,rb,dc,xc),wa)}function B(ka,Ea,Va,ib){var wa=Ea*ib[0]/2;Ea=Ea*ib[1]/
2;ib=Math.cos(Va);var Ra=Math.sin(Va);Va=wa*ib;wa*=Ra;ib*=Ea;Ea*=Ra;Ra=ka[0];ka=ka[1];return[Ra-Va+Ea,ka-wa-ib,Ra-Va-Ea,ka-wa+ib,Ra+Va-Ea,ka+wa+ib,Ra+Va+Ea,ka+wa-ib,Ra-Va+Ea,ka-wa-ib]}function v(ka){return ka[3]-ka[1]}function I(ka,Ea){ka=O(ka,Ea);return F(ka)}function O(ka,Ea,Va){Va=Va?Va:l();Za(ka,Ea)?(Va[0]=ka[0]>Ea[0]?ka[0]:Ea[0],Va[1]=ka[1]>Ea[1]?ka[1]:Ea[1],Va[2]=ka[2]<Ea[2]?ka[2]:Ea[2],Va[3]=ka[3]<Ea[3]?ka[3]:Ea[3]):d(Va);return Va}function ea(ka){return Ya(ka)+v(ka)}function la(ka){return[ka[2]-
ka[0],ka[3]-ka[1]]}function va(ka){return[ka[0],ka[3]]}function Da(ka){return[ka[2],ka[3]]}function Ya(ka){return ka[2]-ka[0]}function Za(ka,Ea){return ka[0]<=Ea[2]&&ka[2]>=Ea[0]&&ka[1]<=Ea[3]&&ka[3]>=Ea[1]}function gb(ka){return ka[2]<ka[0]||ka[3]<ka[1]}function qb(ka,Ea){return Ea?(Ea[0]=ka[0],Ea[1]=ka[1],Ea[2]=ka[2],Ea[3]=ka[3],Ea):ka}function db(ka,Ea){const Va=(ka[2]-ka[0])/2*(Ea-1);Ea=(ka[3]-ka[1])/2*(Ea-1);ka[0]-=Va;ka[2]+=Va;ka[1]-=Ea;ka[3]+=Ea}function sb(ka,Ea,Va){var ib=!1;const wa=f(ka,
Ea),Ra=f(ka,Va);if(wa===fb.default.INTERSECTING||Ra===fb.default.INTERSECTING)ib=!0;else{const $a=ka[0],jb=ka[1],rb=ka[2];ka=ka[3];const xb=Va[0];Va=Va[1];Ea=(Va-Ea[1])/(xb-Ea[0]);Ra&fb.default.ABOVE&&!(wa&fb.default.ABOVE)&&(ib=xb-(Va-ka)/Ea,ib=ib>=$a&&ib<=rb);ib||!(Ra&fb.default.RIGHT)||wa&fb.default.RIGHT||(ib=Va-(xb-rb)*Ea,ib=ib>=jb&&ib<=ka);ib||!(Ra&fb.default.BELOW)||wa&fb.default.BELOW||(ib=xb-(Va-jb)/Ea,ib=ib>=$a&&ib<=rb);ib||!(Ra&fb.default.LEFT)||wa&fb.default.LEFT||(ib=Va-(xb-$a)*Ea,ib=
ib>=jb&&ib<=ka)}return ib}function Ha(ka,Ea,Va,ib){if(gb(ka))return d(Va);var wa=[];if(1<ib){const Ra=ka[2]-ka[0],$a=ka[3]-ka[1];for(let jb=0;jb<ib;++jb)wa.push(ka[0]+Ra*jb/ib,ka[1],ka[2],ka[1]+$a*jb/ib,ka[2]-Ra*jb/ib,ka[3],ka[0],ka[3]-$a*jb/ib)}else wa=[ka[0],ka[1],ka[2],ka[1],ka[2],ka[3],ka[0],ka[3]];Ea(wa,wa,2);ib=[];ka=[];for(let Ra=0,$a=wa.length;Ra<$a;Ra+=2)ib.push(wa[Ra]),ka.push(wa[Ra+1]);wa=Math.min.apply(null,ib);Ea=Math.min.apply(null,ka);ib=Math.max.apply(null,ib);ka=Math.max.apply(null,
ka);return e(wa,Ea,ib,ka,Va)}function ta(ka,Ea){var Va=Ea.getExtent();const ib=Q(ka);Ea.canWrapX()&&(ib[0]<Va[0]||ib[0]>=Va[2])&&(Ea=Ya(Va),Va=Math.floor((ib[0]-Va[0])/Ea)*Ea,ka[0]-=Va,ka[2]-=Va);return ka}function Pa(ka,Ea){if(Ea.canWrapX()){const Va=Ea.getExtent();if(!isFinite(ka[0])||!isFinite(ka[2]))return[[Va[0],ka[1],Va[2],ka[3]]];ta(ka,Ea);Ea=Ya(Va);if(Ya(ka)>Ea)return[[Va[0],ka[1],Va[2],ka[3]]];if(ka[0]<Va[0])return[[ka[0]+Ea,ka[1],Va[2],ka[3]],[Va[0],ka[1],ka[2],ka[3]]];if(ka[2]>Va[2])return[[ka[0],
ka[1],Va[2],ka[3]],[Va[0],ka[1],ka[2]-Ea,ka[3]]]}return[ka]}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},applyTransform:{enumerable:!0,get:function(){return Ha}},approximatelyEquals:{enumerable:!0,get:function(){return x}},boundingExtent:{enumerable:!0,get:function(){return J}},buffer:{enumerable:!0,get:function(){return K}},clone:{enumerable:!0,get:function(){return E}},closestSquaredDistanceXY:{enumerable:!0,get:function(){return C}},containsCoordinate:{enumerable:!0,get:function(){return u}},
containsExtent:{enumerable:!0,get:function(){return p}},containsXY:{enumerable:!0,get:function(){return m}},coordinateRelationship:{enumerable:!0,get:function(){return f}},createEmpty:{enumerable:!0,get:function(){return l}},createOrUpdate:{enumerable:!0,get:function(){return e}},createOrUpdateEmpty:{enumerable:!0,get:function(){return d}},createOrUpdateFromCoordinate:{enumerable:!0,get:function(){return g}},createOrUpdateFromCoordinates:{enumerable:!0,get:function(){return h}},createOrUpdateFromFlatCoordinates:{enumerable:!0,
get:function(){return k}},createOrUpdateFromRings:{enumerable:!0,get:function(){return n}},equals:{enumerable:!0,get:function(){return r}},extend:{enumerable:!0,get:function(){return D}},extendCoordinate:{enumerable:!0,get:function(){return z}},extendCoordinates:{enumerable:!0,get:function(){return w}},extendFlatCoordinates:{enumerable:!0,get:function(){return q}},extendRings:{enumerable:!0,get:function(){return A}},extendXY:{enumerable:!0,get:function(){return L}},forEachCorner:{enumerable:!0,get:function(){return y}},
getArea:{enumerable:!0,get:function(){return F}},getBottomLeft:{enumerable:!0,get:function(){return M}},getBottomRight:{enumerable:!0,get:function(){return T}},getCenter:{enumerable:!0,get:function(){return Q}},getCorner:{enumerable:!0,get:function(){return S}},getEnlargedArea:{enumerable:!0,get:function(){return W}},getForViewAndSize:{enumerable:!0,get:function(){return ca}},getHeight:{enumerable:!0,get:function(){return v}},getIntersection:{enumerable:!0,get:function(){return O}},getIntersectionArea:{enumerable:!0,
get:function(){return I}},getMargin:{enumerable:!0,get:function(){return ea}},getRotatedViewport:{enumerable:!0,get:function(){return B}},getSize:{enumerable:!0,get:function(){return la}},getTopLeft:{enumerable:!0,get:function(){return va}},getTopRight:{enumerable:!0,get:function(){return Da}},getWidth:{enumerable:!0,get:function(){return Ya}},intersects:{enumerable:!0,get:function(){return Za}},intersectsSegment:{enumerable:!0,get:function(){return sb}},isEmpty:{enumerable:!0,get:function(){return gb}},
returnOrUpdate:{enumerable:!0,get:function(){return qb}},scaleFromCenter:{enumerable:!0,get:function(){return db}},wrapAndSliceX:{enumerable:!0,get:function(){return Pa}},wrapX:{enumerable:!0,get:function(){return ta}}});X=c(27);var fb=c.esmDefault(X)};
shadow$provide[29]=function(X,c,Z,N){function J(C){return K[C]}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},METERS_PER_UNIT:{enumerable:!0,get:function(){return E}},fromCode:{enumerable:!0,get:function(){return J}}});const K={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"},E={radians:6370997/(2*Math.PI),degrees:12741994*Math.PI/360,ft:.3048,m:1,"us-ft":1200/3937}};
shadow$provide[30]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});var J=c(29);class K{constructor(C){this.code_=C.code;this.units_=C.units;this.extent_=void 0!==C.extent?C.extent:null;this.worldExtent_=void 0!==C.worldExtent?C.worldExtent:null;this.axisOrientation_=void 0!==C.axisOrientation?C.axisOrientation:"enu";this.global_=void 0!==C.global?C.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=
C.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=C.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||J.METERS_PER_UNIT[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(C){this.global_=C;this.canWrapX_=!(!C||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(C){this.defaultTileGrid_=
C}setExtent(C){this.extent_=C;this.canWrapX_=!(!this.global_||!C)}setWorldExtent(C){this.worldExtent_=C}setGetPointResolution(C){this.getPointResolutionFunc_=C}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const E=K};
shadow$provide[31]=function(X,c,Z,N){function J(l,e,d){const g=l.length;d=1<d?d:2;void 0===e&&(e=2<d?l.slice():Array(g));for(let h=0;h<g;h+=d){e[h]=E*l[h]/180;let k=6378137*Math.log(Math.tan(Math.PI*(+l[h+1]+90)/360));k>p?k=p:k<-p&&(k=-p);e[h+1]=k}return e}function K(l,e,d){const g=l.length;d=1<d?d:2;void 0===e&&(e=2<d?l.slice():Array(g));for(let h=0;h<g;h+=d)e[h]=180*l[h]/E,e[h+1]=360*Math.atan(Math.exp(l[h+1]/6378137))/Math.PI-90;return e}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},
EXTENT:{enumerable:!0,get:function(){return C}},HALF_SIZE:{enumerable:!0,get:function(){return E}},MAX_SAFE_Y:{enumerable:!0,get:function(){return p}},PROJECTIONS:{enumerable:!0,get:function(){return f}},RADIUS:{enumerable:!0,get:function(){return 6378137}},WORLD_EXTENT:{enumerable:!0,get:function(){return u}},fromEPSG4326:{enumerable:!0,get:function(){return J}},toEPSG4326:{enumerable:!0,get:function(){return K}}});X=c(30);c=c.esmDefault(X);const E=6378137*Math.PI,C=[-E,-E,E,E],u=[-180,-85,180,85],
p=6378137*Math.log(Math.tan(Math.PI/2));class m extends c.default{constructor(l){super({code:l,units:"m",extent:C,global:!0,worldExtent:u,getPointResolution:function(e,d){return e/Math.cosh(d[1]/6378137)}})}}const f=[new m("EPSG:3857"),new m("EPSG:102100"),new m("EPSG:102113"),new m("EPSG:900913"),new m("http://www.opengis.net/def/crs/EPSG/0/3857"),new m("http://www.opengis.net/gml/srs/epsg.xml#3857")]};
shadow$provide[32]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},EXTENT:{enumerable:!0,get:function(){return J}},METERS_PER_UNIT:{enumerable:!0,get:function(){return K}},PROJECTIONS:{enumerable:!0,get:function(){return C}},RADIUS:{enumerable:!0,get:function(){return 6378137}}});X=c(30);c=c.esmDefault(X);const J=[-180,-90,180,90],K=6378137*Math.PI/180;class E extends c.default{constructor(u,p){super({code:u,units:"degrees",extent:J,axisOrientation:p,global:!0,metersPerUnit:K,
worldExtent:J})}}const C=[new E("CRS:84"),new E("EPSG:4326","neu"),new E("urn:ogc:def:crs:OGC:1.3:CRS84"),new E("urn:ogc:def:crs:OGC:2:84"),new E("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new E("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new E("http://www.opengis.net/def/crs/EPSG/0/4326","neu")]};
shadow$provide[33]=function(X,c,Z,N){function J(){C={}}function K(u){return C[u]||C[u.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function E(u,p){C[u]=p}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},add:{enumerable:!0,get:function(){return E}},clear:{enumerable:!0,get:function(){return J}},get:{enumerable:!0,get:function(){return K}}});let C={}};
shadow$provide[34]=function(X,c,Z,N){function J(){p={}}function K(m,f,l){m=m.getCode();f=f.getCode();m in p||(p[m]={});p[m][f]=l}function E(m,f){m=m.getCode();f=f.getCode();const l=p[m][f];delete p[m][f];(0,u.isEmpty)(p[m])&&delete p[m];return l}function C(m,f){let l;m in p&&f in p[m]&&(l=p[m][f]);return l}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},add:{enumerable:!0,get:function(){return K}},clear:{enumerable:!0,get:function(){return J}},get:{enumerable:!0,get:function(){return C}},
remove:{enumerable:!0,get:function(){return E}}});var u=c(14);let p={}};
shadow$provide[35]=function(X,c,Z,N){function J(h,k,n){return Math.min(Math.max(h,k),n)}function K(h,k,n,r,x,D){const z=x-n,w=D-r;if(0!==z||0!==w){const q=((h-n)*z+(k-r)*w)/(z*z+w*w);1<q?(n=x,r=D):0<q&&(n+=z*q,r+=w*q)}return E(h,k,n,r)}function E(h,k,n,r){h=n-h;k=r-k;return h*h+k*k}function C(h){const k=h.length;for(var n=0;n<k;n++){var r=n,x=Math.abs(h[n][n]);for(var D=n+1;D<k;D++){const z=Math.abs(h[D][n]);z>x&&(x=z,r=D)}if(0===x)return null;x=h[r];h[r]=h[n];h[n]=x;for(r=n+1;r<k;r++)for(x=-h[r][n]/
h[n][n],D=n;D<k+1;D++)h[r][D]=n==D?0:h[r][D]+x*h[n][D]}n=Array(k);for(r=k-1;0<=r;r--)for(n[r]=h[r][k]/h[r][r],x=r-1;0<=x;x--)h[x][k]-=h[x][r]*n[r];return n}function u(h){return 180*h/Math.PI}function p(h){return h*Math.PI/180}function m(h,k){h%=k;return 0>h*k?h+k:h}function f(h,k,n){return h+n*(k-h)}function l(h,k){k=Math.pow(10,k);return Math.round(h*k)/k}function e(h,k){return Math.round(l(h,k))}function d(h,k){return Math.floor(l(h,k))}function g(h,k){return Math.ceil(l(h,k))}Object.defineProperties(N,
{__esModule:{enumerable:!0,value:!0},ceil:{enumerable:!0,get:function(){return g}},clamp:{enumerable:!0,get:function(){return J}},floor:{enumerable:!0,get:function(){return d}},lerp:{enumerable:!0,get:function(){return f}},modulo:{enumerable:!0,get:function(){return m}},round:{enumerable:!0,get:function(){return e}},solveLinearSystem:{enumerable:!0,get:function(){return C}},squaredDistance:{enumerable:!0,get:function(){return E}},squaredSegmentDistance:{enumerable:!0,get:function(){return K}},toDegrees:{enumerable:!0,
get:function(){return u}},toFixed:{enumerable:!0,get:function(){return l}},toRadians:{enumerable:!0,get:function(){return p}}})};
shadow$provide[36]=function(X,c,Z,N){function J(E,C,u){E=void 0!==u?E.toFixed(u):""+E;u=E.indexOf(".");u=-1===u?E.length:u;return u>C?E:Array(1+C-u).join("0")+E}function K(E,C){E=(""+E).split(".");C=(""+C).split(".");for(let u=0;u<Math.max(E.length,C.length);u++){const p=parseInt(E[u]||"0",10),m=parseInt(C[u]||"0",10);if(p>m)return 1;if(m>p)return-1}return 0}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},compareVersions:{enumerable:!0,get:function(){return K}},padNumber:{enumerable:!0,
get:function(){return J}}})};
shadow$provide[37]=function(X,c,Z,N){function J(w,q){w[0]+=+q[0];w[1]+=+q[1];return w}function K(w,q){const A=q.getRadius();var L=q.getCenter();q=L[0];L=L[1];let y=w[0]-q;w=w[1]-L;0===y&&0===w&&(y=1);const F=Math.sqrt(y*y+w*w);return[q+A*y/F,L+A*w/F]}function E(w,q){var A=w[0];w=w[1];var L=q[0],y=q[1];q=L[0];L=L[1];const F=y[0];y=y[1];const M=F-q,T=y-L;A=0===M&&0===T?0:(M*(A-q)+T*(w-L))/(M*M+T*T||0);0>=A?(w=q,A=L):1<=A?(w=F,A=y):(w=q+A*M,A=L+A*T);return[w,A]}function C(w){return function(q){return k(q,
w)}}function u(w,q,A){q=(0,D.modulo)(q+180,360)-180;var L=Math.abs(3600*q);A=A||0;var y=Math.floor(L/3600);let F=Math.floor((L-3600*y)/60);L=(0,D.toFixed)(L-3600*y-60*F,A);60<=L&&(L=0,F+=1);60<=F&&(F=0,y+=1);y+="";if(0!==F||0!==L)y+=" "+(0,z.padNumber)(F,2)+"";0!==L&&(y+=" "+(0,z.padNumber)(L,2,A)+"");0!==q&&(y+=" "+w.charAt(0>q?1:0));return y}function p(w,q,A){return w?q.replace("{x}",w[0].toFixed(A)).replace("{y}",w[1].toFixed(A)):""}function m(w,q){let A=!0;for(let L=w.length-1;0<=L;--L)if(w[L]!=
q[L]){A=!1;break}return A}function f(w,q){const A=Math.cos(q);q=Math.sin(q);const L=w[1]*A+w[0]*q;w[0]=w[0]*A-w[1]*q;w[1]=L;return w}function l(w,q){w[0]*=q;w[1]*=q;return w}function e(w,q){const A=w[0]-q[0];w=w[1]-q[1];return A*A+w*w}function d(w,q){return Math.sqrt(e(w,q))}function g(w,q){return e(w,E(w,q))}function h(w,q){return w?u("NS",w[1],q)+" "+u("EW",w[0],q):""}function k(w,q){return p(w,"{x}, {y}",q)}function n(w,q){if(q.canWrapX()){const A=(0,x.getWidth)(q.getExtent());(q=r(w,q,A))&&(w[0]-=
q*A)}return w}function r(w,q,A){const L=q.getExtent();let y=0;q.canWrapX()&&(w[0]<L[0]||w[0]>L[2])&&(A=A||(0,x.getWidth)(L),y=Math.floor((w[0]-L[0])/A));return y}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},add:{enumerable:!0,get:function(){return J}},closestOnCircle:{enumerable:!0,get:function(){return K}},closestOnSegment:{enumerable:!0,get:function(){return E}},createStringXY:{enumerable:!0,get:function(){return C}},degreesToStringHDMS:{enumerable:!0,get:function(){return u}},
distance:{enumerable:!0,get:function(){return d}},equals:{enumerable:!0,get:function(){return m}},format:{enumerable:!0,get:function(){return p}},getWorldsAway:{enumerable:!0,get:function(){return r}},rotate:{enumerable:!0,get:function(){return f}},scale:{enumerable:!0,get:function(){return l}},squaredDistance:{enumerable:!0,get:function(){return e}},squaredDistanceToSegment:{enumerable:!0,get:function(){return g}},toStringHDMS:{enumerable:!0,get:function(){return h}},toStringXY:{enumerable:!0,get:function(){return k}},
wrapX:{enumerable:!0,get:function(){return n}}});var x=c(28),D=c(35),z=c(36)};
shadow$provide[38]=function(X,c,Z,N){function J(f,l,e){e=e||6371008.8;var d=(0,m.toRadians)(f[1]);const g=(0,m.toRadians)(l[1]),h=(g-d)/2;f=(0,m.toRadians)(l[0]-f[0])/2;d=Math.sin(h)*Math.sin(h)+Math.sin(f)*Math.sin(f)*Math.cos(d)*Math.cos(g);return 2*e*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}function K(f,l){let e=0;for(let d=0,g=f.length;d<g-1;++d)e+=J(f[d],f[d+1],l);return e}function E(f,l){l=l||{};var e=l.radius||6371008.8,d=l.projection||"EPSG:3857",g=f.getType();"GeometryCollection"!==g&&(f=
f.clone().transform(d,"EPSG:4326"));d=0;let h,k,n;switch(g){case "Point":case "MultiPoint":break;case "LineString":case "LinearRing":l=f.getCoordinates();d=K(l,e);break;case "MultiLineString":case "Polygon":l=f.getCoordinates();f=0;for(g=l.length;f<g;++f)d+=K(l[f],e);break;case "MultiPolygon":l=f.getCoordinates();f=0;for(g=l.length;f<g;++f)for(h=l[f],k=0,n=h.length;k<n;++k)d+=K(h[k],e);break;case "GeometryCollection":e=f.getGeometries();f=0;for(g=e.length;f<g;++f)d+=E(e[f],l);break;default:throw Error("Unsupported geometry type: "+
g);}return d}function C(f,l){let e=0;const d=f.length;let g=f[d-1][0],h=f[d-1][1];for(let k=0;k<d;k++){const n=f[k][0],r=f[k][1];e+=(0,m.toRadians)(n-g)*(2+Math.sin((0,m.toRadians)(h))+Math.sin((0,m.toRadians)(r)));g=n;h=r}return e*l*l/2}function u(f,l){l=l||{};var e=l.radius||6371008.8,d=l.projection||"EPSG:3857",g=f.getType();"GeometryCollection"!==g&&(f=f.clone().transform(d,"EPSG:4326"));d=0;let h,k,n;switch(g){case "Point":case "MultiPoint":case "LineString":case "MultiLineString":case "LinearRing":break;
case "Polygon":l=f.getCoordinates();d=Math.abs(C(l[0],e));f=1;for(g=l.length;f<g;++f)d-=Math.abs(C(l[f],e));break;case "MultiPolygon":l=f.getCoordinates();f=0;for(g=l.length;f<g;++f)for(h=l[f],d+=Math.abs(C(h[0],e)),k=1,n=h.length;k<n;++k)d-=Math.abs(C(h[k],e));break;case "GeometryCollection":e=f.getGeometries();f=0;for(g=e.length;f<g;++f)d+=u(e[f],l);break;default:throw Error("Unsupported geometry type: "+g);}return d}function p(f,l,e,d){d=d||6371008.8;const g=(0,m.toRadians)(f[1]);f=(0,m.toRadians)(f[0]);
l/=d;d=Math.asin(Math.sin(g)*Math.cos(l)+Math.cos(g)*Math.sin(l)*Math.cos(e));return[(0,m.toDegrees)(f+Math.atan2(Math.sin(e)*Math.sin(l)*Math.cos(g),Math.cos(l)-Math.sin(g)*Math.sin(d))),(0,m.toDegrees)(d)]}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},DEFAULT_RADIUS:{enumerable:!0,get:function(){return 6371008.8}},getArea:{enumerable:!0,get:function(){return u}},getDistance:{enumerable:!0,get:function(){return J}},getLength:{enumerable:!0,get:function(){return E}},offset:{enumerable:!0,
get:function(){return p}}});var m=c(35)};
shadow$provide[39]=function(X,c,Z,N){function J(m){p=u[m]}function K(...m){p>u.info||console.log(...m)}function E(...m){p>u.warn||console.warn(...m)}function C(...m){p>u.error||console.error(...m)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},error:{enumerable:!0,get:function(){return C}},log:{enumerable:!0,get:function(){return K}},setLevel:{enumerable:!0,get:function(){return J}},warn:{enumerable:!0,get:function(){return E}}});const u={info:1,warn:2,error:3,none:4};let p=u.info};
shadow$provide[40]=function(X,c,Z,N){function J(ta){sb=!(void 0===ta||ta)}function K(ta,Pa){if(void 0!==Pa)for(let fb=0,ka=ta.length;fb<ka;++fb)Pa[fb]=ta[fb];else Pa=ta.slice();return Pa}function E(ta,Pa){if(void 0!==Pa&&ta!==Pa){for(let fb=0,ka=ta.length;fb<ka;++fb)Pa[fb]=ta[fb];ta=Pa}return ta}function C(ta){(0,la.add)(ta.getCode(),ta);(0,va.add)(ta,ta,K)}function u(ta){ta.forEach(C)}function p(ta){return"string"===typeof ta?(0,la.get)(ta):ta||null}function m(ta,Pa,fb,ka){ta=p(ta);var Ea=ta.getPointResolutionFunc();
if(Ea)Pa=Ea(Pa,fb),ka&&ka!==ta.getUnits()&&(ta=ta.getMetersPerUnit())&&(Pa=Pa*ta/ea.METERS_PER_UNIT[ka]);else{const Va=ta.getUnits();"degrees"==Va&&!ka||"degrees"==ka||(Ea=x(ta,p("EPSG:4326")),Ea===E&&"degrees"!==Va?Pa*=ta.getMetersPerUnit():(Pa=[fb[0]-Pa/2,fb[1],fb[0]+Pa/2,fb[1],fb[0],fb[1]-Pa/2,fb[0],fb[1]+Pa/2],Pa=Ea(Pa,Pa,2),fb=(0,gb.getDistance)(Pa.slice(0,2),Pa.slice(2,4)),Pa=(0,gb.getDistance)(Pa.slice(4,6),Pa.slice(6,8)),Pa=(fb+Pa)/2),ka=ka?ea.METERS_PER_UNIT[ka]:ta.getMetersPerUnit(),void 0!==
ka&&(Pa/=ka))}return Pa}function f(ta){u(ta);ta.forEach(function(Pa){ta.forEach(function(fb){Pa!==fb&&(0,va.add)(Pa,fb,K)})})}function l(ta,Pa,fb,ka){ta.forEach(function(Ea){Pa.forEach(function(Va){(0,va.add)(Ea,Va,fb);(0,va.add)(Va,Ea,ka)})})}function e(){(0,la.clear)();(0,va.clear)()}function d(ta,Pa){return ta?"string"===typeof ta?p(ta):ta:p(Pa)}function g(ta){return function(Pa,fb,ka){const Ea=Pa.length;ka=void 0!==ka?ka:2;fb=void 0!==fb?fb:Array(Ea);for(let Va=0;Va<Ea;Va+=ka){const ib=ta(Pa.slice(Va,
Va+ka)),wa=ib.length;for(let Ra=0,$a=ka;Ra<$a;++Ra)fb[Va+Ra]=Ra>=wa?Pa[Va+Ra]:ib[Ra]}return fb}}function h(ta,Pa,fb,ka){ta=p(ta);Pa=p(Pa);(0,va.add)(ta,Pa,g(fb));(0,va.add)(Pa,ta,g(ka))}function k(ta,Pa){J();return z(ta,"EPSG:4326",void 0!==Pa?Pa:"EPSG:3857")}function n(ta,Pa){ta=z(ta,void 0!==Pa?Pa:"EPSG:3857","EPSG:4326");Pa=ta[0];if(-180>Pa||180<Pa)ta[0]=(0,Ya.modulo)(Pa+180,360)-180;return ta}function r(ta,Pa){if(ta===Pa)return!0;const fb=ta.getUnits()===Pa.getUnits();return ta.getCode()===Pa.getCode()?
fb:x(ta,Pa)===K&&fb}function x(ta,Pa){ta=ta.getCode();Pa=Pa.getCode();(Pa=(0,va.get)(ta,Pa))||(Pa=E);return Pa}function D(ta,Pa){ta=p(ta);Pa=p(Pa);return x(ta,Pa)}function z(ta,Pa,fb){return D(Pa,fb)(ta,void 0,ta.length)}function w(ta,Pa,fb,ka){Pa=D(Pa,fb);return(0,Da.applyTransform)(ta,Pa,void 0,ka)}function q(ta,Pa,fb){return x(Pa,fb)(ta)}function A(ta){Ha=p(ta)}function L(){Ha=null}function y(){return Ha}function F(){A("EPSG:4326")}function M(ta,Pa){return Ha?z(ta,Pa,Ha):ta}function T(ta,Pa){return Ha?
z(ta,Ha,Pa):(sb&&!(0,Za.equals)(ta,[0,0])&&-180<=ta[0]&&180>=ta[0]&&-90<=ta[1]&&90>=ta[1]&&(sb=!1,(0,qb.warn)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),ta)}function Q(ta,Pa){return Ha?w(ta,Pa,Ha):ta}function S(ta,Pa){return Ha?w(ta,Ha,Pa):ta}function W(ta,Pa){if(!Ha)return ta;Pa=p(Pa).getUnits();const fb=Ha.getUnits();return Pa&&fb?ta*ea.METERS_PER_UNIT[Pa]/ea.METERS_PER_UNIT[fb]:ta}function ca(ta,Pa){if(!Ha)return ta;Pa=p(Pa).getUnits();const fb=Ha.getUnits();
return Pa&&fb?ta*ea.METERS_PER_UNIT[fb]/ea.METERS_PER_UNIT[Pa]:ta}function B(ta,Pa,fb){return function(ka){let Ea;if(ta.canWrapX()){const Va=ta.getExtent(),ib=(0,Da.getWidth)(Va);ka=ka.slice(0);(Ea=(0,Za.getWorldsAway)(ka,ta,ib))&&(ka[0]-=Ea*ib);ka[0]=(0,Ya.clamp)(ka[0],Va[0],Va[2]);ka[1]=(0,Ya.clamp)(ka[1],Va[1],Va[3])}ka=fb(ka);Ea&&Pa.canWrapX()&&(ka[0]+=Ea*(0,Da.getWidth)(Pa.getExtent()));return ka}}function v(){f(I.PROJECTIONS);f(O.PROJECTIONS);l(O.PROJECTIONS,I.PROJECTIONS,I.fromEPSG4326,I.toEPSG4326)}
Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},METERS_PER_UNIT:{enumerable:!0,get:function(){return ea.METERS_PER_UNIT}},Projection:{enumerable:!0,get:function(){return db.default}},addCommon:{enumerable:!0,get:function(){return v}},addCoordinateTransforms:{enumerable:!0,get:function(){return h}},addEquivalentProjections:{enumerable:!0,get:function(){return f}},addEquivalentTransforms:{enumerable:!0,get:function(){return l}},addProjection:{enumerable:!0,get:function(){return C}},addProjections:{enumerable:!0,
get:function(){return u}},clearAllProjections:{enumerable:!0,get:function(){return e}},clearUserProjection:{enumerable:!0,get:function(){return L}},cloneTransform:{enumerable:!0,get:function(){return K}},createProjection:{enumerable:!0,get:function(){return d}},createSafeCoordinateTransform:{enumerable:!0,get:function(){return B}},createTransformFromCoordinateTransform:{enumerable:!0,get:function(){return g}},disableCoordinateWarning:{enumerable:!0,get:function(){return J}},equivalent:{enumerable:!0,
get:function(){return r}},fromLonLat:{enumerable:!0,get:function(){return k}},fromUserCoordinate:{enumerable:!0,get:function(){return T}},fromUserExtent:{enumerable:!0,get:function(){return S}},fromUserResolution:{enumerable:!0,get:function(){return ca}},get:{enumerable:!0,get:function(){return p}},getPointResolution:{enumerable:!0,get:function(){return m}},getTransform:{enumerable:!0,get:function(){return D}},getTransformFromProjections:{enumerable:!0,get:function(){return x}},getUserProjection:{enumerable:!0,
get:function(){return y}},identityTransform:{enumerable:!0,get:function(){return E}},setUserProjection:{enumerable:!0,get:function(){return A}},toLonLat:{enumerable:!0,get:function(){return n}},toUserCoordinate:{enumerable:!0,get:function(){return M}},toUserExtent:{enumerable:!0,get:function(){return Q}},toUserResolution:{enumerable:!0,get:function(){return W}},transform:{enumerable:!0,get:function(){return z}},transformExtent:{enumerable:!0,get:function(){return w}},transformWithProjections:{enumerable:!0,
get:function(){return q}},useGeographic:{enumerable:!0,get:function(){return F}}});X=c(30);var I=c(31),O=c(32),ea=c(29),la=c(33),va=c(34),Da=c(28),Ya=c(35),Za=c(37),gb=c(38),qb=c(39),db=c.esmDefault(X);let sb=!0,Ha=null;v()};
shadow$provide[41]=function(X,c,Z,N){function J(u,p,m,f,l,e){e=e?e:[];let d=0;for(;p<m;p+=f){const g=u[p],h=u[p+1];e[d++]=l[0]*g+l[2]*h+l[4];e[d++]=l[1]*g+l[3]*h+l[5]}e&&e.length!=d&&(e.length=d);return e}function K(u,p,m,f,l,e,d){d=d?d:[];const g=Math.cos(l);l=Math.sin(l);const h=e[0];e=e[1];let k=0;for(;p<m;p+=f){var n=u[p]-h;const r=u[p+1]-e;d[k++]=h+n*g-r*l;d[k++]=e+n*l+r*g;for(n=p+2;n<p+f;++n)d[k++]=u[n]}d&&d.length!=k&&(d.length=k);return d}function E(u,p,m,f,l,e,d,g){g=g?g:[];const h=d[0];
d=d[1];let k=0;for(;p<m;p+=f){var n=u[p]-h;const r=u[p+1]-d;g[k++]=h+l*n;g[k++]=d+e*r;for(n=p+2;n<p+f;++n)g[k++]=u[n]}g&&g.length!=k&&(g.length=k);return g}function C(u,p,m,f,l,e,d){d=d?d:[];let g=0;for(;p<m;p+=f){d[g++]=u[p]+l;d[g++]=u[p+1]+e;for(let h=p+2;h<p+f;++h)d[g++]=u[h]}d&&d.length!=g&&(d.length=g);return d}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},rotate:{enumerable:!0,get:function(){return K}},scale:{enumerable:!0,get:function(){return E}},transform2D:{enumerable:!0,
get:function(){return J}},translate:{enumerable:!0,get:function(){return C}}})};
shadow$provide[42]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return l}}});X=c(20);var J=c(19),K=c(26),E=c(28),C=c(40),u=c(13),p=c(41);c=c.esmDefault(X);const m=(0,K.create)();class f extends c.default{constructor(){super();this.extent_=(0,E.createEmpty)();this.extentRevision_=-1;this.simplifiedGeometryRevision=this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifyTransformedInternal=(0,u.memoizeOne)(function(e,d,g){if(!g)return this.getSimplifiedGeometry(d);
e=this.clone();e.applyTransform(g);return e.getSimplifiedGeometry(d)})}simplifyTransformed(e,d){return this.simplifyTransformedInternal(this.getRevision(),e,d)}clone(){return(0,J.abstract)()}closestPointXY(e,d,g,h){return(0,J.abstract)()}containsXY(e,d){const g=this.getClosestPoint([e,d]);return g[0]===e&&g[1]===d}getClosestPoint(e,d){d=d?d:[NaN,NaN];this.closestPointXY(e[0],e[1],d,Infinity);return d}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return(0,J.abstract)()}getExtent(e){if(this.extentRevision_!=
this.getRevision()){const d=this.computeExtent(this.extent_);(isNaN(d[0])||isNaN(d[1]))&&(0,E.createOrUpdateEmpty)(d);this.extentRevision_=this.getRevision()}return(0,E.returnOrUpdate)(this.extent_,e)}rotate(e,d){(0,J.abstract)()}scale(e,d,g){(0,J.abstract)()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return(0,J.abstract)()}getType(){return(0,J.abstract)()}applyTransform(e){(0,J.abstract)()}intersectsExtent(e){return(0,J.abstract)()}translate(e,d){(0,J.abstract)()}transform(e,
d){const g=(0,C.get)(e);e="tile-pixels"==g.getUnits()?function(h,k,n){var r=g.getExtent();const x=g.getWorldExtent();r=(0,E.getHeight)(x)/(0,E.getHeight)(r);(0,K.compose)(m,x[0],x[3],r,-r,0,0,0);(0,p.transform2D)(h,0,h.length,n,m,k);return(0,C.getTransform)(g,d)(h,k,n)}:(0,C.getTransform)(g,d);this.applyTransform(e);return this}}const l=f};
shadow$provide[43]=function(X,c,Z,N){function J(f){let l;"XY"==f?l=2:"XYZ"==f||"XYM"==f?l=3:"XYZM"==f&&(l=4);return l}function K(f,l,e){const d=f.getFlatCoordinates();if(!d)return null;f=f.getStride();return(0,u.transform2D)(d,0,d.length,f,l,e)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}},getStrideForLayout:{enumerable:!0,get:function(){return J}},transformGeom2D:{enumerable:!0,get:function(){return K}}});X=c(42);var E=c(19),C=c(28),
u=c(41);c=c.esmDefault(X);class p extends c.default{constructor(){super();this.layout="XY";this.stride=2;this.flatCoordinates=null}computeExtent(f){return(0,C.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,f)}getCoordinates(){return(0,E.abstract)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-
this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(f){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>f||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&f<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const l=this.getSimplifiedGeometryInternal(f);if(l.getFlatCoordinates().length<this.flatCoordinates.length)return l;this.simplifiedGeometryMaxMinSquaredTolerance=
f;return this}getSimplifiedGeometryInternal(f){return this}getStride(){return this.stride}setFlatCoordinates(f,l){this.stride=J(f);this.layout=f;this.flatCoordinates=l}setCoordinates(f,l){(0,E.abstract)()}setLayout(f,l,e){if(f)l=J(f);else{for(f=0;f<e;++f){if(0===l.length){this.layout="XY";this.stride=2;return}l=l[0]}l=l.length;let d;2==l?d="XY":3==l?d="XYZ":4==l&&(d="XYZM");f=d}this.layout=f;this.stride=l}applyTransform(f){this.flatCoordinates&&(f(this.flatCoordinates,this.flatCoordinates,this.stride),
this.changed())}rotate(f,l){const e=this.getFlatCoordinates();if(e){const d=this.getStride();(0,u.rotate)(e,0,e.length,d,f,l,e);this.changed()}}scale(f,l,e){void 0===l&&(l=f);e||(e=(0,C.getCenter)(this.getExtent()));const d=this.getFlatCoordinates();if(d){const g=this.getStride();(0,u.scale)(d,0,d.length,g,f,l,e,d);this.changed()}}translate(f,l){const e=this.getFlatCoordinates();if(e){const d=this.getStride();(0,u.translate)(e,0,e.length,d,f,l,e);this.changed()}}}const m=p};
shadow$provide[44]=function(X,c,Z,N){function J(l,e,d,g,h,k,n){const r=l[e],x=l[e+1],D=l[d]-r,z=l[d+1]-x;if(0!==D||0!==z)if(h=((h-r)*D+(k-x)*z)/(D*D+z*z),1<h)e=d;else if(0<h){for(k=0;k<g;++k)n[k]=(0,f.lerp)(l[e+k],l[d+k],h);n.length=g;return}for(d=0;d<g;++d)n[d]=l[e+d];n.length=g}function K(l,e,d,g,h){var k=l[e];let n=l[e+1];for(e+=g;e<d;e+=g){const r=l[e],x=l[e+1];k=(0,f.squaredDistance)(k,n,r,x);k>h&&(h=k);k=r;n=x}return h}function E(l,e,d,g,h){for(let k=0,n=d.length;k<n;++k){const r=d[k];h=K(l,
e,r,g,h);e=r}return h}function C(l,e,d,g,h){for(let k=0,n=d.length;k<n;++k){const r=d[k];h=E(l,e,r,g,h);e=r[r.length-1]}return h}function u(l,e,d,g,h,k,n,r,x,D,z){if(e==d)return D;let w,q;if(0===h){q=(0,f.squaredDistance)(n,r,l[e],l[e+1]);if(q<D){for(w=0;w<g;++w)x[w]=l[e+w];x.length=g;return q}return D}z=z?z:[NaN,NaN];let A=e+g;for(;A<d;)if(J(l,A-g,A,g,n,r,z),q=(0,f.squaredDistance)(n,r,z[0],z[1]),q<D){D=q;for(w=0;w<g;++w)x[w]=z[w];x.length=g;A+=g}else A+=g*Math.max((Math.sqrt(q)-Math.sqrt(D))/h|
0,1);if(k&&(J(l,d-g,e,g,n,r,z),q=(0,f.squaredDistance)(n,r,z[0],z[1]),q<D)){D=q;for(w=0;w<g;++w)x[w]=z[w];x.length=g}return D}function p(l,e,d,g,h,k,n,r,x,D,z){z=z?z:[NaN,NaN];for(let w=0,q=d.length;w<q;++w){const A=d[w];D=u(l,e,A,g,h,k,n,r,x,D,z);e=A}return D}function m(l,e,d,g,h,k,n,r,x,D,z){z=z?z:[NaN,NaN];for(let w=0,q=d.length;w<q;++w){const A=d[w];D=p(l,e,A,g,h,k,n,r,x,D,z);e=A[A.length-1]}return D}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},arrayMaxSquaredDelta:{enumerable:!0,
get:function(){return E}},assignClosestArrayPoint:{enumerable:!0,get:function(){return p}},assignClosestMultiArrayPoint:{enumerable:!0,get:function(){return m}},assignClosestPoint:{enumerable:!0,get:function(){return u}},maxSquaredDelta:{enumerable:!0,get:function(){return K}},multiArrayMaxSquaredDelta:{enumerable:!0,get:function(){return C}}});var f=c(35)};
shadow$provide[45]=function(X,c,Z,N){function J(u,p,m,f){for(let l=0,e=m.length;l<e;++l)u[p++]=m[l];return p}function K(u,p,m,f){for(let l=0,e=m.length;l<e;++l){const d=m[l];for(let g=0;g<f;++g)u[p++]=d[g]}return p}function E(u,p,m,f,l){l=l?l:[];let e=0;for(let d=0,g=m.length;d<g;++d)p=K(u,p,m[d],f),l[e++]=p;l.length=e;return l}function C(u,p,m,f,l){l=l?l:[];let e=0;for(let d=0,g=m.length;d<g;++d){const h=E(u,p,m[d],f,l[e]);0===h.length&&(h[0]=p);l[e++]=h;p=h[h.length-1]}l.length=e;return l}Object.defineProperties(N,
{__esModule:{enumerable:!0,value:!0},deflateCoordinate:{enumerable:!0,get:function(){return J}},deflateCoordinates:{enumerable:!0,get:function(){return K}},deflateCoordinatesArray:{enumerable:!0,get:function(){return E}},deflateMultiCoordinatesArray:{enumerable:!0,get:function(){return C}}})};
shadow$provide[46]=function(X,c,Z,N){function J(d,g,h,k,n,r,x){x=void 0!==x?x:[];r||(h=u(d,g,h,k,n,x,0),d=x,g=0,k=2);x.length=K(d,g,h,k,n,x,0);return x}function K(d,g,h,k,n,r,x){const D=(h-g)/k;if(3>D){for(;g<h;g+=k)r[x++]=d[g],r[x++]=d[g+1];return x}const z=Array(D);z[0]=1;z[D-1]=1;h=[g,h-k];let w=0;for(;0<h.length;){const q=h.pop(),A=h.pop();let L=0;const y=d[A],F=d[A+1],M=d[q],T=d[q+1];for(let Q=A+k;Q<q;Q+=k){const S=(0,e.squaredSegmentDistance)(d[Q],d[Q+1],y,F,M,T);S>L&&(w=Q,L=S)}L>n&&(z[(w-g)/
k]=1,A+k<w&&h.push(A,w),w+k<q&&h.push(w,q))}for(n=0;n<D;++n)z[n]&&(r[x++]=d[g+n*k],r[x++]=d[g+n*k+1]);return x}function E(d,g,h,k,n,r,x,D){for(let z=0,w=h.length;z<w;++z){const q=h[z];x=K(d,g,q,k,n,r,x);D.push(x);g=q}return x}function C(d,g,h,k,n,r,x,D){for(let z=0,w=h.length;z<w;++z){const q=h[z],A=[];x=E(d,g,q,k,n,r,x,A);D.push(A);g=q[q.length-1]}return x}function u(d,g,h,k,n,r,x){if(h<=g+k){for(;g<h;g+=k)r[x++]=d[g],r[x++]=d[g+1];return x}let D=d[g],z=d[g+1];r[x++]=D;r[x++]=z;let w=D,q=z;for(g+=
k;g<h;g+=k)w=d[g],q=d[g+1],(0,e.squaredDistance)(D,z,w,q)>n&&(r[x++]=w,r[x++]=q,D=w,z=q);if(w!=D||q!=z)r[x++]=w,r[x++]=q;return x}function p(d,g){return g*Math.round(d/g)}function m(d,g,h,k,n,r,x){if(g==h)return x;let D=p(d[g],n),z=p(d[g+1],n);g+=k;r[x++]=D;r[x++]=z;let w,q;do if(w=p(d[g],n),q=p(d[g+1],n),g+=k,g==h)return r[x++]=w,r[x++]=q,x;while(w==D&&q==z);for(;g<h;){const A=p(d[g],n),L=p(d[g+1],n);g+=k;if(A==w&&L==q)continue;const y=w-D,F=q-z,M=A-D,T=L-z;y*T==F*M&&(0>y&&M<y||y==M||0<y&&M>y)&&
(0>F&&T<F||F==T||0<F&&T>F)||(r[x++]=w,r[x++]=q,D=w,z=q);w=A;q=L}r[x++]=w;r[x++]=q;return x}function f(d,g,h,k,n,r,x,D){for(let z=0,w=h.length;z<w;++z){const q=h[z];x=m(d,g,q,k,n,r,x);D.push(x);g=q}return x}function l(d,g,h,k,n,r,x,D){for(let z=0,w=h.length;z<w;++z){const q=h[z],A=[];x=f(d,g,q,k,n,r,x,A);D.push(A);g=q[q.length-1]}return x}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},douglasPeucker:{enumerable:!0,get:function(){return K}},douglasPeuckerArray:{enumerable:!0,get:function(){return E}},
douglasPeuckerMultiArray:{enumerable:!0,get:function(){return C}},quantize:{enumerable:!0,get:function(){return m}},quantizeArray:{enumerable:!0,get:function(){return f}},quantizeMultiArray:{enumerable:!0,get:function(){return l}},radialDistance:{enumerable:!0,get:function(){return u}},simplifyLineString:{enumerable:!0,get:function(){return J}},snap:{enumerable:!0,get:function(){return p}}});var e=c(35)};
shadow$provide[47]=function(X,c,Z,N){function J(C,u,p,m,f){f=void 0!==f?f:[];let l=0;for(;u<p;u+=m)f[l++]=C.slice(u,u+m);f.length=l;return f}function K(C,u,p,m,f){f=void 0!==f?f:[];let l=0;for(let e=0,d=p.length;e<d;++e){const g=p[e];f[l++]=J(C,u,g,m,f[l]);u=g}f.length=l;return f}function E(C,u,p,m,f){f=void 0!==f?f:[];let l=0;for(let e=0,d=p.length;e<d;++e){const g=p[e];f[l++]=1===g.length&&g[0]===u?[]:K(C,u,g,m,f[l]);u=g[g.length-1]}f.length=l;return f}Object.defineProperties(N,{__esModule:{enumerable:!0,
value:!0},inflateCoordinates:{enumerable:!0,get:function(){return J}},inflateCoordinatesArray:{enumerable:!0,get:function(){return K}},inflateMultiCoordinatesArray:{enumerable:!0,get:function(){return E}}})};
shadow$provide[48]=function(X,c,Z,N){function J(C,u,p,m){let f=0,l=C[p-m],e=C[p-m+1];for(;u<p;u+=m){const d=C[u],g=C[u+1];f+=e*d-l*g;l=d;e=g}return f/2}function K(C,u,p,m){let f=0;for(let l=0,e=p.length;l<e;++l){const d=p[l];f+=J(C,u,d,m);u=d}return f}function E(C,u,p,m){let f=0;for(let l=0,e=p.length;l<e;++l){const d=p[l];f+=K(C,u,d,m);u=d[d.length-1]}return f}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},linearRing:{enumerable:!0,get:function(){return J}},linearRings:{enumerable:!0,
get:function(){return K}},linearRingss:{enumerable:!0,get:function(){return E}}})};
shadow$provide[49]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return f}}});X=c(43);var J=c(44),K=c(28),E=c(45),C=c(46),u=c(47),p=c(48);c=c.esmDefault(X);class m extends c.default{constructor(l,e){super();this.maxDeltaRevision_=this.maxDelta_=-1;void 0===e||Array.isArray(l[0])?this.setCoordinates(l,e):this.setFlatCoordinates(e,l)}clone(){return new m(this.flatCoordinates.slice(),this.layout)}closestPointXY(l,e,d,g){if(g<(0,K.closestSquaredDistanceXY)(this.getExtent(),
l,e))return g;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,J.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,J.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,l,e,d,g)}getArea(){return(0,p.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,u.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(l){const e=[];e.length=(0,C.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,l,e,0);return new m(e,"XY")}getType(){return"LinearRing"}intersectsExtent(l){return!1}setCoordinates(l,e){this.setLayout(e,l,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,E.deflateCoordinates)(this.flatCoordinates,0,l,this.stride);this.changed()}}const f=m};
shadow$provide[50]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(43);var J=c(28),K=c(45),E=c(35);c=c.esmDefault(X);class C extends c.default{constructor(p,m){super();this.setCoordinates(p,m)}clone(){const p=new C(this.flatCoordinates.slice(),this.layout);p.applyProperties(this);return p}closestPointXY(p,m,f,l){const e=this.flatCoordinates;p=(0,E.squaredDistance)(p,m,e[0],e[1]);if(p<l){l=this.stride;for(m=0;m<
l;++m)f[m]=e[m];f.length=l;return p}return l}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(p){return(0,J.createOrUpdateFromCoordinate)(this.flatCoordinates,p)}getType(){return"Point"}intersectsExtent(p){return(0,J.containsXY)(p,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(p,m){this.setLayout(m,p,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,K.deflateCoordinate)(this.flatCoordinates,0,p,this.stride);
this.changed()}}const u=C};
shadow$provide[51]=function(X,c,Z,N){function J(p,m,f,l,e){return!(0,u.forEachCorner)(e,function(d){return!K(p,m,f,l,d[0],d[1])})}function K(p,m,f,l,e,d){let g=0,h=p[f-l],k=p[f-l+1];for(;m<f;m+=l){const n=p[m],r=p[m+1];k<=d?r>d&&0<(n-h)*(d-k)-(e-h)*(r-k)&&g++:r<=d&&0>(n-h)*(d-k)-(e-h)*(r-k)&&g--;h=n;k=r}return 0!==g}function E(p,m,f,l,e,d){if(0===f.length||!K(p,m,f[0],l,e,d))return!1;for(let g=1,h=f.length;g<h;++g)if(K(p,f[g-1],f[g],l,e,d))return!1;return!0}function C(p,m,f,l,e,d){if(0===f.length)return!1;
for(let g=0,h=f.length;g<h;++g){const k=f[g];if(E(p,m,k,l,e,d))return!0;m=k[k.length-1]}return!1}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},linearRingContainsExtent:{enumerable:!0,get:function(){return J}},linearRingContainsXY:{enumerable:!0,get:function(){return K}},linearRingsContainsXY:{enumerable:!0,get:function(){return E}},linearRingssContainsXY:{enumerable:!0,get:function(){return C}}});var u=c(28)};
shadow$provide[52]=function(X,c,Z,N){function J(u,p,m,f,l,e,d){let g;let h;const k=l[e+1],n=[];for(let w=0,q=m.length;w<q;++w){var r=m[w];var x=u[r-f];var D=u[r-f+1];for(g=p;g<r;g+=f){h=u[g];var z=u[g+1];if(k<=D&&z<=k||D<=k&&k<=z)x=(k-D)/(z-D)*(h-x)+x,n.push(x);x=h;D=z}}r=NaN;D=-Infinity;n.sort(E.ascending);x=n[0];g=1;for(z=n.length;g<z;++g){h=n[g];const w=Math.abs(h-x);w>D&&(x=(x+h)/2,(0,C.linearRingsContainsXY)(u,p,m,f,x,k)&&(r=x,D=w));x=h}isNaN(r)&&(r=l[e]);return d?(d.push(r,k,D),d):[r,k,D]}function K(u,
p,m,f,l){let e=[];for(let d=0,g=m.length;d<g;++d){const h=m[d];e=J(u,p,h,f,l,2*d,e);p=h[h.length-1]}return e}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},getInteriorPointOfArray:{enumerable:!0,get:function(){return J}},getInteriorPointsOfMultiArray:{enumerable:!0,get:function(){return K}}});var E=c(12),C=c(51)};
shadow$provide[53]=function(X,c,Z,N){function J(K,E,C,u,p){let m;for(E+=u;E<C;E+=u)if(m=p(K.slice(E-u,E),K.slice(E,E+u)))return m;return!1}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},forEach:{enumerable:!0,get:function(){return J}}})};
shadow$provide[54]=function(X,c,Z,N){function J(l,e,d,g,h){const k=(0,p.extendFlatCoordinates)((0,p.createEmpty)(),l,e,d,g);return(0,p.intersects)(h,k)?(0,p.containsExtent)(h,k)||k[0]>=h[0]&&k[2]<=h[2]||k[1]>=h[1]&&k[3]<=h[3]?!0:(0,m.forEach)(l,e,d,g,function(n,r){return(0,p.intersectsSegment)(h,n,r)}):!1}function K(l,e,d,g,h){for(let k=0,n=d.length;k<n;++k){if(J(l,e,d[k],g,h))return!0;e=d[k]}return!1}function E(l,e,d,g,h){return J(l,e,d,g,h)||(0,f.linearRingContainsXY)(l,e,d,g,h[0],h[1])||(0,f.linearRingContainsXY)(l,
e,d,g,h[0],h[3])||(0,f.linearRingContainsXY)(l,e,d,g,h[2],h[1])||(0,f.linearRingContainsXY)(l,e,d,g,h[2],h[3])?!0:!1}function C(l,e,d,g,h){if(!E(l,e,d[0],g,h))return!1;if(1===d.length)return!0;for(let k=1,n=d.length;k<n;++k)if((0,f.linearRingContainsExtent)(l,d[k-1],d[k],g,h)&&!J(l,d[k-1],d[k],g,h))return!1;return!0}function u(l,e,d,g,h){for(let k=0,n=d.length;k<n;++k){const r=d[k];if(C(l,e,r,g,h))return!0;e=r[r.length-1]}return!1}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},intersectsLineString:{enumerable:!0,
get:function(){return J}},intersectsLineStringArray:{enumerable:!0,get:function(){return K}},intersectsLinearRing:{enumerable:!0,get:function(){return E}},intersectsLinearRingArray:{enumerable:!0,get:function(){return C}},intersectsLinearRingMultiArray:{enumerable:!0,get:function(){return u}}});var p=c(28),m=c(53),f=c(51)};
shadow$provide[55]=function(X,c,Z,N){function J(K,E,C,u){for(;E<C-u;){for(let p=0;p<u;++p){const m=K[E+p];K[E+p]=K[C-u+p];K[C-u+p]=m}E+=u;C-=u}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},coordinates:{enumerable:!0,get:function(){return J}}})};
shadow$provide[56]=function(X,c,Z,N){function J(f,l,e,d){let g=0,h=f[e-d],k=f[e-d+1];for(;l<e;l+=d){const n=f[l],r=f[l+1];g+=(n-h)*(r+k);h=n;k=r}return 0===g?void 0:0<g}function K(f,l,e,d,g){g=void 0!==g?g:!1;for(let h=0,k=e.length;h<k;++h){const n=e[h];l=J(f,l,n,d);if(0===h){if(g&&l||!g&&!l)return!1}else if(g&&!l||!g&&l)return!1;l=n}return!0}function E(f,l,e,d,g){for(let h=0,k=e.length;h<k;++h){const n=e[h];if(!K(f,l,n,d,g))return!1;n.length&&(l=n[n.length-1])}return!0}function C(f,l,e,d,g){g=void 0!==
g?g:!1;for(let h=0,k=e.length;h<k;++h){const n=e[h],r=J(f,l,n,d);(0===h?g&&r||!g&&!r:g&&!r||!g&&r)&&(0,m.coordinates)(f,l,n,d);l=n}return l}function u(f,l,e,d,g){for(let h=0,k=e.length;h<k;++h)l=C(f,l,e[h],d,g);return l}function p(f,l){const e=[];let d=0,g=0;for(let h=0,k=l.length;h<k;++h){const n=l[h];if(J(f,d,n,2)){if(0===e.length)continue;e[e.length-1].push(l[g])}else e.push(l.slice(g,h+1));g=h+1;d=n}return e}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},inflateEnds:{enumerable:!0,
get:function(){return p}},linearRingIsClockwise:{enumerable:!0,get:function(){return J}},linearRingsAreOriented:{enumerable:!0,get:function(){return K}},linearRingssAreOriented:{enumerable:!0,get:function(){return E}},orientLinearRings:{enumerable:!0,get:function(){return C}},orientLinearRingsArray:{enumerable:!0,get:function(){return u}}});var m=c(55)};
shadow$provide[57]=function(X,c,Z,N){function J(A,L,y,F){y=y?y:32;const M=[];for(let T=0;T<y;++T)(0,f.extend)(M,(0,x.offset)(A,L,2*Math.PI*T/y,F));M.push(M[0],M[1]);return new w(M,"XY",[M.length])}function K(A){if((0,p.isEmpty)(A))throw Error("Cannot create polygon from empty extent");var L=A[0];const y=A[1],F=A[2];A=A[3];L=[L,y,L,A,F,A,F,y,L,y];return new w(L,"XY",[L.length])}function E(A,L,y){L=L?L:32;var F=A.getStride();const M=A.getLayout(),T=A.getCenter();L=F*(L+1);const Q=Array(L);for(let S=
0;S<L;S+=F){Q[S]=0;Q[S+1]=0;for(let W=2;W<F;W++)Q[S+W]=T[W]}F=new w(Q,M,[Q.length]);C(F,T,A.getRadius(),y);return F}function C(A,L,y,F){const M=A.getFlatCoordinates(),T=A.getStride(),Q=M.length/T-1;F=F?F:0;for(let S=0;S<=Q;++S){const W=S*T,ca=F+2*(0,n.modulo)(S,Q)*Math.PI/Q;M[W]=L[0]+y*Math.cos(ca);M[W+1]=L[1]+y*Math.sin(ca)}A.changed()}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},circular:{enumerable:!0,get:function(){return J}},default:{enumerable:!0,get:function(){return q}},
fromCircle:{enumerable:!0,get:function(){return E}},fromExtent:{enumerable:!0,get:function(){return K}},makeRegular:{enumerable:!0,get:function(){return C}}});X=c(49);Z=c(50);N=c(43);var u=c(44),p=c(28),m=c(45),f=c(12),l=c(52),e=c(47),d=c(54),g=c(56),h=c(48),k=c(51),n=c(35),r=c(46),x=c(38);N=c.esmDefault(N);var D=c.esmDefault(Z),z=c.esmDefault(X);class w extends N.default{constructor(A,L,y){super();this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.orientedRevision_=
this.maxDeltaRevision_=this.maxDelta_=-1;this.orientedFlatCoordinates_=null;void 0!==L&&y?(this.setFlatCoordinates(L,A),this.ends_=y):this.setCoordinates(A,L)}appendLinearRing(A){this.flatCoordinates?(0,f.extend)(this.flatCoordinates,A.getFlatCoordinates()):this.flatCoordinates=A.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()}clone(){const A=new w(this.flatCoordinates.slice(),this.layout,this.ends_.slice());A.applyProperties(this);return A}closestPointXY(A,
L,y,F){if(F<(0,p.closestSquaredDistanceXY)(this.getExtent(),A,L))return F;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,u.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,A,L,y,F)}containsXY(A,L){return(0,k.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,A,L)}getArea(){return(0,h.linearRings)(this.getOrientedFlatCoordinates(),
0,this.ends_,this.stride)}getCoordinates(A){let L;void 0!==A?(L=this.getOrientedFlatCoordinates().slice(),(0,g.orientLinearRings)(L,0,this.ends_,this.stride,A)):L=this.flatCoordinates;return(0,e.inflateCoordinatesArray)(L,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const A=(0,p.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,l.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,
A,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new D.default(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(A){return 0>A||this.ends_.length<=A?null:new z.default(this.flatCoordinates.slice(0===A?0:this.ends_[A-1],this.ends_[A]),this.layout)}getLinearRings(){const A=this.layout,L=this.flatCoordinates,y=this.ends_,F=[];var M=0;for(let T=0,Q=y.length;T<Q;++T){const S=y[T];M=new z.default(L.slice(M,
S),A);F.push(M);M=S}return F}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const A=this.flatCoordinates;(0,g.linearRingsAreOriented)(A,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=A:(this.orientedFlatCoordinates_=A.slice(),this.orientedFlatCoordinates_.length=(0,g.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(A){const L=
[],y=[];L.length=(0,r.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(A),L,0,y);return new w(L,"XY",y)}getType(){return"Polygon"}intersectsExtent(A){return(0,d.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,A)}setCoordinates(A,L){this.setLayout(L,A,2);this.flatCoordinates||(this.flatCoordinates=[]);A=(0,m.deflateCoordinatesArray)(this.flatCoordinates,0,A,this.stride,this.ends_);this.flatCoordinates.length=0===A.length?0:A[A.length-1];this.changed()}}
const q=w};
shadow$provide[58]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},GeolocationError:{enumerable:!0,get:function(){return C}},default:{enumerable:!0,get:function(){return p}}});X=c(9);Z=c(20);var J=c(57),K=c(40),E=c(35);Z=c.esmDefault(Z);c=c.esmDefault(X);class C extends c.default{constructor(m){super("error");this.code=m.code;this.message=m.message}}class u extends Z.default{constructor(m){super();this.on;this.once;this.un;m=m||{};this.position_=null;this.transform_=
K.identityTransform;this.watchId_=void 0;this.addChangeListener("projection",this.handleProjectionChanged_);this.addChangeListener("tracking",this.handleTrackingChanged_);void 0!==m.projection&&this.setProjection(m.projection);void 0!==m.trackingOptions&&this.setTrackingOptions(m.trackingOptions);this.setTracking(void 0!==m.tracking?m.tracking:!1)}disposeInternal(){this.setTracking(!1);super.disposeInternal()}handleProjectionChanged_(){const m=this.getProjection();m&&(this.transform_=(0,K.getTransformFromProjections)((0,K.get)("EPSG:4326"),
m),this.position_&&this.set("position",this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const m=this.getTracking();m&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):m||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(m){m=m.coords;this.set("accuracy",m.accuracy);this.set("altitude",
null===m.altitude?void 0:m.altitude);this.set("altitudeAccuracy",null===m.altitudeAccuracy?void 0:m.altitudeAccuracy);this.set("heading",null===m.heading?void 0:(0,E.toRadians)(m.heading));this.position_?(this.position_[0]=m.longitude,this.position_[1]=m.latitude):this.position_=[m.longitude,m.latitude];const f=this.transform_(this.position_);this.set("position",f.slice());this.set("speed",null===m.speed?void 0:m.speed);m=(0,J.circular)(this.position_,m.accuracy);m.applyTransform(this.transform_);
this.set("accuracyGeometry",m);this.changed()}positionError_(m){this.dispatchEvent(new C(m))}getAccuracy(){return this.get("accuracy")}getAccuracyGeometry(){return this.get("accuracyGeometry")||null}getAltitude(){return this.get("altitude")}getAltitudeAccuracy(){return this.get("altitudeAccuracy")}getHeading(){return this.get("heading")}getPosition(){return this.get("position")}getProjection(){return this.get("projection")}getSpeed(){return this.get("speed")}getTracking(){return this.get("tracking")}getTrackingOptions(){return this.get("trackingOptions")}setProjection(m){this.set("projection",
(0,K.get)(m))}setTracking(m){this.set("tracking",m)}setTrackingOptions(m){this.set("trackingOptions",m)}}const p=u};
shadow$provide[59]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[60]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});class J{constructor(E){E=E||{};this.color_=void 0!==E.color?E.color:null}clone(){const E=this.getColor();return new J({color:Array.isArray(E)?E.slice():E||void 0})}getColor(){return this.color_}setColor(E){this.color_=E}}const K=J};
shadow$provide[61]=function(X,c,Z,N){function J(p,m,f,l,e,d,g){let h;var k=(f-m)/l;if(1===k)var n=m;else if(2===k)n=m,h=e;else if(0!==k){k=p[m];let r=p[m+1],x=0;n=[0];for(let D=m+l;D<f;D+=l){const z=p[D],w=p[D+1];x+=Math.sqrt((z-k)*(z-k)+(w-r)*(w-r));n.push(x);k=z;r=w}f=e*x;e=(0,C.binarySearch)(n,f);0>e?(h=(f-n[-e-2])/(n[-e-1]-n[-e-2]),n=m+(-e-2)*l):n=m+e*l}g=1<g?g:2;d=d?d:Array(g);for(m=0;m<g;++m)d[m]=void 0===n?NaN:void 0===h?p[n+m]:(0,u.lerp)(p[n+m],p[n+l+m],h);return d}function K(p,m,f,l,e,d){if(f==
m)return null;if(e<p[m+l-1])return d?(f=p.slice(m,m+l),f[l-1]=e,f):null;if(p[f-1]<e)return d?(f=p.slice(f-l,f),f[l-1]=e,f):null;if(e==p[m+l-1])return p.slice(m,m+l);m/=l;for(f/=l;m<f;)d=m+f>>1,e<p[(d+1)*l-1]?f=d:m=d+1;f=p[m*l-1];if(e==f)return p.slice((m-1)*l,(m-1)*l+l);d=(e-f)/(p[(m+1)*l-1]-f);f=[];for(let g=0;g<l-1;++g)f.push((0,u.lerp)(p[(m-1)*l+g],p[m*l+g],d));f.push(e);return f}function E(p,m,f,l,e,d,g){if(g)return K(p,m,f[f.length-1],l,e,d);if(e<p[l-1])return d?(p=p.slice(0,l),p[l-1]=e,p):null;
if(p[p.length-1]<e)return d?(p=p.slice(p.length-l),p[l-1]=e,p):null;for(let h=0,k=f.length;h<k;++h)if(d=f[h],m!=d){if(e<p[m+l-1])break;if(e<=p[d-1])return K(p,m,d,l,e,!1);m=d}return null}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},interpolatePoint:{enumerable:!0,get:function(){return J}},lineStringCoordinateAtM:{enumerable:!0,get:function(){return K}},lineStringsCoordinateAtM:{enumerable:!0,get:function(){return E}}});var C=c(12),u=c(35)};
shadow$provide[62]=function(X,c,Z,N){function J(E,C,u,p){let m=E[C],f=E[C+1],l=0;for(C+=p;C<u;C+=p){const e=E[C],d=E[C+1];l+=Math.sqrt((e-m)*(e-m)+(d-f)*(d-f));m=e;f=d}return l}function K(E,C,u,p){let m=J(E,C,u,p);const f=E[u-p]-E[C];E=E[u-p+1]-E[C+1];return m+=Math.sqrt(f*f+E*E)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},lineStringLength:{enumerable:!0,get:function(){return J}},linearRingLength:{enumerable:!0,get:function(){return K}}})};
shadow$provide[63]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return g}}});X=c(43);var J=c(44),K=c(28),E=c(45),C=c(46),u=c(12),p=c(53),m=c(47),f=c(61),l=c(54),e=c(62);c=c.esmDefault(X);class d extends c.default{constructor(h,k){super();this.flatMidpoint_=null;this.maxDeltaRevision_=this.maxDelta_=this.flatMidpointRevision_=-1;void 0===k||Array.isArray(h[0])?this.setCoordinates(h,k):this.setFlatCoordinates(k,h)}appendCoordinate(h){this.flatCoordinates?
(0,u.extend)(this.flatCoordinates,h):this.flatCoordinates=h.slice();this.changed()}clone(){const h=new d(this.flatCoordinates.slice(),this.layout);h.applyProperties(this);return h}closestPointXY(h,k,n,r){if(r<(0,K.closestSquaredDistanceXY)(this.getExtent(),h,k))return r;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,J.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,J.assignClosestPoint)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,h,k,n,r)}forEachSegment(h){return(0,p.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,h)}getCoordinateAtM(h,k){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(0,f.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,h,void 0!==k?k:!1)}getCoordinates(){return(0,m.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(h,k){return(0,f.interpolatePoint)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride,h,k,this.stride)}getLength(){return(0,e.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_}getSimplifiedGeometryInternal(h){const k=[];k.length=(0,C.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,
h,k,0);return new d(k,"XY")}getType(){return"LineString"}intersectsExtent(h){return(0,l.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,h)}setCoordinates(h,k){this.setLayout(k,h,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,E.deflateCoordinates)(this.flatCoordinates,0,h,this.stride);this.changed()}}const g=d};
shadow$provide[64]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});class J{constructor(E){E=E||{};this.color_=void 0!==E.color?E.color:null;this.lineCap_=E.lineCap;this.lineDash_=void 0!==E.lineDash?E.lineDash:null;this.lineDashOffset_=E.lineDashOffset;this.lineJoin_=E.lineJoin;this.miterLimit_=E.miterLimit;this.width_=E.width}clone(){const E=this.getColor();return new J({color:Array.isArray(E)?E.slice():E||void 0,
lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(E){this.color_=E}setLineCap(E){this.lineCap_=
E}setLineDash(E){this.lineDash_=E}setLineDashOffset(E){this.lineDashOffset_=E}setLineJoin(E){this.lineJoin_=E}setMiterLimit(E){this.miterLimit_=E}setWidth(E){this.width_=E}}const K=J};
shadow$provide[65]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[66]=function(X,c,Z,N){function J(u,p,m){void 0===m&&(m=[0,0]);m[0]=u[0]+2*p;m[1]=u[1]+2*p;return m}function K(u){return 0<u[0]&&0<u[1]}function E(u,p,m){void 0===m&&(m=[0,0]);m[0]=u[0]*p+.5|0;m[1]=u[1]*p+.5|0;return m}function C(u,p){if(Array.isArray(u))return u;void 0===p?p=[u,u]:(p[0]=u,p[1]=u);return p}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},buffer:{enumerable:!0,get:function(){return J}},hasArea:{enumerable:!0,get:function(){return K}},scale:{enumerable:!0,
get:function(){return E}},toSize:{enumerable:!0,get:function(){return C}}})};
shadow$provide[67]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});var J=c(19),K=c(66);class E{constructor(u){this.opacity_=u.opacity;this.rotateWithView_=u.rotateWithView;this.rotation_=u.rotation;this.scale_=u.scale;this.scaleArray_=(0,K.toSize)(u.scale);this.displacement_=u.displacement;this.declutterMode_=u.declutterMode}clone(){const u=this.getScale();return new E({opacity:this.getOpacity(),scale:Array.isArray(u)?
u.slice():u,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,J.abstract)()}getImage(u){return(0,J.abstract)()}getHitDetectionImage(){return(0,J.abstract)()}getPixelRatio(u){return 1}getImageState(){return(0,J.abstract)()}getImageSize(){return(0,J.abstract)()}getOrigin(){return(0,J.abstract)()}getSize(){return(0,J.abstract)()}setDisplacement(u){this.displacement_=
u}setOpacity(u){this.opacity_=u}setRotateWithView(u){this.rotateWithView_=u}setRotation(u){this.rotation_=u}setScale(u){this.scale_=u;this.scaleArray_=(0,K.toSize)(u)}listenImageChange(u){(0,J.abstract)()}load(){(0,J.abstract)()}unlistenImageChange(u){(0,J.abstract)()}}const C=E};
shadow$provide[68]=function(X,c,Z,N){function J(d){return"string"===typeof d?d:u(d)}function K(d){const g=document.createElement("div");g.style.color=d;return""!==g.style.color?(document.body.appendChild(g),d=getComputedStyle(g).color,document.body.removeChild(g),d):""}function E(d){return Array.isArray(d)?d:e(d)}function C(d){d[0]=(0,m.clamp)(d[0]+.5|0,0,255);d[1]=(0,m.clamp)(d[1]+.5|0,0,255);d[2]=(0,m.clamp)(d[2]+.5|0,0,255);d[3]=(0,m.clamp)(d[3],0,1);return d}function u(d){let g=d[0];g!=(g|0)&&
(g=g+.5|0);let h=d[1];h!=(h|0)&&(h=h+.5|0);let k=d[2];k!=(k|0)&&(k=k+.5|0);return"rgba("+g+","+h+","+k+","+(void 0===d[3]?1:Math.round(100*d[3])/100)+")"}function p(d){l.test(d)&&(d=K(d));return f.test(d)||d.startsWith("rgba(")||d.startsWith("rgb(")}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},asArray:{enumerable:!0,get:function(){return E}},asString:{enumerable:!0,get:function(){return J}},fromString:{enumerable:!0,get:function(){return e}},isStringColor:{enumerable:!0,get:function(){return p}},
normalize:{enumerable:!0,get:function(){return C}},toString:{enumerable:!0,get:function(){return u}}});var m=c(35);const f=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,l=/^([a-z]*)$|^hsla?\(.*\)$/i,e=function(){const d={};let g=0;return function(h){if(d.hasOwnProperty(h))var k=d[h];else{if(1024<=g){k=0;for(var n in d)0===(k++&3)&&(delete d[n],--g)}n=h;let x,D;l.exec(n)&&(n=K(n));if(f.exec(n)){var r=n.length-1;k=4>=r?1:2;const z=4===r||8===r;r=parseInt(n.substr(1+0*k,k),16);x=parseInt(n.substr(1+
1*k,k),16);D=parseInt(n.substr(1+2*k,k),16);n=z?parseInt(n.substr(1+3*k,k),16):255;1==k&&(r=(r<<4)+r,x=(x<<4)+x,D=(D<<4)+D,z&&(n=(n<<4)+n));k=[r,x,D,n/255]}else if(n.startsWith("rgba("))k=n.slice(5,-1).split(",").map(Number),C(k);else if(n.startsWith("rgb("))k=n.slice(4,-1).split(",").map(Number),k.push(1),C(k);else throw Error("Invalid color");d[h]=k;++g}return k}}()};
shadow$provide[69]=function(X,c,Z,N){function J(E){return Array.isArray(E)?(0,K.toString)(E):E}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},asColorLike:{enumerable:!0,get:function(){return J}}});var K=c(68)};
shadow$provide[70]=function(X,c,Z,N){function J(e,d,g,h){g=g&&g.length?g.shift():l.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(e||300,d||300):document.createElement("canvas");e&&(g.width=e);d&&(g.height=d);return g.getContext("2d",h)}function K(e){const d=e.canvas;d.width=1;d.height=1;e.clearRect(0,0,1,1)}function E(e){let d=e.offsetWidth;e=getComputedStyle(e);return d+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)}function C(e){let d=e.offsetHeight;e=getComputedStyle(e);return d+=parseInt(e.marginTop,
10)+parseInt(e.marginBottom,10)}function u(e,d){const g=d.parentNode;g&&g.replaceChild(e,d)}function p(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function m(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function f(e,d){const g=e.childNodes;for(let h=0;;++h){const k=g[h],n=d[h];if(!k&&!n)break;k!==n&&(k?n?e.insertBefore(n,k):(e.removeChild(k),--h):e.appendChild(n))}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createCanvasContext2D:{enumerable:!0,get:function(){return J}},
outerHeight:{enumerable:!0,get:function(){return C}},outerWidth:{enumerable:!0,get:function(){return E}},releaseCanvas:{enumerable:!0,get:function(){return K}},removeChildren:{enumerable:!0,get:function(){return m}},removeNode:{enumerable:!0,get:function(){return p}},replaceChildren:{enumerable:!0,get:function(){return f}},replaceNode:{enumerable:!0,get:function(){return u}}});var l=c(25)};
shadow$provide[71]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},CLASS_COLLAPSED:{enumerable:!0,get:function(){return"ol-collapsed"}},CLASS_CONTROL:{enumerable:!0,get:function(){return"ol-control"}},CLASS_HIDDEN:{enumerable:!0,get:function(){return"ol-hidden"}},CLASS_SELECTABLE:{enumerable:!0,get:function(){return"ol-selectable"}},CLASS_UNSELECTABLE:{enumerable:!0,get:function(){return"ol-unselectable"}},CLASS_UNSUPPORTED:{enumerable:!0,get:function(){return"ol-unsupported"}},
getFontParameters:{enumerable:!0,get:function(){return E}}});const J=RegExp("^\\s*(?\x3d(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$","i"),K="style variant weight size lineHeight family".split(" "),
E=function(C){C=C.match(J);if(!C)return null;const u={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let p=0,m=K.length;p<m;++p){const f=C[p+1];void 0!==f&&(u[K[p]]=f)}u.families=u.family.split(/,\s?/);return u}};
shadow$provide[72]=function(X,c,Z,N){function J(z,w){k||(k=(0,l.createCanvasContext2D)(1,1));z!=n&&(k.font=z,n=k.font);return k.measureText(w)}function K(z,w){return J(z,w).width}function E(z,w,q){if(w in q)return q[w];const A=w.split("\n").reduce((L,y)=>Math.max(L,K(z,y)),0);return q[w]=A}function C(z,w){const q=[],A=[],L=[];let y=0,F=0,M=0,T=0;for(let W=0,ca=w.length;W<=ca;W+=2){var Q=w[W];if("\n"===Q||W===ca)y=Math.max(y,F),L.push(F),F=0,M+=T;else{var S=w[W+1]||z.font;Q=K(S,Q);q.push(Q);F+=Q;S=
D(S);A.push(S);T=Math.max(T,S)}}return{width:y,height:M,widths:q,heights:A,lineWidths:L}}function u(z,w,q,A){0!==w&&(z.translate(q,A),z.rotate(w),z.translate(-q,-A))}function p(z,w,q,A,L,y,F,M,T,Q,S){z.save();1!==q&&(z.globalAlpha*=q);w&&z.transform.apply(z,w);if(A.contextInstructions){z.translate(T,Q);z.scale(S[0],S[1]);w=A.contextInstructions;for(let W=0,ca=w.length;W<ca;W+=2)Array.isArray(w[W+1])?z[w[W]].apply(z,w[W+1]):z[w[W]]=w[W+1]}else 0>S[0]||0>S[1]?(z.translate(T,Q),z.scale(S[0],S[1]),z.drawImage(A,
L,y,F,M,0,0,F,M)):z.drawImage(A,L,y,F,M,T,Q,F*S[0],M*S[1]);z.restore()}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},checkedFonts:{enumerable:!0,get:function(){return h}},defaultFillStyle:{enumerable:!0,get:function(){return"#000"}},defaultFont:{enumerable:!0,get:function(){return"10px sans-serif"}},defaultLineCap:{enumerable:!0,get:function(){return"round"}},defaultLineDash:{enumerable:!0,get:function(){return d}},defaultLineDashOffset:{enumerable:!0,get:function(){return 0}},defaultLineJoin:{enumerable:!0,
get:function(){return"round"}},defaultLineWidth:{enumerable:!0,get:function(){return 1}},defaultMiterLimit:{enumerable:!0,get:function(){return 10}},defaultPadding:{enumerable:!0,get:function(){return g}},defaultStrokeStyle:{enumerable:!0,get:function(){return"#000"}},defaultTextAlign:{enumerable:!0,get:function(){return"center"}},defaultTextBaseline:{enumerable:!0,get:function(){return"middle"}},drawImageOrLabel:{enumerable:!0,get:function(){return p}},getTextDimensions:{enumerable:!0,get:function(){return C}},
measureAndCacheTextWidth:{enumerable:!0,get:function(){return E}},measureTextHeight:{enumerable:!0,get:function(){return D}},measureTextWidth:{enumerable:!0,get:function(){return K}},registerFont:{enumerable:!0,get:function(){return x}},rotateAtOffset:{enumerable:!0,get:function(){return u}},textHeights:{enumerable:!0,get:function(){return r}}});X=c(20);var m=c(25),f=c(14),l=c(70),e=c(71);const d=[],g=[0,0,0,0],h=new (c.esmDefault(X).default);let k=null,n;const r={},x=function(){function z(F,M,T){let Q=
!0;for(let W=0;W<A;++W){var S=q[W];y=K(F+" "+M+" 32px "+S,"wmytzilWMYTZIL@#/\x26?$%10");T!=S&&(S=K(F+" "+M+" 32px "+T+","+S,"wmytzilWMYTZIL@#/\x26?$%10"),Q=Q&&S!=y)}return Q?!0:!1}function w(){let F=!0;const M=h.getKeys();for(let T=0,Q=M.length;T<Q;++T){const S=M[T];100>h.get(S)&&(z.apply(this,S.split("\n"))?((0,f.clear)(r),k=null,n=void 0,h.set(S,100)):(h.set(S,h.get(S)+1,!0),F=!1))}F&&(clearInterval(L),L=void 0)}const q=["monospace","serif"],A=q.length;let L,y;return function(F){if(F=(0,e.getFontParameters)(F)){var M=
F.families;for(let T=0,Q=M.length;T<Q;++T){const S=M[T],W=F.style+"\n"+F.weight+"\n"+S;void 0===h.get(W)&&(h.set(W,100,!0),z(F.style,F.weight,S)||(h.set(W,0,!0),void 0===L&&(L=setInterval(w,32))))}}}}(),D=function(){let z;return function(w){var q=r[w];if(void 0==q){if(m.WORKER_OFFSCREEN_CANVAS){q=(0,e.getFontParameters)(w);const A=J(w,"g");q=(isNaN(Number(q.lineHeight))?1.2:Number(q.lineHeight))*(A.actualBoundingBoxAscent+A.actualBoundingBoxDescent)}else z||(z=document.createElement("div"),z.innerHTML=
"M",z.style.minHeight="0",z.style.maxHeight="none",z.style.height="auto",z.style.padding="0",z.style.border="none",z.style.position="absolute",z.style.display="block",z.style.left="-99999px"),z.style.font=w,document.body.appendChild(z),q=z.offsetHeight,document.body.removeChild(z);r[w]=q}return q}}()};
shadow$provide[73]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});X=c(65);Z=c(67);var J=c(68),K=c(69),E=c(70),C=c(72),u=c.esmDefault(X);c=c.esmDefault(Z);class p extends c.default{constructor(f){super({opacity:1,rotateWithView:void 0!==f.rotateWithView?f.rotateWithView:!1,rotation:void 0!==f.rotation?f.rotation:0,scale:void 0!==f.scale?f.scale:1,displacement:void 0!==f.displacement?f.displacement:[0,0],declutterMode:f.declutterMode});
this.canvas_=void 0;this.hitDetectionCanvas_=null;this.fill_=void 0!==f.fill?f.fill:null;this.origin_=[0,0];this.points_=f.points;this.radius_=void 0!==f.radius?f.radius:f.radius1;this.radius2_=f.radius2;this.angle_=void 0!==f.angle?f.angle:0;this.stroke_=void 0!==f.stroke?f.stroke:null;this.renderOptions_=this.size_=null;this.render()}clone(){var f=this.getScale();f=new p({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),
angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(f)?f.slice():f,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});f.setOpacity(this.getOpacity());return f}getAnchor(){const f=this.size_;if(!f)return null;const l=this.getDisplacement(),e=this.getScaleArray();return[f[0]/2-l[0]/e[0],f[1]/2+l[1]/e[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(f){this.fill_=
f;this.render()}getHitDetectionImage(){this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_);return this.hitDetectionCanvas_}getImage(f){var l=this.canvas_[f];if(!l){l=this.renderOptions_;const e=(0,E.createCanvasContext2D)(l.size*f,l.size*f);this.draw_(l,e,f);l=e.canvas;this.canvas_[f]=l}return l}getPixelRatio(f){return f}getImageSize(){return this.size_}getImageState(){return u.default.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(f){this.stroke_=
f;this.render()}listenImageChange(f){}load(){}unlistenImageChange(f){}calculateLineJoinSize_(f,l,e){if(0===l||Infinity===this.points_||"bevel"!==f&&"miter"!==f)return l;let d=this.radius_,g=void 0===this.radius2_?d:this.radius2_;if(d<g){var h=d;d=g;g=h}h=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_);var k=g*Math.sin(h),n=d-Math.sqrt(g*g-k*k);const r=Math.sqrt(k*k+n*n);k=r/k;if("miter"===f&&k<=e)return k*l;k=l/2/k;n=l/2*(n/r);n=Math.sqrt((d+k)*(d+k)+n*n)-d;if(void 0===this.radius2_||
"bevel"===f)return 2*n;f=d*Math.sin(h);h=g-Math.sqrt(d*d-f*f);f=Math.sqrt(f*f+h*h)/f;return f<=e?2*Math.max(n,f*l/2-g-d):2*n}createRenderOptions(){let f=C.defaultLineCap,l=C.defaultLineJoin,e=0,d=null,g=0,h,k=0;this.stroke_&&(h=this.stroke_.getColor(),null===h&&(h=C.defaultStrokeStyle),h=(0,K.asColorLike)(h),k=this.stroke_.getWidth(),void 0===k&&(k=C.defaultLineWidth),d=this.stroke_.getLineDash(),g=this.stroke_.getLineDashOffset(),l=this.stroke_.getLineJoin(),void 0===l&&(l=C.defaultLineJoin),f=this.stroke_.getLineCap(),
void 0===f&&(f=C.defaultLineCap),e=this.stroke_.getMiterLimit(),void 0===e&&(e=C.defaultMiterLimit));const n=this.calculateLineJoinSize_(l,k,e);return{strokeStyle:h,strokeWidth:k,size:Math.ceil(2*Math.max(this.radius_,this.radius2_||0)+n),lineCap:f,lineDash:d,lineDashOffset:g,lineJoin:l,miterLimit:e}}render(){this.renderOptions_=this.createRenderOptions();const f=this.renderOptions_.size;this.canvas_={};this.size_=[f,f]}draw_(f,l,e){l.scale(e,e);l.translate(f.size/2,f.size/2);this.createPath_(l);
this.fill_&&(e=this.fill_.getColor(),null===e&&(e=C.defaultFillStyle),l.fillStyle=(0,K.asColorLike)(e),l.fill());this.stroke_&&(l.strokeStyle=f.strokeStyle,l.lineWidth=f.strokeWidth,f.lineDash&&(l.setLineDash(f.lineDash),l.lineDashOffset=f.lineDashOffset),l.lineCap=f.lineCap,l.lineJoin=f.lineJoin,l.miterLimit=f.miterLimit,l.stroke())}createHitDetectionCanvas_(f){if(this.fill_){var l=this.fill_.getColor();let e=0;"string"===typeof l&&(l=(0,J.asArray)(l));null===l?e=1:Array.isArray(l)&&(e=4===l.length?
l[3]:1);0===e&&(l=(0,E.createCanvasContext2D)(f.size,f.size),this.hitDetectionCanvas_=l.canvas,this.drawHitDetectionCanvas_(f,l))}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(f){let l=this.points_;const e=this.radius_;if(Infinity===l)f.arc(0,0,e,0,2*Math.PI);else{const d=void 0===this.radius2_?e:this.radius2_;void 0!==this.radius2_&&(l*=2);const g=this.angle_-Math.PI/2,h=2*Math.PI/l;for(let k=0;k<l;k++){const n=g+k*h,r=0===k%2?e:d;f.lineTo(r*Math.cos(n),r*Math.sin(n))}f.closePath()}}drawHitDetectionCanvas_(f,
l){l.translate(f.size/2,f.size/2);this.createPath_(l);l.fillStyle=C.defaultFillStyle;l.fill();this.stroke_&&(l.strokeStyle=f.strokeStyle,l.lineWidth=f.strokeWidth,f.lineDash&&(l.setLineDash(f.lineDash),l.lineDashOffset=f.lineDashOffset),l.lineJoin=f.lineJoin,l.miterLimit=f.miterLimit,l.stroke())}}const m=p};
shadow$provide[74]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});X=c(73);c=c.esmDefault(X);class J extends c.default{constructor(E){E=E?E:{radius:5};super({points:Infinity,fill:E.fill,radius:E.radius,stroke:E.stroke,scale:void 0!==E.scale?E.scale:1,rotation:void 0!==E.rotation?E.rotation:0,rotateWithView:void 0!==E.rotateWithView?E.rotateWithView:!1,displacement:void 0!==E.displacement?E.displacement:[0,0],declutterMode:E.declutterMode})}clone(){var E=
this.getScale();E=new J({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(E)?E.slice():E,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});E.setOpacity(this.getOpacity());return E}setRadius(E){this.radius_=E;this.render()}}const K=J};
shadow$provide[75]=function(X,c,Z,N){function J(g){if("function"!==typeof g){let h;Array.isArray(g)?h=g:((0,u.assert)("function"===typeof g.getZIndex,"Expected an `Style` or an array of `Style`"),h=[g]);g=function(){return h}}return g}function K(g,h){e||(g=new f.default({color:"rgba(255,255,255,0.4)"}),h=new m.default({color:"#3399CC",width:1.25}),e=[new l({image:new p.default({fill:g,stroke:h,radius:5}),fill:g,stroke:h})]);return e}function E(){const g={},h=[255,255,255,1],k=[0,153,255,1];g.Polygon=
[new l({fill:new f.default({color:[255,255,255,.5]})})];g.MultiPolygon=g.Polygon;g.LineString=[new l({stroke:new m.default({color:h,width:5})}),new l({stroke:new m.default({color:k,width:3})})];g.MultiLineString=g.LineString;g.Circle=g.Polygon.concat(g.LineString);g.Point=[new l({image:new p.default({radius:6,fill:new f.default({color:k}),stroke:new m.default({color:h,width:1.5})}),zIndex:Infinity})];g.MultiPoint=g.Point;g.GeometryCollection=g.Polygon.concat(g.LineString,g.Point);return g}function C(g){return g.getGeometry()}
Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createDefaultStyle:{enumerable:!0,get:function(){return K}},createEditingStyle:{enumerable:!0,get:function(){return E}},default:{enumerable:!0,get:function(){return d}},toFunction:{enumerable:!0,get:function(){return J}}});X=c(74);Z=c(60);N=c(64);var u=c(23),p=c.esmDefault(X),m=c.esmDefault(N),f=c.esmDefault(Z);class l{constructor(g){g=g||{};this.geometry_=null;this.geometryFunction_=C;void 0!==g.geometry&&this.setGeometry(g.geometry);
this.fill_=void 0!==g.fill?g.fill:null;this.image_=void 0!==g.image?g.image:null;this.renderer_=void 0!==g.renderer?g.renderer:null;this.hitDetectionRenderer_=void 0!==g.hitDetectionRenderer?g.hitDetectionRenderer:null;this.stroke_=void 0!==g.stroke?g.stroke:null;this.text_=void 0!==g.text?g.text:null;this.zIndex_=g.zIndex}clone(){let g=this.getGeometry();g&&"object"===typeof g&&(g=g.clone());return new l({geometry:g,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():
void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(g){this.renderer_=g}setHitDetectionRenderer(g){this.hitDetectionRenderer_=g}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(g){this.fill_=g}getImage(){return this.image_}setImage(g){this.image_=
g}getStroke(){return this.stroke_}setStroke(g){this.stroke_=g}getText(){return this.text_}setText(g){this.text_=g}getZIndex(){return this.zIndex_}setGeometry(g){"function"===typeof g?this.geometryFunction_=g:"string"===typeof g?this.geometryFunction_=function(h){return h.get(g)}:g?void 0!==g&&(this.geometryFunction_=function(){return g}):this.geometryFunction_=C;this.geometry_=g}setZIndex(g){this.zIndex_=g}}let e=null;const d=l};
shadow$provide[76]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});X=c(60);var J=c(66),K=c.esmDefault(X);class E{constructor(u){u=u||{};this.font_=u.font;this.rotation_=u.rotation;this.rotateWithView_=u.rotateWithView;this.scale_=u.scale;this.scaleArray_=(0,J.toSize)(void 0!==u.scale?u.scale:1);this.text_=u.text;this.textAlign_=u.textAlign;this.justify_=u.justify;this.repeat_=u.repeat;this.textBaseline_=u.textBaseline;
this.fill_=void 0!==u.fill?u.fill:new K.default({color:"#333"});this.maxAngle_=void 0!==u.maxAngle?u.maxAngle:Math.PI/4;this.placement_=void 0!==u.placement?u.placement:"point";this.overflow_=!!u.overflow;this.stroke_=void 0!==u.stroke?u.stroke:null;this.offsetX_=void 0!==u.offsetX?u.offsetX:0;this.offsetY_=void 0!==u.offsetY?u.offsetY:0;this.backgroundFill_=u.backgroundFill?u.backgroundFill:null;this.backgroundStroke_=u.backgroundStroke?u.backgroundStroke:null;this.padding_=void 0===u.padding?null:
u.padding}clone(){const u=this.getScale();return new E({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(u)?u.slice():u,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,
offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(u){this.overflow_=
u}setFont(u){this.font_=u}setMaxAngle(u){this.maxAngle_=u}setOffsetX(u){this.offsetX_=u}setOffsetY(u){this.offsetY_=u}setPlacement(u){this.placement_=u}setRepeat(u){this.repeat_=u}setRotateWithView(u){this.rotateWithView_=u}setFill(u){this.fill_=u}setRotation(u){this.rotation_=u}setScale(u){this.scale_=u;this.scaleArray_=(0,J.toSize)(void 0!==u?u:1)}setStroke(u){this.stroke_=u}setText(u){this.text_=u}setTextAlign(u){this.textAlign_=u}setJustify(u){this.justify_=u}setTextBaseline(u){this.textBaseline_=
u}setBackgroundFill(u){this.backgroundFill_=u}setBackgroundStroke(u){this.backgroundStroke_=u}setPadding(u){this.padding_=u}}const C=E};
shadow$provide[77]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}};
shadow$provide[78]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});Z=c(20);X=c(77);var J=c(19),K=c(23),E=c(35);Z=c.esmDefault(Z);var C=c.esmDefault(X);class u extends Z.default{constructor(m){super();this.on;this.once;this.un;this.background_=m.background;const f=Object.assign({},m);"object"===typeof m.properties&&(delete f.properties,Object.assign(f,m.properties));f[C.default.OPACITY]=void 0!==m.opacity?m.opacity:
1;(0,K.assert)("number"===typeof f[C.default.OPACITY],"Layer opacity must be a number");f[C.default.VISIBLE]=void 0!==m.visible?m.visible:!0;f[C.default.Z_INDEX]=m.zIndex;f[C.default.MAX_RESOLUTION]=void 0!==m.maxResolution?m.maxResolution:Infinity;f[C.default.MIN_RESOLUTION]=void 0!==m.minResolution?m.minResolution:0;f[C.default.MIN_ZOOM]=void 0!==m.minZoom?m.minZoom:-Infinity;f[C.default.MAX_ZOOM]=void 0!==m.maxZoom?m.maxZoom:Infinity;this.className_=void 0!==f.className?f.className:"ol-layer";
delete f.className;this.setProperties(f);this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(m){m=this.state_||{layer:this,managed:void 0===m?!0:m};const f=this.getZIndex();m.opacity=(0,E.clamp)(Math.round(100*this.getOpacity())/100,0,1);m.visible=this.getVisible();m.extent=this.getExtent();m.zIndex=void 0!==f||m.managed?f:Infinity;m.maxResolution=this.getMaxResolution();m.minResolution=Math.max(this.getMinResolution(),0);m.minZoom=this.getMinZoom();
m.maxZoom=this.getMaxZoom();return this.state_=m}getLayersArray(m){return(0,J.abstract)()}getLayerStatesArray(m){return(0,J.abstract)()}getExtent(){return this.get(C.default.EXTENT)}getMaxResolution(){return this.get(C.default.MAX_RESOLUTION)}getMinResolution(){return this.get(C.default.MIN_RESOLUTION)}getMinZoom(){return this.get(C.default.MIN_ZOOM)}getMaxZoom(){return this.get(C.default.MAX_ZOOM)}getOpacity(){return this.get(C.default.OPACITY)}getSourceState(){return(0,J.abstract)()}getVisible(){return this.get(C.default.VISIBLE)}getZIndex(){return this.get(C.default.Z_INDEX)}setBackground(m){this.background_=
m;this.changed()}setExtent(m){this.set(C.default.EXTENT,m)}setMaxResolution(m){this.set(C.default.MAX_RESOLUTION,m)}setMinResolution(m){this.set(C.default.MIN_RESOLUTION,m)}setMaxZoom(m){this.set(C.default.MAX_ZOOM,m)}setMinZoom(m){this.set(C.default.MIN_ZOOM,m)}setOpacity(m){(0,K.assert)("number"===typeof m,"Layer opacity must be a number");this.set(C.default.OPACITY,m)}setVisible(m){this.set(C.default.VISIBLE,m)}setZIndex(m){this.set(C.default.Z_INDEX,m)}disposeInternal(){this.state_&&(this.state_=
this.state_.layer=null);super.disposeInternal()}}const p=u};
shadow$provide[79]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={ANIMATING:0,INTERACTING:1}};
shadow$provide[80]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[81]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},DEFAULT_MAX_ZOOM:{enumerable:!0,get:function(){return 42}},DEFAULT_TILE_SIZE:{enumerable:!0,get:function(){return 256}}})};
shadow$provide[82]=function(X,c,Z,N){function J(C,u,p){return function(m,f,l,e,d){if(m){if(!f&&!u)return m;var g=u?0:l[0]*f,h=u?0:l[1]*f;l=d?d[0]:0;var k=d?d[1]:0;d=C[0]+g/2+l;g=C[2]-g/2+l;l=C[1]+h/2+k;h=C[3]-h/2+k;d>g&&(g=d=(g+d)/2);l>h&&(h=l=(h+l)/2);k=(0,E.clamp)(m[0],d,g);var n=(0,E.clamp)(m[1],l,h);e&&p&&f&&(f*=30,k+=-f*Math.log(1+Math.max(0,d-m[0])/f)+f*Math.log(1+Math.max(0,m[0]-g)/f),n+=-f*Math.log(1+Math.max(0,l-m[1])/f)+f*Math.log(1+Math.max(0,m[1]-h)/f));return[k,n]}}}function K(C){return C}
Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createExtent:{enumerable:!0,get:function(){return J}},none:{enumerable:!0,get:function(){return K}}});var E=c(35)};
shadow$provide[83]=function(X,c,Z,N){function J(l,e,d,g){const h=(0,m.getWidth)(e)/d[0];e=(0,m.getHeight)(e)/d[1];return g?Math.min(l,Math.max(h,e)):Math.min(l,Math.min(h,e))}function K(l,e,d){let g=Math.min(l,e);g*=Math.log(1+50*Math.max(0,l/e-1))/50+1;d&&(g=Math.max(g,d),g/=Math.log(1+50*Math.max(0,d/l-1))/50+1);return(0,p.clamp)(g,d/2,2*e)}function E(l,e,d,g){e=void 0!==e?e:!0;return function(h,k,n,r){if(void 0!==h){const x=l[0],D=l[l.length-1];n=d?J(x,d,n,g):x;if(r)return e?K(h,n,D):(0,p.clamp)(h,
D,n);h=Math.floor((0,f.linearFindNearest)(l,Math.min(n,h),k));return l[h]>n&&h<l.length-1?l[h+1]:l[h]}}}function C(l,e,d,g,h,k){g=void 0!==g?g:!0;d=void 0!==d?d:0;return function(n,r,x,D){if(void 0!==n)return x=h?J(e,h,x,k):e,D?g?K(n,x,d):(0,p.clamp)(n,d,x):(0,p.clamp)(e/Math.pow(l,Math.max(Math.ceil(Math.log(e/x)/Math.log(l)-1E-9),Math.floor(Math.log(e/Math.min(x,n))/Math.log(l)+(-r*(.5-1E-9)+.5)))),d,x)}}function u(l,e,d,g,h){d=void 0!==d?d:!0;return function(k,n,r,x){if(void 0!==k)return n=g?J(l,
g,r,h):l,d&&x?K(k,n,e):(0,p.clamp)(k,e,n)}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createMinMaxResolution:{enumerable:!0,get:function(){return u}},createSnapToPower:{enumerable:!0,get:function(){return C}},createSnapToResolutions:{enumerable:!0,get:function(){return E}}});var p=c(35),m=c(28),f=c(12)};
shadow$provide[84]=function(X,c,Z,N){function J(p){if(void 0!==p)return 0}function K(p){if(void 0!==p)return p}function E(p){const m=2*Math.PI/p;return function(f,l){if(l)return f;if(void 0!==f)return f=Math.floor(f/m+.5)*m}}function C(p){p=p||(0,u.toRadians)(5);return function(m,f){if(f)return m;if(void 0!==m)return Math.abs(m)<=p?0:m}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createSnapToN:{enumerable:!0,get:function(){return E}},createSnapToZero:{enumerable:!0,get:function(){return C}},
disable:{enumerable:!0,get:function(){return J}},none:{enumerable:!0,get:function(){return K}}});var u=c(35)};
shadow$provide[85]=function(X,c,Z,N){function J(p){return Math.pow(p,3)}function K(p){return 1-J(1-p)}function E(p){return 3*p*p-2*p*p*p}function C(p){return p}function u(p){return.5>p?E(2*p):1-E(2*(p-.5))}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},easeIn:{enumerable:!0,get:function(){return J}},easeOut:{enumerable:!0,get:function(){return K}},inAndOut:{enumerable:!0,get:function(){return E}},linear:{enumerable:!0,get:function(){return C}},upAndDown:{enumerable:!0,get:function(){return u}}})};
shadow$provide[86]=function(X,c,Z,N){function J(y,F){setTimeout(function(){y(F)},0)}function K(y){if(void 0!==y.extent)return(0,g.createExtent)(y.extent,y.constrainOnlyCenter,void 0!==y.smoothExtentConstraint?y.smoothExtentConstraint:!0);const F=(0,f.createProjection)(y.projection,"EPSG:3857");return!0!==y.multiWorld&&F.isGlobal()?(y=F.getExtent().slice(),y[0]=-Infinity,y[2]=Infinity,(0,g.createExtent)(y,!1,!1)):g.none}function E(y){let F=void 0!==y.minZoom?y.minZoom:0,M=void 0!==y.maxZoom?y.maxZoom:
28;const T=void 0!==y.zoomFactor?y.zoomFactor:2;var Q=void 0!==y.multiWorld?y.multiWorld:!1;const S=void 0!==y.smoothResolutionConstraint?y.smoothResolutionConstraint:!0,W=void 0!==y.showFullExtent?y.showFullExtent:!1;var ca=(0,f.createProjection)(y.projection,"EPSG:3857");var B=ca.getExtent();let v=y.constrainOnlyCenter,I=y.extent;Q||I||!ca.isGlobal()||(v=!1,I=B);if(void 0!==y.resolutions)B=y.resolutions,Q=B[F],ca=void 0!==B[M]?B[M]:B[B.length-1],y=y.constrainResolution?(0,k.createSnapToResolutions)(B,
S,!v&&I,W):(0,k.createMinMaxResolution)(Q,ca,S,!v&&I,W);else{B=(B?Math.max((0,x.getWidth)(B),(0,x.getHeight)(B)):360*f.METERS_PER_UNIT.degrees/ca.getMetersPerUnit())/m.DEFAULT_TILE_SIZE/Math.pow(2,0);const O=B/Math.pow(2,28);Q=y.maxResolution;void 0!==Q?F=0:Q=B/Math.pow(T,F);ca=y.minResolution;void 0===ca&&(ca=void 0!==y.maxZoom?void 0!==y.maxResolution?Q/Math.pow(T,M):B/Math.pow(T,M):O);M=F+Math.floor(Math.log(Q/ca)/Math.log(T));ca=Q/Math.pow(T,M-F);y=y.constrainResolution?(0,k.createSnapToPower)(T,
Q,ca,S,!v&&I,W):(0,k.createMinMaxResolution)(Q,ca,S,!v&&I,W)}return{constraint:y,maxResolution:Q,minResolution:ca,minZoom:F,zoomFactor:T}}function C(y){return(void 0!==y.enableRotation?y.enableRotation:1)?(y=y.constrainRotation,void 0===y||!0===y?(0,n.createSnapToZero)():!1===y?n.none:"number"===typeof y?(0,n.createSnapToN)(y):n.none):n.disable}function u(y){return y.sourceCenter&&y.targetCenter&&!(0,e.equals)(y.sourceCenter,y.targetCenter)||y.sourceResolution!==y.targetResolution||y.sourceRotation!==
y.targetRotation?!1:!0}function p(y,F,M,T,Q){const S=Math.cos(-Q);Q=Math.sin(-Q);let W=y[0]*S-y[1]*Q;y=y[1]*S+y[0]*Q;W+=(F[0]/2-M[0])*T;y+=(M[1]-F[1]/2)*T;Q=-Q;return[W*S-y*Q,y*S+W*Q]}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createCenterConstraint:{enumerable:!0,get:function(){return K}},createResolutionConstraint:{enumerable:!0,get:function(){return E}},createRotationConstraint:{enumerable:!0,get:function(){return C}},default:{enumerable:!0,get:function(){return L}},isNoopAnimation:{enumerable:!0,
get:function(){return u}}});N=c(20);X=c(79);Z=c(80);var m=c(81),f=c(40),l=c(13),e=c(37),d=c(23),g=c(82),h=c(35),k=c(83),n=c(84),r=c(85),x=c(28),D=c(12),z=c(57);N=c.esmDefault(N);var w=c.esmDefault(Z),q=c.esmDefault(X);class A extends N.default{constructor(y){super();this.on;this.once;this.un;y=Object.assign({},y);this.hints_=[0,0];this.animations_=[];this.updateAnimationKey_;this.projection_=(0,f.createProjection)(y.projection,"EPSG:3857");this.viewportSize_=[100,100];this.targetCenter_=null;this.targetResolution_;
this.targetRotation_;this.nextCenter_=null;this.nextResolution_;this.nextRotation_;this.cancelAnchor_=void 0;y.projection&&(0,f.disableCoordinateWarning)();y.center&&(y.center=(0,f.fromUserCoordinate)(y.center,this.projection_));y.extent&&(y.extent=(0,f.fromUserExtent)(y.extent,this.projection_));this.applyOptions_(y)}applyOptions_(y){var F=Object.assign({},y);for(var M in w.default)delete F[M];this.setProperties(F,!0);M=E(y);this.maxResolution_=M.maxResolution;this.minResolution_=M.minResolution;
this.zoomFactor_=M.zoomFactor;this.resolutions_=y.resolutions;this.padding_=y.padding;this.minZoom_=M.minZoom;F=K(y);M=M.constraint;const T=C(y);this.constraints_={center:F,resolution:M,rotation:T};this.setRotation(void 0!==y.rotation?y.rotation:0);this.setCenterInternal(void 0!==y.center?y.center:null);void 0!==y.resolution?this.setResolution(y.resolution):void 0!==y.zoom&&this.setZoom(y.zoom)}get padding(){return this.padding_}set padding(y){let F=this.padding_;this.padding_=y;const M=this.getCenterInternal();
if(M){y=y||[0,0,0,0];F=F||[0,0,0,0];const T=this.getResolution();this.setCenterInternal([M[0]+T/2*(y[3]-F[3]+F[1]-y[1]),M[1]-T/2*(y[0]-F[0]+F[2]-y[2])])}}getUpdatedOptions_(y){const F=this.getProperties();void 0!==F.resolution?F.resolution=this.getResolution():F.zoom=this.getZoom();F.center=this.getCenterInternal();F.rotation=this.getRotation();return Object.assign({},F,y)}animate(y){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const F=Array(arguments.length);for(let M=0;M<F.length;++M){let T=
arguments[M];T.center&&(T=Object.assign({},T),T.center=(0,f.fromUserCoordinate)(T.center,this.getProjection()));T.anchor&&(T=Object.assign({},T),T.anchor=(0,f.fromUserCoordinate)(T.anchor,this.getProjection()));F[M]=T}this.animateInternal.apply(this,F)}animateInternal(y){let F=arguments.length,M;1<F&&"function"===typeof arguments[F-1]&&(M=arguments[F-1],--F);let T=0;for(;T<F&&!this.isDef();++T){var Q=arguments[T];Q.center&&this.setCenterInternal(Q.center);void 0!==Q.zoom?this.setZoom(Q.zoom):Q.resolution&&
this.setResolution(Q.resolution);void 0!==Q.rotation&&this.setRotation(Q.rotation)}if(T===F)M&&J(M,!0);else{Q=Date.now();for(var S=this.targetCenter_.slice(),W=this.targetResolution_,ca=this.targetRotation_,B=[];T<F;++T){var v=arguments[T];const I={start:Q,complete:!1,anchor:v.anchor,duration:void 0!==v.duration?v.duration:1E3,easing:v.easing||r.inAndOut,callback:M};v.center&&(I.sourceCenter=S,I.targetCenter=v.center.slice(),S=I.targetCenter);void 0!==v.zoom?(I.sourceResolution=W,I.targetResolution=
this.getResolutionForZoom(v.zoom),W=I.targetResolution):v.resolution&&(I.sourceResolution=W,I.targetResolution=v.resolution,W=I.targetResolution);void 0!==v.rotation&&(I.sourceRotation=ca,v=(0,h.modulo)(v.rotation-ca+Math.PI,2*Math.PI)-Math.PI,I.targetRotation=ca+v,ca=I.targetRotation);u(I)?I.complete=!0:Q+=I.duration;B.push(I)}this.animations_.push(B);this.setHint(q.default.ANIMATING,1);this.updateAnimations_()}}getAnimating(){return 0<this.hints_[q.default.ANIMATING]}getInteracting(){return 0<this.hints_[q.default.INTERACTING]}cancelAnimations(){this.setHint(q.default.ANIMATING,
-this.hints_[q.default.ANIMATING]);let y;for(let F=0,M=this.animations_.length;F<M;++F){const T=this.animations_[F];T[0].callback&&J(T[0].callback,!1);if(!y)for(let Q=0,S=T.length;Q<S;++Q){const W=T[Q];if(!W.complete){y=W.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=y;this.nextCenter_=null;this.nextRotation_=this.nextResolution_=NaN}updateAnimations_(){void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){var y=
Date.now(),F=!1;for(let S=this.animations_.length-1;0<=S;--S){var M=this.animations_[S];let W=!0;for(let ca=0,B=M.length;ca<B;++ca){const v=M[ca];if(!v.complete){F=y-v.start;F=0<v.duration?F/v.duration:1;1<=F?(v.complete=!0,F=1):W=!1;F=v.easing(F);if(v.sourceCenter){var T=v.sourceCenter[0],Q=v.sourceCenter[1];const I=v.targetCenter[0],O=v.targetCenter[1];this.nextCenter_=v.targetCenter;this.targetCenter_=[T+F*(I-T),Q+F*(O-Q)]}v.sourceResolution&&v.targetResolution&&(T=1===F?v.targetResolution:v.sourceResolution+
F*(v.targetResolution-v.sourceResolution),v.anchor&&(Q=this.getViewportSize_(this.getRotation()),Q=this.constraints_.resolution(T,0,Q,!0),this.targetCenter_=this.calculateCenterZoom(Q,v.anchor)),this.nextResolution_=v.targetResolution,this.targetResolution_=T,this.applyTargetState_(!0));void 0!==v.sourceRotation&&void 0!==v.targetRotation&&(F=1===F?(0,h.modulo)(v.targetRotation+Math.PI,2*Math.PI)-Math.PI:v.sourceRotation+F*(v.targetRotation-v.sourceRotation),v.anchor&&(T=this.constraints_.rotation(F,
!0),this.targetCenter_=this.calculateCenterRotate(T,v.anchor)),this.nextRotation_=v.targetRotation,this.targetRotation_=F);this.applyTargetState_(!0);F=!0;if(!v.complete)break}}W&&(this.animations_[S]=null,this.setHint(q.default.ANIMATING,-1),this.nextCenter_=null,this.nextRotation_=this.nextResolution_=NaN,(M=M[0].callback)&&J(M,!0))}this.animations_=this.animations_.filter(Boolean);F&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}calculateCenterRotate(y,
F){let M;const T=this.getCenterInternal();void 0!==T&&(M=[T[0]-F[0],T[1]-F[1]],(0,e.rotate)(M,y-this.getRotation()),(0,e.add)(M,F));return M}calculateCenterZoom(y,F){let M;const T=this.getCenterInternal(),Q=this.getResolution();void 0!==T&&void 0!==Q&&(M=[F[0]-y*(F[0]-T[0])/Q,F[1]-y*(F[1]-T[1])/Q]);return M}getViewportSize_(y){var F=this.viewportSize_;if(y){const M=F[0];F=F[1];return[Math.abs(M*Math.cos(y))+Math.abs(F*Math.sin(y)),Math.abs(M*Math.sin(y))+Math.abs(F*Math.cos(y))]}return F}setViewportSize(y){this.viewportSize_=
Array.isArray(y)?y.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)}getCenter(){const y=this.getCenterInternal();return y?(0,f.toUserCoordinate)(y,this.getProjection()):y}getCenterInternal(){return this.get(w.default.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(y){return void 0!==y?(y[0]=this.hints_[0],y[1]=this.hints_[1],y):this.hints_.slice()}calculateExtent(y){y=this.calculateExtentInternal(y);return(0,f.toUserExtent)(y,
this.getProjection())}calculateExtentInternal(y){y=y||this.getViewportSizeMinusPadding_();const F=this.getCenterInternal();(0,d.assert)(F,"The view center is not defined");const M=this.getResolution();(0,d.assert)(void 0!==M,"The view resolution is not defined");const T=this.getRotation();(0,d.assert)(void 0!==T,"The view rotation is not defined");return(0,x.getForViewAndSize)(F,M,T,y)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(y){this.applyOptions_(this.getUpdatedOptions_({maxZoom:y}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(y){this.applyOptions_(this.getUpdatedOptions_({minZoom:y}))}setConstrainResolution(y){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:y}))}getProjection(){return this.projection_}getResolution(){return this.get(w.default.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(y,
F){return this.getResolutionForExtentInternal((0,f.fromUserExtent)(y,this.getProjection()),F)}getResolutionForExtentInternal(y,F){F=F||this.getViewportSizeMinusPadding_();const M=(0,x.getWidth)(y)/F[0];y=(0,x.getHeight)(y)/F[1];return Math.max(M,y)}getResolutionForValueFunction(y){y=y||2;const F=this.getConstrainedResolution(this.maxResolution_),M=Math.log(F/this.minResolution_)/Math.log(y);return function(T){return F/Math.pow(y,T*M)}}getRotation(){return this.get(w.default.ROTATION)}getValueForResolutionFunction(y){const F=
Math.log(y||2),M=this.getConstrainedResolution(this.maxResolution_),T=Math.log(M/this.minResolution_)/F;return function(Q){return Math.log(M/Q)/F/T}}getViewportSizeMinusPadding_(y){y=this.getViewportSize_(y);const F=this.padding_;F&&(y=[y[0]-F[1]-F[3],y[1]-F[0]-F[2]]);return y}getState(){const y=this.getProjection(),F=this.getResolution(),M=this.getRotation();let T=this.getCenterInternal();const Q=this.padding_;if(Q){const S=this.getViewportSizeMinusPadding_();T=p(T,this.getViewportSize_(),[S[0]/
2+Q[3],S[1]/2+Q[0]],F,M)}return{center:T.slice(0),projection:void 0!==y?y:null,resolution:F,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:M,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let y;const F=this.getResolution();void 0!==F&&(y=this.getZoomForResolution(F));return y}getZoomForResolution(y){let F=this.minZoom_||0,M;var T;this.resolutions_?(F=T=(0,D.linearFindNearest)(this.resolutions_,
y,1),M=this.resolutions_[T],T=T==this.resolutions_.length-1?2:M/this.resolutions_[T+1]):(M=this.maxResolution_,T=this.zoomFactor_);return F+Math.log(M/y)/Math.log(T)}getResolutionForZoom(y){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;const F=(0,h.clamp)(Math.floor(y),0,this.resolutions_.length-2);return this.resolutions_[F]/Math.pow(this.resolutions_[F]/this.resolutions_[F+1],(0,h.clamp)(y-F,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,y-this.minZoom_)}fit(y,F){(0,d.assert)(Array.isArray(y)||
"function"===typeof y.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`");if(Array.isArray(y))(0,d.assert)(!(0,x.isEmpty)(y),"Cannot fit empty extent provided as `geometry`"),y=(0,f.fromUserExtent)(y,this.getProjection()),y=(0,z.fromExtent)(y);else if("Circle"===y.getType()){var M=(0,f.fromUserExtent)(y.getExtent(),this.getProjection());y=(0,z.fromExtent)(M);y.rotate(this.getRotation(),(0,x.getCenter)(M))}else y=(M=(0,f.getUserProjection)())?y.clone().transform(M,this.getProjection()):
y;this.fitInternal(y,F)}rotatedExtentForGeometry(y){var F=this.getRotation();const M=Math.cos(F);F=Math.sin(-F);const T=y.getFlatCoordinates();y=y.getStride();let Q=Infinity,S=Infinity,W=-Infinity,ca=-Infinity;for(let B=0,v=T.length;B<v;B+=y){const I=T[B]*M-T[B+1]*F,O=T[B]*F+T[B+1]*M;Q=Math.min(Q,I);S=Math.min(S,O);W=Math.max(W,I);ca=Math.max(ca,O)}return[Q,S,W,ca]}fitInternal(y,F){F=F||{};var M=F.size;M||(M=this.getViewportSizeMinusPadding_());var T=void 0!==F.padding?F.padding:[0,0,0,0],Q=void 0!==
F.nearest?F.nearest:!1;var S=void 0!==F.minResolution?F.minResolution:void 0!==F.maxZoom?this.getResolutionForZoom(F.maxZoom):0;y=this.rotatedExtentForGeometry(y);M=this.getResolutionForExtentInternal(y,[M[0]-T[1]-T[3],M[1]-T[0]-T[2]]);M=isNaN(M)?S:Math.max(M,S);M=this.getConstrainedResolution(M,Q?0:1);S=this.getRotation();Q=Math.sin(S);S=Math.cos(S);y=(0,x.getCenter)(y);y[0]+=(T[1]-T[3])/2*M;y[1]+=(T[0]-T[2])/2*M;T=this.getConstrainedCenter([y[0]*S-y[1]*Q,y[1]*S+y[0]*Q],M);y=F.callback?F.callback:
l.VOID;void 0!==F.duration?this.animateInternal({resolution:M,center:T,duration:F.duration,easing:F.easing},y):(this.targetResolution_=M,this.targetCenter_=T,this.applyTargetState_(!1,!0),J(y,!0))}centerOn(y,F,M){this.centerOnInternal((0,f.fromUserCoordinate)(y,this.getProjection()),F,M)}centerOnInternal(y,F,M){this.setCenterInternal(p(y,F,M,this.getResolution(),this.getRotation()))}calculateCenterShift(y,F,M,T){const Q=this.padding_;if(Q&&y){var S=this.getViewportSizeMinusPadding_(-M);F=p(y,T,[S[0]/
2+Q[3],S[1]/2+Q[0]],F,M);S=[y[0]-F[0],y[1]-F[1]]}return S}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(y){const F=(0,f.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([F[0]+y[0],F[1]+y[1]])}adjustCenterInternal(y){const F=this.targetCenter_;this.setCenterInternal([F[0]+y[0],F[1]+y[1]])}adjustResolution(y,F){F=F&&(0,f.fromUserCoordinate)(F,this.getProjection());this.adjustResolutionInternal(y,F)}adjustResolutionInternal(y,F){var M=this.getAnimating()||
this.getInteracting();const T=this.getViewportSize_(this.getRotation());M=this.constraints_.resolution(this.targetResolution_*y,0,T,M);F&&(this.targetCenter_=this.calculateCenterZoom(M,F));this.targetResolution_*=y;this.applyTargetState_()}adjustZoom(y,F){this.adjustResolution(Math.pow(this.zoomFactor_,-y),F)}adjustRotation(y,F){F&&(F=(0,f.fromUserCoordinate)(F,this.getProjection()));this.adjustRotationInternal(y,F)}adjustRotationInternal(y,F){var M=this.getAnimating()||this.getInteracting();M=this.constraints_.rotation(this.targetRotation_+
y,M);F&&(this.targetCenter_=this.calculateCenterRotate(M,F));this.targetRotation_+=y;this.applyTargetState_()}setCenter(y){this.setCenterInternal(y?(0,f.fromUserCoordinate)(y,this.getProjection()):y)}setCenterInternal(y){this.targetCenter_=y;this.applyTargetState_()}setHint(y,F){this.hints_[y]+=F;this.changed();return this.hints_[y]}setResolution(y){this.targetResolution_=y;this.applyTargetState_()}setRotation(y){this.targetRotation_=y;this.applyTargetState_()}setZoom(y){this.setResolution(this.getResolutionForZoom(y))}applyTargetState_(y,
F){var M=this.getAnimating()||this.getInteracting()||F;F=this.constraints_.rotation(this.targetRotation_,M);const T=this.getViewportSize_(F),Q=this.constraints_.resolution(this.targetResolution_,0,T,M);M=this.constraints_.center(this.targetCenter_,Q,T,M,this.calculateCenterShift(this.targetCenter_,Q,F,T));this.get(w.default.ROTATION)!==F&&this.set(w.default.ROTATION,F);this.get(w.default.RESOLUTION)!==Q&&(this.set(w.default.RESOLUTION,Q),this.set("zoom",this.getZoom(),!0));M&&this.get(w.default.CENTER)&&
(0,e.equals)(this.get(w.default.CENTER),M)||this.set(w.default.CENTER,M);this.getAnimating()&&!y&&this.cancelAnimations();this.cancelAnchor_=void 0}resolveConstraints(y,F,M){y=void 0!==y?y:200;var T=F||0;F=this.constraints_.rotation(this.targetRotation_);var Q=this.getViewportSize_(F);T=this.constraints_.resolution(this.targetResolution_,T,Q);Q=this.constraints_.center(this.targetCenter_,T,Q,!1,this.calculateCenterShift(this.targetCenter_,T,F,Q));0!==y||this.cancelAnchor_?(M=M||(0===y?this.cancelAnchor_:
void 0),this.cancelAnchor_=void 0,this.getResolution()===T&&this.getRotation()===F&&this.getCenterInternal()&&(0,e.equals)(this.getCenterInternal(),Q)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:F,center:Q,resolution:T,duration:y,easing:r.easeOut,anchor:M}))):(this.targetResolution_=T,this.targetRotation_=F,this.targetCenter_=Q,this.applyTargetState_())}beginInteraction(){this.resolveConstraints(0);this.setHint(q.default.INTERACTING,1)}endInteraction(y,F,M){M=M&&
(0,f.fromUserCoordinate)(M,this.getProjection());this.endInteractionInternal(y,F,M)}endInteractionInternal(y,F,M){this.getInteracting()&&(this.setHint(q.default.INTERACTING,-1),this.resolveConstraints(y,F,M))}getConstrainedCenter(y,F){const M=this.getViewportSize_(this.getRotation());return this.constraints_.center(y,F||this.getResolution(),M)}getConstrainedZoom(y,F){y=this.getResolutionForZoom(y);return this.getZoomForResolution(this.getConstrainedResolution(y,F))}getConstrainedResolution(y,F){F=
F||0;const M=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(y,F,M)}}const L=A};
shadow$provide[87]=function(X,c,Z,N){function J(h,k){if(!h.visible)return!1;const n=k.resolution;if(n<h.minResolution||n>=h.maxResolution)return!1;k=k.zoom;return k>h.minZoom&&k<=h.maxZoom}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return g}},inView:{enumerable:!0,get:function(){return J}}});var K=c(78);X=c(16);Z=c(77);N=c(59);var E=c(86),C=c(23),u=c(28),p=c(17);K=c.esmDefault(K);var m=c.esmDefault(N),f=c.esmDefault(E),l=c.esmDefault(X),e=
c.esmDefault(Z);class d extends K.default{constructor(h){const k=Object.assign({},h);delete k.source;super(k);this.on;this.once;this.un;this.renderer_=this.sourceChangeKey_=this.mapRenderKey_=this.mapPrecomposeKey_=null;this.rendered=this.sourceReady_=!1;h.render&&(this.render=h.render);h.map&&this.setMap(h.map);this.addChangeListener(e.default.SOURCE,this.handleSourcePropertyChange_);this.setSource(h.source?h.source:null)}getLayersArray(h){h=h?h:[];h.push(this);return h}getLayerStatesArray(h){h=
h?h:[];h.push(this.getLayerState());return h}getSource(){return this.get(e.default.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const h=this.getSource();return h?h.getState():"undefined"}handleSourceChange_(){this.changed();this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,p.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);this.sourceReady_=
!1;const h=this.getSource();h&&(this.sourceChangeKey_=(0,p.listen)(h,l.default.CHANGE,this.handleSourceChange_,this),"ready"===h.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)));this.changed()}getFeatures(h){return this.renderer_?this.renderer_.getFeatures(h):Promise.resolve([])}getData(h){return this.renderer_&&this.rendered?this.renderer_.getData(h):null}isVisible(h){var k=this.getMapInternal();!h&&k&&(h=k.getView());h=h instanceof f.default?{viewState:h.getState(),
extent:h.calculateExtent()}:h;!h.layerStatesArray&&k&&(h.layerStatesArray=k.getLayerGroup().getLayerStatesArray());k=h.layerStatesArray?h.layerStatesArray.find(r=>r.layer===this):this.getLayerState();const n=this.getExtent();return J(k,h.viewState)&&(!n||(0,u.intersects)(n,h.extent))}getAttributions(h){if(!this.isVisible(h))return[];var k;const n=this.getSource();n&&(k=n.getAttributions());if(!k)return[];h=h instanceof f.default?h.getViewStateAndExtent():h;k=k(h);Array.isArray(k)||(k=[k]);return k}render(h,
k){const n=this.getRenderer();return n.prepareFrame(h)?(this.rendered=!0,n.renderFrame(h,k)):null}unrender(){this.rendered=!1}setMapInternal(h){h||this.unrender();this.set(e.default.MAP,h)}getMapInternal(){return this.get(e.default.MAP)}setMap(h){this.mapPrecomposeKey_&&((0,p.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);h||this.changed();this.mapRenderKey_&&((0,p.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);h&&(this.mapPrecomposeKey_=(0,p.listen)(h,m.default.PRECOMPOSE,
function(k){k=k.frameState.layerStatesArray;const n=this.getLayerState(!1);(0,C.assert)(!k.some(function(r){return r.layer===n.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both.");k.push(n)},this),this.mapRenderKey_=(0,p.listen)(this,l.default.CHANGE,h.render,h),this.changed())}setSource(h){this.set(e.default.SOURCE,h)}getRenderer(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&
(this.renderer_.dispose(),delete this.renderer_);this.setSource(null);super.disposeInternal()}}const g=d};
shadow$provide[88]=function(X,c,Z,N){!function(J,K){"object"==typeof N&&"undefined"!=typeof Z?Z.exports=K():"function"==typeof define&&define.amd?define(K):(J=J||self).RBush=K()}(this,function(){function J(r,x,D,z,w){!function T(A,L,y,F,M){for(;F>y;){if(600<F-y){var Q=F-y+1,S=L-y+1,W=Math.log(Q),ca=.5*Math.exp(2*W/3);W=.5*Math.sqrt(W*ca*(Q-ca)/Q)*(0>S-Q/2?-1:1);T(A,L,Math.max(y,Math.floor(L-S*ca/Q+W)),Math.min(F,Math.floor(L+(Q-S)*ca/Q+W)),M)}Q=A[L];S=y;ca=F;K(A,y,L);for(0<M(A[F],Q)&&K(A,y,F);S<ca;){K(A,
S,ca);S++;for(ca--;0>M(A[S],Q);)S++;for(;0<M(A[ca],Q);)ca--}0===M(A[y],Q)?K(A,y,ca):K(A,++ca,F);ca<=L&&(y=ca+1);L<=ca&&(F=ca-1)}}(r,x,D||0,z||r.length-1,w||E)}function K(r,x,D){var z=r[x];r[x]=r[D];r[D]=z}function E(r,x){return r<x?-1:r>x?1:0}function C(r,x){u(r,0,r.children.length,x,r)}function u(r,x,D,z,w){w||(w=h(null));w.minX=1/0;w.minY=1/0;w.maxX=-1/0;for(w.maxY=-1/0;x<D;x++){var q=r.children[x];p(w,r.leaf?z(q):q)}return w}function p(r,x){return r.minX=Math.min(r.minX,x.minX),r.minY=Math.min(r.minY,
x.minY),r.maxX=Math.max(r.maxX,x.maxX),r.maxY=Math.max(r.maxY,x.maxY),r}function m(r,x){return r.minX-x.minX}function f(r,x){return r.minY-x.minY}function l(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function e(r){return r.maxX-r.minX+(r.maxY-r.minY)}function d(r,x){return r.minX<=x.minX&&r.minY<=x.minY&&x.maxX<=r.maxX&&x.maxY<=r.maxY}function g(r,x){return x.minX<=r.maxX&&x.minY<=r.maxY&&x.maxX>=r.minX&&x.maxY>=r.minY}function h(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/
0}}function k(r,x,D,z,w){for(var q=[x,D];q.length;)if(!((D=q.pop())-(x=q.pop())<=z)){var A=x+Math.ceil((D-x)/z/2)*z;J(r,A,x,D,w);q.push(x,A,A,D)}}var n=function(r){void 0===r&&(r=9);this._maxEntries=Math.max(4,r);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(r){var x=this.data,D=[];if(!g(r,x))return D;for(var z=this.toBBox,w=[];x;){for(var q=0;q<x.children.length;q++){var A=x.children[q],
L=x.leaf?z(A):A;g(r,L)&&(x.leaf?D.push(A):d(r,L)?this._all(A,D):w.push(A))}x=w.pop()}return D},n.prototype.collides=function(r){var x=this.data;if(!g(r,x))return!1;for(var D=[];x;){for(var z=0;z<x.children.length;z++){var w=x.children[z],q=x.leaf?this.toBBox(w):w;if(g(r,q)){if(x.leaf||d(r,q))return!0;D.push(w)}}x=D.pop()}return!1},n.prototype.load=function(r){if(!r||!r.length)return this;if(r.length<this._minEntries){for(var x=0;x<r.length;x++)this.insert(r[x]);return this}r=this._build(r.slice(),
0,r.length-1,0);this.data.children.length?this.data.height===r.height?this._splitRoot(this.data,r):(this.data.height<r.height&&(x=this.data,this.data=r,r=x),this._insert(r,this.data.height-r.height-1,!0)):this.data=r;return this},n.prototype.insert=function(r){return r&&this._insert(r,this.data.height-1),this},n.prototype.clear=function(){return this.data=h([]),this},n.prototype.remove=function(r,x){if(!r)return this;for(var D,z,w,q=this.data,A=this.toBBox(r),L=[],y=[];q||L.length;){if(q||(q=L.pop(),
z=L[L.length-1],D=y.pop(),w=!0),q.leaf){a:{var F=r;var M=q.children,T=x;if(T){for(var Q=0;Q<M.length;Q++)if(T(F,M[Q])){F=Q;break a}F=-1}else F=M.indexOf(F)}if(-1!==F)return q.children.splice(F,1),L.push(q),this._condense(L),this}w||q.leaf||!d(q,A)?z?(D++,q=z.children[D],w=!1):q=null:(L.push(q),y.push(D),D=0,z=q,q=q.children[0])}return this},n.prototype.toBBox=function(r){return r},n.prototype.compareMinX=function(r,x){return r.minX-x.minX},n.prototype.compareMinY=function(r,x){return r.minY-x.minY},
n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(r){return this.data=r,this},n.prototype._all=function(r,x){for(var D=[];r;)r.leaf?x.push.apply(x,r.children):D.push.apply(D,r.children),r=D.pop();return x},n.prototype._build=function(r,x,D,z){var w,q=D-x+1,A=this._maxEntries;if(q<=A)return C(w=h(r.slice(x,D+1)),this.toBBox),w;z||(z=Math.ceil(Math.log(q)/Math.log(A)),A=Math.ceil(q/Math.pow(A,z-1)));(w=h([])).leaf=!1;w.height=z;q=Math.ceil(q/A);A=q*Math.ceil(Math.sqrt(A));
for(k(r,x,D,A,this.compareMinX);x<=D;x+=A){var L=Math.min(x+A-1,D);k(r,x,L,q,this.compareMinY);for(var y=x;y<=L;y+=q)w.children.push(this._build(r,y,Math.min(y+q-1,L),z-1))}return C(w,this.toBBox),w},n.prototype._chooseSubtree=function(r,x,D,z){for(;z.push(x),!x.leaf&&z.length-1!==D;){for(var w=1/0,q=1/0,A=void 0,L=0;L<x.children.length;L++){var y=x.children[L],F=l(y),M=(T=r,Q=y,(Math.max(Q.maxX,T.maxX)-Math.min(Q.minX,T.minX))*(Math.max(Q.maxY,T.maxY)-Math.min(Q.minY,T.minY))-F);M<q?(q=M,w=F<w?F:
w,A=y):M===q&&F<w&&(w=F,A=y)}x=A||x.children[0]}var T,Q;return x},n.prototype._insert=function(r,x,D){D=D?r:this.toBBox(r);var z=[],w=this._chooseSubtree(D,this.data,x,z);w.children.push(r);for(p(w,D);0<=x&&z[x].children.length>this._maxEntries;)this._split(z,x),x--;this._adjustParentBBoxes(D,z,x)},n.prototype._split=function(r,x){var D=r[x],z=D.children.length,w=this._minEntries;this._chooseSplitAxis(D,w,z);z=this._chooseSplitIndex(D,w,z);z=h(D.children.splice(z,D.children.length-z));z.height=D.height;
z.leaf=D.leaf;C(D,this.toBBox);C(z,this.toBBox);x?r[x-1].children.push(z):this._splitRoot(D,z)},n.prototype._splitRoot=function(r,x){this.data=h([r,x]);this.data.height=r.height+1;this.data.leaf=!1;C(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(r,x,D){for(var z,w,q,A,L,y,F,M=1/0,T=1/0,Q=x;Q<=D-x;Q++){var S=u(r,0,Q,this.toBBox),W=u(r,Q,D,this.toBBox),ca=(w=S,q=W,A=void 0,L=void 0,y=void 0,F=void 0,A=Math.max(w.minX,q.minX),L=Math.max(w.minY,q.minY),y=Math.min(w.maxX,q.maxX),F=Math.min(w.maxY,
q.maxY),Math.max(0,y-A)*Math.max(0,F-L));S=l(S)+l(W);ca<M?(M=ca,z=Q,T=S<T?S:T):ca===M&&S<T&&(T=S,z=Q)}return z||D-x},n.prototype._chooseSplitAxis=function(r,x,D){var z=r.leaf?this.compareMinX:m,w=r.leaf?this.compareMinY:f;this._allDistMargin(r,x,D,z)<this._allDistMargin(r,x,D,w)&&r.children.sort(z)},n.prototype._allDistMargin=function(r,x,D,z){r.children.sort(z);z=this.toBBox;for(var w=u(r,0,x,z),q=u(r,D-x,D,z),A=e(w)+e(q),L=x;L<D-x;L++){var y=r.children[L];p(w,r.leaf?z(y):y);A+=e(w)}for(D=D-x-1;D>=
x;D--)w=r.children[D],p(q,r.leaf?z(w):w),A+=e(q);return A},n.prototype._adjustParentBBoxes=function(r,x,D){for(;0<=D;D--)p(x[D],r)},n.prototype._condense=function(r){for(var x=r.length-1,D=void 0;0<=x;x--)0===r[x].children.length?0<x?(D=r[x-1].children).splice(D.indexOf(r[x]),1):this.clear():C(r[x],this.toBBox)},n})};
shadow$provide[89]=function(X,c,Z,N){function J(g,h,k){let n=!0,r=!1,x=!1;const D=[(0,p.listenOnce)(g,l.default.LOAD,function(){x=!0;r||h()})];g.src&&u.IMAGE_DECODE?(r=!0,g.decode().then(function(){n&&h()}).catch(function(z){n&&(x?h():k())})):D.push((0,p.listenOnce)(g,l.default.ERROR,k));return function(){n=!1;D.forEach(p.unlistenByKey)}}function K(g,h){return new Promise((k,n)=>{function r(){D();k(g)}function x(){D();n(Error("Image load error"))}function D(){g.removeEventListener("load",r);g.removeEventListener("error",
x)}g.addEventListener("load",r);g.addEventListener("error",x);h&&(g.src=h)})}function E(g,h){h&&(g.src=h);return u.IMAGE_DECODE?new Promise((k,n)=>g.decode().then(()=>k(g),n)):K(g)}function C(g,h){h&&(g.src=h);return u.IMAGE_DECODE&&u.CREATE_IMAGE_BITMAP?g.decode().then(()=>createImageBitmap(g)):E(g)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},decode:{enumerable:!0,get:function(){return C}},decodeFallback:{enumerable:!0,get:function(){return E}},default:{enumerable:!0,get:function(){return d}},
listenImage:{enumerable:!0,get:function(){return J}},load:{enumerable:!0,get:function(){return K}}});N=c(15);X=c(16);Z=c(65);var u=c(25),p=c(17),m=c(13);N=c.esmDefault(N);var f=c.esmDefault(Z),l=c.esmDefault(X);class e extends N.default{constructor(g,h,k,n){super();this.extent=g;this.pixelRatio_=k;this.resolution=h;this.state="function"===typeof n?f.default.IDLE:n;this.image_=null;this.loader="function"===typeof n?n:null}changed(){this.dispatchEvent(l.default.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==
f.default.IDLE&&this.loader){this.state=f.default.LOADING;this.changed();const g=this.getResolution(),h=Array.isArray(g)?g[0]:g;(0,m.toPromise)(()=>this.loader(this.getExtent(),h,this.getPixelRatio())).then(k=>{"image"in k&&(this.image_=k.image);"extent"in k&&(this.extent=k.extent);"resolution"in k&&(this.resolution=k.resolution);"pixelRatio"in k&&(this.pixelRatio_=k.pixelRatio);if(k instanceof HTMLImageElement||k instanceof ImageBitmap||k instanceof HTMLCanvasElement||k instanceof HTMLVideoElement)this.image_=
k;this.state=f.default.LOADED}).catch(k=>{this.state=f.default.ERROR;console.error(k)}).finally(()=>this.changed())}}setImage(g){this.image_=g}setResolution(g){this.resolution=g}}const d=e};
shadow$provide[90]=function(X,c,Z,N){function J(p,m,f){f=f?(0,K.asString)(f):"null";return m+":"+p+":"+f}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}},shared:{enumerable:!0,get:function(){return u}}});var K=c(68);class E{constructor(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}clear(){this.cache_={};this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let p=0;for(const m in this.cache_){const f=
this.cache_[m];0!==(p++&3)||f.hasListener()||(delete this.cache_[m],--this.cacheSize_)}}}get(p,m,f){p=J(p,m,f);return p in this.cache_?this.cache_[p]:null}set(p,m,f,l){p=J(p,m,f);this.cache_[p]=l;++this.cacheSize_}setSize(p){this.maxCacheSize_=p;this.expire()}}const C=E,u=new E};
shadow$provide[91]=function(X,c,Z,N){function J(d,g,h,k,n){let r=void 0===g?void 0:u.shared.get(g,h,n);r||(r=new l(d,d instanceof HTMLImageElement?d.src||void 0:g,h,k,n),u.shared.set(g,h,n,r));return r}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return e}},get:{enumerable:!0,get:function(){return J}}});Z=c(15);X=c(16);N=c(65);var K=c(68),E=c(70),C=c(89),u=c(90),p=c.esmDefault(N);Z=c.esmDefault(Z);var m=c.esmDefault(X);let f=null;class l extends Z.default{constructor(d,
g,h,k,n){super();this.hitDetectionImage_=null;this.image_=d;this.crossOrigin_=h;this.canvas_={};this.color_=n;this.imageState_=void 0===k?p.default.IDLE:k;this.size_=d&&d.width&&d.height?[d.width,d.height]:null;this.src_=g;this.tainted_}initializeImage_(){this.image_=new Image;null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===p.default.LOADED){f||(f=(0,E.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0}));f.drawImage(this.image_,
0,0);try{f.getImageData(0,0,1,1),this.tainted_=!1}catch(d){f=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(m.default.CHANGE)}handleImageError_(){this.imageState_=p.default.ERROR;this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=p.default.LOADED;this.size_=[this.image_.width,this.image_.height];this.dispatchChangeEvent_()}getImage(d){this.image_||this.initializeImage_();this.replaceColor_(d);return this.canvas_[d]?this.canvas_[d]:this.image_}getPixelRatio(d){this.replaceColor_(d);
return this.canvas_[d]?d:1}getImageState(){return this.imageState_}getHitDetectionImage(){this.image_||this.initializeImage_();if(!this.hitDetectionImage_)if(this.isTainted_()){const d=this.size_[0],g=this.size_[1],h=(0,E.createCanvasContext2D)(d,g);h.fillRect(0,0,d,g);this.hitDetectionImage_=h.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===p.default.IDLE){this.image_||this.initializeImage_();
this.imageState_=p.default.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(d){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(0,C.decodeFallback)(this.image_,this.src_).then(d=>{this.image_=d;this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(d){if(this.color_&&!this.canvas_[d]&&this.imageState_===p.default.LOADED){var g=this.image_,h=document.createElement("canvas");h.width=Math.ceil(g.width*d);h.height=Math.ceil(g.height*d);var k=
h.getContext("2d");k.scale(d,d);k.drawImage(g,0,0);k.globalCompositeOperation="multiply";k.fillStyle=(0,K.asString)(this.color_);k.fillRect(0,0,h.width/d,h.height/d);k.globalCompositeOperation="destination-in";k.drawImage(g,0,0);this.canvas_[d]=h}}}const e=l};
shadow$provide[92]=function(X,c,Z,N){function J(e,d,g,h){return void 0!==g&&void 0!==h?[g/e,h/d]:void 0!==g?g/e:void 0!==h?h/d:1}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return l}}});X=c(16);Z=c(65);N=c(67);var K=c(68),E=c(23),C=c(91),u=c(19),p=c.esmDefault(Z);Z=c.esmDefault(N);var m=c.esmDefault(X);class f extends Z.default{constructor(e){e=e||{};super({opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==
e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1,declutterMode:e.declutterMode});this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left";this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction";this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction";this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:
null;var d=void 0!==e.img?e.img:null;let g=e.src;(0,E.assert)(!(void 0!==g&&d),"`image` and `src` cannot be provided at the same time");void 0!==g&&0!==g.length||!d||(g=d.src||(0,u.getUid)(d));(0,E.assert)(void 0!==g&&0<g.length,"A defined and non-empty `src` or `image` must be provided");(0,E.assert)(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`");let h;void 0!==e.src?h=p.default.IDLE:void 0!==d&&(h=d instanceof HTMLImageElement?
d.complete?d.src?p.default.LOADED:p.default.IDLE:p.default.LOADING:p.default.LOADED);this.color_=void 0!==e.color?(0,K.asArray)(e.color):null;this.iconImage_=(0,C.get)(d,g,this.crossOrigin_,h,this.color_);this.offset_=void 0!==e.offset?e.offset:[0,0];this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left";this.origin_=null;this.size_=void 0!==e.size?e.size:null;if(void 0!==e.width||void 0!==e.height){let k,n;if(e.size)[k,n]=e.size;else if(d=this.getImage(1),d.width&&d.height)k=d.width,
n=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;const r=()=>{this.unlistenImageChange(r);if(this.initialOptions_){var x=this.iconImage_.getSize();this.setScale(J(x[0],x[1],e.width,e.height))}};this.listenImageChange(r);return}void 0!==k&&this.setScale(J(k,n,e.width,e.height))}}clone(){let e,d,g;this.initialOptions_?(d=this.initialOptions_.width,g=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e);return new f({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,
anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:d,height:g,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=
this.normalizedAnchor_;if(!e){e=this.anchor_;var d=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!d)return null;e=this.anchor_.slice();"fraction"==this.anchorXUnits_&&(e[0]*=d[0]);"fraction"==this.anchorYUnits_&&(e[1]*=d[1])}if("top-left"!=this.anchorOrigin_){if(!d)return null;e===this.anchor_&&(e=this.anchor_.slice());if("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)e[0]=-e[0]+d[0];if("bottom-left"==this.anchorOrigin_||"bottom-right"==
this.anchorOrigin_)e[1]=-e[1]+d[1]}this.normalizedAnchor_=e}d=this.getDisplacement();const g=this.getScaleArray();return[e[0]-d[0]/g[0],e[1]+d[1]/g[1]]}setAnchor(e){this.anchor_=e;this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;
let e=this.offset_;if("top-left"!=this.offsetOrigin_){const d=this.getSize(),g=this.iconImage_.getSize();if(!d||!g)return null;e=e.slice();if("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)e[0]=g[0]-d[0]-e[0];if("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)e[1]=g[1]-d[1]-e[1]}return this.origin_=e}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*
e[0];if(this.iconImage_.getImageState()==p.default.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==p.default.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_;super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(m.default.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(m.default.CHANGE,
e)}}const l=f};
shadow$provide[93]=function(X,c,Z,N){function J(q){const A=[];for(const L of r)K(q,L)&&A.push(n[L]);return 0===A.length?"untyped":3>A.length?A.join(" or "):A.slice(0,-1).join(", ")+", or "+A[A.length-1]}function K(q,A){return(q&A)===A}function E(q,A){return!!(q&A)}function C(q,A){return q===A}function u(){return{variables:new Set,properties:new Set}}function p(q,A){switch(typeof q){case "boolean":return new x(l,q);case "number":return new x(e,q);case "string":return new x(d,q)}if(!Array.isArray(q))throw Error("Expression must be an array or a primitive value");
if(0===q.length)throw Error("Empty expression");if("string"===typeof q[0]){var L=q[0];const y=w[L];if(!y)throw Error(`Unknown operator: ${L}`);return y(q,A)}for(L of q)if("number"!==typeof L)throw Error("Expected an array of numbers");A=h;if(3===q.length||4===q.length)A|=g;return new x(A,q)}function m(q,A,L){return function(y,F){const M=y[0],T=y.length-1;if(q===A){if(T!==q)throw Error(`Expected ${q} argument${1===q?"":"s"} for operation ${M}, got ${T}`);}else if(T<q||T>A)throw Error(`Expected ${q} to ${A} arguments for operation ${M}, got ${T}`);
const Q=Array(T);for(let W=0;W<T;++W){var S=p(y[W+1],F);if(!(L&S.type))throw y=J(L),S=J(S.type),Error(`Unexpected type for argument ${W} of ${M} operation`+` : got ${y} but expected ${S}`);Q[W]=S}return Q}}function f(q,A){return function(L,y){const F=L[0];L=q(L,y);return new D(A,F,...L)}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},AnyType:{enumerable:!0,get:function(){return k}},BooleanType:{enumerable:!0,get:function(){return l}},CallExpression:{enumerable:!0,get:function(){return D}},
ColorType:{enumerable:!0,get:function(){return g}},LiteralExpression:{enumerable:!0,get:function(){return x}},NoneType:{enumerable:!0,get:function(){return 0}},NumberArrayType:{enumerable:!0,get:function(){return h}},NumberType:{enumerable:!0,get:function(){return e}},Ops:{enumerable:!0,get:function(){return z}},StringType:{enumerable:!0,get:function(){return d}},includesType:{enumerable:!0,get:function(){return K}},isType:{enumerable:!0,get:function(){return C}},newParsingContext:{enumerable:!0,
get:function(){return u}},overlapsType:{enumerable:!0,get:function(){return E}},parse:{enumerable:!0,get:function(){return p}},typeName:{enumerable:!0,get:function(){return J}}});X=c(12);c=0;const l=1<<c++,e=1<<c++,d=1<<c++,g=1<<c++,h=1<<c++,k=Math.pow(2,c)-1,n={[l]:"boolean",[e]:"number",[d]:"string",[g]:"color",[h]:"number[]"},r=Object.keys(n).map(Number).sort(X.ascending);class x{constructor(q,A){this.type=q;this.value=A}}class D{constructor(q,A,...L){this.type=q;this.operator=A;this.args=L}}const z=
{Number:"number",String:"string",Get:"get",Var:"var",Any:"any",All:"all",Not:"!",Resolution:"resolution",Equal:"\x3d\x3d",NotEqual:"!\x3d",GreaterThan:"\x3e",GreaterThanOrEqualTo:"\x3e\x3d",LessThan:"\x3c",LessThanOrEqualTo:"\x3c\x3d",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match"},w={[z.Number]:f(m(1,Infinity,k),e),[z.String]:f(m(1,Infinity,k),d),[z.Get]:f(function(q,
A){if(2!==q.length)throw Error("Expected 1 argument for get operation");q=p(q[1],A);if(!(q instanceof x))throw Error("Expected a literal argument for get operation");if("string"!==typeof q.value)throw Error("Expected a string argument for get operation");A.properties.add(q.value);return[q]},k),[z.Var]:f(function(q,A){if(2!==q.length)throw Error("Expected 1 argument for var operation");q=p(q[1],A);if(!(q instanceof x))throw Error("Expected a literal argument for var operation");if("string"!==typeof q.value)throw Error("Expected a string argument for get operation");
A.variables.add(q.value);return[q]},k),[z.Resolution]:f(function(q,A){A=q[0];if(1!==q.length)throw Error(`Expected no arguments for ${A} operation`);return[]},e),[z.Any]:f(m(2,Infinity,l),l),[z.All]:f(m(2,Infinity,l),l),[z.Not]:f(m(1,1,l),l),[z.Equal]:f(m(2,2,k),l),[z.NotEqual]:f(m(2,2,k),l),[z.GreaterThan]:f(m(2,2,k),l),[z.GreaterThanOrEqualTo]:f(m(2,2,k),l),[z.LessThan]:f(m(2,2,k),l),[z.LessThanOrEqualTo]:f(m(2,2,k),l),[z.Multiply]:f(m(2,Infinity,e),e),[z.Divide]:f(m(2,2,e),e),[z.Add]:f(m(2,Infinity,
e),e),[z.Subtract]:f(m(2,2,e),e),[z.Clamp]:f(m(3,3,e),e),[z.Mod]:f(m(2,2,e),e),[z.Pow]:f(m(2,2,e),e),[z.Abs]:f(m(1,1,e),e),[z.Floor]:f(m(1,1,e),e),[z.Ceil]:f(m(1,1,e),e),[z.Round]:f(m(1,1,e),e),[z.Sin]:f(m(1,1,e),e),[z.Cos]:f(m(1,1,e),e),[z.Atan]:f(m(1,2,e),e),[z.Sqrt]:f(m(1,1,e),e),[z.Match]:f(m(4,Infinity,d|e),k)}};
shadow$provide[94]=function(X,c,Z,N){function J(){return{variables:{},properties:{},resolution:NaN}}function K(d,g,h){d=(0,e.parse)(d,h);if(!(0,e.overlapsType)(g,d.type))throw g=(0,e.typeName)(g),h=(0,e.typeName)(d.type),Error(`Expected expression to be of type ${g}, got ${h}`);return E(d,h)}function E(d,g){if(d instanceof e.LiteralExpression)return function(){return d.value};const h=d.operator;switch(h){case e.Ops.Number:case e.Ops.String:return C(d,g);case e.Ops.Get:case e.Ops.Var:return u(d,g);
case e.Ops.Resolution:return k=>k.resolution;case e.Ops.Any:case e.Ops.All:case e.Ops.Not:return m(d,g);case e.Ops.Equal:case e.Ops.NotEqual:case e.Ops.LessThan:case e.Ops.LessThanOrEqualTo:case e.Ops.GreaterThan:case e.Ops.GreaterThanOrEqualTo:return p(d,g);case e.Ops.Multiply:case e.Ops.Divide:case e.Ops.Add:case e.Ops.Subtract:case e.Ops.Clamp:case e.Ops.Mod:case e.Ops.Pow:case e.Ops.Abs:case e.Ops.Floor:case e.Ops.Ceil:case e.Ops.Round:case e.Ops.Sin:case e.Ops.Cos:case e.Ops.Atan:case e.Ops.Sqrt:return f(d,
g);case e.Ops.Match:return l(d,g);default:throw Error(`Unsupported operator ${h}`);}}function C(d,g){const h=d.operator,k=d.args.length,n=Array(k);for(let r=0;r<k;++r)n[r]=E(d.args[r],g);switch(h){case e.Ops.Number:case e.Ops.String:return r=>{for(let x=0;x<k;++x){const D=n[x](r);if(typeof D===h)return D}throw Error(`Expected one of the values to be a ${h}`);};default:throw Error(`Unsupported assertion operator ${h}`);}}function u(d,g){g=d.args[0];if(!(g instanceof e.LiteralExpression))throw Error("Expected literal name");
const h=g.value;if("string"!==typeof h)throw Error("Expected string name");switch(d.operator){case e.Ops.Get:return k=>k.properties[h];case e.Ops.Var:return k=>k.variables[h];default:throw Error(`Unsupported accessor operator ${d.operator}`);}}function p(d,g){const h=d.operator,k=E(d.args[0],g),n=E(d.args[1],g);switch(h){case e.Ops.Equal:return r=>k(r)===n(r);case e.Ops.NotEqual:return r=>k(r)!==n(r);case e.Ops.LessThan:return r=>k(r)<n(r);case e.Ops.LessThanOrEqualTo:return r=>k(r)<=n(r);case e.Ops.GreaterThan:return r=>
k(r)>n(r);case e.Ops.GreaterThanOrEqualTo:return r=>k(r)>=n(r);default:throw Error(`Unsupported comparison operator ${h}`);}}function m(d,g){const h=d.operator,k=d.args.length,n=Array(k);for(let r=0;r<k;++r)n[r]=E(d.args[r],g);switch(h){case e.Ops.Any:return r=>{for(let x=0;x<k;++x)if(n[x](r))return!0;return!1};case e.Ops.All:return r=>{for(let x=0;x<k;++x)if(!n[x](r))return!1;return!0};case e.Ops.Not:return r=>!n[0](r);default:throw Error(`Unsupported logical operator ${h}`);}}function f(d,g){const h=
d.operator,k=d.args.length,n=Array(k);for(let r=0;r<k;++r)n[r]=E(d.args[r],g);switch(h){case e.Ops.Multiply:return r=>{let x=1;for(let D=0;D<k;++D)x*=n[D](r);return x};case e.Ops.Divide:return r=>n[0](r)/n[1](r);case e.Ops.Add:return r=>{let x=0;for(let D=0;D<k;++D)x+=n[D](r);return x};case e.Ops.Subtract:return r=>n[0](r)-n[1](r);case e.Ops.Clamp:return r=>{const x=n[0](r),D=n[1](r);if(x<D)return D;r=n[2](r);return x>r?r:x};case e.Ops.Mod:return r=>n[0](r)%n[1](r);case e.Ops.Pow:return r=>Math.pow(n[0](r),
n[1](r));case e.Ops.Abs:return r=>Math.abs(n[0](r));case e.Ops.Floor:return r=>Math.floor(n[0](r));case e.Ops.Ceil:return r=>Math.ceil(n[0](r));case e.Ops.Round:return r=>Math.round(n[0](r));case e.Ops.Sin:return r=>Math.sin(n[0](r));case e.Ops.Cos:return r=>Math.cos(n[0](r));case e.Ops.Atan:return 2===k?r=>Math.atan2(n[0](r),n[1](r)):r=>Math.atan(n[0](r));case e.Ops.Sqrt:return r=>Math.sqrt(n[0](r));default:throw Error(`Unsupported numeric operator ${h}`);}}function l(d,g){const h=d.args.length,
k=Array(h);for(let n=0;n<h;++n)k[n]=E(d.args[n],g);return n=>{const r=k[0](n);for(let x=1;x<h;x+=2)if(r===k[x](n))return k[x+1](n);return k[h-1](n)}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},buildExpression:{enumerable:!0,get:function(){return K}},newEvaluationContext:{enumerable:!0,get:function(){return J}}});var e=c(93)};
shadow$provide[95]=function(X,c,Z,N){function J(Ha){return!0}function K(Ha){const ta=(0,ea.newParsingContext)(),Pa=C(Ha,ta),fb=(0,la.newEvaluationContext)();return function(ka,Ea){fb.properties=ka.getPropertiesInternal();fb.resolution=Ea;return Pa(fb)}}function E(Ha){const ta=(0,ea.newParsingContext)(),Pa=Ha.length,fb=Array(Pa);for(let Va=0;Va<Pa;++Va)fb[Va]=u(Ha[Va],ta);const ka=(0,la.newEvaluationContext)(),Ea=Array(Pa);return function(Va,ib){ka.properties=Va.getPropertiesInternal();ka.resolution=
ib;for(Va=0;Va<Pa;++Va)Ea[Va]=fb[Va](ka);return Ea}}function C(Ha,ta){const Pa=Ha.length,fb=Array(Pa);for(let ka=0;ka<Pa;++ka){const Ea=Ha[ka],Va="filter"in Ea?(0,la.buildExpression)(Ea.filter,ea.BooleanType,ta):J;let ib;if(Array.isArray(Ea.style)){const wa=Ea.style.length;ib=Array(wa);for(let Ra=0;Ra<wa;++Ra)ib[Ra]=u(Ea.style[Ra],ta)}else ib=[u(Ea.style,ta)];fb[ka]={filter:Va,styles:ib}}return function(ka){const Ea=[];let Va=!1;for(let wa=0;wa<Pa;++wa){var ib=fb[wa].filter;if(ib(ka)&&(!Ha[wa].else||
!Va)){Va=!0;for(const Ra of fb[wa].styles)(ib=Ra(ka))&&Ea.push(ib)}}return Ea}}function u(Ha,ta){const Pa=p(Ha,"",ta),fb=m(Ha,"",ta),ka=f(Ha,ta),Ea=l(Ha,ta),Va=h(Ha,"z-index",ta),ib=new qb.default;return function(wa){let Ra=!0;if(Pa){var $a=Pa(wa);$a&&(Ra=!1);ib.setFill($a)}fb&&(($a=fb(wa))&&(Ra=!1),ib.setStroke($a));ka&&(($a=ka(wa))&&(Ra=!1),ib.setText($a));Ea&&(($a=Ea(wa))&&(Ra=!1),ib.setImage($a));Va&&ib.setZIndex(Va(wa));return Ra?null:ib}}function p(Ha,ta,Pa){const fb=r(Ha,ta+"fill-color",Pa);
if(!fb)return null;const ka=new sb.default;return function(Ea){Ea=fb(Ea);if("none"===Ea)return null;ka.setColor(Ea);return ka}}function m(Ha,ta,Pa){const fb=h(Ha,ta+"stroke-width",Pa),ka=r(Ha,ta+"stroke-color",Pa);if(!fb&&!ka)return null;const Ea=k(Ha,ta+"stroke-line-cap",Pa),Va=k(Ha,ta+"stroke-line-join",Pa),ib=x(Ha,ta+"stroke-line-dash",Pa),wa=h(Ha,ta+"stroke-line-dash-offset",Pa),Ra=h(Ha,ta+"stroke-miter-limit",Pa),$a=new gb.default;return function(jb){if(ka){var rb=ka(jb);if("none"===rb)return null;
$a.setColor(rb)}fb&&$a.setWidth(fb(jb));if(Ea){rb=Ea(jb);if("butt"!==rb&&"round"!==rb&&"square"!==rb)throw Error("Expected butt, round, or square line cap");$a.setLineCap(rb)}if(Va){rb=Va(jb);if("bevel"!==rb&&"round"!==rb&&"miter"!==rb)throw Error("Expected bevel, round, or miter line join");$a.setLineJoin(rb)}ib&&$a.setLineDash(ib(jb));wa&&$a.setLineDashOffset(wa(jb));Ra&&$a.setMiterLimit(Ra(jb));return $a}}function f(Ha,ta){const Pa=k(Ha,"text-value",ta);if(!Pa)return null;const fb=p(Ha,"text-",
ta),ka=p(Ha,"text-background-",ta),Ea=m(Ha,"text-",ta),Va=m(Ha,"text-background-",ta),ib=k(Ha,"text-font",ta),wa=h(Ha,"text-max-angle",ta),Ra=h(Ha,"text-offset-x",ta),$a=h(Ha,"text-offset-y",ta),jb=n(Ha,"text-overflow",ta),rb=k(Ha,"text-placement",ta),xb=h(Ha,"text-repeat",ta),dc=z(Ha,"text-scale",ta),qc=n(Ha,"text-rotate-with-view",ta),xc=h(Ha,"text-rotation",ta),jc=k(Ha,"text-align",ta),ec=k(Ha,"text-justify",ta),fc=k(Ha,"text-baseline",ta),Hc=x(Ha,"text-padding",ta),Ob=new db.default({});return function(Xb){Ob.setText(Pa(Xb));
fb&&Ob.setFill(fb(Xb));ka&&Ob.setBackgroundFill(ka(Xb));Ea&&Ob.setStroke(Ea(Xb));Va&&Ob.setBackgroundStroke(Va(Xb));ib&&Ob.setFont(ib(Xb));wa&&Ob.setMaxAngle(wa(Xb));Ra&&Ob.setOffsetX(Ra(Xb));$a&&Ob.setOffsetY($a(Xb));jb&&Ob.setOverflow(jb(Xb));if(rb){var Tb=rb(Xb);if("point"!==Tb&&"line"!==Tb)throw Error("Expected point or line for text-placement");Ob.setPlacement(Tb)}xb&&Ob.setRepeat(xb(Xb));dc&&Ob.setScale(dc(Xb));qc&&Ob.setRotateWithView(qc(Xb));xc&&Ob.setRotation(xc(Xb));if(jc){Tb=jc(Xb);if("left"!==
Tb&&"center"!==Tb&&"right"!==Tb&&"end"!==Tb&&"start"!==Tb)throw Error("Expected left, right, center, start, or end for text-align");Ob.setTextAlign(Tb)}if(ec){Tb=ec(Xb);if("left"!==Tb&&"right"!==Tb&&"center"!==Tb)throw Error("Expected left, right, or center for text-justify");Ob.setJustify(Tb)}if(fc){Tb=fc(Xb);if("bottom"!==Tb&&"top"!==Tb&&"middle"!==Tb&&"alphabetic"!==Tb&&"hanging"!==Tb)throw Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Ob.setTextBaseline(Tb)}Hc&&
Ob.setPadding(Hc(Xb));return Ob}}function l(Ha,ta){return"icon-src"in Ha?e(Ha,ta):"shape-points"in Ha?d(Ha,ta):"circle-radius"in Ha?g(Ha,ta):null}function e(Ha,ta){const Pa=S(Ha["icon-src"],"icon-src"),fb=D(Ha,"icon-anchor",ta),ka=z(Ha,"icon-scale",ta),Ea=h(Ha,"icon-opacity",ta),Va=D(Ha,"icon-displacement",ta),ib=h(Ha,"icon-rotation",ta),wa=n(Ha,"icon-rotate-with-view",ta);ta=L(Ha,"icon-anchor-origin");const Ra=y(Ha,"icon-anchor-x-units"),$a=y(Ha,"icon-anchor-y-units"),jb=T(Ha,"icon-color"),rb=A(Ha,
"icon-cross-origin"),xb=F(Ha,"icon-offset"),dc=L(Ha,"icon-offset-origin"),qc=w(Ha,"icon-width"),xc=w(Ha,"icon-height"),jc=q(Ha,"icon-size");Ha=M(Ha,"icon-declutter");const ec=new Da.default({src:Pa,anchorOrigin:ta,anchorXUnits:Ra,anchorYUnits:$a,color:jb,crossOrigin:rb,offset:xb,offsetOrigin:dc,height:xc,width:qc,size:jc,declutterMode:Ha});return function(fc){Ea&&ec.setOpacity(Ea(fc));Va&&ec.setDisplacement(Va(fc));ib&&ec.setRotation(ib(fc));wa&&ec.setRotateWithView(wa(fc));ka&&ec.setScale(ka(fc));
fb&&ec.setAnchor(fb(fc));return ec}}function d(Ha,ta){const Pa=W(Ha["shape-points"],"shape-points"),fb=p(Ha,"shape-",ta),ka=m(Ha,"shape-",ta),Ea=z(Ha,"shape-scale",ta),Va=D(Ha,"shape-displacement",ta),ib=h(Ha,"shape-rotation",ta),wa=n(Ha,"shape-rotate-with-view",ta);ta=w(Ha,"shape-radius");const Ra=w(Ha,"shape-radius1"),$a=w(Ha,"shape-radius2"),jb=w(Ha,"shape-angle");Ha=M(Ha,"shape-declutter-mode");const rb=new Za.default({points:Pa,radius:ta,radius1:Ra,radius2:$a,angle:jb,declutterMode:Ha});return function(xb){fb&&
rb.setFill(fb(xb));ka&&rb.setStroke(ka(xb));Va&&rb.setDisplacement(Va(xb));ib&&rb.setRotation(ib(xb));wa&&rb.setRotateWithView(wa(xb));Ea&&rb.setScale(Ea(xb));return rb}}function g(Ha,ta){const Pa=p(Ha,"circle-",ta),fb=m(Ha,"circle-",ta),ka=h(Ha,"circle-radius",ta),Ea=z(Ha,"circle-scale",ta),Va=D(Ha,"circle-displacement",ta),ib=h(Ha,"circle-rotation",ta),wa=n(Ha,"circle-rotate-with-view",ta);Ha=M(Ha,"circle-declutter-mode");const Ra=new Ya.default({radius:5,declutterMode:Ha});return function($a){ka&&
Ra.setRadius(ka($a));Pa&&Ra.setFill(Pa($a));fb&&Ra.setStroke(fb($a));Va&&Ra.setDisplacement(Va($a));ib&&Ra.setRotation(ib($a));wa&&Ra.setRotateWithView(wa($a));Ea&&Ra.setScale(Ea($a));return Ra}}function h(Ha,ta,Pa){if(ta in Ha){var fb=(0,la.buildExpression)(Ha[ta],ea.NumberType,Pa);return function(ka){return W(fb(ka),ta)}}}function k(Ha,ta,Pa){if(!(ta in Ha))return null;const fb=(0,la.buildExpression)(Ha[ta],ea.StringType,Pa);return function(ka){return S(fb(ka),ta)}}function n(Ha,ta,Pa){if(!(ta in
Ha))return null;const fb=(0,la.buildExpression)(Ha[ta],ea.BooleanType,Pa);return function(ka){ka=fb(ka);if("boolean"!==typeof ka)throw Error(`Expected a boolean for ${ta}`);return ka}}function r(Ha,ta,Pa){if(!(ta in Ha))return null;const fb=(0,la.buildExpression)(Ha[ta],ea.ColorType|ea.StringType,Pa);return function(ka){return ca(fb(ka),ta)}}function x(Ha,ta,Pa){if(!(ta in Ha))return null;const fb=(0,la.buildExpression)(Ha[ta],ea.NumberArrayType,Pa);return function(ka){return Q(fb(ka),ta)}}function D(Ha,
ta,Pa){if(!(ta in Ha))return null;const fb=(0,la.buildExpression)(Ha[ta],ea.NumberArrayType,Pa);return function(ka){ka=Q(fb(ka),ta);if(2!==ka.length)throw Error(`Expected two numbers for ${ta}`);return ka}}function z(Ha,ta,Pa){if(!(ta in Ha))return null;const fb=(0,la.buildExpression)(Ha[ta],ea.NumberArrayType|ea.NumberType,Pa);return function(ka){ka=fb(ka);if("number"!==typeof ka&&(ka=Q(ka,ta),2!==ka.length))throw Error(`Expected an array of two numbers for ${ta}`);return ka}}function w(Ha,ta){Ha=
Ha[ta];if(void 0!==Ha){if("number"!==typeof Ha)throw Error(`Expected a number for ${ta}`);return Ha}}function q(Ha,ta){Ha=Ha[ta];if(void 0!==Ha){if("number"===typeof Ha)return(0,va.toSize)(Ha);if(!Array.isArray(Ha))throw Error(`Expected a number or size array for ${ta}`);if(2!==Ha.length||"number"!==typeof Ha[0]||"number"!==typeof Ha[1])throw Error(`Expected a number or size array for ${ta}`);return Ha}}function A(Ha,ta){Ha=Ha[ta];if(void 0!==Ha){if("string"!==typeof Ha)throw Error(`Expected a string for ${ta}`);
return Ha}}function L(Ha,ta){Ha=Ha[ta];if(void 0!==Ha){if("bottom-left"!==Ha&&"bottom-right"!==Ha&&"top-left"!==Ha&&"top-right"!==Ha)throw Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${ta}`);return Ha}}function y(Ha,ta){Ha=Ha[ta];if(void 0!==Ha){if("pixels"!==Ha&&"fraction"!==Ha)throw Error(`Expected pixels or fraction for ${ta}`);return Ha}}function F(Ha,ta){Ha=Ha[ta];if(void 0!==Ha)return Q(Ha,ta)}function M(Ha,ta){Ha=Ha[ta];if(void 0!==Ha){if("string"!==typeof Ha)throw Error(`Expected a string for ${ta}`);
if("declutter"!==Ha&&"obstacle"!==Ha&&"none"!==Ha)throw Error(`Expected declutter, obstacle, or none for ${ta}`);return Ha}}function T(Ha,ta){Ha=Ha[ta];if(void 0!==Ha)return ca(Ha,ta)}function Q(Ha,ta){if(!Array.isArray(Ha))throw Error(`Expected an array for ${ta}`);const Pa=Ha.length;for(let fb=0;fb<Pa;++fb)if("number"!==typeof Ha[fb])throw Error(`Expected an array of numbers for ${ta}`);return Ha}function S(Ha,ta){if("string"!==typeof Ha)throw Error(`Expected a string for ${ta}`);return Ha}function W(Ha,
ta){if("number"!==typeof Ha)throw Error(`Expected a number for ${ta}`);return Ha}function ca(Ha,ta){if("string"===typeof Ha)return Ha;Ha=Q(Ha,ta);const Pa=Ha.length;if(3>Pa||4<Pa)throw Error(`Expected a color with 3 or 4 values for ${ta}`);return Ha}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},buildRuleSet:{enumerable:!0,get:function(){return C}},buildStyle:{enumerable:!0,get:function(){return u}},flatStylesToStyleFunction:{enumerable:!0,get:function(){return E}},rulesToStyleFunction:{enumerable:!0,
get:function(){return K}}});X=c(74);Z=c(60);N=c(92);var B=c(73),v=c(64),I=c(75),O=c(76),ea=c(93),la=c(94),va=c(66),Da=c.esmDefault(N),Ya=c.esmDefault(X),Za=c.esmDefault(B),gb=c.esmDefault(v),qb=c.esmDefault(I),db=c.esmDefault(O),sb=c.esmDefault(Z)};
shadow$provide[96]=function(X,c,Z,N){function J(f){if(void 0===f)return K.createDefaultStyle;if(!f)return null;if("function"===typeof f||f instanceof u.default)return f;if(!Array.isArray(f))return(0,E.flatStylesToStyleFunction)([f]);if(0===f.length)return[];const l=f.length;var e=f[0];if(e instanceof u.default){e=Array(l);for(var d=0;d<l;++d){var g=f[d];if(!(g instanceof u.default))throw Error("Expected a list of style instances");e[d]=g}return e}if("style"in e){e=Array(l);for(d=0;d<l;++d){g=f[d];
if(!("style"in g))throw Error("Expected a list of rules with a style property");e[d]=g}return(0,E.rulesToStyleFunction)(e)}return(0,E.flatStylesToStyleFunction)(f)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});X=c(87);Z=c(88);var K=c(75),E=c(95),C=c.esmDefault(Z),u=c.esmDefault(K);c=c.esmDefault(X);class p extends c.default{constructor(f){f=f?f:{};const l=Object.assign({},f);delete l.style;delete l.renderBuffer;delete l.updateWhileAnimating;
delete l.updateWhileInteracting;super(l);this.declutter_=void 0!==f.declutter?f.declutter:!1;this.renderBuffer_=void 0!==f.renderBuffer?f.renderBuffer:100;this.style_=null;this.styleFunction_=void 0;this.setStyle(f.style);this.updateWhileAnimating_=void 0!==f.updateWhileAnimating?f.updateWhileAnimating:!1;this.updateWhileInteracting_=void 0!==f.updateWhileInteracting?f.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(f){return super.getFeatures(f)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(f){f.declutterTree||
(f.declutterTree=new C.default(9));this.getRenderer().renderDeclutter(f)}setRenderOrder(f){this.set("renderOrder",f)}setStyle(f){this.style_=J(f);this.styleFunction_=null===f?void 0:(0,K.toFunction)(this.style_);this.changed()}}const m=p};
shadow$provide[97]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},beginPathInstruction:{enumerable:!0,get:function(){return E}},closePathInstruction:{enumerable:!0,get:function(){return C}},default:{enumerable:!0,get:function(){return u}},fillInstruction:{enumerable:!0,get:function(){return J}},strokeInstruction:{enumerable:!0,get:function(){return K}}});X={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,
MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};const J=[X.FILL],K=[X.STROKE],E=[X.BEGIN_PATH],C=[X.CLOSE_PATH],u=X};
shadow$provide[98]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});class J{drawCustom(E,C,u,p){}drawGeometry(E){}setStyle(E){}drawCircle(E,C){}drawFeature(E,C){}drawGeometryCollection(E,C){}drawLineString(E,C){}drawMultiLineString(E,C){}drawMultiPoint(E,C){}drawMultiPolygon(E,C){}drawPoint(E,C){}drawPolygon(E,C){}drawText(E,C){}setFillStrokeStyle(E,C){}setImageStyle(E,C){}setTextStyle(E,C){}}const K=J};
shadow$provide[99]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return l}}});X=c(97);Z=c(27);N=c(98);var J=c(69),K=c(28),E=c(72),C=c(12),u=c(47),p=c.esmDefault(X),m=c.esmDefault(Z);c=c.esmDefault(N);class f extends c.default{constructor(e,d,g,h){super();this.tolerance=e;this.maxExtent=d;this.pixelRatio=h;this.maxLineWidth=0;this.resolution=g;this.bufferedMaxExtent_=this.beginGeometryInstruction2_=this.beginGeometryInstruction1_=
null;this.instructions=[];this.coordinates=[];this.tmpCoordinate_=[];this.hitDetectionInstructions=[];this.state={}}applyPixelRatio(e){const d=this.pixelRatio;return 1==d?e:e.map(function(g){return g*d})}appendFlatPointCoordinates(e,d){const g=this.getBufferedMaxExtent(),h=this.tmpCoordinate_,k=this.coordinates;let n=k.length;for(let r=0,x=e.length;r<x;r+=d)h[0]=e[r],h[1]=e[r+1],(0,K.containsCoordinate)(g,h)&&(k[n++]=h[0],k[n++]=h[1]);return n}appendFlatLineCoordinates(e,d,g,h,k,n){const r=this.coordinates;
let x=r.length;const D=this.getBufferedMaxExtent();n&&(d+=h);n=e[d];let z=e[d+1];const w=this.tmpCoordinate_;let q=!0,A,L,y;for(A=d+h;A<g;A+=h)w[0]=e[A],w[1]=e[A+1],y=(0,K.coordinateRelationship)(D,w),y!==L?(q&&(r[x++]=n,r[x++]=z,q=!1),r[x++]=w[0],r[x++]=w[1]):y===m.default.INTERSECTING?(r[x++]=w[0],r[x++]=w[1],q=!1):q=!0,n=w[0],z=w[1],L=y;if(k&&q||A===d+h)r[x++]=n,r[x++]=z;return x}drawCustomCoordinates_(e,d,g,h,k){for(let n=0,r=g.length;n<r;++n){const x=g[n];d=this.appendFlatLineCoordinates(e,d,
x,h,!1,!1);k.push(d);d=x}return d}drawCustom(e,d,g,h){this.beginGeometry(e,d);var k=e.getType(),n=e.getStride();const r=this.coordinates.length;let x;switch(k){case "MultiPolygon":k=e.getOrientedFlatCoordinates();var D=[];const z=e.getEndss();x=0;for(let w=0,q=z.length;w<q;++w){const A=[];x=this.drawCustomCoordinates_(k,x,z[w],n,A);D.push(A)}this.instructions.push([p.default.CUSTOM,r,D,e,g,u.inflateMultiCoordinatesArray]);this.hitDetectionInstructions.push([p.default.CUSTOM,r,D,e,h||g,u.inflateMultiCoordinatesArray]);
break;case "Polygon":case "MultiLineString":D=[];k="Polygon"==k?e.getOrientedFlatCoordinates():e.getFlatCoordinates();this.drawCustomCoordinates_(k,0,e.getEnds(),n,D);this.instructions.push([p.default.CUSTOM,r,D,e,g,u.inflateCoordinatesArray]);this.hitDetectionInstructions.push([p.default.CUSTOM,r,D,e,h||g,u.inflateCoordinatesArray]);break;case "LineString":case "Circle":k=e.getFlatCoordinates();n=this.appendFlatLineCoordinates(k,0,k.length,n,!1,!1);this.instructions.push([p.default.CUSTOM,r,n,e,
g,u.inflateCoordinates]);this.hitDetectionInstructions.push([p.default.CUSTOM,r,n,e,h||g,u.inflateCoordinates]);break;case "MultiPoint":k=e.getFlatCoordinates();n=this.appendFlatPointCoordinates(k,n);n>r&&(this.instructions.push([p.default.CUSTOM,r,n,e,g,u.inflateCoordinates]),this.hitDetectionInstructions.push([p.default.CUSTOM,r,n,e,h||g,u.inflateCoordinates]));break;case "Point":k=e.getFlatCoordinates(),this.coordinates.push(k[0],k[1]),n=this.coordinates.length,this.instructions.push([p.default.CUSTOM,
r,n,e,g]),this.hitDetectionInstructions.push([p.default.CUSTOM,r,n,e,h||g])}this.endGeometry(d)}beginGeometry(e,d){this.beginGeometryInstruction1_=[p.default.BEGIN_GEOMETRY,d,0,e];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[p.default.BEGIN_GEOMETRY,d,0,e];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=
this.hitDetectionInstructions;e.reverse();let d;const g=e.length;let h,k,n=-1;for(d=0;d<g;++d)h=e[d],k=h[0],k==p.default.END_GEOMETRY?n=d:k==p.default.BEGIN_GEOMETRY&&(h[2]=d,(0,C.reverseSubArray)(this.hitDetectionInstructions,n,d),n=-1)}setFillStrokeStyle(e,d){const g=this.state;e?(e=e.getColor(),g.fillStyle=(0,J.asColorLike)(e?e:E.defaultFillStyle)):g.fillStyle=void 0;d?(e=d.getColor(),g.strokeStyle=(0,J.asColorLike)(e?e:E.defaultStrokeStyle),e=d.getLineCap(),g.lineCap=void 0!==e?e:E.defaultLineCap,
e=d.getLineDash(),g.lineDash=e?e.slice():E.defaultLineDash,e=d.getLineDashOffset(),g.lineDashOffset=e?e:E.defaultLineDashOffset,e=d.getLineJoin(),g.lineJoin=void 0!==e?e:E.defaultLineJoin,e=d.getWidth(),g.lineWidth=void 0!==e?e:E.defaultLineWidth,d=d.getMiterLimit(),g.miterLimit=void 0!==d?d:E.defaultMiterLimit,g.lineWidth>this.maxLineWidth&&(this.maxLineWidth=g.lineWidth,this.bufferedMaxExtent_=null)):(g.strokeStyle=void 0,g.lineCap=void 0,g.lineDash=null,g.lineDashOffset=void 0,g.lineJoin=void 0,
g.lineWidth=void 0,g.miterLimit=void 0)}createFill(e){e=e.fillStyle;const d=[p.default.SET_FILL_STYLE,e];"string"!==typeof e&&d.push(!0);return d}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[p.default.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,d){const g=e.fillStyle;if("string"!==typeof g||e.currentFillStyle!=g)void 0!==g&&this.instructions.push(d.call(this,
e)),e.currentFillStyle=g}updateStrokeStyle(e,d){const g=e.strokeStyle,h=e.lineCap,k=e.lineDash,n=e.lineDashOffset,r=e.lineJoin,x=e.lineWidth,D=e.miterLimit;if(e.currentStrokeStyle!=g||e.currentLineCap!=h||k!=e.currentLineDash&&!(0,C.equals)(e.currentLineDash,k)||e.currentLineDashOffset!=n||e.currentLineJoin!=r||e.currentLineWidth!=x||e.currentMiterLimit!=D)void 0!==g&&d.call(this,e),e.currentStrokeStyle=g,e.currentLineCap=h,e.currentLineDash=k,e.currentLineDashOffset=n,e.currentLineJoin=r,e.currentLineWidth=
x,e.currentMiterLimit=D}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;e=[p.default.END_GEOMETRY,e];this.instructions.push(e);this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){this.bufferedMaxExtent_||(this.bufferedMaxExtent_=(0,K.clone)(this.maxExtent),0<this.maxLineWidth&&(0,K.buffer)(this.bufferedMaxExtent_,this.resolution*
(this.maxLineWidth+1)/2,this.bufferedMaxExtent_));return this.bufferedMaxExtent_}}const l=f};
shadow$provide[100]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});X=c(99);Z=c(97);var J=c.esmDefault(Z);c=c.esmDefault(X);class K extends c.default{constructor(C,u,p,m){super(C,u,p,m);this.image_=this.hitDetectionImage_=null;this.declutterImageWithText_=this.declutterMode_=this.width_=this.scale_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.height_=this.anchorY_=this.anchorX_=
this.imagePixelRatio_=void 0}drawPoint(C,u){if(this.image_){this.beginGeometry(C,u);var p=C.getFlatCoordinates(),m=C.getStride();C=this.coordinates.length;p=this.appendFlatPointCoordinates(p,m);this.instructions.push([J.default.DRAW_IMAGE,C,p,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*
this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([J.default.DRAW_IMAGE,C,p,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(u)}}drawMultiPoint(C,u){if(this.image_){this.beginGeometry(C,
u);var p=C.getFlatCoordinates(),m=C.getStride();C=this.coordinates.length;p=this.appendFlatPointCoordinates(p,m);this.instructions.push([J.default.DRAW_IMAGE,C,p,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],
Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([J.default.DRAW_IMAGE,C,p,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(u)}}finish(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=
null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return super.finish()}setImageStyle(C,u){const p=C.getAnchor(),m=C.getSize(),f=C.getOrigin();this.imagePixelRatio_=C.getPixelRatio(this.pixelRatio);this.anchorX_=p[0];this.anchorY_=p[1];this.hitDetectionImage_=C.getHitDetectionImage();this.image_=C.getImage(this.pixelRatio);this.height_=m[1];this.opacity_=C.getOpacity();this.originX_=f[0];this.originY_=
f[1];this.rotateWithView_=C.getRotateWithView();this.rotation_=C.getRotation();this.scale_=C.getScaleArray();this.width_=m[0];this.declutterMode_=C.getDeclutterMode();this.declutterImageWithText_=u}}const E=K};
shadow$provide[101]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(99);var J=c(97),K=c(72),E=c.esmDefault(J);c=c.esmDefault(X);class C extends c.default{constructor(p,m,f,l){super(p,m,f,l)}drawFlatCoordinates_(p,m,f,l){var e=this.coordinates.length;p=this.appendFlatLineCoordinates(p,m,f,l,!1,!1);e=[E.default.MOVE_TO_LINE_TO,e,p];this.instructions.push(e);this.hitDetectionInstructions.push(e);return f}drawLineString(p,
m){var f=this.state;const l=f.lineWidth;void 0!==f.strokeStyle&&void 0!==l&&(this.updateStrokeStyle(f,this.applyStroke),this.beginGeometry(p,m),this.hitDetectionInstructions.push([E.default.SET_STROKE_STYLE,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,K.defaultLineDash,K.defaultLineDashOffset],J.beginPathInstruction),f=p.getFlatCoordinates(),p=p.getStride(),this.drawFlatCoordinates_(f,0,f.length,p),this.hitDetectionInstructions.push(J.strokeInstruction),this.endGeometry(m))}drawMultiLineString(p,
m){var f=this.state,l=f.lineWidth;if(void 0!==f.strokeStyle&&void 0!==l){this.updateStrokeStyle(f,this.applyStroke);this.beginGeometry(p,m);this.hitDetectionInstructions.push([E.default.SET_STROKE_STYLE,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,K.defaultLineDash,K.defaultLineDashOffset],J.beginPathInstruction);f=p.getEnds();l=p.getFlatCoordinates();p=p.getStride();var e=0;for(let d=0,g=f.length;d<g;++d)e=this.drawFlatCoordinates_(l,e,f[d],p);this.hitDetectionInstructions.push(J.strokeInstruction);
this.endGeometry(m)}}finish(){const p=this.state;void 0!=p.lastStroke&&p.lastStroke!=this.coordinates.length&&this.instructions.push(J.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return super.finish()}applyStroke(p){void 0!=p.lastStroke&&p.lastStroke!=this.coordinates.length&&(this.instructions.push(J.strokeInstruction),p.lastStroke=this.coordinates.length);p.lastStroke=0;super.applyStroke(p);this.instructions.push(J.beginPathInstruction)}}const u=C};
shadow$provide[102]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});X=c(99);var J=c(97),K=c(72),E=c(46),C=c.esmDefault(J);c=c.esmDefault(X);class u extends c.default{constructor(m,f,l,e){super(m,f,l,e)}drawFlatCoordinatess_(m,f,l,e){var d=this.state;const g=void 0!==d.fillStyle;d=void 0!==d.strokeStyle;const h=l.length;this.instructions.push(J.beginPathInstruction);this.hitDetectionInstructions.push(J.beginPathInstruction);
for(let k=0;k<h;++k){const n=l[k],r=this.coordinates.length;f=this.appendFlatLineCoordinates(m,f,n,e,!0,!d);f=[C.default.MOVE_TO_LINE_TO,r,f];this.instructions.push(f);this.hitDetectionInstructions.push(f);d&&(this.instructions.push(J.closePathInstruction),this.hitDetectionInstructions.push(J.closePathInstruction));f=n}g&&(this.instructions.push(J.fillInstruction),this.hitDetectionInstructions.push(J.fillInstruction));d&&(this.instructions.push(J.strokeInstruction),this.hitDetectionInstructions.push(J.strokeInstruction));
return f}drawCircle(m,f){const l=this.state;var e=l.strokeStyle;if(void 0!==l.fillStyle||void 0!==e){this.setFillStrokeStyles_();this.beginGeometry(m,f);void 0!==l.fillStyle&&this.hitDetectionInstructions.push([C.default.SET_FILL_STYLE,K.defaultFillStyle]);void 0!==l.strokeStyle&&this.hitDetectionInstructions.push([C.default.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,K.defaultLineDash,K.defaultLineDashOffset]);e=m.getFlatCoordinates();m=m.getStride();var d=this.coordinates.length;
this.appendFlatLineCoordinates(e,0,e.length,m,!1,!1);e=[C.default.CIRCLE,d];this.instructions.push(J.beginPathInstruction,e);this.hitDetectionInstructions.push(J.beginPathInstruction,e);void 0!==l.fillStyle&&(this.instructions.push(J.fillInstruction),this.hitDetectionInstructions.push(J.fillInstruction));void 0!==l.strokeStyle&&(this.instructions.push(J.strokeInstruction),this.hitDetectionInstructions.push(J.strokeInstruction));this.endGeometry(f)}}drawPolygon(m,f){var l=this.state,e=l.strokeStyle;
if(void 0!==l.fillStyle||void 0!==e)this.setFillStrokeStyles_(),this.beginGeometry(m,f),void 0!==l.fillStyle&&this.hitDetectionInstructions.push([C.default.SET_FILL_STYLE,K.defaultFillStyle]),void 0!==l.strokeStyle&&this.hitDetectionInstructions.push([C.default.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,K.defaultLineDash,K.defaultLineDashOffset]),l=m.getEnds(),e=m.getOrientedFlatCoordinates(),m=m.getStride(),this.drawFlatCoordinatess_(e,0,l,m),this.endGeometry(f)}drawMultiPolygon(m,
f){var l=this.state,e=l.strokeStyle;if(void 0!==l.fillStyle||void 0!==e){this.setFillStrokeStyles_();this.beginGeometry(m,f);void 0!==l.fillStyle&&this.hitDetectionInstructions.push([C.default.SET_FILL_STYLE,K.defaultFillStyle]);void 0!==l.strokeStyle&&this.hitDetectionInstructions.push([C.default.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,K.defaultLineDash,K.defaultLineDashOffset]);l=m.getEndss();e=m.getOrientedFlatCoordinates();m=m.getStride();var d=0;for(let g=
0,h=l.length;g<h;++g)d=this.drawFlatCoordinatess_(e,d,l[g],m);this.endGeometry(f)}}finish(){this.reverseHitDetectionInstructions();this.state=null;const m=this.tolerance;if(0!==m){const f=this.coordinates;for(let l=0,e=f.length;l<e;++l)f[l]=(0,E.snap)(f[l],m)}return super.finish()}setFillStrokeStyles_(){const m=this.state;void 0!==m.fillStyle&&this.updateFillStyle(m,this.createFill);void 0!==m.strokeStyle&&this.updateStrokeStyle(m,this.applyStroke)}}const p=u};
shadow$provide[103]=function(X,c,Z,N){function J(E,C,u,p,m){const f=[];let l=u;var e=0;for(u=C.slice(u,2);e<E&&l+m<p;){const [k,n]=u.slice(-2);var d=C[l+m],g=C[l+m+1],h=Math.sqrt((d-k)*(d-k)+(g-n)*(g-n));e+=h;e>=E?(h=(E-e+h)/h,d=(0,K.lerp)(k,d,h),g=(0,K.lerp)(n,g,h),u.push(d,g),f.push(u),u=[d,g],e==E&&(l+=m),e=0):(e<E?u.push(C[l+m],C[l+m+1]):(e=h-e,d=(0,K.lerp)(k,d,e/h),e=(0,K.lerp)(n,g,e/h),u.push(d,e),f.push(u),u=[d,e],e=0),l+=m)}0<e&&f.push(u);return f}Object.defineProperties(N,{__esModule:{enumerable:!0,
value:!0},lineChunk:{enumerable:!0,get:function(){return J}}});var K=c(35)};
shadow$provide[104]=function(X,c,Z,N){function J(K,E,C,u,p){let m=C,f=C,l=0,e=0,d=C;let g;let h,k;for(;C<u;C+=p){const D=E[C],z=E[C+1];if(void 0!==n){var n=D-n;var r=z-r;g=Math.sqrt(n*n+r*r);if(void 0!==h){e+=x;var x=Math.acos((h*n+k*r)/(x*g));x>K&&(e>l&&(l=e,m=d,f=C),e=0,d=C-p)}x=g;h=n;k=r}n=D;r=z}return e+g>l?[d,C]:[m,f]}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},matchingChunk:{enumerable:!0,get:function(){return J}}})};
shadow$provide[105]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},TEXT_ALIGN:{enumerable:!0,get:function(){return f}},default:{enumerable:!0,get:function(){return e}}});X=c(99);Z=c(97);var J=c(69),K=c(72),E=c(19),C=c(28),u=c(103),p=c(104),m=c.esmDefault(Z);c=c.esmDefault(X);const f={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class l extends c.default{constructor(d,g,h,k){super(d,g,h,k);this.labels_=null;this.text_=
"";this.textOffsetY_=this.textOffsetX_=0;this.textRotateWithView_=void 0;this.textRotation_=0;this.textFillState_=null;this.fillStates={};this.fillStates[K.defaultFillStyle]={fillStyle:K.defaultFillStyle};this.textStrokeState_=null;this.strokeStates={};this.textState_={};this.textStates={};this.strokeKey_=this.fillKey_=this.textKey_="";this.declutterImageWithText_=void 0}finish(){const d=super.finish();d.textStates=this.textStates;d.fillStates=this.fillStates;d.strokeStates=this.strokeStates;return d}drawText(d,
g){var h=this.textFillState_,k=this.textStrokeState_;const n=this.textState_;if(""!==this.text_&&n&&(h||k)){var r=this.coordinates;h=r.length;k=d.getType();var x=null,D=d.getStride();if("line"!==n.placement||"LineString"!=k&&"MultiLineString"!=k&&"Polygon"!=k&&"MultiPolygon"!=k){var z=n.overflow?null:[];switch(k){case "Point":case "MultiPoint":x=d.getFlatCoordinates();break;case "LineString":x=d.getFlatMidpoint();break;case "Circle":x=d.getCenter();break;case "MultiLineString":x=d.getFlatMidpoints();
D=2;break;case "Polygon":x=d.getFlatInteriorPoint();n.overflow||z.push(x[2]/this.resolution);D=3;break;case "MultiPolygon":k=d.getFlatInteriorPoints();x=[];for(let F=0,M=k.length;F<M;F+=3)n.overflow||z.push(k[F+2]/this.resolution),x.push(k[F],k[F+1]);if(0===x.length)return;D=2}k=this.appendFlatPointCoordinates(x,D);if(k===h)return;if(z&&(k-h)/2!==x.length/D){let F=h/2;z=z.filter((M,T)=>{(M=r[2*(F+T)]===x[T*D]&&r[2*(F+T)+1]===x[T*D+1])||--F;return M})}this.saveTextStates_();if(n.backgroundFill||n.backgroundStroke)this.setFillStrokeStyle(n.backgroundFill,
n.backgroundStroke),n.backgroundFill&&this.updateFillStyle(this.state,this.createFill),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(d,g);d=n.padding;if(d!=K.defaultPadding&&(0>n.scale[0]||0>n.scale[1])){d=n.padding[0];var w=n.padding[1],q=n.padding[2],A=n.padding[3];0>n.scale[0]&&(w=-w,A=-A);0>n.scale[1]&&(d=-d,q=-q);d=[d,w,q,A]}const y=this.pixelRatio;this.instructions.push([m.default.DRAW_IMAGE,
h,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,d==K.defaultPadding?K.defaultPadding:d.map(function(F){return F*y}),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,z]);w=1/y;q=this.state.fillStyle;n.backgroundFill&&(this.state.fillStyle=K.defaultFillStyle,this.hitDetectionInstructions.push(this.createFill(this.state)));this.hitDetectionInstructions.push([m.default.DRAW_IMAGE,
h,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,d,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?K.defaultFillStyle:this.fillKey_,this.textOffsetX_,this.textOffsetY_,z]);n.backgroundFill&&(this.state.fillStyle=q,this.hitDetectionInstructions.push(this.createFill(this.state)))}else{if(!(0,C.intersects)(this.getBufferedMaxExtent(),d.getExtent()))return;x=d.getFlatCoordinates();if("LineString"==
k)z=[x.length];else if("MultiLineString"==k)z=d.getEnds();else if("Polygon"==k)z=d.getEnds().slice(0,1);else if("MultiPolygon"==k){k=d.getEndss();z=[];for(let y=0,F=k.length;y<F;++y)z.push(k[y][0])}this.beginGeometry(d,g);d=(k=n.repeat)?void 0:n.textAlign;q=0;for(let y=0,F=z.length;y<F;++y){w=k?(0,u.lineChunk)(k*this.resolution,x,q,z[y],D):[x.slice(q,z[y])];for(let M=0,T=w.length;M<T;++M){q=w[M];A=0;var L=q.length;void 0==d&&(L=(0,p.matchingChunk)(n.maxAngle,q,0,q.length,2),A=L[0],L=L[1]);for(;A<
L;A+=D)r.push(q[A],q[A+1]);A=r.length;q=z[y];this.drawChars_(h,A);h=A}}}this.endGeometry(g)}}saveTextStates_(){var d=this.textStrokeState_,g=this.textState_;const h=this.textFillState_,k=this.strokeKey_;d&&(k in this.strokeStates||(this.strokeStates[k]={strokeStyle:d.strokeStyle,lineCap:d.lineCap,lineDashOffset:d.lineDashOffset,lineWidth:d.lineWidth,lineJoin:d.lineJoin,miterLimit:d.miterLimit,lineDash:d.lineDash}));d=this.textKey_;d in this.textStates||(this.textStates[d]={font:g.font,textAlign:g.textAlign||
K.defaultTextAlign,justify:g.justify,textBaseline:g.textBaseline||K.defaultTextBaseline,scale:g.scale});g=this.fillKey_;h&&(g in this.fillStates||(this.fillStates[g]={fillStyle:h.fillStyle}))}drawChars_(d,g){var h=this.textStrokeState_;const k=this.textState_,n=this.strokeKey_,r=this.textKey_,x=this.fillKey_;this.saveTextStates_();const D=this.pixelRatio,z=f[k.textBaseline],w=this.textOffsetY_*D,q=this.text_;h=h?h.lineWidth*Math.abs(k.scale[0])/2:0;this.instructions.push([m.default.DRAW_CHARS,d,g,
z,k.overflow,x,k.maxAngle,D,w,n,h*D,q,r,1]);this.hitDetectionInstructions.push([m.default.DRAW_CHARS,d,g,z,k.overflow,x?K.defaultFillStyle:x,k.maxAngle,D,w,n,h*D,q,r,1/D])}setTextStyle(d,g){var h;let k;var n;if(d){(n=d.getFill())?(k=this.textFillState_,k||(this.textFillState_=k={}),k.fillStyle=(0,J.asColorLike)(n.getColor()||K.defaultFillStyle)):this.textFillState_=k=null;if(h=d.getStroke()){n=this.textStrokeState_;n||(this.textStrokeState_=n={});var r=h.getLineDash(),x=h.getLineDashOffset(),D=h.getWidth(),
z=h.getMiterLimit();n.lineCap=h.getLineCap()||K.defaultLineCap;n.lineDash=r?r.slice():K.defaultLineDash;n.lineDashOffset=void 0===x?K.defaultLineDashOffset:x;n.lineJoin=h.getLineJoin()||K.defaultLineJoin;n.lineWidth=void 0===D?K.defaultLineWidth:D;n.miterLimit=void 0===z?K.defaultMiterLimit:z;n.strokeStyle=(0,J.asColorLike)(h.getColor()||K.defaultStrokeStyle)}else this.textStrokeState_=n=null;h=this.textState_;r=d.getFont()||K.defaultFont;(0,K.registerFont)(r);x=d.getScaleArray();h.overflow=d.getOverflow();
h.font=r;h.maxAngle=d.getMaxAngle();h.placement=d.getPlacement();h.textAlign=d.getTextAlign();h.repeat=d.getRepeat();h.justify=d.getJustify();h.textBaseline=d.getTextBaseline()||K.defaultTextBaseline;h.backgroundFill=d.getBackgroundFill();h.backgroundStroke=d.getBackgroundStroke();h.padding=d.getPadding()||K.defaultPadding;h.scale=void 0===x?[1,1]:x;r=d.getOffsetX();x=d.getOffsetY();D=d.getRotateWithView();z=d.getRotation();this.text_=d.getText()||"";this.textOffsetX_=void 0===r?0:r;this.textOffsetY_=
void 0===x?0:x;this.textRotateWithView_=void 0===D?!1:D;this.textRotation_=void 0===z?0:z;this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,E.getUid)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"";this.textKey_=h.font+h.scale+(h.textAlign||"?")+(h.repeat||"?")+(h.justify||"?")+(h.textBaseline||"?");this.fillKey_=k?"string"==typeof k.fillStyle?k.fillStyle:"|"+(0,E.getUid)(k.fillStyle):""}else this.text_="";this.declutterImageWithText_=
g}}const e=l};
shadow$provide[106]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});var J=c(99);X=c(100);N=c(101);Z=c(102);var K=c(105);Z=c.esmDefault(Z);J=c.esmDefault(J);K=c.esmDefault(K);N=c.esmDefault(N);c=c.esmDefault(X);const E={Circle:Z.default,Default:J.default,Image:c.default,LineString:N.default,Polygon:Z.default,Text:K.default};class C{constructor(p,m,f,l){this.tolerance_=p;this.maxExtent_=m;this.pixelRatio_=l;this.resolution_=
f;this.buildersByZIndex_={}}finish(){const p={};for(const m in this.buildersByZIndex_){p[m]=p[m]||{};const f=this.buildersByZIndex_[m];for(const l in f){const e=f[l].finish();p[m][l]=e}}return p}getBuilder(p,m){var f=void 0!==p?p.toString():"0";p=this.buildersByZIndex_[f];void 0===p&&(p={},this.buildersByZIndex_[f]=p);f=p[m];void 0===f&&(f=new E[m](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),p[m]=f);return f}}const u=C};
shadow$provide[107]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(16);Z=c(65);N=c(18);var J=c(19),K=c.esmDefault(Z);Z=c.esmDefault(N);var E=c.esmDefault(X);class C extends Z.default{constructor(p){super();this.ready=!0;this.boundHandleImageChange_=this.handleImageChange_.bind(this);this.layer_=p;this.declutterExecutorGroup=null}getFeatures(p){return(0,J.abstract)()}getData(p){return null}prepareFrame(p){return(0,J.abstract)()}renderFrame(p,
m){return(0,J.abstract)()}loadedTileCallback(p,m,f){p[m]||(p[m]={});p[m][f.tileCoord.toString()]=f}createLoadedTileFinder(p,m,f){return(l,e)=>{const d=this.loadedTileCallback.bind(this,f,l);return p.forEachLoadedTile(m,l,e,d)}}forEachFeatureAtCoordinate(p,m,f,l,e){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(p){p=p.target;p.getState()!==K.default.LOADED&&p.getState()!==K.default.ERROR||this.renderIfReadyAndVisible()}loadImage(p){let m=p.getState();m!=K.default.LOADED&&m!=
K.default.ERROR&&p.addEventListener(E.default.CHANGE,this.boundHandleImageChange_);m==K.default.IDLE&&(p.load(),m=p.getState());return m==K.default.LOADED}renderIfReadyAndVisible(){const p=this.getLayer();p&&p.getVisible()&&"ready"===p.getSourceState()&&p.changed()}disposeInternal(){delete this.layer_;super.disposeInternal()}}const u=C};
shadow$provide[108]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});X=c(9);c=c.esmDefault(X);class J extends c.default{constructor(E,C,u,p){super(E);this.inversePixelTransform=C;this.frameState=u;this.context=p}}const K=J};
shadow$provide[109]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},canvasPool:{enumerable:!0,get:function(){return f}},default:{enumerable:!0,get:function(){return d}}});Z=c(107);N=c(108);X=c(59);var J=c(26),K=c(68),E=c(70),C=c(12),u=c(28),p=c.esmDefault(N);Z=c.esmDefault(Z);var m=c.esmDefault(X);const f=[];let l=null;class e extends Z.default{constructor(g){super(g);this.container=null;this.renderedResolution;this.tempTransform=(0,J.create)();this.pixelTransform=
(0,J.create)();this.inversePixelTransform=(0,J.create)();this.context=null;this.containerReused=!1;this.frameState=this.pixelContext_=null}getImageData(g,h,k){l||(l=(0,E.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0}));l.clearRect(0,0,1,1);let n;try{l.drawImage(g,h,k,1,1,0,0,1,1),n=l.getImageData(0,0,1,1).data}catch(r){return l=null}return n}getBackground(g){let h=this.getLayer().getBackground();"function"===typeof h&&(h=h(g.viewState.resolution));return h||void 0}useContainer(g,h,k){var n=
this.getLayer().getClassName();let r;if(g&&g.className===n&&(!k||g&&g.style.backgroundColor&&(0,C.equals)((0,K.asArray)(g.style.backgroundColor),(0,K.asArray)(k)))){const x=g.firstElementChild;x instanceof HTMLCanvasElement&&(r=x.getContext("2d"))}r&&r.canvas.style.transform===h?(this.container=g,this.context=r,this.containerReused=!0):this.containerReused?(this.context=this.container=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null);this.container||(g=document.createElement("div"),
g.className=n,n=g.style,n.position="absolute",n.width="100%",n.height="100%",r=(0,E.createCanvasContext2D)(),n=r.canvas,g.appendChild(n),n=n.style,n.position="absolute",n.left="0",n.transformOrigin="top left",this.container=g,this.context=r);this.containerReused||!k||this.container.style.backgroundColor||(this.container.style.backgroundColor=k)}clipUnrotated(g,h,k){const n=(0,u.getTopLeft)(k),r=(0,u.getTopRight)(k),x=(0,u.getBottomRight)(k);k=(0,u.getBottomLeft)(k);(0,J.apply)(h.coordinateToPixelTransform,
n);(0,J.apply)(h.coordinateToPixelTransform,r);(0,J.apply)(h.coordinateToPixelTransform,x);(0,J.apply)(h.coordinateToPixelTransform,k);h=this.inversePixelTransform;(0,J.apply)(h,n);(0,J.apply)(h,r);(0,J.apply)(h,x);(0,J.apply)(h,k);g.save();g.beginPath();g.moveTo(Math.round(n[0]),Math.round(n[1]));g.lineTo(Math.round(r[0]),Math.round(r[1]));g.lineTo(Math.round(x[0]),Math.round(x[1]));g.lineTo(Math.round(k[0]),Math.round(k[1]));g.clip()}dispatchRenderEvent_(g,h,k){const n=this.getLayer();n.hasListener(g)&&
(g=new p.default(g,this.inversePixelTransform,k,h),n.dispatchEvent(g))}preRender(g,h){this.frameState=h;this.dispatchRenderEvent_(m.default.PRERENDER,g,h)}postRender(g,h){this.dispatchRenderEvent_(m.default.POSTRENDER,g,h)}getRenderTransform(g,h,k,n,r,x,D){h=n/h;return(0,J.compose)(this.tempTransform,r/2,x/2,h,-h,-k,-g[0]+D,-g[1])}disposeInternal(){delete this.frameState;super.disposeInternal()}}const d=e};
shadow$provide[110]=function(X,c,Z,N){function J(C,u,p,m,f,l,e,d,g,h,k,n){function r(){z=x;w=D;u+=m;x=C[u];D=C[u+1];A+=q;q=Math.sqrt((x-z)*(x-z)+(D-w)*(D-w))}let x=C[u],D=C[u+1],z=0,w=0,q=0,A=0;do r();while(u<p-m&&A+q<l);var L=0===q?0:(l-A)/q,y=(0,K.lerp)(z,x,L),F=(0,K.lerp)(w,D,L),M=u-m,T=A;const Q=l+d*g(h,f,k);for(;u<p-m&&A+q<Q;)r();L=0===q?0:(Q-A)/q;const S=(0,K.lerp)(z,x,L);L=(0,K.lerp)(w,D,L);if(n){var W=[y,F,S,L];(0,E.rotate)(W,0,4,2,n,W,W);n=W[0]>W[2]}else n=y>S;W=Math.PI;const ca=[],B=M+m===
u;u=M;q=0;A=T;x=C[u];D=C[u+1];if(B){r();var v=Math.atan2(D-w,x-z);n&&(v+=0<v?-W:W);ca[0]=[(S+y)/2,(L+F)/2,(Q-l)/2,v,f];return ca}f=f.replace(/\n/g," ");for(let I=0,O=f.length;I<O;){r();y=Math.atan2(D-w,x-z);n&&(y+=0<y?-W:W);if(void 0!==v&&(v=y-v,v+=v>W?-2*W:v<-W?2*W:0,Math.abs(v)>e))return null;v=y;L=I;for(F=0;I<O;++I){M=d*g(h,f[n?O-I-1:I],k);if(u+m<p&&A+q<l+F+M/2)break;F+=M}I!==L&&(M=n?f.substring(O-L,O-I):f.substring(L,I),L=0===q?0:(l+F/2-A)/q,T=(0,K.lerp)(z,x,L),L=(0,K.lerp)(w,D,L),ca.push([T,
L,F/2,y,M]),l+=F)}return ca}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},drawTextOnPath:{enumerable:!0,get:function(){return J}}});var K=c(35),E=c(41)};
shadow$provide[111]=function(X,c,Z,N){function J(q){return q[3].declutterBox}function K(q,A){"start"===A?A=D.test(q)?"right":"left":"end"===A&&(A=D.test(q)?"left":"right");return C.TEXT_ALIGN[A]}function E(q,A,L){0<L&&q.push("\n","");q.push(A,"");return q}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return w}}});X=c(97);var C=c(105),u=c(26),p=c(28),m=c(72),f=c(110),l=c(12),e=c(62),d=c(41),g=c.esmDefault(X);const h=(0,p.createEmpty)(),k=[],n=
[],r=[],x=[],D=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");class z{constructor(q,A,L,y){this.overlaps=L;this.pixelRatio=A;this.resolution=q;this.alignFill_;this.instructions=y.instructions;this.coordinates=y.coordinates;this.coordinateCache_=
{};this.renderedTransform_=(0,u.create)();this.hitDetectionInstructions=y.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=y.fillStates||{};this.strokeStates=y.strokeStates||{};this.textStates=y.textStates||{};this.widths_={};this.labels_={}}createLabel(q,A,L,y){const F=q+A+L+y;if(this.labels_[F])return this.labels_[F];var M=y?this.strokeStates[y]:null,T=L?this.fillStates[L]:null;A=this.textStates[A];var Q=this.pixelRatio,S=[A.scale[0]*Q,A.scale[1]*Q],W=Array.isArray(q);
Q=A.justify?C.TEXT_ALIGN[A.justify]:K(Array.isArray(q)?q[0]:q,A.textAlign||m.defaultTextAlign);const ca=y&&M.lineWidth?M.lineWidth:0;q=W?q:q.split("\n").reduce(E,[]);const {width:B,height:v,widths:I,heights:O,lineWidths:ea}=(0,m.getTextDimensions)(A,q);W=B+ca;const la=[];var va=(W+2)*S[0],Da=(v+ca)*S[1];va={width:0>va?Math.floor(va):Math.ceil(va),height:0>Da?Math.floor(Da):Math.ceil(Da),contextInstructions:la};1==S[0]&&1==S[1]||la.push("scale",S);y&&(la.push("strokeStyle",M.strokeStyle),la.push("lineWidth",
ca),la.push("lineCap",M.lineCap),la.push("lineJoin",M.lineJoin),la.push("miterLimit",M.miterLimit),la.push("setLineDash",[M.lineDash]),la.push("lineDashOffset",M.lineDashOffset));L&&la.push("fillStyle",T.fillStyle);la.push("textBaseline","middle");la.push("textAlign","center");M=.5-Q;T=Q*W+M*ca;S=[];Da=[];let Ya=0,Za=0,gb=0,qb=0,db;for(let Ha=0,ta=q.length;Ha<ta;Ha+=2){var sb=q[Ha];if("\n"===sb){Za+=Ya;Ya=0;T=Q*W+M*ca;++qb;continue}const Pa=q[Ha+1]||A.font;Pa!==db&&(y&&S.push("font",Pa),L&&Da.push("font",
Pa),db=Pa);Ya=Math.max(Ya,O[gb]);sb=[sb,T+M*I[gb]+Q*(I[gb]-ea[qb]),.5*(ca+Ya)+Za];T+=I[gb];y&&S.push("strokeText",sb);L&&Da.push("fillText",sb);++gb}Array.prototype.push.apply(la,S);Array.prototype.push.apply(la,Da);return this.labels_[F]=va}replayTextBackground_(q,A,L,y,F,M,T){q.beginPath();q.moveTo.apply(q,A);q.lineTo.apply(q,L);q.lineTo.apply(q,y);q.lineTo.apply(q,F);q.lineTo.apply(q,A);M&&(this.alignFill_=M[2],this.fill_(q));T&&(this.setStrokeStyle_(q,T),q.stroke())}calculateImageOrLabelDimensions_(q,
A,L,y,F,M,T,Q,S,W,ca,B,v,I,O,ea){T*=B[0];Q*=B[1];T=L-T;Q=y-Q;q=F+S>q?q-S:F;A=M+W>A?A-W:M;M=I[3]+q*B[0]+I[1];F=I[0]+A*B[1]+I[2];const la=T-I[3];I=Q-I[0];if(O||0!==ca)k[0]=la,x[0]=la,k[1]=I,n[1]=I,n[0]=la+M,r[0]=n[0],r[1]=I+F,x[1]=r[1];let va;0!==ca?(va=(0,u.compose)((0,u.create)(),L,y,1,1,ca,-L,-y),(0,u.apply)(va,k),(0,u.apply)(va,n),(0,u.apply)(va,r),(0,u.apply)(va,x),(0,p.createOrUpdate)(Math.min(k[0],n[0],r[0],x[0]),Math.min(k[1],n[1],r[1],x[1]),Math.max(k[0],n[0],r[0],x[0]),Math.max(k[1],n[1],
r[1],x[1]),h)):(0,p.createOrUpdate)(Math.min(la,la+M),Math.min(I,I+F),Math.max(la,la+M),Math.max(I,I+F),h);v&&(T=Math.round(T),Q=Math.round(Q));return{drawImageX:T,drawImageY:Q,drawImageW:q,drawImageH:A,originX:S,originY:W,declutterBox:{minX:h[0],minY:h[1],maxX:h[2],maxY:h[3],value:ea},canvasTransform:va,scale:B}}replayImageOrLabel_(q,A,L,y,F,M,T){const Q=y.declutterBox,S=q.canvas,W=T?T[2]*y.scale[0]/2:0;Q.minX-W<=S.width/A&&0<=Q.maxX+W&&Q.minY-W<=S.height/A&&0<=Q.maxY+W&&((M||T)&&this.replayTextBackground_(q,
k,n,r,x,M,T),(0,m.drawImageOrLabel)(q,y.canvasTransform,F,L,y.originX,y.originY,y.drawImageW,y.drawImageH,y.drawImageX,y.drawImageY,y.scale));return!0}fill_(q){if(this.alignFill_){const A=(0,u.apply)(this.renderedTransform_,[0,0]),L=512*this.pixelRatio;q.save();q.translate(A[0]%L,A[1]%L);q.rotate(this.viewRotation_)}q.fill();this.alignFill_&&q.restore()}setStrokeStyle_(q,A){q.strokeStyle=A[1];q.lineWidth=A[2];q.lineCap=A[3];q.lineJoin=A[4];q.miterLimit=A[5];q.lineDashOffset=A[7];q.setLineDash(A[6])}drawLabelWithPointPlacement_(q,
A,L,y){const F=this.textStates[A];A=this.createLabel(q,A,y,L);y=this.strokeStates[L];L=this.pixelRatio;q=K(Array.isArray(q)?q[0]:q,F.textAlign||m.defaultTextAlign);const M=C.TEXT_ALIGN[F.textBaseline||m.defaultTextBaseline];y=y&&y.lineWidth?y.lineWidth:0;return{label:A,anchorX:q*(A.width/L-2*F.scale[0])+2*(.5-q)*y,anchorY:M*A.height/L+2*(.5-M)*y}}execute_(q,A,L,y,F,M,T,Q){let S;this.pixelCoordinates_&&(0,l.equals)(L,this.renderedTransform_)?S=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=
[]),S=(0,d.transform2D)(this.coordinates,0,this.coordinates.length,2,L,this.pixelCoordinates_),(0,u.setFromArray)(this.renderedTransform_,L));let W=0;const ca=y.length;let B,v;let I=0,O=0,ea=null,la=null;const va=this.coordinateCache_,Da=this.viewRotation_;L=Math.round(1E12*Math.atan2(-L[1],L[0]))/1E12;const Ya={context:q,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Da},Za=this.instructions!=y||this.overlaps?0:200;let gb,qb;for(;W<ca;){var db=y[W];switch(db[0]){case g.default.BEGIN_GEOMETRY:gb=
db[1];qb=db[3];gb.getGeometry()?void 0===T||(0,p.intersects)(T,qb.getExtent())?++W:W=db[2]+1:W=db[2];break;case g.default.BEGIN_PATH:I>Za&&(this.fill_(q),I=0);O>Za&&(q.stroke(),O=0);I||O||(q.beginPath(),v=B=NaN);++W;break;case g.default.CIRCLE:var sb=db[1];var Ha=S[sb];var ta=S[sb+1];var Pa=S[sb+2]-Ha;sb=S[sb+3]-ta;Pa=Math.sqrt(Pa*Pa+sb*sb);q.moveTo(Ha+Pa,ta);q.arc(Ha,ta,Pa,0,2*Math.PI,!0);++W;break;case g.default.CLOSE_PATH:q.closePath();++W;break;case g.default.CUSTOM:sb=db[1];var fb=db[2];Ha=db[4];
ta=6==db.length?db[5]:void 0;Ya.geometry=db[3];Ya.feature=gb;W in va||(va[W]=[]);Pa=va[W];ta?ta(S,sb,fb,2,Pa):(Pa[0]=S[sb],Pa[1]=S[sb+1],Pa.length=2);Ha(Pa,Ya);++W;break;case g.default.DRAW_IMAGE:sb=db[1];fb=db[2];Ha=db[3];var ka=db[4];var Ea=db[5];ta=db[6];var Va=db[7],ib=db[8],wa=db[9],Ra=db[10],$a=db[11],jb=db[12];Pa=db[13];var rb=db[14],xb=db[15];!Ha&&20<=db.length&&(ka=db[19],Ha=db[20],Pa=db[21],ta=db[22],ta=this.drawLabelWithPointPlacement_(ka,Ha,Pa,ta),Ha=ta.label,db[3]=Ha,ka=(ta.anchorX-db[23])*
this.pixelRatio,db[4]=ka,Ea=(ta.anchorY-db[24])*this.pixelRatio,db[5]=Ea,ta=Ha.height,db[6]=ta,Pa=Ha.width,db[13]=Pa);let qc;25<db.length&&(qc=db[25]);var dc=void 0;let xc;17<db.length?(dc=db[16],xc=db[17],db=db[18]):(dc=m.defaultPadding,db=xc=!1);Ra&&L?$a+=Da:Ra||L||($a-=Da);for(Ra=0;sb<fb;sb+=2){if(qc&&qc[Ra++]<Pa/this.pixelRatio)continue;const jc=this.calculateImageOrLabelDimensions_(Ha.width,Ha.height,S[sb],S[sb+1],Pa,ta,ka,Ea,ib,wa,$a,jb,F,dc,xc||db,gb),ec=[q,A,Ha,jc,Va,xc?ea:null,db?la:null];
if(Q)if("none"===rb)continue;else if("obstacle"===rb){Q.insert(jc.declutterBox);continue}else{let fc,Hc;if(xb){const Ob=fb-sb;if(!xb[Ob]){xb[Ob]=ec;continue}fc=xb[Ob];delete xb[Ob];Hc=J(fc);if(Q.collides(Hc))continue}if(Q.collides(jc.declutterBox))continue;fc&&(Q.insert(Hc),this.replayImageOrLabel_.apply(this,fc));Q.insert(jc.declutterBox)}this.replayImageOrLabel_.apply(this,ec)}++W;break;case g.default.DRAW_CHARS:Ea=db[1];wa=db[2];sb=db[3];jb=db[4];ta=db[5];$a=db[6];ib=db[7];fb=db[8];Pa=db[9];Va=
db[10];ka=db[11];Ha=db[12];db=[db[13],db[13]];xb=this.textStates[Ha];rb=xb.font;ib=[xb.scale[0]*ib,xb.scale[1]*ib];rb in this.widths_?xb=this.widths_[rb]:(xb={},this.widths_[rb]=xb);Ra=(0,e.lineStringLength)(S,Ea,wa,2);dc=Math.abs(ib[0])*(0,m.measureAndCacheTextWidth)(rb,ka,xb);if(jb||dc<=Ra)a:if(jb=(Ra-dc)*K(ka,this.textStates[Ha].textAlign),wa=(0,f.drawTextOnPath)(S,Ea,wa,2,ka,jb,$a,Math.abs(ib[0]),m.measureAndCacheTextWidth,rb,xb,L?0:this.viewRotation_),wa){$a=[];if(Pa)for(jb=0,rb=wa.length;jb<
rb;++jb){Ra=wa[jb];ka=Ra[4];xb=this.createLabel(ka,Ha,"",Pa);ka=Ra[2]+(0>ib[0]?-Va:Va);Ea=sb*xb.height+2*(.5-sb)*Va*ib[1]/ib[0]-fb;ka=this.calculateImageOrLabelDimensions_(xb.width,xb.height,Ra[0],Ra[1],xb.width,xb.height,ka,Ea,0,0,Ra[3],db,!1,m.defaultPadding,!1,gb);if(Q&&Q.collides(ka.declutterBox))break a;$a.push([q,A,xb,ka,1,null,null])}if(ta)for(jb=0,rb=wa.length;jb<rb;++jb){Ra=wa[jb];ka=Ra[4];xb=this.createLabel(ka,Ha,ta,"");ka=Ra[2];Ea=sb*xb.height-fb;Pa=this.calculateImageOrLabelDimensions_(xb.width,
xb.height,Ra[0],Ra[1],xb.width,xb.height,ka,Ea,0,0,Ra[3],db,!1,m.defaultPadding,!1,gb);if(Q&&Q.collides(Pa.declutterBox))break a;$a.push([q,A,xb,Pa,1,null,null])}Q&&Q.load($a.map(J));for(let jc=0,ec=$a.length;jc<ec;++jc)this.replayImageOrLabel_.apply(this,$a[jc])}++W;break;case g.default.END_GEOMETRY:if(void 0!==M&&(gb=db[1],Ha=M(gb,qb)))return Ha;++W;break;case g.default.FILL:Za?I++:this.fill_(q);++W;break;case g.default.MOVE_TO_LINE_TO:sb=db[1];fb=db[2];Pa=S[sb];ka=S[sb+1];Ha=Pa+.5|0;ta=ka+.5|0;
if(Ha!==B||ta!==v)q.moveTo(Pa,ka),B=Ha,v=ta;for(sb+=2;sb<fb;sb+=2)if(Pa=S[sb],ka=S[sb+1],Ha=Pa+.5|0,ta=ka+.5|0,sb==fb-2||Ha!==B||ta!==v)q.lineTo(Pa,ka),B=Ha,v=ta;++W;break;case g.default.SET_FILL_STYLE:ea=db;this.alignFill_=db[2];I&&(this.fill_(q),I=0,O&&(q.stroke(),O=0));q.fillStyle=db[1];++W;break;case g.default.SET_STROKE_STYLE:la=db;O&&(q.stroke(),O=0);this.setStrokeStyle_(q,db);++W;break;case g.default.STROKE:Za?O++:q.stroke();++W;break;default:++W}}I&&this.fill_(q);O&&q.stroke()}execute(q,A,
L,y,F,M){this.viewRotation_=y;this.execute_(q,A,L,this.instructions,F,void 0,void 0,M)}executeHitDetection(q,A,L,y,F){this.viewRotation_=L;return this.execute_(q,1,A,this.hitDetectionInstructions,!0,y,F)}}const w=z};
shadow$provide[112]=function(X,c,Z,N){function J(h){if(void 0!==d[h])return d[h];var k=2*h+1;const n=h*h,r=Array(n+1);for(let x=0;x<=h;++x)for(let D=0;D<=h;++D){const z=x*x+D*D;if(z>n)break;let w=r[z];w||(w=[],r[z]=w);w.push(4*((h+x)*k+(h+D))+3);0<x&&w.push(4*((h-x)*k+(h+D))+3);0<D&&(w.push(4*((h+x)*k+(h-D))+3),0<x&&w.push(4*((h-x)*k+(h-D))+3))}k=[];for(let x=0,D=r.length;x<D;++x)r[x]&&k.push(...r[x]);return d[h]=k}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,
get:function(){return g}},getPixelIndexArray:{enumerable:!0,get:function(){return J}}});X=c(111);var K=c(12),E=c(28),C=c(26),u=c(70),p=c(14),m=c(41),f=c.esmDefault(X);const l="Polygon Circle LineString Image Text Default".split(" ");class e{constructor(h,k,n,r,x,D){this.maxExtent_=h;this.overlaps_=r;this.pixelRatio_=n;this.resolution_=k;this.renderBuffer_=D;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,C.create)();this.createExecutors_(x)}clip(h,k){k=this.getClipCoords(k);
h.beginPath();h.moveTo(k[0],k[1]);h.lineTo(k[2],k[3]);h.lineTo(k[4],k[5]);h.lineTo(k[6],k[7]);h.clip()}createExecutors_(h){for(const k in h){let n=this.executorsByZIndex_[k];void 0===n&&(n={},this.executorsByZIndex_[k]=n);const r=h[k];for(const x in r)n[x]=new f.default(this.resolution_,this.pixelRatio_,this.overlaps_,r[x])}}hasExecutors(h){for(const k in this.executorsByZIndex_){const n=this.executorsByZIndex_[k];for(let r=0,x=h.length;r<x;++r)if(h[r]in n)return!0}return!1}forEachFeatureAtCoordinate(h,
k,n,r,x,D){function z(S,W){var ca=L.getImageData(0,0,w,w).data;for(let v=0,I=F.length;v<I;v++)if(0<ca[F[v]]){if(!D||"Image"!==M&&"Text"!==M||D.includes(S)){var B=(F[v]-3)/4;ca=r-B%w;B=r-(B/w|0);if(S=x(S,W,ca*ca+B*B))return S}L.clearRect(0,0,w,w);break}}r=Math.round(r);const w=2*r+1,q=(0,C.compose)(this.hitDetectionTransform_,r+.5,r+.5,1/k,-1/k,-n,-h[0],-h[1]);var A=!this.hitDetectionContext_;A&&(this.hitDetectionContext_=(0,u.createCanvasContext2D)(w,w,void 0,{willReadFrequently:!0}));const L=this.hitDetectionContext_;
L.canvas.width!==w||L.canvas.height!==w?(L.canvas.width=w,L.canvas.height=w):A||L.clearRect(0,0,w,w);let y;void 0!==this.renderBuffer_&&(y=(0,E.createEmpty)(),(0,E.extendCoordinate)(y,h),(0,E.buffer)(y,k*(this.renderBuffer_+r),y));const F=J(r);let M;h=Object.keys(this.executorsByZIndex_).map(Number);h.sort(K.ascending);let T;for(k=h.length-1;0<=k;--k)for(T=this.executorsByZIndex_[h[k].toString()],A=l.length-1;0<=A;--A){M=l[A];var Q=T[M];if(void 0!==Q&&(Q=Q.executeHitDetection(L,q,n,z,y)))return Q}}getClipCoords(h){var k=
this.maxExtent_;if(!k)return null;var n=k[0];const r=k[1],x=k[2];k=k[3];n=[n,r,n,k,x,k,x,r];(0,m.transform2D)(n,0,8,2,h,n);return n}isEmpty(){return(0,p.isEmpty)(this.executorsByZIndex_)}execute(h,k,n,r,x,D,z){const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(K.ascending);this.maxExtent_&&(h.save(),this.clip(h,n));D=D?D:l;let q,A,L,y,F,M;z&&w.reverse();q=0;for(A=w.length;q<A;++q)for(F=this.executorsByZIndex_[w[q].toString()],L=0,y=D.length;L<y;++L)M=F[D[L]],void 0!==M&&M.execute(h,k,
n,r,x,z);this.maxExtent_&&h.restore()}}const d={},g=e};
shadow$provide[113]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return e}}});X=c(98);var J=c(69),K=c(26),E=c(72),C=c(12),u=c(28),p=c(35),m=c(41),f=c(43);c=c.esmDefault(X);class l extends c.default{constructor(d,g,h,k,n,r,x){super();this.context_=d;this.pixelRatio_=g;this.extent_=h;this.transformRotation_=(this.transform_=k)?(0,p.toFixed)(Math.atan2(k[1],k[0]),10):0;this.viewRotation_=n;this.squaredTolerance_=r;this.userTransform_=
x;this.image_=this.strokeState_=this.fillState_=this.contextTextState_=this.contextStrokeState_=this.contextFillState_=null;this.imageOriginY_=this.imageOriginX_=this.imageOpacity_=this.imageHeight_=this.imageAnchorY_=this.imageAnchorX_=0;this.imageRotateWithView_=!1;this.imageRotation_=0;this.imageScale_=[0,0];this.imageWidth_=0;this.text_="";this.textOffsetY_=this.textOffsetX_=0;this.textRotateWithView_=!1;this.textRotation_=0;this.textScale_=[0,0];this.textState_=this.textStrokeState_=this.textFillState_=
null;this.pixelCoordinates_=[];this.tmpLocalTransform_=(0,K.create)()}drawImages_(d,g,h,k){if(this.image_){d=(0,m.transform2D)(d,g,h,k,this.transform_,this.pixelCoordinates_);g=this.context_;h=this.tmpLocalTransform_;k=g.globalAlpha;1!=this.imageOpacity_&&(g.globalAlpha=k*this.imageOpacity_);var n=this.imageRotation_;0===this.transformRotation_&&(n-=this.viewRotation_);this.imageRotateWithView_&&(n+=this.viewRotation_);for(let D=0,z=d.length;D<z;D+=2){var r=d[D]-this.imageAnchorX_,x=d[D+1]-this.imageAnchorY_;
0!==n||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(r+=this.imageAnchorX_,x+=this.imageAnchorY_,(0,K.compose)(h,r,x,1,1,n,-r,-x),g.save(),g.transform.apply(g,h),g.translate(r,x),g.scale(this.imageScale_[0],this.imageScale_[1]),g.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),g.restore()):g.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,
r,x,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(g.globalAlpha=k)}}drawText_(d,g,h,k){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);this.setContextTextState_(this.textState_);d=(0,m.transform2D)(d,g,h,k,this.transform_,this.pixelCoordinates_);var n=this.context_,r=this.textRotation_;0===this.transformRotation_&&(r-=this.viewRotation_);for(this.textRotateWithView_&&
(r+=this.viewRotation_);g<h;g+=k){const x=d[g]+this.textOffsetX_,D=d[g+1]+this.textOffsetY_;0!==r||1!=this.textScale_[0]||1!=this.textScale_[1]?(n.save(),n.translate(x-this.textOffsetX_,D-this.textOffsetY_),n.rotate(r),n.translate(this.textOffsetX_,this.textOffsetY_),n.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&n.strokeText(this.text_,0,0),this.textFillState_&&n.fillText(this.text_,0,0),n.restore()):(this.textStrokeState_&&n.strokeText(this.text_,x,D),this.textFillState_&&
n.fillText(this.text_,x,D))}}}moveToLineTo_(d,g,h,k,n){const r=this.context_;d=(0,m.transform2D)(d,g,h,k,this.transform_,this.pixelCoordinates_);r.moveTo(d[0],d[1]);g=d.length;n&&(g-=2);for(k=2;k<g;k+=2)r.lineTo(d[k],d[k+1]);n&&r.closePath();return h}drawRings_(d,g,h,k){for(let n=0,r=h.length;n<r;++n)g=this.moveToLineTo_(d,g,h[n],k,!0);return g}drawCircle(d){this.squaredTolerance_&&(d=d.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,u.intersects)(this.extent_,d.getExtent())){if(this.fillState_||
this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const k=(0,f.transformGeom2D)(d,this.transform_,this.pixelCoordinates_);var g=k[2]-k[0],h=k[3]-k[1];g=Math.sqrt(g*g+h*h);h=this.context_;h.beginPath();h.arc(k[0],k[1],g,0,2*Math.PI);this.fillState_&&h.fill();this.strokeState_&&h.stroke()}""!==this.text_&&this.drawText_(d.getCenter(),0,2,2)}}setStyle(d){this.setFillStrokeStyle(d.getFill(),d.getStroke());this.setImageStyle(d.getImage());
this.setTextStyle(d.getText())}setTransform(d){this.transform_=d}drawGeometry(d){switch(d.getType()){case "Point":this.drawPoint(d);break;case "LineString":this.drawLineString(d);break;case "Polygon":this.drawPolygon(d);break;case "MultiPoint":this.drawMultiPoint(d);break;case "MultiLineString":this.drawMultiLineString(d);break;case "MultiPolygon":this.drawMultiPolygon(d);break;case "GeometryCollection":this.drawGeometryCollection(d);break;case "Circle":this.drawCircle(d)}}drawFeature(d,g){if(d=g.getGeometryFunction()(d))this.setStyle(g),
this.drawGeometry(d)}drawGeometryCollection(d){d=d.getGeometriesArray();for(let g=0,h=d.length;g<h;++g)this.drawGeometry(d[g])}drawPoint(d){this.squaredTolerance_&&(d=d.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const g=d.getFlatCoordinates();d=d.getStride();this.image_&&this.drawImages_(g,0,g.length,d);""!==this.text_&&this.drawText_(g,0,g.length,d)}drawMultiPoint(d){this.squaredTolerance_&&(d=d.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const g=d.getFlatCoordinates();
d=d.getStride();this.image_&&this.drawImages_(g,0,g.length,d);""!==this.text_&&this.drawText_(g,0,g.length,d)}drawLineString(d){this.squaredTolerance_&&(d=d.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,u.intersects)(this.extent_,d.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const g=this.context_,h=d.getFlatCoordinates();g.beginPath();this.moveToLineTo_(h,0,h.length,d.getStride(),!1);g.stroke()}""!==this.text_&&(d=d.getFlatMidpoint(),
this.drawText_(d,0,2,2))}}drawMultiLineString(d){this.squaredTolerance_&&(d=d.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var g=d.getExtent();if((0,u.intersects)(this.extent_,g)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);g=this.context_;const h=d.getFlatCoordinates();let k=0;const n=d.getEnds(),r=d.getStride();g.beginPath();for(let x=0,D=n.length;x<D;++x)k=this.moveToLineTo_(h,k,n[x],r,!1);g.stroke()}""!==this.text_&&(d=d.getFlatMidpoints(),this.drawText_(d,
0,d.length,2))}}drawPolygon(d){this.squaredTolerance_&&(d=d.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,u.intersects)(this.extent_,d.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const g=this.context_;g.beginPath();this.drawRings_(d.getOrientedFlatCoordinates(),0,d.getEnds(),d.getStride());this.fillState_&&g.fill();this.strokeState_&&g.stroke()}""!==
this.text_&&(d=d.getFlatInteriorPoint(),this.drawText_(d,0,2,2))}}drawMultiPolygon(d){this.squaredTolerance_&&(d=d.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,u.intersects)(this.extent_,d.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const g=this.context_,h=d.getOrientedFlatCoordinates();let k=0;const n=d.getEndss(),r=d.getStride();g.beginPath();
for(let x=0,D=n.length;x<D;++x)k=this.drawRings_(h,k,n[x],r);this.fillState_&&g.fill();this.strokeState_&&g.stroke()}""!==this.text_&&(d=d.getFlatInteriorPoints(),this.drawText_(d,0,d.length,2))}}setContextFillState_(d){const g=this.context_,h=this.contextFillState_;h?h.fillStyle!=d.fillStyle&&(h.fillStyle=d.fillStyle,g.fillStyle=d.fillStyle):(g.fillStyle=d.fillStyle,this.contextFillState_={fillStyle:d.fillStyle})}setContextStrokeState_(d){const g=this.context_,h=this.contextStrokeState_;h?(h.lineCap!=
d.lineCap&&(h.lineCap=d.lineCap,g.lineCap=d.lineCap),(0,C.equals)(h.lineDash,d.lineDash)||g.setLineDash(h.lineDash=d.lineDash),h.lineDashOffset!=d.lineDashOffset&&(h.lineDashOffset=d.lineDashOffset,g.lineDashOffset=d.lineDashOffset),h.lineJoin!=d.lineJoin&&(h.lineJoin=d.lineJoin,g.lineJoin=d.lineJoin),h.lineWidth!=d.lineWidth&&(h.lineWidth=d.lineWidth,g.lineWidth=d.lineWidth),h.miterLimit!=d.miterLimit&&(h.miterLimit=d.miterLimit,g.miterLimit=d.miterLimit),h.strokeStyle!=d.strokeStyle&&(h.strokeStyle=
d.strokeStyle,g.strokeStyle=d.strokeStyle)):(g.lineCap=d.lineCap,g.setLineDash(d.lineDash),g.lineDashOffset=d.lineDashOffset,g.lineJoin=d.lineJoin,g.lineWidth=d.lineWidth,g.miterLimit=d.miterLimit,g.strokeStyle=d.strokeStyle,this.contextStrokeState_={lineCap:d.lineCap,lineDash:d.lineDash,lineDashOffset:d.lineDashOffset,lineJoin:d.lineJoin,lineWidth:d.lineWidth,miterLimit:d.miterLimit,strokeStyle:d.strokeStyle})}setContextTextState_(d){const g=this.context_,h=this.contextTextState_,k=d.textAlign?d.textAlign:
E.defaultTextAlign;h?(h.font!=d.font&&(h.font=d.font,g.font=d.font),h.textAlign!=k&&(h.textAlign=k,g.textAlign=k),h.textBaseline!=d.textBaseline&&(h.textBaseline=d.textBaseline,g.textBaseline=d.textBaseline)):(g.font=d.font,g.textAlign=k,g.textBaseline=d.textBaseline,this.contextTextState_={font:d.font,textAlign:k,textBaseline:d.textBaseline})}setFillStrokeStyle(d,g){d?(d=d.getColor(),this.fillState_={fillStyle:(0,J.asColorLike)(d?d:E.defaultFillStyle)}):this.fillState_=null;if(g){d=g.getColor();
const k=g.getLineCap();var h=g.getLineDash();const n=g.getLineDashOffset(),r=g.getLineJoin(),x=g.getWidth();g=g.getMiterLimit();h=h?h:E.defaultLineDash;this.strokeState_={lineCap:void 0!==k?k:E.defaultLineCap,lineDash:1===this.pixelRatio_?h:h.map(D=>D*this.pixelRatio_),lineDashOffset:(n?n:E.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==r?r:E.defaultLineJoin,lineWidth:(void 0!==x?x:E.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==g?g:E.defaultMiterLimit,strokeStyle:(0,J.asColorLike)(d?
d:E.defaultStrokeStyle)}}else this.strokeState_=null}setImageStyle(d){let g;if(d&&(g=d.getSize())){var h=d.getPixelRatio(this.pixelRatio_),k=d.getAnchor(),n=d.getOrigin();this.image_=d.getImage(this.pixelRatio_);this.imageAnchorX_=k[0]*h;this.imageAnchorY_=k[1]*h;this.imageHeight_=g[1]*h;this.imageOpacity_=d.getOpacity();this.imageOriginX_=n[0];this.imageOriginY_=n[1];this.imageRotateWithView_=d.getRotateWithView();this.imageRotation_=d.getRotation();d=d.getScaleArray();this.imageScale_=[d[0]*this.pixelRatio_/
h,d[1]*this.pixelRatio_/h];this.imageWidth_=g[0]*h}else this.image_=null}setTextStyle(d){if(d){var g=d.getFill();g?(g=g.getColor(),this.textFillState_={fillStyle:(0,J.asColorLike)(g?g:E.defaultFillStyle)}):this.textFillState_=null;var h=d.getStroke();if(h){g=h.getColor();var k=h.getLineCap(),n=h.getLineDash(),r=h.getLineDashOffset(),x=h.getLineJoin(),D=h.getWidth();h=h.getMiterLimit();this.textStrokeState_={lineCap:void 0!==k?k:E.defaultLineCap,lineDash:n?n:E.defaultLineDash,lineDashOffset:r?r:E.defaultLineDashOffset,
lineJoin:void 0!==x?x:E.defaultLineJoin,lineWidth:void 0!==D?D:E.defaultLineWidth,miterLimit:void 0!==h?h:E.defaultMiterLimit,strokeStyle:(0,J.asColorLike)(g?g:E.defaultStrokeStyle)}}else this.textStrokeState_=null;g=d.getFont();k=d.getOffsetX();n=d.getOffsetY();r=d.getRotateWithView();x=d.getRotation();D=d.getScaleArray();h=d.getText();const z=d.getTextAlign();d=d.getTextBaseline();this.textState_={font:void 0!==g?g:E.defaultFont,textAlign:void 0!==z?z:E.defaultTextAlign,textBaseline:void 0!==d?
d:E.defaultTextBaseline};this.text_=void 0!==h?Array.isArray(h)?h.reduce((w,q,A)=>w+(A%2?" ":q),""):h:"";this.textOffsetX_=void 0!==k?this.pixelRatio_*k:0;this.textOffsetY_=void 0!==n?this.pixelRatio_*n:0;this.textRotateWithView_=void 0!==r?r:!1;this.textRotation_=void 0!==x?x:0;this.textScale_=[this.pixelRatio_*D[0],this.pixelRatio_*D[1]]}else this.text_=""}}const e=l};
shadow$provide[114]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Circle:{enumerable:!0,get:function(){return J.default}},Fill:{enumerable:!0,get:function(){return K.default}},Icon:{enumerable:!0,get:function(){return E.default}},IconImage:{enumerable:!0,get:function(){return C.default}},Image:{enumerable:!0,get:function(){return u.default}},RegularShape:{enumerable:!0,get:function(){return p.default}},Stroke:{enumerable:!0,get:function(){return m.default}},Style:{enumerable:!0,
get:function(){return f.default}},Text:{enumerable:!0,get:function(){return l.default}}});var J=c(74),K=c(60),E=c(92),C=c(91),u=c(67),p=c(73),m=c(64),f=c(75),l=c(76)};
shadow$provide[115]=function(X,c,Z,N){function J(l,e,d,g,h,k,n){l=(0,p.createCanvasContext2D)(.5*l[0],.5*l[1]);l.imageSmoothingEnabled=!1;const r=l.canvas;n=new f.default(l,.5,h,null,n);const x=d.length,D=Math.floor(16777215/x),z={};for(let y=1;y<=x;++y){const F=d[y-1];var w=F.getStyleFunction()||g;if(!w)continue;w=w(F,k);if(!w)continue;Array.isArray(w)||(w=[w]);const M=(y*D).toString(16).padStart(7,"#00000");for(let T=0,Q=w.length;T<Q;++T){var q=w[T],A=q.getGeometryFunction()(F);if(!A||!(0,m.intersects)(h,
A.getExtent()))continue;const S=q.clone();var L=S.getFill();L&&L.setColor(M);if(L=S.getStroke())L.setColor(M),L.setLineDash(null);S.setText(void 0);if(q=q.getImage()){L=q.getImageSize();if(!L)continue;L=(0,p.createCanvasContext2D)(L[0],L[1],void 0,{alpha:!1});const W=L.canvas;L.fillStyle=M;L.fillRect(0,0,W.width,W.height);S.setImage(new E.Icon({img:W,anchor:q.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:q.getOrigin(),opacity:1,size:q.getSize(),scale:q.getScale(),rotation:q.getRotation(),
rotateWithView:q.getRotateWithView()}))}L=S.getZIndex()||0;q=z[L];q||(q={},z[L]=q,q.Polygon=[],q.Circle=[],q.LineString=[],q.Point=[]);L=A.getType();if("GeometryCollection"===L){A=A.getGeometriesArrayRecursive();for(let W=0,ca=A.length;W<ca;++W)L=A[W],q[L.getType().replace("Multi","")].push(L,S)}else q[L.replace("Multi","")].push(A,S)}}d=Object.keys(z).map(Number).sort(C.ascending);for(let y=0,F=d.length;y<F;++y){g=z[d[y]];for(const M in g){h=g[M];for(let T=0,Q=h.length;T<Q;T+=2){n.setStyle(h[T+1]);
for(let S=0,W=e.length;S<W;++S)n.setTransform(e[S]),n.drawGeometry(h[T])}}}return l.getImageData(0,0,r.width,r.height)}function K(l,e,d){const g=[];if(d){const h=Math.floor(.5*Math.round(l[1]));l=4*((0,u.clamp)(Math.floor(.5*Math.round(l[0])),0,d.width-1)+(0,u.clamp)(h,0,d.height-1)*d.width);d=d.data[l+2]+256*(d.data[l+1]+256*d.data[l]);l=Math.floor(16777215/e.length);d&&0===d%l&&g.push(e[d/l-1])}return g}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},HIT_DETECT_RESOLUTION:{enumerable:!0,
get:function(){return.5}},createHitDetectionImageData:{enumerable:!0,get:function(){return J}},hitDetect:{enumerable:!0,get:function(){return K}}});X=c(113);var E=c(114),C=c(12),u=c(35),p=c(70),m=c(28),f=c.esmDefault(X)};
shadow$provide[116]=function(X,c,Z,N){function J(l,e){return parseInt((0,p.getUid)(l),10)-parseInt((0,p.getUid)(e),10)}function K(l,e){l=.5*l/e;return l*l}function E(l,e){return.5*l/e}function C(l,e,d,g,h,k,n){let r=!1;const x=d.getImage();if(x){const D=x.getImageState();D==m.default.LOADED||D==m.default.ERROR?x.unlistenImageChange(h):(D==m.default.IDLE&&x.load(),x.listenImageChange(h),r=!0)}if(h=d.getGeometryFunction()(e))if(g=h.simplifyTransformed(g,k),d.getRenderer())u(l,g,d,e);else(0,f[g.getType()])(l,
g,d,e,n);return r}function u(l,e,d,g){if("GeometryCollection"==e.getType()){e=e.getGeometries();for(let h=0,k=e.length;h<k;++h)u(l,e[h],d,g)}else l.getBuilder(d.getZIndex(),"Default").drawCustom(e,g,d.getRenderer(),d.getHitDetectionRenderer())}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},defaultOrder:{enumerable:!0,get:function(){return J}},getSquaredTolerance:{enumerable:!0,get:function(){return K}},getTolerance:{enumerable:!0,get:function(){return E}},renderFeature:{enumerable:!0,
get:function(){return C}}});X=c(65);var p=c(19),m=c.esmDefault(X);const f={Point:function(l,e,d,g,h){const k=d.getImage(),n=d.getText();let r;if(k){if(k.getImageState()!=m.default.LOADED)return;var x=l;if(h){var D=k.getDeclutterMode();"none"!==D&&(x=h,"obstacle"===D?(D=l.getBuilder(d.getZIndex(),"Image"),D.setImageStyle(k,r),D.drawPoint(e,g)):n&&n.getText()&&(r={}))}x=x.getBuilder(d.getZIndex(),"Image");x.setImageStyle(k,r);x.drawPoint(e,g)}n&&n.getText()&&(h&&(l=h),d=l.getBuilder(d.getZIndex(),"Text"),
d.setTextStyle(n,r),d.drawText(e,g))},LineString:function(l,e,d,g,h){var k=d.getStroke();if(k){const n=l.getBuilder(d.getZIndex(),"LineString");n.setFillStrokeStyle(null,k);n.drawLineString(e,g)}(k=d.getText())&&k.getText()&&(l=(h||l).getBuilder(d.getZIndex(),"Text"),l.setTextStyle(k),l.drawText(e,g))},Polygon:function(l,e,d,g,h){var k=d.getFill();const n=d.getStroke();if(k||n){const r=l.getBuilder(d.getZIndex(),"Polygon");r.setFillStrokeStyle(k,n);r.drawPolygon(e,g)}(k=d.getText())&&k.getText()&&
(l=(h||l).getBuilder(d.getZIndex(),"Text"),l.setTextStyle(k),l.drawText(e,g))},MultiPoint:function(l,e,d,g,h){const k=d.getImage(),n=d.getText();let r;if(k){if(k.getImageState()!=m.default.LOADED)return;var x=l;if(h){var D=k.getDeclutterMode();"none"!==D&&(x=h,"obstacle"===D?(D=l.getBuilder(d.getZIndex(),"Image"),D.setImageStyle(k,r),D.drawMultiPoint(e,g)):n&&n.getText()&&(r={}))}x=x.getBuilder(d.getZIndex(),"Image");x.setImageStyle(k,r);x.drawMultiPoint(e,g)}n&&n.getText()&&(h&&(l=h),d=l.getBuilder(d.getZIndex(),
"Text"),d.setTextStyle(n,r),d.drawText(e,g))},MultiLineString:function(l,e,d,g,h){var k=d.getStroke();if(k){const n=l.getBuilder(d.getZIndex(),"LineString");n.setFillStrokeStyle(null,k);n.drawMultiLineString(e,g)}(k=d.getText())&&k.getText()&&(l=(h||l).getBuilder(d.getZIndex(),"Text"),l.setTextStyle(k),l.drawText(e,g))},MultiPolygon:function(l,e,d,g,h){var k=d.getFill();const n=d.getStroke();if(n||k){const r=l.getBuilder(d.getZIndex(),"Polygon");r.setFillStrokeStyle(k,n);r.drawMultiPolygon(e,g)}(k=
d.getText())&&k.getText()&&(l=(h||l).getBuilder(d.getZIndex(),"Text"),l.setTextStyle(k),l.drawText(e,g))},GeometryCollection:function(l,e,d,g,h){e=e.getGeometriesArray();let k,n;k=0;for(n=e.length;k<n;++k)(0,f[e[k].getType()])(l,e[k],d,g,h)},Circle:function(l,e,d,g,h){var k=d.getFill();const n=d.getStroke();if(k||n){const r=l.getBuilder(d.getZIndex(),"Circle");r.setFillStrokeStyle(k,n);r.drawCircle(e,g)}(k=d.getText())&&k.getText()&&(l=(h||l).getBuilder(d.getZIndex(),"Text"),l.setTextStyle(k),l.drawText(e,
g))}}};
shadow$provide[117]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return x}}});X=c(106);var J=c(109);N=c(112);Z=c(59);var K=c(79),E=c(115),C=c(26),u=c(28),p=c(70),m=c(116),f=c(12),l=c(40),e=c(19),d=c(37),g=c.esmDefault(N),h=c.esmDefault(K);N=c.esmDefault(J);var k=c.esmDefault(X),n=c.esmDefault(Z);class r extends N.default{constructor(D){super(D);this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this);this.animatingOrInteracting_;
this.renderedFeatures_=this.hitDetectionImageData_=null;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=(0,u.createEmpty)();this.wrappedRenderedExtent_=(0,u.createEmpty)();this.renderedRotation_;this.replayGroup_=this.renderedRenderOrder_=this.renderedProjection_=this.renderedCenter_=null;this.replayGroupChanged=!0;this.declutterExecutorGroup=null;this.clipping=!0;this.compositionContext_=null;this.opacity_=1}renderWorlds(D,z,w){var q=z.extent,A=z.viewState;const L=A.center,
y=A.resolution;var F=A.projection;A=A.rotation;var M=F.getExtent(),T=this.getLayer().getSource();const Q=z.pixelRatio;var S=z.viewHints;S=!(S[h.default.ANIMATING]||S[h.default.INTERACTING]);const W=this.compositionContext_,ca=Math.round(z.size[0]*Q);z=Math.round(z.size[1]*Q);const B=T.getWrapX()&&F.canWrapX();F=B?(0,u.getWidth)(M):null;T=B?Math.ceil((q[2]-M[2])/F)+1:1;q=B?Math.floor((q[0]-M[0])/F):0;do M=this.getRenderTransform(L,y,A,Q,ca,z,q*F),D.execute(W,1,M,A,S,void 0,w);while(++q<T)}setupCompositionContext_(){this.compositionContext_=
1!==this.opacity_?(0,p.createCanvasContext2D)(this.context.canvas.width,this.context.canvas.height,J.canvasPool):this.context}releaseCompositionContext_(){if(1!==this.opacity_){const D=this.context.globalAlpha;this.context.globalAlpha=this.opacity_;this.context.drawImage(this.compositionContext_.canvas,0,0);this.context.globalAlpha=D;(0,p.releaseCanvas)(this.compositionContext_);J.canvasPool.push(this.compositionContext_.canvas);this.compositionContext_=null}}renderDeclutter(D){this.declutterExecutorGroup&&
(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,D,D.declutterTree),this.releaseCompositionContext_())}renderFrame(D,z){var w=D.pixelRatio,q=D.layerStatesArray[D.layerIndex];(0,C.makeScale)(this.pixelTransform,1/w,1/w);(0,C.makeInverse)(this.inversePixelTransform,this.pixelTransform);var A=(0,C.toString)(this.pixelTransform);this.useContainer(z,A,this.getBackground(D));z=this.context;var L=z.canvas;const y=this.replayGroup_;var F=this.declutterExecutorGroup;F=y&&!y.isEmpty()||
F&&!F.isEmpty();if(!F&&!this.getLayer().hasListener(n.default.PRERENDER)&&!this.getLayer().hasListener(n.default.POSTRENDER))return null;const M=Math.round(D.size[0]*w);w=Math.round(D.size[1]*w);L.width!=M||L.height!=w?(L.width=M,L.height=w,L.style.transform!==A&&(L.style.transform=A)):this.containerReused||z.clearRect(0,0,M,w);this.preRender(z,D);A=D.viewState;L=A.projection;this.opacity_=q.opacity;this.setupCompositionContext_();w=!1;F&&q.extent&&this.clipping&&(q=(0,l.fromUserExtent)(q.extent,
L),(w=(F=(0,u.intersects)(q,D.extent))&&!(0,u.containsExtent)(q,D.extent))&&this.clipUnrotated(this.compositionContext_,D,q));F&&this.renderWorlds(y,D);w&&this.compositionContext_.restore();this.releaseCompositionContext_();this.postRender(z,D);this.renderedRotation_!==A.rotation&&(this.renderedRotation_=A.rotation,this.hitDetectionImageData_=null);return this.container}getFeatures(D){return new Promise(z=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const A=[this.context.canvas.width,
this.context.canvas.height];(0,C.apply)(this.pixelTransform,A);const L=this.renderedCenter_,y=this.renderedResolution_,F=this.renderedRotation_;var w=this.renderedProjection_;const M=this.wrappedRenderedExtent_,T=this.getLayer(),Q=[],S=A[0]*E.HIT_DETECT_RESOLUTION,W=A[1]*E.HIT_DETECT_RESOLUTION;Q.push(this.getRenderTransform(L,y,F,E.HIT_DETECT_RESOLUTION,S,W,0).slice());var q=T.getSource();const ca=w.getExtent();if(q.getWrapX()&&w.canWrapX()&&!(0,u.containsExtent)(ca,M)){w=M[0];q=(0,u.getWidth)(ca);
let B=0,v;for(;w<ca[0];)--B,v=q*B,Q.push(this.getRenderTransform(L,y,F,E.HIT_DETECT_RESOLUTION,S,W,v).slice()),w+=q;B=0;for(w=M[2];w>ca[2];)++B,v=q*B,Q.push(this.getRenderTransform(L,y,F,E.HIT_DETECT_RESOLUTION,S,W,v).slice()),w-=q}this.hitDetectionImageData_=(0,E.createHitDetectionImageData)(A,Q,this.renderedFeatures_,T.getStyleFunction(),M,y,F)}z((0,E.hitDetect)(D,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(D,z,w,q,A){if(this.replayGroup_){var L=z.viewState.resolution,
y=z.viewState.rotation,F=this.getLayer(),M={},T=function(W,ca,B){const v=(0,e.getUid)(W),I=M[v];if(!I){if(0===B)return M[v]=!0,q(W,F,ca);A.push(M[v]={feature:W,layer:F,geometry:ca,distanceSq:B,callback:q})}else if(!0!==I&&B<I.distanceSq){if(0===B)return M[v]=!0,A.splice(A.lastIndexOf(I),1),q(W,F,ca);I.geometry=ca;I.distanceSq=B}},Q,S=[this.replayGroup_];this.declutterExecutorGroup&&S.push(this.declutterExecutorGroup);S.some(W=>Q=W.forEachFeatureAtCoordinate(D,L,y,w,T,W===this.declutterExecutorGroup&&
z.declutterTree?z.declutterTree.all().map(ca=>ca.value):null));return Q}}handleFontsChanged(){const D=this.getLayer();D.getVisible()&&this.replayGroup_&&D.changed()}handleStyleImageChange_(D){this.renderIfReadyAndVisible()}prepareFrame(D){const z=this.getLayer(),w=z.getSource();if(!w)return!1;var q=D.viewHints[h.default.ANIMATING],A=D.viewHints[h.default.INTERACTING],L=z.getUpdateWhileAnimating(),y=z.getUpdateWhileInteracting();if(this.ready&&!L&&q||!y&&A)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=
!1;var F=D.extent,M=D.viewState;q=M.projection;const T=M.resolution;A=D.pixelRatio;L=z.getRevision();var Q=z.getRenderBuffer();y=z.getRenderOrder();void 0===y&&(y=m.defaultOrder);M=M.center.slice();F=(0,u.buffer)(F,Q*T);Q=F.slice();var S=[F.slice()],W=q.getExtent();if(w.getWrapX()&&q.canWrapX()&&!(0,u.containsExtent)(W,D.extent)){D=(0,u.getWidth)(W);var ca=Math.max((0,u.getWidth)(F)/2,D);F[0]=W[0]-ca;F[2]=W[2]+ca;(0,d.wrapX)(M,q);ca=(0,u.wrapX)(S[0],q);ca[0]<W[0]&&ca[2]<W[2]?S.push([ca[0]+D,ca[1],
ca[2]+D,ca[3]]):ca[0]>W[0]&&ca[2]>W[2]&&S.push([ca[0]-D,ca[1],ca[2]-D,ca[3]])}if(this.ready&&this.renderedResolution_==T&&this.renderedRevision_==L&&this.renderedRenderOrder_==y&&(0,u.containsExtent)(this.wrappedRenderedExtent_,F))return(0,f.equals)(this.renderedExtent_,Q)||(this.hitDetectionImageData_=null,this.renderedExtent_=Q),this.renderedCenter_=M,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const B=new k.default((0,m.getTolerance)(T,A),F,T,A);let v;this.getLayer().getDeclutter()&&(v=
new k.default((0,m.getTolerance)(T,A),F,T,A));D=(0,l.getUserProjection)();let I;if(D){for(let la=0,va=S.length;la<va;++la)W=(0,l.toUserExtent)(S[la],q),w.loadFeatures(W,(0,l.toUserResolution)(T,q),D);I=(0,l.getTransformFromProjections)(D,q)}else for(let la=0,va=S.length;la<va;++la)w.loadFeatures(S[la],T,q);const O=(0,m.getSquaredTolerance)(T,A);let ea=!0;D=la=>{let va;const Da=la.getStyleFunction()||z.getStyleFunction();Da&&(va=Da(la,T));va&&(la=this.renderFeature(la,O,va,B,I,v),ea=ea&&!la)};S=(0,l.toUserExtent)(F,
q);S=w.getFeaturesInExtent(S);y&&S.sort(y);for(let la=0,va=S.length;la<va;++la)D(S[la]);this.renderedFeatures_=S;this.ready=ea;D=B.finish();D=new g.default(F,T,A,w.getOverlaps(),D,z.getRenderBuffer());v&&(this.declutterExecutorGroup=new g.default(F,T,A,w.getOverlaps(),v.finish(),z.getRenderBuffer()));this.renderedResolution_=T;this.renderedRevision_=L;this.renderedRenderOrder_=y;this.renderedExtent_=Q;this.wrappedRenderedExtent_=F;this.renderedCenter_=M;this.renderedProjection_=q;this.replayGroup_=
D;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0}renderFeature(D,z,w,q,A,L){if(!w)return!1;let y=!1;if(Array.isArray(w))for(let F=0,M=w.length;F<M;++F)y=(0,m.renderFeature)(q,D,w[F],z,this.boundHandleStyleImageChange_,A,L)||y;else y=(0,m.renderFeature)(q,D,w,z,this.boundHandleStyleImageChange_,A,L);return y}}const x=r};
shadow$provide[118]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});Z=c(96);X=c(117);Z=c.esmDefault(Z);var J=c.esmDefault(X);class K extends Z.default{constructor(C){super(C)}createRenderer(){return new J.default(this)}}const E=K};
shadow$provide[119]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});X=c(88);var J=c(28),K=c(19),E=c(14),C=c.esmDefault(X);class u{constructor(m){this.rbush_=new C.default(m);this.items_={}}insert(m,f){m={minX:m[0],minY:m[1],maxX:m[2],maxY:m[3],value:f};this.rbush_.insert(m);this.items_[(0,K.getUid)(f)]=m}load(m,f){const l=Array(f.length);for(let d=0,g=f.length;d<g;d++){var e=m[d];const h=f[d];e={minX:e[0],minY:e[1],
maxX:e[2],maxY:e[3],value:h};l[d]=e;this.items_[(0,K.getUid)(h)]=e}this.rbush_.load(l)}remove(m){m=(0,K.getUid)(m);const f=this.items_[m];delete this.items_[m];return null!==this.rbush_.remove(f)}update(m,f){const l=this.items_[(0,K.getUid)(f)];(0,J.equals)([l.minX,l.minY,l.maxX,l.maxY],m)||(this.remove(f),this.insert(m,f))}getAll(){return this.rbush_.all().map(function(m){return m.value})}getInExtent(m){return this.rbush_.search({minX:m[0],minY:m[1],maxX:m[2],maxY:m[3]}).map(function(f){return f.value})}forEach(m){return this.forEach_(this.getAll(),
m)}forEachInExtent(m,f){return this.forEach_(this.getInExtent(m),f)}forEach_(m,f){let l;for(let e=0,d=m.length;e<d&&!(l=f(m[e]));e++);return l}isEmpty(){return(0,E.isEmpty)(this.items_)}clear(){this.rbush_.clear();this.items_={}}getExtent(m){const f=this.rbush_.toJSON();return(0,J.createOrUpdate)(f.minX,f.minY,f.maxX,f.maxY,m)}concat(m){this.rbush_.load(m.rbush_.all());for(const f in m.items_)this.items_[f]=m.items_[f]}}const p=u};
shadow$provide[120]=function(X,c,Z,N){function J(u){return u?Array.isArray(u)?function(p){return u}:"function"===typeof u?u:function(p){return[u]}:null}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});X=c(20);var K=c(40);c=c.esmDefault(X);class E extends c.default{constructor(u){super();this.projection=(0,K.get)(u.projection);this.attributions_=J(u.attributions);this.attributionsCollapsible_=void 0!==u.attributionsCollapsible?u.attributionsCollapsible:
!0;this.loading=!1;this.state_=void 0!==u.state?u.state:"ready";this.wrapX_=void 0!==u.wrapX?u.wrapX:!1;this.interpolate_=!!u.interpolate;this.viewRejector=this.viewResolver=null;const p=this;this.viewPromise_=new Promise(function(m,f){p.viewResolver=m;p.viewRejector=f})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(u){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(u){this.attributions_=
J(u);this.changed()}setState(u){this.state_=u;this.changed()}}const C=E};
shadow$provide[121]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[122]=function(X,c,Z,N){function J(u,p){return[[-Infinity,-Infinity,Infinity,Infinity]]}function K(u,p){return[u]}function E(u){return function(p,m,f){m=u.getZForResolution((0,C.fromUserResolution)(m,f));p=u.getTileRangeForExtentAndZ((0,C.fromUserExtent)(p,f),m);const l=[];m=[m,0,0];for(m[1]=p.minX;m[1]<=p.maxX;++m[1])for(m[2]=p.minY;m[2]<=p.maxY;++m[2])l.push((0,C.toUserExtent)(u.getTileCoordExtent(m),f));return l}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},all:{enumerable:!0,
get:function(){return J}},bbox:{enumerable:!0,get:function(){return K}},tile:{enumerable:!0,get:function(){return E}}});var C=c(40)};
shadow$provide[123]=function(X,c,Z,N){function J(p,m,f,l,e,d,g){const h=new XMLHttpRequest;h.open("GET","function"===typeof p?p(f,l,e):p,!0);"arraybuffer"==m.getType()&&(h.responseType="arraybuffer");h.withCredentials=u;h.onload=function(k){if(!h.status||200<=h.status&&300>h.status){k=m.getType();let n;"json"==k||"text"==k?n=h.responseText:"xml"==k?(n=h.responseXML)||(n=(new DOMParser).parseFromString(h.responseText,"application/xml")):"arraybuffer"==k&&(n=h.response);n?d(m.readFeatures(n,{extent:f,
featureProjection:e}),m.readProjection(n)):g()}else g()};h.onerror=g;h.send()}function K(p,m){return function(f,l,e,d,g){const h=this;J(p,m,f,l,e,function(k,n){h.addFeatures(k);void 0!==d&&d(k)},g?g:C.VOID)}}function E(p){u=p}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},loadFeaturesXhr:{enumerable:!0,get:function(){return J}},setWithCredentials:{enumerable:!0,get:function(){return E}},xhr:{enumerable:!0,get:function(){return K}}});var C=c(13);let u=!1};
shadow$provide[124]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},VectorSourceEvent:{enumerable:!0,get:function(){return q}},default:{enumerable:!0,get:function(){return L}}});var J=c(22),K=c(21),E=c(9);X=c(16);Z=c(10);var C=c(119);N=c(120);var u=c(121),p=c(13),m=c(122),f=c(23),l=c(28),e=c(12),d=c(19),g=c(14),h=c(17),k=c(123),n=c.esmDefault(K),r=c.esmDefault(u),x=c.esmDefault(J),D=c.esmDefault(C);J=c.esmDefault(E);var z=c.esmDefault(Z);Z=c.esmDefault(N);var w=c.esmDefault(X);
class q extends J.default{constructor(y,F,M){super(y);this.feature=F;this.features=M}}class A extends Z.default{constructor(y){y=y||{};super({attributions:y.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0!==y.wrapX?y.wrapX:!0});this.on;this.once;this.un;this.loader_=p.VOID;this.format_=y.format;this.overlaps_=void 0===y.overlaps?!0:y.overlaps;this.url_=y.url;void 0!==y.loader?this.loader_=y.loader:void 0!==this.url_&&((0,f.assert)(this.format_,"`format` must be set when `url` is set"),
this.loader_=(0,k.xhr)(this.url_,this.format_));this.strategy_=void 0!==y.strategy?y.strategy:m.all;const F=void 0!==y.useSpatialIndex?y.useSpatialIndex:!0;this.featuresRtree_=F?new D.default:null;this.loadedExtentsRtree_=new D.default;this.loadingExtentsCount_=0;this.nullGeometryFeatures_={};this.idIndex_={};this.uidIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;let M,T;Array.isArray(y.features)?T=y.features:y.features&&(M=y.features,T=M.getArray());F||void 0!==M||(M=new x.default(T));
void 0!==T&&this.addFeaturesInternal(T);void 0!==M&&this.bindFeaturesCollection_(M)}addFeature(y){this.addFeatureInternal(y);this.changed()}addFeatureInternal(y){var F=(0,d.getUid)(y);if(this.addToIndex_(F,y)){this.setupChangeEvents_(F,y);var M=y.getGeometry();M?(F=M.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(F,y)):this.nullGeometryFeatures_[F]=y;this.dispatchEvent(new q(r.default.ADDFEATURE,y))}else this.featuresCollection_&&this.featuresCollection_.remove(y)}setupChangeEvents_(y,
F){this.featureChangeKeys_[y]=[(0,h.listen)(F,w.default.CHANGE,this.handleFeatureChange_,this),(0,h.listen)(F,z.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(y,F){let M=!0;const T=F.getId();void 0!==T&&(T.toString()in this.idIndex_?M=!1:this.idIndex_[T.toString()]=F);M&&((0,f.assert)(!(y in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[y]=F);return M}addFeatures(y){this.addFeaturesInternal(y);this.changed()}addFeaturesInternal(y){const F=
[],M=[],T=[];for(let W=0,ca=y.length;W<ca;W++){var Q=y[W],S=(0,d.getUid)(Q);this.addToIndex_(S,Q)&&M.push(Q)}for(let W=0,ca=M.length;W<ca;W++)y=M[W],Q=(0,d.getUid)(y),this.setupChangeEvents_(Q,y),(S=y.getGeometry())?(Q=S.getExtent(),F.push(Q),T.push(y)):this.nullGeometryFeatures_[Q]=y;this.featuresRtree_&&this.featuresRtree_.load(F,T);if(this.hasListener(r.default.ADDFEATURE))for(let W=0,ca=M.length;W<ca;W++)this.dispatchEvent(new q(r.default.ADDFEATURE,M[W]))}bindFeaturesCollection_(y){let F=!1;
this.addEventListener(r.default.ADDFEATURE,function(M){F||(F=!0,y.push(M.feature),F=!1)});this.addEventListener(r.default.REMOVEFEATURE,function(M){F||(F=!0,y.remove(M.feature),F=!1)});y.addEventListener(n.default.ADD,M=>{F||(F=!0,this.addFeature(M.element),F=!1)});y.addEventListener(n.default.REMOVE,M=>{F||(F=!0,this.removeFeature(M.element),F=!1)});this.featuresCollection_=y}clear(y){if(y){for(const F in this.featureChangeKeys_)this.featureChangeKeys_[F].forEach(h.unlistenByKey);this.featuresCollection_||
(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(F=>{this.removeFeatureInternal(F)});for(const F in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[F])}this.featuresCollection_&&this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};y=new q(r.default.CLEAR);this.dispatchEvent(y);this.changed()}forEachFeature(y){if(this.featuresRtree_)return this.featuresRtree_.forEach(y);
this.featuresCollection_&&this.featuresCollection_.forEach(y)}forEachFeatureAtCoordinateDirect(y,F){return this.forEachFeatureInExtent([y[0],y[1],y[0],y[1]],function(M){if(M.getGeometry().intersectsCoordinate(y))return F(M)})}forEachFeatureInExtent(y,F){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(y,F);this.featuresCollection_&&this.featuresCollection_.forEach(F)}forEachFeatureIntersectingExtent(y,F){return this.forEachFeatureInExtent(y,function(M){if(M.getGeometry().intersectsExtent(y)&&
(M=F(M)))return M})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let y;this.featuresCollection_?y=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(y=this.featuresRtree_.getAll(),(0,g.isEmpty)(this.nullGeometryFeatures_)||(0,e.extend)(y,Object.values(this.nullGeometryFeatures_)));return y}getFeaturesAtCoordinate(y){const F=[];this.forEachFeatureAtCoordinateDirect(y,function(M){F.push(M)});return F}getFeaturesInExtent(y,F){if(this.featuresRtree_){if(!(F&&F.canWrapX()&&
this.getWrapX()))return this.featuresRtree_.getInExtent(y);y=(0,l.wrapAndSliceX)(y,F);return[].concat(...y.map(M=>this.featuresRtree_.getInExtent(M)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(y,F){const M=y[0],T=y[1];let Q=null;const S=[NaN,NaN];let W=Infinity;const ca=[-Infinity,-Infinity,Infinity,Infinity];F=F?F:p.TRUE;this.featuresRtree_.forEachInExtent(ca,function(B){if(F(B)){const v=B.getGeometry(),I=W;W=v.closestPointXY(M,
T,S,W);W<I&&(Q=B,B=Math.sqrt(W),ca[0]=M-B,ca[1]=T-B,ca[2]=M+B,ca[3]=T+B)}});return Q}getExtent(y){return this.featuresRtree_.getExtent(y)}getFeatureById(y){y=this.idIndex_[y.toString()];return void 0!==y?y:null}getFeatureByUid(y){y=this.uidIndex_[y];return void 0!==y?y:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(y){y=y.target;var F=(0,d.getUid)(y),M=y.getGeometry();M?(M=M.getExtent(),F in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[F],
this.featuresRtree_&&this.featuresRtree_.insert(M,y)):this.featuresRtree_&&this.featuresRtree_.update(M,y)):F in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(y),this.nullGeometryFeatures_[F]=y);M=y.getId();void 0!==M?(F=M.toString(),this.idIndex_[F]!==y&&(this.removeFromIdIndex_(y),this.idIndex_[F]=y)):(this.removeFromIdIndex_(y),this.uidIndex_[F]=y);this.changed();this.dispatchEvent(new q(r.default.CHANGEFEATURE,y))}hasFeature(y){const F=y.getId();return void 0!==
F?F in this.idIndex_:(0,d.getUid)(y)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,g.isEmpty)(this.nullGeometryFeatures_):this.featuresCollection_?0===this.featuresCollection_.getLength():!0}loadFeatures(y,F,M){const T=this.loadedExtentsRtree_;y=this.strategy_(y,F,M);for(let Q=0,S=y.length;Q<S;++Q){const W=y[Q];T.forEachInExtent(W,function(ca){return(0,l.containsExtent)(ca.extent,W)})||(++this.loadingExtentsCount_,this.dispatchEvent(new q(r.default.FEATURESLOADSTART)),
this.loader_.call(this,W,F,M,ca=>{--this.loadingExtentsCount_;this.dispatchEvent(new q(r.default.FEATURESLOADEND,void 0,ca))},()=>{--this.loadingExtentsCount_;this.dispatchEvent(new q(r.default.FEATURESLOADERROR))}),T.insert(W,{extent:W.slice()}))}this.loading=4>this.loader_.length?!1:0<this.loadingExtentsCount_}refresh(){this.clear(!0);this.loadedExtentsRtree_.clear();super.refresh()}removeLoadedExtent(y){const F=this.loadedExtentsRtree_;let M;F.forEachInExtent(y,function(T){if((0,l.equals)(T.extent,
y))return M=T,!0});M&&F.remove(M)}removeFeature(y){if(y){var F=(0,d.getUid)(y);F in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[F]:this.featuresRtree_&&this.featuresRtree_.remove(y);this.removeFeatureInternal(y)&&this.changed()}}removeFeatureInternal(y){const F=(0,d.getUid)(y);var M=this.featureChangeKeys_[F];if(M)return M.forEach(h.unlistenByKey),delete this.featureChangeKeys_[F],M=y.getId(),void 0!==M&&delete this.idIndex_[M.toString()],delete this.uidIndex_[F],this.dispatchEvent(new q(r.default.REMOVEFEATURE,
y)),y}removeFromIdIndex_(y){let F=!1;for(const M in this.idIndex_)if(this.idIndex_[M]===y){delete this.idIndex_[M];F=!0;break}return F}setLoader(y){this.loader_=y}setUrl(y){(0,f.assert)(this.format_,"`format` must be set when `url` is set");this.url_=y;this.setLoader((0,k.xhr)(y,this.format_))}}const L=A};
shadow$provide[125]=function(X,c,Z,N){function J(l,e){var d=l.canvas;e=e?e:{};const g=e.pixelRatio||C.DEVICE_PIXEL_RATIO;if(e=e.size)d.width=e[0]*g,d.height=e[1]*g,d.style.width=e[0]+"px",d.style.height=e[1]+"px";d=[0,0,d.width,d.height];e=(0,u.scale)((0,u.create)(),g,g);return new f.default(l,g,d,e,0)}function K(l){if(!(l.context instanceof CanvasRenderingContext2D))throw Error("Only works for render events from Canvas 2D layers");var e=l.inversePixelTransform[0],d=l.inversePixelTransform[1];e=Math.sqrt(e*
e+d*d);d=l.frameState;const g=(0,u.multiply)(l.inversePixelTransform.slice(),d.coordinateToPixelTransform),h=(0,p.getSquaredTolerance)(d.viewState.resolution,e);let k;const n=(0,m.getUserProjection)();n&&(k=(0,m.getTransformFromProjections)(n,d.viewState.projection));return new f.default(l.context,e,d.extent,g,d.viewState.rotation,h,k)}function E(l,e){return(0,u.apply)(l.inversePixelTransform,e.slice(0))}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},getRenderPixel:{enumerable:!0,
get:function(){return E}},getVectorContext:{enumerable:!0,get:function(){return K}},toContext:{enumerable:!0,get:function(){return J}}});X=c(113);var C=c(25),u=c(26),p=c(116),m=c(40),f=c.esmDefault(X)};
shadow$provide[126]=function(X,c,Z,N){function J(m,f,l){const e=[];let d=m(0);var g=m(1);let h=f(d),k=f(g);const n=[g,d],r=[k,h],x=[1,0],D={};let z=1E5,w,q,A,L,y;for(;0<--z&&0<x.length;)A=x.pop(),d=n.pop(),h=r.pop(),g=A.toString(),g in D||(e.push(h[0],h[1]),D[g]=!0),L=x.pop(),g=n.pop(),k=r.pop(),y=(A+L)/2,w=m(y),q=f(w),(0,p.squaredSegmentDistance)(q[0],q[1],h[0],h[1],k[0],k[1])<l?(e.push(k[0],k[1]),g=L.toString(),D[g]=!0):(x.push(L,y,y,A),r.push(k,q,q,h),n.push(g,w,w,d));return e}function K(m,f,l,
e,d,g){const h=(0,u.get)("EPSG:4326"),k=Math.cos((0,p.toRadians)(f)),n=Math.sin((0,p.toRadians)(f)),r=Math.cos((0,p.toRadians)(e)),x=Math.sin((0,p.toRadians)(e)),D=Math.cos((0,p.toRadians)(l-m)),z=Math.sin((0,p.toRadians)(l-m)),w=n*x+k*r*D;return J(function(q){if(1<=w)return[l,e];var A=q*Math.acos(w);q=Math.cos(A);const L=Math.sin(A),y=Math.atan2(z*r,k*x-n*r*D);A=Math.asin(n*q+k*L*Math.cos(y));q=(0,p.toRadians)(m)+Math.atan2(Math.sin(y)*L*k,q-n*Math.sin(A));return[(0,p.toDegrees)(q),(0,p.toDegrees)(A)]},
(0,u.getTransform)(h,d),g)}function E(m,f,l,e,d){const g=(0,u.get)("EPSG:4326");return J(function(h){return[m,f+(l-f)*h]},(0,u.getTransform)(g,e),d)}function C(m,f,l,e,d){const g=(0,u.get)("EPSG:4326");return J(function(h){return[f+(l-f)*h,m]},(0,u.getTransform)(g,e),d)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},greatCircleArc:{enumerable:!0,get:function(){return K}},meridian:{enumerable:!0,get:function(){return E}},parallel:{enumerable:!0,get:function(){return C}}});var u=c(40),
p=c(35)};
shadow$provide[127]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return Q}}});var J=c(22);X=c(59);Z=c(24);N=c(60);var K=c(63),E=c(50),C=c(64),u=c(75),p=c(76),m=c(118),f=c(124),l=c(28),e=c(35),d=c(37),g=c(40),h=c(125),k=c(126),n=c.esmDefault(K),r=c.esmDefault(J);J=c.esmDefault(m);var x=c.esmDefault(u),D=c.esmDefault(N),z=c.esmDefault(X),w=c.esmDefault(E),q=c.esmDefault(C),A=c.esmDefault(p),L=c.esmDefault(f),y=c.esmDefault(Z);
const F=new q.default({color:"rgba(0,0,0,0.2)"}),M=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600];class T extends J.default{constructor(S){S=S?S:{};const W=Object.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},S);delete W.maxLines;delete W.strokeStyle;delete W.targetSize;delete W.showLabels;delete W.lonLabelFormatter;delete W.latLabelFormatter;delete W.lonLabelPosition;delete W.latLabelPosition;delete W.lonLabelStyle;delete W.latLabelStyle;
delete W.intervals;super(W);this.projection_=null;this.maxLon_=this.maxLat_=Infinity;this.minLon_=this.minLat_=-Infinity;this.maxY_=this.maxX_=Infinity;this.minY_=this.minX_=-Infinity;this.targetSize_=void 0!==S.targetSize?S.targetSize:100;this.maxLines_=void 0!==S.maxLines?S.maxLines:100;this.meridians_=[];this.parallels_=[];this.strokeStyle_=void 0!==S.strokeStyle?S.strokeStyle:F;this.toLonLatTransform_=this.fromLonLatTransform_=void 0;this.parallelsLabels_=this.meridiansLabels_=this.topRight_=
this.topLeft_=this.bottomRight_=this.bottomLeft_=this.projectionCenterLonLat_=null;S.showLabels&&(this.lonLabelFormatter_=void 0==S.lonLabelFormatter?d.degreesToStringHDMS.bind(this,"EW"):S.lonLabelFormatter,this.latLabelFormatter_=void 0==S.latLabelFormatter?d.degreesToStringHDMS.bind(this,"NS"):S.latLabelFormatter,this.lonLabelPosition_=void 0==S.lonLabelPosition?0:S.lonLabelPosition,this.latLabelPosition_=void 0==S.latLabelPosition?1:S.latLabelPosition,this.lonLabelStyleBase_=new x.default({text:void 0!==
S.lonLabelStyle?S.lonLabelStyle.clone():new A.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new D.default({color:"rgba(0,0,0,1)"}),stroke:new q.default({color:"rgba(255,255,255,1)",width:3})})}),this.lonLabelStyle_=ca=>{ca=ca.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ca);return this.lonLabelStyleBase_},this.latLabelStyleBase_=new x.default({text:void 0!==S.latLabelStyle?S.latLabelStyle.clone():new A.default({font:"12px Calibri,sans-serif",textAlign:"right",
fill:new D.default({color:"rgba(0,0,0,1)"}),stroke:new q.default({color:"rgba(255,255,255,1)",width:3})})}),this.latLabelStyle_=ca=>{ca=ca.get("graticule_label");this.latLabelStyleBase_.getText().setText(ca);return this.latLabelStyleBase_},this.meridiansLabels_=[],this.parallelsLabels_=[],this.addEventListener(z.default.POSTRENDER,this.drawLabels_.bind(this)));this.intervals_=void 0!==S.intervals?S.intervals:M;this.setSource(new L.default({loader:this.loaderFunction.bind(this),strategy:this.strategyFunction.bind(this),
features:new r.default,overlaps:!1,useSpatialIndex:!1,wrapX:S.wrapX}));this.featurePool_=[];this.lineStyle_=new x.default({stroke:this.strokeStyle_});this.renderedResolution_=this.renderedExtent_=this.loadedExtent_=null;this.setRenderOrder(null)}strategyFunction(S,W){S=S.slice();this.projection_&&this.getSource().getWrapX()&&(0,l.wrapX)(S,this.projection_);this.loadedExtent_&&((0,l.approximatelyEquals)(this.loadedExtent_,S,W)?S=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));
return[S]}loaderFunction(S,W,ca){this.loadedExtent_=S;var B=this.getSource(),v=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];S=(0,l.getIntersection)(v,S);if(!this.renderedExtent_||!(0,l.equals)(this.renderedExtent_,S)||this.renderedResolution_!==W)if(this.renderedExtent_=S,this.renderedResolution_=W,!(0,l.isEmpty)(S)){v=(0,l.getCenter)(S);var I=W*W/4;this.projection_&&(0,g.equivalent)(this.projection_,ca)||this.updateProjectionInfo_(ca);this.createGraticule_(S,v,W,I);ca=this.meridians_.length+
this.parallels_.length;this.meridiansLabels_&&(ca+=this.meridians_.length);for(this.parallelsLabels_&&(ca+=this.parallels_.length);ca>this.featurePool_.length;)W=new y.default,this.featurePool_.push(W);B=B.getFeaturesCollection();B.clear();S=ca=0;for(v=this.meridians_.length;S<v;++S)W=this.featurePool_[ca++],W.setGeometry(this.meridians_[S]),W.setStyle(this.lineStyle_),B.push(W);S=0;for(v=this.parallels_.length;S<v;++S)W=this.featurePool_[ca++],W.setGeometry(this.parallels_[S]),W.setStyle(this.lineStyle_),
B.push(W)}}addMeridian_(S,W,ca,B,v,I){W=this.getMeridian_(S,W,ca,B,I);(0,l.intersects)(W.getExtent(),v)&&(this.meridiansLabels_&&(S=this.lonLabelFormatter_(S),I in this.meridiansLabels_?this.meridiansLabels_[I].text=S:this.meridiansLabels_[I]={geom:new w.default([]),text:S}),this.meridians_[I++]=W);return I}addParallel_(S,W,ca,B,v,I){W=this.getParallel_(S,W,ca,B,I);(0,l.intersects)(W.getExtent(),v)&&(this.parallelsLabels_&&(S=this.latLabelFormatter_(S),I in this.parallelsLabels_?this.parallelsLabels_[I].text=
S:this.parallelsLabels_[I]={geom:new w.default([]),text:S}),this.parallels_[I++]=W);return I}drawLabels_(S){const W=S.frameState.viewState.rotation;var ca=S.frameState.viewState.resolution,B=S.frameState.size;const v=S.frameState.extent,I=(0,l.getCenter)(v);var O=v;W&&(O=B[0]*ca,ca*=B[1],O=[I[0]-O/2,I[1]-ca/2,I[0]+O/2,I[1]+ca/2]);B=ca=0;let ea=.5>this.latLabelPosition_;var la=this.projection_.getExtent();const va=(0,l.getWidth)(la);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,l.containsExtent)(la,
v)&&(ca=Math.floor((v[0]-la[0])/va),B=Math.ceil((v[2]-la[2])/va),ea=ea!==Math.abs(W)>Math.PI/2);S=(0,h.getVectorContext)(S);for(la=ca;la<=B;++la){let Ya=this.meridians_.length+this.parallels_.length;var Da=void 0;let Za,gb,qb;if(this.meridiansLabels_)for(Za=0,gb=this.meridiansLabels_.length;Za<gb;++Za)Da=this.meridians_[Za],W||0!==la?(Da=Da.clone(),Da.translate(la*va,0),Da.rotate(-W,I),qb=this.getMeridianPoint_(Da,O,Za),qb.rotate(W,I)):qb=this.getMeridianPoint_(Da,v,Za),Da=this.featurePool_[Ya++],
Da.setGeometry(qb),Da.set("graticule_label",this.meridiansLabels_[Za].text),S.drawFeature(Da,this.lonLabelStyle_(Da));if(this.parallelsLabels_&&(la===ca&&ea||la===B&&!ea))for(Za=0,gb=this.parallels_.length;Za<gb;++Za)Da=this.parallels_[Za],W||0!==la?(Da=Da.clone(),Da.translate(la*va,0),Da.rotate(-W,I),qb=this.getParallelPoint_(Da,O,Za),qb.rotate(W,I)):qb=this.getParallelPoint_(Da,v,Za),Da=this.featurePool_[Ya++],Da.setGeometry(qb),Da.set("graticule_label",this.parallelsLabels_[Za].text),S.drawFeature(Da,
this.latLabelStyle_(Da))}}createGraticule_(S,W,ca,B){ca=this.getInterval_(ca);if(-1==ca)this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var v=!1,I=this.projection_.getExtent(),O=(0,l.getWidth)(I);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,l.containsExtent)(I,S)&&((0,l.getWidth)(S)>=O?(S[0]=I[0],S[2]=I[2]):v=!0);W=[(0,e.clamp)(W[0],this.minX_,this.maxX_),(0,e.clamp)(W[1],
this.minY_,this.maxY_)];I=this.toLonLatTransform_(W);isNaN(I[1])&&(I[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);W=(0,e.clamp)(I[0],this.minLon_,this.maxLon_);I=(0,e.clamp)(I[1],this.minLat_,this.maxLat_);O=this.maxLines_;var ea=S;v||(ea=[(0,e.clamp)(S[0],this.minX_,this.maxX_),(0,e.clamp)(S[1],this.minY_,this.maxY_),(0,e.clamp)(S[2],this.minX_,this.maxX_),(0,e.clamp)(S[3],this.minY_,this.maxY_)]);var la=(0,l.applyTransform)(ea,this.toLonLatTransform_,void 0,8),va=
la[3],Da=la[2],Ya=la[1];la=la[0];v||((0,l.containsCoordinate)(ea,this.bottomLeft_)&&(la=this.minLon_,Ya=this.minLat_),(0,l.containsCoordinate)(ea,this.bottomRight_)&&(Da=this.maxLon_,Ya=this.minLat_),(0,l.containsCoordinate)(ea,this.topLeft_)&&(la=this.minLon_,va=this.maxLat_),(0,l.containsCoordinate)(ea,this.topRight_)&&(Da=this.maxLon_,va=this.maxLat_),va=(0,e.clamp)(va,I,this.maxLat_),Da=(0,e.clamp)(Da,W,this.maxLon_),Ya=(0,e.clamp)(Ya,this.minLat_,I),la=(0,e.clamp)(la,this.minLon_,W));W=Math.floor(W/
ca)*ca;var Za=(0,e.clamp)(W,this.minLon_,this.maxLon_);var gb=this.addMeridian_(Za,Ya,va,B,S,0);ea=0;if(v)for(;(Za-=ca)>=la&&ea++<O;)gb=this.addMeridian_(Za,Ya,va,B,S,gb);else for(;Za!=this.minLon_&&ea++<O;)Za=Math.max(Za-ca,this.minLon_),gb=this.addMeridian_(Za,Ya,va,B,S,gb);Za=(0,e.clamp)(W,this.minLon_,this.maxLon_);ea=0;if(v)for(;(Za+=ca)<=Da&&ea++<O;)gb=this.addMeridian_(Za,Ya,va,B,S,gb);else for(;Za!=this.maxLon_&&ea++<O;)Za=Math.min(Za+ca,this.maxLon_),gb=this.addMeridian_(Za,Ya,va,B,S,gb);
this.meridians_.length=gb;this.meridiansLabels_&&(this.meridiansLabels_.length=gb);I=Math.floor(I/ca)*ca;v=(0,e.clamp)(I,this.minLat_,this.maxLat_);gb=this.addParallel_(v,la,Da,B,S,0);for(ea=0;v!=this.minLat_&&ea++<O;)v=Math.max(v-ca,this.minLat_),gb=this.addParallel_(v,la,Da,B,S,gb);v=(0,e.clamp)(I,this.minLat_,this.maxLat_);for(ea=0;v!=this.maxLat_&&ea++<O;)v=Math.min(v+ca,this.maxLat_),gb=this.addParallel_(v,la,Da,B,S,gb);this.parallels_.length=gb;this.parallelsLabels_&&(this.parallelsLabels_.length=
gb)}}getInterval_(S){const W=this.projectionCenterLonLat_[0],ca=this.projectionCenterLonLat_[1];let B=-1;S=Math.pow(this.targetSize_*S,2);const v=[],I=[];for(let O=0,ea=this.intervals_.length;O<ea;++O){const la=(0,e.clamp)(this.intervals_[O]/2,0,90),va=(0,e.clamp)(ca,-90+la,90-la);v[0]=W-la;v[1]=va-la;I[0]=W+la;I[1]=va+la;this.fromLonLatTransform_(v,v);this.fromLonLatTransform_(I,I);if(Math.pow(I[0]-v[0],2)+Math.pow(I[1]-v[1],2)<=S)break;B=this.intervals_[O]}return B}getMeridian_(S,W,ca,B,v){S=(0,k.meridian)(S,
W,ca,this.projection_,B);(W=this.meridians_[v])?(W.setFlatCoordinates("XY",S),W.changed()):(W=new n.default(S,"XY"),this.meridians_[v]=W);return W}getMeridianPoint_(S,W,ca){S=S.getFlatCoordinates();let B=1,v=S.length-1;S[B]>S[v]&&(B=v,v=1);W=(0,e.clamp)(W[1]+Math.abs(W[1]-W[3])*this.lonLabelPosition_,Math.max(W[1],S[B]),Math.min(W[3],S[v]));ca=this.meridiansLabels_[ca].geom;ca.setCoordinates([S[B-1]+(S[v-1]-S[B-1])*(W-S[B])/(S[v]-S[B]),W]);return ca}getMeridians(){return this.meridians_}getParallel_(S,
W,ca,B,v){S=(0,k.parallel)(S,W,ca,this.projection_,B);(v=this.parallels_[v])?(v.setFlatCoordinates("XY",S),v.changed()):v=new n.default(S,"XY");return v}getParallelPoint_(S,W,ca){S=S.getFlatCoordinates();let B=0,v=S.length-2;S[B]>S[v]&&(B=v,v=0);W=(0,e.clamp)(W[0]+Math.abs(W[0]-W[2])*this.latLabelPosition_,Math.max(W[0],S[B]),Math.min(W[2],S[v]));ca=this.parallelsLabels_[ca].geom;ca.setCoordinates([W,S[B+1]+(S[v+1]-S[B+1])*(W-S[B])/(S[v]-S[B])]);return ca}getParallels(){return this.parallels_}updateProjectionInfo_(S){var W=
(0,g.get)("EPSG:4326");const ca=S.getWorldExtent();this.maxLat_=ca[3];this.maxLon_=ca[2];this.minLat_=ca[1];this.minLon_=ca[0];const B=(0,g.getTransform)(S,W);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=B;else{const v=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(I,O,ea){ea=ea||2;I=B(I,O,ea);for(let la=0,va=I.length;la<va;la+=ea)I[la]<v&&(I[la]+=360);return I}}this.fromLonLatTransform_=(0,g.getTransform)(W,S);W=(0,l.applyTransform)([this.minLon_,this.minLat_,
this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=W[0];this.maxX_=W[2];this.minY_=W[1];this.maxY_=W[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,l.getCenter)(S.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&
(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=S}}const Q=T};
shadow$provide[128]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});X=c(65);Z=c(89);Z=c.esmDefault(Z);var J=c.esmDefault(X);class K extends Z.default{constructor(C,u,p,m,f){super(C,u,p,void 0!==f?J.default.IDLE:J.default.LOADED);this.loader_=void 0!==f?f:null;this.canvas_=m;this.error_=null}getError(){return this.error_}handleLoad_(C){C?(this.error_=C,this.state=J.default.ERROR):this.state=J.default.LOADED;this.changed()}load(){this.state==
J.default.IDLE&&(this.state=J.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}const E=K};
shadow$provide[129]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[130]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});N=c(15);X=c(16);Z=c(129);var J=c(19),K=c(85);N=c.esmDefault(N);var E=c.esmDefault(Z),C=c.esmDefault(X);class u extends N.default{constructor(m,f,l){super();l=l?l:{};this.tileCoord=m;this.state=f;this.interimTile=null;this.key="";this.transition_=void 0===l.transition?250:l.transition;this.transitionStarts_={};this.interpolate=!!l.interpolate}changed(){this.dispatchEvent(C.default.CHANGE)}release(){this.state===
E.default.ERROR&&this.setState(E.default.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let m=this.interimTile;do{if(m.getState()==E.default.LOADED)return this.transition_=0,m;m=m.interimTile}while(m);return this}refreshInterimChain(){if(this.interimTile){var m=this.interimTile,f=this;do{if(m.getState()==E.default.LOADED){m.interimTile=null;break}else m.getState()==E.default.LOADING?f=m:m.getState()==E.default.IDLE?f.interimTile=m.interimTile:
f=m;m=f.interimTile}while(m)}}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(m){if(this.state!==E.default.ERROR&&this.state>m)throw Error("Tile load sequence violation");this.state=m;this.changed()}load(){(0,J.abstract)()}getAlpha(m,f){if(!this.transition_)return 1;let l=this.transitionStarts_[m];if(!l)l=f,this.transitionStarts_[m]=l;else if(-1===l)return 1;m=f-l+1E3/60;return m>=this.transition_?1:(0,K.easeIn)(m/this.transition_)}inTransition(m){return this.transition_?
-1!==this.transitionStarts_[m]:!1}endTransition(m){this.transition_&&(this.transitionStarts_[m]=-1)}}const p=u};
shadow$provide[131]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(130);Z=c(129);var J=c(70),K=c(89),E=c.esmDefault(Z);c=c.esmDefault(X);class C extends c.default{constructor(p,m,f,l,e,d){super(p,m,d);this.crossOrigin_=l;this.key=this.src_=f;this.image_=new Image;null!==l&&(this.image_.crossOrigin=l);this.unlisten_=null;this.tileLoadFunction_=e}getImage(){return this.image_}setImage(p){this.image_=p;this.state=
E.default.LOADED;this.unlistenImage_();this.changed()}handleImageError_(){this.state=E.default.ERROR;this.unlistenImage_();const p=(0,J.createCanvasContext2D)(1,1);p.fillStyle="rgba(0,0,0,0)";p.fillRect(0,0,1,1);this.image_=p.canvas;this.changed()}handleImageLoad_(){const p=this.image_;this.state=p.naturalWidth&&p.naturalHeight?E.default.LOADED:E.default.EMPTY;this.unlistenImage_();this.changed()}load(){this.state==E.default.ERROR&&(this.state=E.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&
(this.image_.crossOrigin=this.crossOrigin_));this.state==E.default.IDLE&&(this.state=E.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,K.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}const u=C};
shadow$provide[132]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});class J{constructor(E,C,u){this.decay_=E;this.minVelocity_=C;this.delay_=u;this.points_=[];this.initialVelocity_=this.angle_=0}begin(){this.initialVelocity_=this.angle_=this.points_.length=0}update(E,C){this.points_.push(E,C,Date.now())}end(){if(6>this.points_.length)return!1;var E=Date.now()-this.delay_,C=this.points_.length-3;if(this.points_[C+2]<
E)return!1;let u=C-3;for(;0<u&&this.points_[u+2]>E;)u-=3;E=this.points_[C+2]-this.points_[u+2];if(E<1E3/60)return!1;const p=this.points_[C]-this.points_[u];C=this.points_[C+1]-this.points_[u+1];this.angle_=Math.atan2(C,p);this.initialVelocity_=Math.sqrt(p*p+C*C)/E;return this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const K=J};
shadow$provide[133]=function(X,c,Z,N){function J(d,g){p.shared.expire()}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return e}}});X=c(11);var K=c(13),E=c(19),C=c(26),u=c(28),p=c(90),m=c(87),f=c(37);c=c.esmDefault(X);class l extends c.default{constructor(d){super();this.map_=d}dispatchRenderEvent(d,g){(0,E.abstract)()}calculateMatrices2D(d){const g=d.viewState,h=d.coordinateToPixelTransform,k=d.pixelToCoordinateTransform;(0,C.compose)(h,d.size[0]/
2,d.size[1]/2,1/g.resolution,-1/g.resolution,-g.rotation,-g.center[0],-g.center[1]);(0,C.makeInverse)(k,h)}forEachFeatureAtCoordinate(d,g,h,k,n,r,x,D){function z(W,ca,B,v){return n.call(r,ca,W?B:null,v)}let w;const q=g.viewState;var A=q.projection;const L=(0,f.wrapX)(d.slice(),A),y=[[0,0]];A.canWrapX()&&k&&(k=A.getExtent(),k=(0,u.getWidth)(k),y.push([-k,0],[k,0]));k=g.layerStatesArray;A=k.length;const F=[],M=[];for(let W=0;W<y.length;W++)for(let ca=A-1;0<=ca;--ca){var T=k[ca],Q=T.layer;if(Q.hasRenderer()&&
(0,m.inView)(T,q)&&x.call(D,Q)){const B=Q.getRenderer();Q=Q.getSource();B&&Q&&(Q=Q.getWrapX()?L:d,T=z.bind(null,T.managed),M[0]=Q[0]+y[W][0],M[1]=Q[1]+y[W][1],w=B.forEachFeatureAtCoordinate(M,g,h,T,F));if(w)return w}}if(0!==F.length){var S=1/F.length;F.forEach((W,ca)=>W.distanceSq+=ca*S);F.sort((W,ca)=>W.distanceSq-ca.distanceSq);F.some(W=>w=W.callback(W.feature,W.layer,W.geometry));return w}}hasFeatureAtCoordinate(d,g,h,k,n,r){return void 0!==this.forEachFeatureAtCoordinate(d,g,h,k,K.TRUE,this,n,
r)}getMap(){return this.map_}renderFrame(d){(0,E.abstract)()}flushDeclutterItems(d){}scheduleExpireIconCache(d){p.shared.canExpireCache()&&d.postRenderFunctions.push(J)}}const e=l};
shadow$provide[134]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return d}}});N=c(133);var J=c(10);X=c(108);Z=c(59);var K=c(71),E=c(72),C=c(87),u=c(17),p=c(70),m=c.esmDefault(J);N=c.esmDefault(N);var f=c.esmDefault(Z),l=c.esmDefault(X);class e extends N.default{constructor(g){super(g);this.fontChangeListenerKey_=(0,u.listen)(E.checkedFonts,m.default.PROPERTYCHANGE,g.redrawText.bind(g));this.element_=document.createElement("div");
const h=this.element_.style;h.position="absolute";h.width="100%";h.height="100%";h.zIndex="0";this.element_.className=K.CLASS_UNSELECTABLE+" ol-layers";g=g.getViewport();g.insertBefore(this.element_,g.firstChild||null);this.children_=[];this.renderedVisible_=!0;this.declutterLayers_=[]}dispatchRenderEvent(g,h){const k=this.getMap();k.hasListener(g)&&(g=new l.default(g,void 0,h),k.dispatchEvent(g))}disposeInternal(){(0,u.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);
super.disposeInternal()}renderFrame(g){if(g){this.calculateMatrices2D(g);this.dispatchRenderEvent(f.default.PRECOMPOSE,g);var h=g.layerStatesArray.sort(function(D,z){return D.zIndex-z.zIndex}),k=g.viewState;this.children_.length=0;var n=this.declutterLayers_;n.length=0;var r=null;for(let D=0,z=h.length;D<z;++D){var x=h[D];g.layerIndex=D;const w=x.layer,q=w.getSourceState();if(!(0,C.inView)(x,k)||"ready"!=q&&"undefined"!=q)w.unrender();else if(x=w.render(g,r))x!==r&&(this.children_.push(x),r=x),"getDeclutter"in
w&&n.push(w)}this.flushDeclutterItems(g);(0,p.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(f.default.POSTCOMPOSE,g);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(g)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}flushDeclutterItems(g){const h=this.declutterLayers_;for(let k=h.length-1;0<=k;--k)h[k].renderDeclutter(g);h.length=0}}const d=e};
shadow$provide[135]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},GroupEvent:{enumerable:!0,get:function(){return h}},default:{enumerable:!0,get:function(){return n}}});Z=c(78);var J=c(22),K=c(21),E=c(9);X=c(16);N=c(10);var C=c(23),u=c(14),p=c(28),m=c(19),f=c(17),l=c.esmDefault(K),e=c.esmDefault(J);J=c.esmDefault(E);var d=c.esmDefault(N);Z=c.esmDefault(Z);var g=c.esmDefault(X);class h extends J.default{constructor(r,x){super(r);this.layer=x}}class k extends Z.default{constructor(r){r=
r||{};const x=Object.assign({},r);delete x.layers;r=r.layers;super(x);this.on;this.once;this.un;this.layersListenerKeys_=[];this.listenerKeys_={};this.addChangeListener("layers",this.handleLayersChanged_);r?Array.isArray(r)?r=new e.default(r.slice(),{unique:!0}):(0,C.assert)("function"===typeof r.getArray,"Expected `layers` to be an array or a `Collection`"):r=new e.default(void 0,{unique:!0});this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(f.unlistenByKey);
this.layersListenerKeys_.length=0;var r=this.getLayers();this.layersListenerKeys_.push((0,f.listen)(r,l.default.ADD,this.handleLayersAdd_,this),(0,f.listen)(r,l.default.REMOVE,this.handleLayersRemove_,this));for(var x in this.listenerKeys_)this.listenerKeys_[x].forEach(f.unlistenByKey);(0,u.clear)(this.listenerKeys_);r=r.getArray();for(let D=0,z=r.length;D<z;D++)x=r[D],this.registerLayerListeners_(x),this.dispatchEvent(new h("addlayer",x));this.changed()}registerLayerListeners_(r){const x=[(0,f.listen)(r,
d.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(r,g.default.CHANGE,this.handleLayerChange_,this)];r instanceof k&&x.push((0,f.listen)(r,"addlayer",this.handleLayerGroupAdd_,this),(0,f.listen)(r,"removelayer",this.handleLayerGroupRemove_,this));this.listenerKeys_[(0,m.getUid)(r)]=x}handleLayerGroupAdd_(r){this.dispatchEvent(new h("addlayer",r.layer))}handleLayerGroupRemove_(r){this.dispatchEvent(new h("removelayer",r.layer))}handleLayersAdd_(r){r=r.element;this.registerLayerListeners_(r);
this.dispatchEvent(new h("addlayer",r));this.changed()}handleLayersRemove_(r){r=r.element;const x=(0,m.getUid)(r);this.listenerKeys_[x].forEach(f.unlistenByKey);delete this.listenerKeys_[x];this.dispatchEvent(new h("removelayer",r));this.changed()}getLayers(){return this.get("layers")}setLayers(r){var x=this.getLayers();if(x){x=x.getArray();for(let D=0,z=x.length;D<z;++D)this.dispatchEvent(new h("removelayer",x[D]))}this.set("layers",r)}getLayersArray(r){r=void 0!==r?r:[];this.getLayers().forEach(function(x){x.getLayersArray(r)});
return r}getLayerStatesArray(r){const x=void 0!==r?r:[],D=x.length;this.getLayers().forEach(function(q){q.getLayerStatesArray(x)});const z=this.getLayerState();let w=z.zIndex;r||void 0!==z.zIndex||(w=0);for(let q=D,A=x.length;q<A;q++)r=x[q],r.opacity*=z.opacity,r.visible=r.visible&&z.visible,r.maxResolution=Math.min(r.maxResolution,z.maxResolution),r.minResolution=Math.max(r.minResolution,z.minResolution),r.minZoom=Math.max(r.minZoom,z.minZoom),r.maxZoom=Math.min(r.maxZoom,z.maxZoom),void 0!==z.extent&&
(r.extent=void 0!==r.extent?(0,p.getIntersection)(r.extent,z.extent):z.extent),void 0===r.zIndex&&(r.zIndex=w);return x}getSourceState(){return"ready"}}const n=k};
shadow$provide[136]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});X=c(9);c=c.esmDefault(X);class J extends c.default{constructor(E,C,u){super(E);this.map=C;this.frameState=void 0!==u?u:null}}const K=J};
shadow$provide[137]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});X=c(136);c=c.esmDefault(X);class J extends c.default{constructor(E,C,u,p,m,f){super(E,C,m);this.originalEvent=u;this.coordinate_=this.pixel_=null;this.dragging=void 0!==p?p:!1;this.activePointers=f}get pixel(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_}set pixel(E){this.pixel_=E}get coordinate(){this.coordinate_||
(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));return this.coordinate_}set coordinate(E){this.coordinate_=E}preventDefault(){super.preventDefault();"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation();"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const K=J};
shadow$provide[138]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});X=c(16);c=c.esmDefault(X);const J={SINGLECLICK:"singleclick",CLICK:c.default.CLICK,DBLCLICK:c.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[139]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[140]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return e}}});X=c(16);N=c(137);var J=c(138);Z=c(139);var K=c(15),E=c(25),C=c(17),u=c.esmDefault(J),p=c.esmDefault(N);N=c.esmDefault(K);var m=c.esmDefault(Z),f=c.esmDefault(X);class l extends N.default{constructor(d,g){super(d);this.map_=d;this.clickTimeoutId_;this.dragging_=this.emulateClicks_=!1;this.dragListenerKeys_=[];this.moveTolerance_=void 0===g?1:g;this.down_=
null;d=this.map_.getViewport();this.activePointers_=[];this.trackedTouches_={};this.element_=d;this.pointerdownListenerKey_=(0,C.listen)(d,m.default.POINTERDOWN,this.handlePointerDown_,this);this.originalPointerMoveEvent_;this.relayedListenerKey_=(0,C.listen)(d,m.default.POINTERMOVE,this.relayMoveEvent_,this);this.boundHandleTouchMove_=this.handleTouchMove_.bind(this);this.element_.addEventListener(f.default.TOUCHMOVE,this.boundHandleTouchMove_,E.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1)}emulateClick_(d){let g=
new p.default(u.default.CLICK,this.map_,d);this.dispatchEvent(g);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,g=new p.default(u.default.DBLCLICK,this.map_,d),this.dispatchEvent(g)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const h=new p.default(u.default.SINGLECLICK,this.map_,d);this.dispatchEvent(h)},250)}updateActivePointers_(d){const g=d.pointerId;if(d.type==u.default.POINTERUP||d.type==u.default.POINTERCANCEL){delete this.trackedTouches_[g];
for(const h in this.trackedTouches_)if(this.trackedTouches_[h].target!==d.target){delete this.trackedTouches_[h];break}}else if(d.type==u.default.POINTERDOWN||d.type==u.default.POINTERMOVE)this.trackedTouches_[g]=d;this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(d){this.updateActivePointers_(d);const g=new p.default(u.default.POINTERUP,this.map_,d,void 0,void 0,this.activePointers_);this.dispatchEvent(g);this.emulateClicks_&&!g.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(d)&&
this.emulateClick_(this.down_);0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(C.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(d){return 0===d.button}handlePointerDown_(d){this.emulateClicks_=0===this.activePointers_.length;this.updateActivePointers_(d);const g=new p.default(u.default.POINTERDOWN,this.map_,d,void 0,void 0,this.activePointers_);this.dispatchEvent(g);this.down_=new PointerEvent(d.type,d);Object.defineProperty(this.down_,
"target",{writable:!1,value:d.target});0===this.dragListenerKeys_.length&&(d=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,C.listen)(d,u.default.POINTERMOVE,this.handlePointerMove_,this),(0,C.listen)(d,u.default.POINTERUP,this.handlePointerUp_,this),(0,C.listen)(this.element_,u.default.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==d&&this.dragListenerKeys_.push((0,C.listen)(this.element_.getRootNode(),u.default.POINTERUP,this.handlePointerUp_,
this)))}handlePointerMove_(d){this.isMoving_(d)&&(this.updateActivePointers_(d),this.dragging_=!0,d=new p.default(u.default.POINTERDRAG,this.map_,d,this.dragging_,void 0,this.activePointers_),this.dispatchEvent(d))}relayMoveEvent_(d){this.originalPointerMoveEvent_=d;const g=!(!this.down_||!this.isMoving_(d));this.dispatchEvent(new p.default(u.default.POINTERMOVE,this.map_,d,g))}handleTouchMove_(d){const g=this.originalPointerMoveEvent_;g&&!g.defaultPrevented||"boolean"===typeof d.cancelable&&!0!==
d.cancelable||d.preventDefault()}isMoving_(d){return this.dragging_||Math.abs(d.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(d.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,C.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(f.default.TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&((0,C.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=
null);this.dragListenerKeys_.forEach(C.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;super.disposeInternal()}}const e=l};
shadow$provide[141]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}};
shadow$provide[142]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[143]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},DROP:{enumerable:!0,get:function(){return Infinity}},default:{enumerable:!0,get:function(){return C}}});var J=c(23),K=c(14);class E{constructor(u,p){this.priorityFunction_=u;this.keyFunction_=p;this.elements_=[];this.priorities_=[];this.queuedElements_={}}clear(){this.elements_.length=0;this.priorities_.length=0;(0,K.clear)(this.queuedElements_)}dequeue(){var u=this.elements_;const p=this.priorities_,
m=u[0];1==u.length?(u.length=0,p.length=0):(u[0]=u.pop(),p[0]=p.pop(),this.siftUp_(0));u=this.keyFunction_(m);delete this.queuedElements_[u];return m}enqueue(u){(0,J.assert)(!(this.keyFunction_(u)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const p=this.priorityFunction_(u);return Infinity!=p?(this.elements_.push(u),this.priorities_.push(p),this.queuedElements_[this.keyFunction_(u)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(u){return 2*
u+1}getRightChildIndex_(u){return 2*u+2}getParentIndex_(u){return u-1>>1}heapify_(){let u;for(u=(this.elements_.length>>1)-1;0<=u;u--)this.siftUp_(u)}isEmpty(){return 0===this.elements_.length}isKeyQueued(u){return u in this.queuedElements_}isQueued(u){return this.isKeyQueued(this.keyFunction_(u))}siftUp_(u){const p=this.elements_,m=this.priorities_,f=p.length,l=p[u],e=m[u],d=u;for(;u<f>>1;){var g=this.getLeftChildIndex_(u);const h=this.getRightChildIndex_(u);g=h<f&&m[h]<m[g]?h:g;p[u]=p[g];m[u]=m[g];
u=g}p[u]=l;m[u]=e;this.siftDown_(d,u)}siftDown_(u,p){const m=this.elements_,f=this.priorities_,l=m[p],e=f[p];for(;p>u;){const d=this.getParentIndex_(p);if(f[d]>e)m[p]=m[d],f[p]=f[d],p=d;else break}m[p]=l;f[p]=e}reprioritize(){const u=this.priorityFunction_,p=this.elements_,m=this.priorities_;let f=0;const l=p.length;let e,d,g;for(d=0;d<l;++d)e=p[d],g=u(e),Infinity==g?delete this.queuedElements_[this.keyFunction_(e)]:(m[f]=g,p[f++]=e);p.length=f;m.length=f;this.heapify_()}}const C=E};
shadow$provide[144]=function(X,c,Z,N){function J(m,f,l,e,d){if(!(m&&l in m.wantedTiles&&m.wantedTiles[l][f.getKey()]))return K.DROP;f=m.viewState.center;m=e[0]-f[0];e=e[1]-f[1];return 65536*Math.log(d)+Math.sqrt(m*m+e*e)/d}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}},getTilePriority:{enumerable:!0,get:function(){return J}}});X=c(16);var K=c(143);Z=c(129);N=c.esmDefault(K);var E=c.esmDefault(Z),C=c.esmDefault(X);class u extends N.default{constructor(m,
f){super(function(l){return m.apply(null,l)},function(l){return l[0].getKey()});this.boundHandleTileChange_=this.handleTileChange.bind(this);this.tileChangeCallback_=f;this.tilesLoading_=0;this.tilesLoadingKeys_={}}enqueue(m){const f=super.enqueue(m);f&&m[0].addEventListener(C.default.CHANGE,this.boundHandleTileChange_);return f}getTilesLoading(){return this.tilesLoading_}handleTileChange(m){m=m.target;const f=m.getState();if(f===E.default.LOADED||f===E.default.ERROR||f===E.default.EMPTY)f!==E.default.ERROR&&
m.removeEventListener(C.default.CHANGE,this.boundHandleTileChange_),m=m.getKey(),m in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[m],--this.tilesLoading_),this.tileChangeCallback_()}loadMoreTiles(m,f){let l=0,e,d,g;for(;this.tilesLoading_<m&&l<f&&0<this.getCount();)d=this.dequeue()[0],g=d.getKey(),e=d.getState(),e!==E.default.IDLE||g in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[g]=!0,++this.tilesLoading_,++l,d.load())}}const p=u};
shadow$provide[145]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});Z=c(20);X=c(141);var J=c(13),K=c(17),E=c(70);Z=c.esmDefault(Z);var C=c.esmDefault(X);class u extends Z.default{constructor(m){super();const f=m.element;!f||m.target||f.style.pointerEvents||(f.style.pointerEvents="auto");this.element=f?f:null;this.map_=this.target_=null;this.listenerKeys=[];m.render&&(this.render=m.render);m.target&&this.setTarget(m.target)}disposeInternal(){(0,E.removeNode)(this.element);
super.disposeInternal()}getMap(){return this.map_}setMap(m){this.map_&&(0,E.removeNode)(this.element);for(let f=0,l=this.listenerKeys.length;f<l;++f)(0,K.unlistenByKey)(this.listenerKeys[f]);this.listenerKeys.length=0;if(this.map_=m)(this.target_?this.target_:m.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==J.VOID&&this.listenerKeys.push((0,K.listen)(m,C.default.POSTRENDER,this.render,this)),m.render()}render(m){}setTarget(m){this.target_="string"===typeof m?document.getElementById(m):
m}}const p=u};
shadow$provide[146]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});Z=c(145);X=c(16);var J=c(71),K=c(12),E=c(70);Z=c.esmDefault(Z);var C=c.esmDefault(X);class u extends Z.default{constructor(m){m=m?m:{};super({element:document.createElement("div"),render:m.render,target:m.target});this.ulElement_=document.createElement("ul");this.userCollapsed_=this.collapsed_=void 0!==m.collapsed?m.collapsed:!0;this.overrideCollapsible_=
void 0!==m.collapsible;this.collapsible_=void 0!==m.collapsible?m.collapsible:!0;this.collapsible_||(this.collapsed_=!1);const f=void 0!==m.className?m.className:"ol-attribution";var l=void 0!==m.tipLabel?m.tipLabel:"Attributions",e=void 0!==m.expandClassName?m.expandClassName:f+"-expand";const d=void 0!==m.collapseLabel?m.collapseLabel:"",g=void 0!==m.collapseClassName?m.collapseClassName:f+"-collapse";"string"===typeof d?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=
d,this.collapseLabel_.className=g):this.collapseLabel_=d;m=void 0!==m.label?m.label:"i";"string"===typeof m?(this.label_=document.createElement("span"),this.label_.textContent=m,this.label_.className=e):this.label_=m;e=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button");this.toggleButton_.setAttribute("type","button");this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_));this.toggleButton_.title=l;this.toggleButton_.appendChild(e);
this.toggleButton_.addEventListener(C.default.CLICK,this.handleClick_.bind(this),!1);l=this.element;l.className=f+" "+J.CLASS_UNSELECTABLE+" "+J.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+J.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible");l.appendChild(this.toggleButton_);l.appendChild(this.ulElement_);this.renderedAttributions_=[];this.renderedVisible_=!0}collectSourceAttributions_(m){const f=Array.from(new Set(this.getMap().getAllLayers().flatMap(e=>e.getAttributions(m)))),
l=!this.getMap().getAllLayers().some(e=>e.getSource()&&!1===e.getSource().getAttributionsCollapsible());this.overrideCollapsible_||this.setCollapsible(l);return f}updateElement_(m){if(m){m=this.collectSourceAttributions_(m);var f=0<m.length;this.renderedVisible_!=f&&(this.element.style.display=f?"":"none",this.renderedVisible_=f);if(!(0,K.equals)(m,this.renderedAttributions_)){(0,E.removeChildren)(this.ulElement_);for(let l=0,e=m.length;l<e;++l)f=document.createElement("li"),f.innerHTML=m[l],this.ulElement_.appendChild(f);
this.renderedAttributions_=m}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}handleClick_(m){m.preventDefault();this.handleToggle_();this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(J.CLASS_COLLAPSED);this.collapsed_?(0,E.replaceNode)(this.collapseLabel_,this.label_):(0,E.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(m){this.collapsible_!==
m&&(this.collapsible_=m,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(m){this.userCollapsed_=m;this.collapsible_&&this.collapsed_!==m&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(m){this.updateElement_(m.frameState)}}const p=u};
shadow$provide[147]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});Z=c(145);X=c(16);var J=c(71),K=c(85);Z=c.esmDefault(Z);var E=c.esmDefault(X);class C extends Z.default{constructor(p){p=p?p:{};super({element:document.createElement("div"),render:p.render,target:p.target});const m=void 0!==p.className?p.className:"ol-rotate";var f=void 0!==p.label?p.label:"",l=void 0!==p.compassClassName?p.compassClassName:"ol-compass";
this.label_=null;"string"===typeof f?(this.label_=document.createElement("span"),this.label_.className=l,this.label_.textContent=f):(this.label_=f,this.label_.classList.add(l));l=p.tipLabel?p.tipLabel:"Reset rotation";f=document.createElement("button");f.className=m+"-reset";f.setAttribute("type","button");f.title=l;f.appendChild(this.label_);f.addEventListener(E.default.CLICK,this.handleClick_.bind(this),!1);l=this.element;l.className=m+" "+J.CLASS_UNSELECTABLE+" "+J.CLASS_CONTROL;l.appendChild(f);
this.callResetNorth_=p.resetNorth?p.resetNorth:void 0;this.duration_=void 0!==p.duration?p.duration:250;this.autoHide_=void 0!==p.autoHide?p.autoHide:!0;this.rotation_=void 0;this.autoHide_&&this.element.classList.add(J.CLASS_HIDDEN)}handleClick_(p){p.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const p=this.getMap().getView();if(p){var m=p.getRotation();void 0!==m&&(0<this.duration_&&0!==m%(2*Math.PI)?p.animate({rotation:0,duration:this.duration_,
easing:K.easeOut}):p.setRotation(0))}}render(p){if(p=p.frameState){p=p.viewState.rotation;if(p!=this.rotation_){const m="rotate("+p+"rad)";if(this.autoHide_){const f=this.element.classList.contains(J.CLASS_HIDDEN);f||0!==p?f&&0!==p&&this.element.classList.remove(J.CLASS_HIDDEN):this.element.classList.add(J.CLASS_HIDDEN)}this.label_.style.transform=m}this.rotation_=p}}}const u=C};
shadow$provide[148]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});Z=c(145);X=c(16);var J=c(71),K=c(85);Z=c.esmDefault(Z);var E=c.esmDefault(X);class C extends Z.default{constructor(p){p=p?p:{};super({element:document.createElement("div"),target:p.target});const m=void 0!==p.className?p.className:"ol-zoom";var f=void 0!==p.delta?p.delta:1,l=void 0!==p.zoomInClassName?p.zoomInClassName:m+"-in";const e=void 0!==p.zoomOutClassName?
p.zoomOutClassName:m+"-out",d=void 0!==p.zoomInLabel?p.zoomInLabel:"+",g=void 0!==p.zoomOutLabel?p.zoomOutLabel:"",h=void 0!==p.zoomInTipLabel?p.zoomInTipLabel:"Zoom in",k=void 0!==p.zoomOutTipLabel?p.zoomOutTipLabel:"Zoom out",n=document.createElement("button");n.className=l;n.setAttribute("type","button");n.title=h;n.appendChild("string"===typeof d?document.createTextNode(d):d);n.addEventListener(E.default.CLICK,this.handleClick_.bind(this,f),!1);l=document.createElement("button");l.className=
e;l.setAttribute("type","button");l.title=k;l.appendChild("string"===typeof g?document.createTextNode(g):g);l.addEventListener(E.default.CLICK,this.handleClick_.bind(this,-f),!1);f=this.element;f.className=m+" "+J.CLASS_UNSELECTABLE+" "+J.CLASS_CONTROL;f.appendChild(n);f.appendChild(l);this.duration_=void 0!==p.duration?p.duration:250}handleClick_(p,m){m.preventDefault();this.zoomByDelta_(p)}zoomByDelta_(p){const m=this.getMap().getView();if(m){var f=m.getZoom();void 0!==f&&(p=m.getConstrainedZoom(f+
p),0<this.duration_?(m.getAnimating()&&m.cancelAnimations(),m.animate({zoom:p,duration:this.duration_,easing:K.easeOut})):m.setZoom(p))}}}const u=C};
shadow$provide[149]=function(X,c,Z,N){function J(m){m=m?m:{};const f=new E.default;(void 0!==m.zoom?m.zoom:1)&&f.push(new p.default(m.zoomOptions));(void 0!==m.rotate?m.rotate:1)&&f.push(new u.default(m.rotateOptions));(void 0!==m.attribution?m.attribution:1)&&f.push(new C.default(m.attributionOptions));return f}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},defaults:{enumerable:!0,get:function(){return J}}});X=c(146);Z=c(22);N=c(147);var K=c(148),E=c.esmDefault(Z),C=c.esmDefault(X),
u=c.esmDefault(N),p=c.esmDefault(K)};
shadow$provide[150]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={ACTIVE:"active"}};
shadow$provide[151]=function(X,c,Z,N){function J(m,f,l){const e=m.getCenterInternal();e&&m.animateInternal({duration:void 0!==l?l:250,easing:E.linear,center:m.getConstrainedCenter([e[0]+f[0],e[1]+f[1]])})}function K(m,f,l,e){const d=m.getZoom();void 0!==d&&(f=m.getConstrainedZoom(d+f),f=m.getResolutionForZoom(f),m.getAnimating()&&m.cancelAnimations(),m.animate({resolution:f,anchor:l,duration:void 0!==e?e:250,easing:E.easeOut}))}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,
get:function(){return p}},pan:{enumerable:!0,get:function(){return J}},zoomByDelta:{enumerable:!0,get:function(){return K}}});Z=c(20);X=c(150);var E=c(85);Z=c.esmDefault(Z);var C=c.esmDefault(X);class u extends Z.default{constructor(m){super();this.on;this.once;this.un;m&&m.handleEvent&&(this.handleEvent=m.handleEvent);this.map_=null;this.setActive(!0)}getActive(){return this.get(C.default.ACTIVE)}getMap(){return this.map_}handleEvent(m){return!0}setActive(m){this.set(C.default.ACTIVE,m)}setMap(m){this.map_=
m}}const p=u};
shadow$provide[152]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});var J=c(151);X=c(138);Z=c.esmDefault(J);var K=c.esmDefault(X);class E extends Z.default{constructor(u){super();u=u?u:{};this.delta_=u.delta?u.delta:1;this.duration_=void 0!==u.duration?u.duration:250}handleEvent(u){var p=!1;if(u.type==K.default.DBLCLICK){p=u.originalEvent;const m=u.coordinate,f=p.shiftKey?-this.delta_:this.delta_;u=u.map.getView();
(0,J.zoomByDelta)(u,f,m,this.duration_);p.preventDefault();p=!0}return!p}}const C=E};
shadow$provide[153]=function(X,c,Z,N){function J(u){const p=u.length;let m=0,f=0;for(let l=0;l<p;l++)m+=u[l].clientX,f+=u[l].clientY;return{clientX:m/p,clientY:f/p}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},centroid:{enumerable:!0,get:function(){return J}},default:{enumerable:!0,get:function(){return C}}});Z=c(151);X=c(138);Z=c.esmDefault(Z);var K=c.esmDefault(X);class E extends Z.default{constructor(u){u=u?u:{};super(u);u.handleDownEvent&&(this.handleDownEvent=u.handleDownEvent);
u.handleDragEvent&&(this.handleDragEvent=u.handleDragEvent);u.handleMoveEvent&&(this.handleMoveEvent=u.handleMoveEvent);u.handleUpEvent&&(this.handleUpEvent=u.handleUpEvent);u.stopDown&&(this.stopDown=u.stopDown);this.handlingDownUpSequence=!1;this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(u){return!1}handleDragEvent(u){}handleEvent(u){if(!u.originalEvent)return!0;let p=!1;this.updateTrackedPointers_(u);this.handlingDownUpSequence?u.type==K.default.POINTERDRAG?
(this.handleDragEvent(u),u.originalEvent.preventDefault()):u.type==K.default.POINTERUP&&(this.handlingDownUpSequence=this.handleUpEvent(u)&&0<this.targetPointers.length):u.type==K.default.POINTERDOWN?(this.handlingDownUpSequence=u=this.handleDownEvent(u),p=this.stopDown(u)):u.type==K.default.POINTERMOVE&&this.handleMoveEvent(u);return!p}handleMoveEvent(u){}handleUpEvent(u){return!1}stopDown(u){return u}updateTrackedPointers_(u){u.activePointers&&(this.targetPointers=u.activePointers)}}const C=E};
shadow$provide[154]=function(X,c,Z,N){function J(F){const M=arguments;return function(T){let Q=!0;for(let S=0,W=M.length;S<W&&(Q=Q&&M[S](T),Q);++S);return Q}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},all:{enumerable:!0,get:function(){return J}},altKeyOnly:{enumerable:!0,get:function(){return u}},altShiftKeysOnly:{enumerable:!0,get:function(){return p}},always:{enumerable:!0,get:function(){return l}},click:{enumerable:!0,get:function(){return e}},doubleClick:{enumerable:!0,get:function(){return n}},
focus:{enumerable:!0,get:function(){return m}},focusWithTabindex:{enumerable:!0,get:function(){return f}},mouseActionButton:{enumerable:!0,get:function(){return d}},mouseOnly:{enumerable:!0,get:function(){return q}},never:{enumerable:!0,get:function(){return g}},noModifierKeys:{enumerable:!0,get:function(){return r}},penOnly:{enumerable:!0,get:function(){return L}},platformModifierKey:{enumerable:!0,get:function(){return D}},platformModifierKeyOnly:{enumerable:!0,get:function(){return x}},pointerMove:{enumerable:!0,
get:function(){return h}},primaryAction:{enumerable:!0,get:function(){return y}},shiftKeyOnly:{enumerable:!0,get:function(){return z}},singleClick:{enumerable:!0,get:function(){return k}},targetNotEditable:{enumerable:!0,get:function(){return w}},touchOnly:{enumerable:!0,get:function(){return A}}});X=c(138);Z=c(13);var K=c(25),E=c(23),C=c.esmDefault(X);const u=function(F){F=F.originalEvent;return F.altKey&&!(F.metaKey||F.ctrlKey)&&!F.shiftKey},p=function(F){F=F.originalEvent;return F.altKey&&!(F.metaKey||
F.ctrlKey)&&F.shiftKey},m=function(F){const M=F.map.getTargetElement();F=F.map.getOwnerDocument().activeElement;return M.contains(F)},f=function(F){return F.map.getTargetElement().hasAttribute("tabindex")?m(F):!0},l=Z.TRUE,e=function(F){return F.type==C.default.CLICK},d=function(F){F=F.originalEvent;return 0==F.button&&!(K.WEBKIT&&K.MAC&&F.ctrlKey)},g=Z.FALSE,h=function(F){return"pointermove"==F.type},k=function(F){return F.type==C.default.SINGLECLICK},n=function(F){return F.type==C.default.DBLCLICK},
r=function(F){F=F.originalEvent;return!F.altKey&&!(F.metaKey||F.ctrlKey)&&!F.shiftKey},x=function(F){F=F.originalEvent;return!F.altKey&&(K.MAC?F.metaKey:F.ctrlKey)&&!F.shiftKey},D=function(F){F=F.originalEvent;return K.MAC?F.metaKey:F.ctrlKey},z=function(F){F=F.originalEvent;return!F.altKey&&!(F.metaKey||F.ctrlKey)&&F.shiftKey},w=function(F){F=F.originalEvent;const M=F.target.tagName;return"INPUT"!==M&&"SELECT"!==M&&"TEXTAREA"!==M&&!F.target.isContentEditable},q=function(F){F=F.originalEvent;(0,E.assert)(void 0!==
F,"mapBrowserEvent must originate from a pointer event");return"mouse"==F.pointerType},A=function(F){F=F.originalEvent;(0,E.assert)(void 0!==F,"mapBrowserEvent must originate from a pointer event");return"touch"===F.pointerType},L=function(F){F=F.originalEvent;(0,E.assert)(void 0!==F,"mapBrowserEvent must originate from a pointer event");return"pen"===F.pointerType},y=function(F){F=F.originalEvent;(0,E.assert)(void 0!==F,"mapBrowserEvent must originate from a pointer event");return F.isPrimary&&0===
F.button}};
shadow$provide[155]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});var J=c(153),K=c(13),E=c(154),C=c(85),u=c(37);X=c.esmDefault(J);class p extends X.default{constructor(f){super({stopDown:K.FALSE});f=f?f:{};this.kinetic_=f.kinetic;this.lastCentroid=null;this.lastPointersCount_;this.panning_=!1;const l=f.condition?f.condition:(0,E.all)(E.noModifierKeys,E.primaryAction);this.condition_=f.onFocusOnly?(0,E.all)(E.focusWithTabindex,
l):l;this.noKinetic_=!1}handleDragEvent(f){var l=f.map;this.panning_||(this.panning_=!0,l.getView().beginInteraction());const e=this.targetPointers;l=l.getEventPixel((0,J.centroid)(e));if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(l[0],l[1]),this.lastCentroid){const d=[this.lastCentroid[0]-l[0],l[1]-this.lastCentroid[1]],g=f.map.getView();(0,u.scale)(d,g.getResolution());(0,u.rotate)(d,g.getRotation());g.adjustCenterInternal(d)}}else this.kinetic_&&this.kinetic_.begin();
this.lastCentroid=l;this.lastPointersCount_=e.length;f.originalEvent.preventDefault()}handleUpEvent(f){var l=f.map;f=l.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const d=this.kinetic_.getDistance(),g=this.kinetic_.getAngle();var e=f.getCenterInternal();e=l.getPixelFromCoordinateInternal(e);l=l.getCoordinateFromPixelInternal([e[0]-d*Math.cos(g),e[1]-d*Math.sin(g)]);f.animateInternal({center:f.getConstrainedCenter(l),duration:500,easing:C.easeOut})}this.panning_&&
(this.panning_=!1,f.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0}handleDownEvent(f){return 0<this.targetPointers.length&&this.condition_(f)?(f=f.map.getView(),this.lastCentroid=null,f.getAnimating()&&f.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1}}const m=p};
shadow$provide[156]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(153);var J=c(13),K=c(154),E=c(84);c=c.esmDefault(X);class C extends c.default{constructor(p){p=p?p:{};super({stopDown:J.FALSE});this.condition_=p.condition?p.condition:K.altShiftKeysOnly;this.lastAngle_=void 0;this.duration_=void 0!==p.duration?p.duration:250}handleDragEvent(p){if((0,K.mouseOnly)(p)){var m=p.map,f=m.getView();f.getConstraints().rotation!==
E.disable&&(m=m.getSize(),p=p.pixel,p=Math.atan2(m[1]/2-p[1],p[0]-m[0]/2),void 0!==this.lastAngle_&&f.adjustRotationInternal(-(p-this.lastAngle_)),this.lastAngle_=p)}}handleUpEvent(p){if(!(0,K.mouseOnly)(p))return!0;p.map.getView().endInteraction(this.duration_);return!1}handleDownEvent(p){return(0,K.mouseOnly)(p)?(0,K.mouseActionButton)(p)&&this.condition_(p)?(p.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1:!1}}const u=C};
shadow$provide[157]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});Z=c(11);X=c(57);Z=c.esmDefault(Z);var J=c.esmDefault(X);class K extends Z.default{constructor(C){super();this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.style.pointerEvents="auto";this.element_.className="ol-box "+C;this.endPixel_=this.startPixel_=this.map_=null}disposeInternal(){this.setMap(null)}render_(){const C=
this.startPixel_,u=this.endPixel_,p=this.element_.style;p.left=Math.min(C[0],u[0])+"px";p.top=Math.min(C[1],u[1])+"px";p.width=Math.abs(u[0]-C[0])+"px";p.height=Math.abs(u[1]-C[1])+"px"}setMap(C){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const u=this.element_.style;u.left="inherit";u.top="inherit";u.width="inherit";u.height="inherit"}(this.map_=C)&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(C,u){this.startPixel_=C;this.endPixel_=u;this.createOrUpdateGeometry();
this.render_()}createOrUpdateGeometry(){var C=this.startPixel_;const u=this.endPixel_;C=[C,[C[0],u[1]],u,[u[0],C[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);C[4]=C[0].slice();this.geometry_?this.geometry_.setCoordinates([C]):this.geometry_=new J.default([C])}getGeometry(){return this.geometry_}}const E=K};
shadow$provide[158]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},DragBoxEvent:{enumerable:!0,get:function(){return E}},default:{enumerable:!0,get:function(){return u}}});N=c(9);Z=c(153);X=c(157);var J=c(154);N=c.esmDefault(N);Z=c.esmDefault(Z);var K=c.esmDefault(X);class E extends N.default{constructor(p,m,f){super(p);this.coordinate=m;this.mapBrowserEvent=f}}class C extends Z.default{constructor(p){super();this.on;this.once;this.un;p=p?p:{};this.box_=new K.default(p.className||
"ol-dragbox");this.minArea_=void 0!==p.minArea?p.minArea:64;p.onBoxEnd&&(this.onBoxEnd=p.onBoxEnd);this.startPixel_=null;this.condition_=p.condition?p.condition:J.mouseActionButton;this.boxEndCondition_=p.boxEndCondition?p.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(p,m,f){p=f[0]-m[0];m=f[1]-m[1];return p*p+m*m>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(p){this.box_.setPixels(this.startPixel_,p.pixel);this.dispatchEvent(new E("boxdrag",p.coordinate,
p))}handleUpEvent(p){this.box_.setMap(null);const m=this.boxEndCondition_(p,this.startPixel_,p.pixel);if(m)this.onBoxEnd(p);this.dispatchEvent(new E(m?"boxend":"boxcancel",p.coordinate,p));return!1}handleDownEvent(p){return this.condition_(p)?(this.startPixel_=p.pixel,this.box_.setMap(p.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new E("boxstart",p.coordinate,p)),!0):!1}onBoxEnd(p){}}const u=C};
shadow$provide[159]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});X=c(158);var J=c(85),K=c(154);c=c.esmDefault(X);class E extends c.default{constructor(u){u=u?u:{};super({condition:u.condition?u.condition:K.shiftKeyOnly,className:u.className||"ol-dragzoom",minArea:u.minArea});this.duration_=void 0!==u.duration?u.duration:200;this.out_=void 0!==u.out?u.out:!1}onBoxEnd(u){u=this.getMap().getView();let p=this.getGeometry();
if(this.out_){var m=u.rotatedExtentForGeometry(p);m=u.getResolutionForExtentInternal(m);m=u.getResolution()/m;p=p.clone();p.scale(m*m)}u.fitInternal(p,{duration:this.duration_,easing:J.easeOut})}}const C=E};
shadow$provide[160]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"}};
shadow$provide[161]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});Z=c(16);var J=c(151);X=c(160);var K=c(154),E=c(37),C=c.esmDefault(Z);Z=c.esmDefault(J);var u=c.esmDefault(X);class p extends Z.default{constructor(f){super();f=f||{};this.defaultCondition_=function(l){return(0,K.noModifierKeys)(l)&&(0,K.targetNotEditable)(l)};this.condition_=void 0!==f.condition?f.condition:this.defaultCondition_;this.duration_=void 0!==
f.duration?f.duration:100;this.pixelDelta_=void 0!==f.pixelDelta?f.pixelDelta:128}handleEvent(f){var l=!1;if(f.type==C.default.KEYDOWN){const d=f.originalEvent;var e=d.key;if(this.condition_(f)&&(e==u.default.DOWN||e==u.default.LEFT||e==u.default.RIGHT||e==u.default.UP)){f=f.map.getView();l=f.getResolution()*this.pixelDelta_;let g=0,h=0;e==u.default.DOWN?h=-l:e==u.default.LEFT?g=-l:e==u.default.RIGHT?g=l:h=l;e=[g,h];(0,E.rotate)(e,f.getRotation());(0,J.pan)(f,e,this.duration_);d.preventDefault();
l=!0}}return!l}}const m=p};
shadow$provide[162]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(16);var J=c(151),K=c(154),E=c.esmDefault(X);c=c.esmDefault(J);class C extends c.default{constructor(p){super();p=p?p:{};this.condition_=p.condition?p.condition:function(m){return!(0,K.platformModifierKey)(m)&&(0,K.targetNotEditable)(m)};this.delta_=p.delta?p.delta:1;this.duration_=void 0!==p.duration?p.duration:100}handleEvent(p){var m=!1;if(p.type==
E.default.KEYDOWN||p.type==E.default.KEYPRESS){const f=p.originalEvent,l=f.key;!this.condition_(p)||"+"!==l&&"-"!==l||(m="+"===l?this.delta_:-this.delta_,p=p.map.getView(),(0,J.zoomByDelta)(p,m,void 0,this.duration_),f.preventDefault(),m=!0)}return!m}}const u=C};
shadow$provide[163]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});X=c(16);var J=c(151),K=c(25),E=c(154),C=c(35),u=c.esmDefault(X);c=c.esmDefault(J);class p extends c.default{constructor(f){f=f?f:{};super(f);this.lastDelta_=this.totalDelta_=0;this.maxDelta_=void 0!==f.maxDelta?f.maxDelta:1;this.duration_=void 0!==f.duration?f.duration:250;this.timeout_=void 0!==f.timeout?f.timeout:80;this.useAnchor_=void 0!==f.useAnchor?
f.useAnchor:!0;this.constrainResolution_=void 0!==f.constrainResolution?f.constrainResolution:!1;const l=f.condition?f.condition:E.always;this.condition_=f.onFocusOnly?(0,E.all)(E.focusWithTabindex,l):l;this.lastAnchor_=null;this.startTime_=void 0;this.timeoutId_;this.mode_=void 0;this.trackpadEventGap_=400;this.trackpadTimeoutId_;this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const f=this.getMap();f&&f.getView().endInteraction(void 0,this.lastDelta_?0<this.lastDelta_?1:-1:
0,this.lastAnchor_)}handleEvent(f){if(!this.condition_(f)||f.type!==u.default.WHEEL)return!0;const l=f.map;var e=f.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=f.coordinate);if(f.type==u.default.WHEEL){var d=e.deltaY;K.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=K.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)}if(0===d)return!1;this.lastDelta_=d;f=Date.now();void 0===this.startTime_&&(this.startTime_=f);if(!this.mode_||f-this.startTime_>this.trackpadEventGap_)this.mode_=
4>Math.abs(d)?"trackpad":"wheel";e=l.getView();if("trackpad"===this.mode_&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-d/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=f,!1;this.totalDelta_+=d;d=Math.max(this.timeout_-(f-this.startTime_),0);clearTimeout(this.timeoutId_);
this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,l),d);return!1}handleWheelZoom_(f){f=f.getView();f.getAnimating()&&f.cancelAnimations();let l=-(0,C.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(f.getConstrainResolution()||this.constrainResolution_)l=l?0<l?1:-1:0;(0,J.zoomByDelta)(f,l,this.lastAnchor_,this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0}setMouseAnchor(f){this.useAnchor_=
f;f||(this.lastAnchor_=null)}}const m=p};
shadow$provide[164]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});var J=c(153),K=c(13),E=c(84);X=c.esmDefault(J);class C extends X.default{constructor(p){const m=p=p?p:{};m.stopDown||(m.stopDown=K.FALSE);super(m);this.anchor_=null;this.lastAngle_=void 0;this.rotating_=!1;this.rotationDelta_=0;this.threshold_=void 0!==p.threshold?p.threshold:.3;this.duration_=void 0!==p.duration?p.duration:250}handleDragEvent(p){var m=
0,f=this.targetPointers[0];const l=this.targetPointers[1];f=Math.atan2(l.clientY-f.clientY,l.clientX-f.clientX);void 0!==this.lastAngle_&&(m=f-this.lastAngle_,this.rotationDelta_+=m,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=f;p=p.map;f=p.getView();f.getConstraints().rotation!==E.disable&&(this.anchor_=p.getCoordinateFromPixelInternal(p.getEventPixel((0,J.centroid)(this.targetPointers))),this.rotating_&&(p.render(),f.adjustRotationInternal(m,
this.anchor_)))}handleUpEvent(p){return 2>this.targetPointers.length?(p.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(p){return 2<=this.targetPointers.length?(p=p.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||p.getView().beginInteraction(),!0):!1}}const u=C};
shadow$provide[165]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});var J=c(153),K=c(13);X=c.esmDefault(J);class E extends X.default{constructor(u){const p=u=u?u:{};p.stopDown||(p.stopDown=K.FALSE);super(p);this.anchor_=null;this.duration_=void 0!==u.duration?u.duration:400;this.lastDistance_=void 0;this.lastScaleDelta_=1}handleDragEvent(u){let p=1;var m=this.targetPointers[0];const f=this.targetPointers[1];var l=
m.clientX-f.clientX;m=m.clientY-f.clientY;l=Math.sqrt(l*l+m*m);void 0!==this.lastDistance_&&(p=this.lastDistance_/l);this.lastDistance_=l;u=u.map;l=u.getView();1!=p&&(this.lastScaleDelta_=p);this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel((0,J.centroid)(this.targetPointers)));u.render();l.adjustResolutionInternal(p,this.anchor_)}handleUpEvent(u){return 2>this.targetPointers.length?(u.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0}handleDownEvent(u){return 2<=
this.targetPointers.length?(u=u.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||u.getView().beginInteraction(),!0):!1}}const C=E};
shadow$provide[166]=function(X,c,Z,N){function J(q){q=q?q:{};const A=new d.default,L=new n.default(-.005,.05,100);(void 0!==q.altShiftDragRotate?q.altShiftDragRotate:1)&&A.push(new r.default);(void 0!==q.doubleClickZoom?q.doubleClickZoom:1)&&A.push(new w.default({delta:q.zoomDelta,duration:q.zoomDuration}));(void 0!==q.dragPan?q.dragPan:1)&&A.push(new g.default({onFocusOnly:q.onFocusOnly,kinetic:L}));(void 0!==q.pinchRotate?q.pinchRotate:1)&&A.push(new z.default);(void 0!==q.pinchZoom?q.pinchZoom:
1)&&A.push(new k.default({duration:q.zoomDuration}));if(void 0!==q.keyboard?q.keyboard:1)A.push(new x.default),A.push(new h.default({delta:q.zoomDelta,duration:q.zoomDuration}));(void 0!==q.mouseWheelZoom?q.mouseWheelZoom:1)&&A.push(new D.default({onFocusOnly:q.onFocusOnly,duration:q.zoomDuration}));(void 0!==q.shiftDragZoom?q.shiftDragZoom:1)&&A.push(new e.default({duration:q.zoomDuration}));return A}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},defaults:{enumerable:!0,get:function(){return J}}});
X=c(22);Z=c(152);N=c(155);var K=c(156),E=c(159),C=c(161),u=c(162),p=c(132),m=c(163),f=c(164),l=c(165),e=c.esmDefault(E),d=c.esmDefault(X),g=c.esmDefault(N),h=c.esmDefault(u),k=c.esmDefault(l),n=c.esmDefault(p),r=c.esmDefault(K),x=c.esmDefault(C),D=c.esmDefault(m),z=c.esmDefault(f),w=c.esmDefault(Z)};
shadow$provide[167]=function(X,c,Z,N){function J(wa){wa instanceof Pa.default?wa.setMapInternal(null):wa instanceof sb.default&&wa.getLayers().forEach(J)}function K(wa,Ra){if(wa instanceof Pa.default)wa.setMapInternal(Ra);else if(wa instanceof sb.default){wa=wa.getLayers().getArray();for(let $a=0,jb=wa.length;$a<jb;++$a)K(wa[$a],Ra)}}function E(wa){let Ra=null;void 0!==wa.keyboardEventTarget&&(Ra="string"===typeof wa.keyboardEventTarget?document.getElementById(wa.keyboardEventTarget):wa.keyboardEventTarget);
const $a={},jb=wa.layers&&"function"===typeof wa.layers.getLayers?wa.layers:new sb.default({layers:wa.layers});$a[Ea.default.LAYERGROUP]=jb;$a[Ea.default.TARGET]=wa.target;$a[Ea.default.VIEW]=wa.view instanceof la.default?wa.view:new la.default;let rb;void 0!==wa.controls&&(Array.isArray(wa.controls)?rb=new qb.default(wa.controls.slice()):((0,L.assert)("function"===typeof wa.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),rb=wa.controls));let xb;void 0!==wa.interactions&&
(Array.isArray(wa.interactions)?xb=new qb.default(wa.interactions.slice()):((0,L.assert)("function"===typeof wa.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),xb=wa.interactions));void 0!==wa.overlays?Array.isArray(wa.overlays)?wa=new qb.default(wa.overlays.slice()):((0,L.assert)("function"===typeof wa.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),wa=wa.overlays):wa=new qb.default;return{controls:rb,interactions:xb,keyboardEventTarget:Ra,
overlays:wa,values:$a}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return ib}}});var C=c(20);X=c(22);var u=c(21);Z=c(134);var p=c(16);N=c(87);var m=c(135),f=c(137),l=c(140),e=c(138),d=c(136),g=c(141),h=c(142),k=c(10),n=c(139),r=c(59),x=c(144),D=c(86),z=c(79),w=c(25),q=c(13),A=c(26),L=c(23),y=c(28),F=c(149),M=c(166),T=c(12),Q=c(40),S=c(19),W=c(66),ca=c(17),B=c(70),v=c(39),I=c.esmDefault(x),O=c.esmDefault(k),ea=c.esmDefault(d),la=c.esmDefault(D),
va=c.esmDefault(u),Da=c.esmDefault(p),Ya=c.esmDefault(e);C=c.esmDefault(C);var Za=c.esmDefault(Z),gb=c.esmDefault(f),qb=c.esmDefault(X),db=c.esmDefault(r),sb=c.esmDefault(m),Ha=c.esmDefault(n),ta=c.esmDefault(g),Pa=c.esmDefault(N),fb=c.esmDefault(l),ka=c.esmDefault(z),Ea=c.esmDefault(h);class Va extends C.default{constructor(wa){super();wa=wa||{};this.on;this.once;this.un;const Ra=E(wa);this.renderComplete_;this.loaded_=!0;this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this);this.maxTilesLoading_=
void 0!==wa.maxTilesLoading?wa.maxTilesLoading:16;this.pixelRatio_=void 0!==wa.pixelRatio?wa.pixelRatio:w.DEVICE_PIXEL_RATIO;this.postRenderTimeoutHandle_;this.animationDelayKey_;this.animationDelay_=this.animationDelay_.bind(this);this.coordinateToPixelTransform_=(0,A.create)();this.pixelToCoordinateTransform_=(0,A.create)();this.frameIndex_=0;this.layerGroupPropertyListenerKeys_=this.viewChangeListenerKey_=this.viewPropertyListenerKey_=this.previousExtent_=this.frameState_=null;this.viewport_=document.createElement("div");
this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.overlayContainer_=document.createElement("div");this.overlayContainer_.style.position="absolute";this.overlayContainer_.style.zIndex="0";this.overlayContainer_.style.width="100%";this.overlayContainer_.style.height="100%";this.overlayContainer_.style.pointerEvents="none";
this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("div");this.overlayContainerStopEvent_.style.position="absolute";this.overlayContainerStopEvent_.style.zIndex="0";this.overlayContainerStopEvent_.style.width="100%";this.overlayContainerStopEvent_.style.height="100%";this.overlayContainerStopEvent_.style.pointerEvents="none";this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";
this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=null;this.moveTolerance_=wa.moveTolerance;this.keyboardEventTarget_=Ra.keyboardEventTarget;this.targetElement_=this.targetChangeHandlerKeys_=null;this.resizeObserver_=new ResizeObserver(()=>this.updateSize());this.controls=Ra.controls||(0,F.defaults)();this.interactions=Ra.interactions||(0,M.defaults)({onFocusOnly:!0});this.overlays_=Ra.overlays;this.overlayIdIndex_={};this.renderer_=null;this.postRenderFunctions_=
[];this.tileQueue_=new I.default(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.addChangeListener(Ea.default.LAYERGROUP,this.handleLayerGroupChanged_);this.addChangeListener(Ea.default.VIEW,this.handleViewChanged_);this.addChangeListener(Ea.default.SIZE,this.handleSizeChanged_);this.addChangeListener(Ea.default.TARGET,this.handleTargetChanged_);this.setProperties(Ra.values);const $a=this;!wa.view||wa.view instanceof la.default||wa.view.then(function(jb){$a.setView(new la.default(jb))});
this.controls.addEventListener(va.default.ADD,jb=>{jb.element.setMap(this)});this.controls.addEventListener(va.default.REMOVE,jb=>{jb.element.setMap(null)});this.interactions.addEventListener(va.default.ADD,jb=>{jb.element.setMap(this)});this.interactions.addEventListener(va.default.REMOVE,jb=>{jb.element.setMap(null)});this.overlays_.addEventListener(va.default.ADD,jb=>{this.addOverlayInternal_(jb.element)});this.overlays_.addEventListener(va.default.REMOVE,jb=>{const rb=jb.element.getId();void 0!==
rb&&delete this.overlayIdIndex_[rb.toString()];jb.element.setMap(null)});this.controls.forEach(jb=>{jb.setMap(this)});this.interactions.forEach(jb=>{jb.setMap(this)});this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(wa){this.getControls().push(wa)}addInteraction(wa){this.getInteractions().push(wa)}addLayer(wa){this.getLayerGroup().getLayers().push(wa)}handleLayerAdd_(wa){K(wa.layer,this)}addOverlay(wa){this.getOverlays().push(wa)}addOverlayInternal_(wa){const Ra=wa.getId();void 0!==
Ra&&(this.overlayIdIndex_[Ra.toString()]=wa);wa.setMap(this)}disposeInternal(){this.controls.clear();this.interactions.clear();this.overlays_.clear();this.resizeObserver_.disconnect();this.setTarget(null);super.disposeInternal()}forEachFeatureAtPixel(wa,Ra,$a){if(this.frameState_&&this.renderer_)return wa=this.getCoordinateFromPixelInternal(wa),$a=void 0!==$a?$a:{},this.renderer_.forEachFeatureAtCoordinate(wa,this.frameState_,void 0!==$a.hitTolerance?$a.hitTolerance:0,!1!==$a.checkWrapped,Ra,null,
void 0!==$a.layerFilter?$a.layerFilter:q.TRUE,null)}getFeaturesAtPixel(wa,Ra){const $a=[];this.forEachFeatureAtPixel(wa,function(jb){$a.push(jb)},Ra);return $a}getAllLayers(){function wa($a){$a.forEach(function(jb){jb instanceof sb.default?wa(jb.getLayers()):Ra.push(jb)})}const Ra=[];wa(this.getLayers());return Ra}hasFeatureAtPixel(wa,Ra){if(!this.frameState_||!this.renderer_)return!1;wa=this.getCoordinateFromPixelInternal(wa);Ra=void 0!==Ra?Ra:{};return this.renderer_.hasFeatureAtCoordinate(wa,this.frameState_,
void 0!==Ra.hitTolerance?Ra.hitTolerance:0,!1!==Ra.checkWrapped,void 0!==Ra.layerFilter?Ra.layerFilter:q.TRUE,null)}getEventCoordinate(wa){return this.getCoordinateFromPixel(this.getEventPixel(wa))}getEventCoordinateInternal(wa){return this.getCoordinateFromPixelInternal(this.getEventPixel(wa))}getEventPixel(wa){const Ra=this.viewport_.getBoundingClientRect(),$a=this.getSize();wa="changedTouches"in wa?wa.changedTouches[0]:wa;return[(wa.clientX-Ra.left)/(Ra.width/$a[0]),(wa.clientY-Ra.top)/(Ra.height/
$a[1])]}getTarget(){return this.get(Ea.default.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(wa){return(0,Q.toUserCoordinate)(this.getCoordinateFromPixelInternal(wa),this.getView().getProjection())}getCoordinateFromPixelInternal(wa){const Ra=this.frameState_;return Ra?(0,A.apply)(Ra.pixelToCoordinateTransform,wa.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(wa){wa=this.overlayIdIndex_[wa.toString()];return void 0!==
wa?wa:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ea.default.LAYERGROUP)}setLayers(wa){var Ra=this.getLayerGroup();wa instanceof qb.default?Ra.setLayers(wa):(Ra=Ra.getLayers(),Ra.clear(),Ra.extend(wa))}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const wa=this.getLayerGroup().getLayerStatesArray();for(let $a=0,jb=wa.length;$a<jb;++$a){var Ra=wa[$a];if(!Ra.visible)continue;const rb=Ra.layer.getRenderer();if(rb&&!rb.ready||(Ra=Ra.layer.getSource())&&
Ra.loading)return!0}return!1}getPixelFromCoordinate(wa){wa=(0,Q.fromUserCoordinate)(wa,this.getView().getProjection());return this.getPixelFromCoordinateInternal(wa)}getPixelFromCoordinateInternal(wa){const Ra=this.frameState_;return Ra?(0,A.apply)(Ra.coordinateToPixelTransform,wa.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ea.default.SIZE)}getView(){return this.get(Ea.default.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const wa=
this.getTargetElement();return wa?wa.ownerDocument:document}getTilePriority(wa,Ra,$a,jb){return(0,x.getTilePriority)(this.frameState_,wa,Ra,$a,jb)}handleBrowserEvent(wa,Ra){Ra=Ra||wa.type;wa=new gb.default(Ra,this,wa);this.handleMapBrowserEvent(wa)}handleMapBrowserEvent(wa){if(this.frameState_){var Ra=wa.originalEvent,$a=Ra.type;if($a===Ha.default.POINTERDOWN||$a===Da.default.WHEEL||$a===Da.default.KEYDOWN){$a=this.getOwnerDocument();var jb=this.viewport_.getRootNode?this.viewport_.getRootNode():
$a;Ra=Ra.target;if(this.overlayContainerStopEvent_.contains(Ra)||!(jb===$a?$a.documentElement:jb).contains(Ra))return}wa.frameState=this.frameState_;if(!1!==this.dispatchEvent(wa))for(Ra=this.getInteractions().getArray().slice(),$a=Ra.length-1;0<=$a&&(jb=Ra[$a],jb.getMap()!==this||!jb.getActive()||!this.getTargetElement()||jb.handleEvent(wa)&&!wa.propagationStopped);$a--);}}handlePostRender(){const wa=this.frameState_;var Ra=this.tileQueue_;if(!Ra.isEmpty()){let jb=this.maxTilesLoading_;var $a=jb;
if(wa){const rb=wa.viewHints;if(rb[ka.default.ANIMATING]||rb[ka.default.INTERACTING])jb=($a=8<Date.now()-wa.time)?0:8,$a=$a?0:2}Ra.getTilesLoading()<jb&&(Ra.reprioritize(),Ra.loadMoreTiles(jb,$a))}wa&&this.renderer_&&!wa.animate&&(!0===this.renderComplete_?(this.hasListener(db.default.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(db.default.RENDERCOMPLETE,wa),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new ea.default(ta.default.LOADEND,this,wa)))):!0===this.loaded_&&(this.loaded_=
!1,this.dispatchEvent(new ea.default(ta.default.LOADSTART,this,wa))));Ra=this.postRenderFunctions_;for(let jb=0,rb=Ra.length;jb<rb;++jb)Ra[jb](this,wa);Ra.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let $a=0,jb=this.targetChangeHandlerKeys_.length;$a<jb;++$a)(0,ca.unlistenByKey)(this.targetChangeHandlerKeys_[$a]);this.targetChangeHandlerKeys_=null;this.viewport_.removeEventListener(Da.default.CONTEXTMENU,
this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(Da.default.WHEEL,this.boundHandleBrowserEvent_);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,B.removeNode)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var wa=this.targetElement_.getRootNode();wa instanceof ShadowRoot&&this.resizeObserver_.unobserve(wa.host);this.setSize(void 0)}wa=this.getTarget();if(this.targetElement_=wa="string"===typeof wa?document.getElementById(wa):
wa){wa.appendChild(this.viewport_);this.renderer_||(this.renderer_=new Za.default(this));this.mapBrowserEventHandler_=new fb.default(this,this.moveTolerance_);for(var Ra in Ya.default)this.mapBrowserEventHandler_.addEventListener(Ya.default[Ra],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Da.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(Da.default.WHEEL,this.boundHandleBrowserEvent_,w.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);Ra=this.keyboardEventTarget_?
this.keyboardEventTarget_:wa;this.targetChangeHandlerKeys_=[(0,ca.listen)(Ra,Da.default.KEYDOWN,this.handleBrowserEvent,this),(0,ca.listen)(Ra,Da.default.KEYPRESS,this.handleBrowserEvent,this)];Ra=wa.getRootNode();Ra instanceof ShadowRoot&&this.resizeObserver_.observe(Ra.host);this.resizeObserver_.observe(wa)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&
(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,ca.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,ca.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const wa=this.getView();wa&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=
(0,ca.listen)(wa,O.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,ca.listen)(wa,Da.default.CHANGE,this.handleViewPropertyChanged_,this),wa.resolveConstraints(0));this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ca.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);const wa=this.getLayerGroup();wa&&(this.handleLayerAdd_(new m.GroupEvent("addlayer",wa)),this.layerGroupPropertyListenerKeys_=
[(0,ca.listen)(wa,O.default.PROPERTYCHANGE,this.render,this),(0,ca.listen)(wa,Da.default.CHANGE,this.render,this),(0,ca.listen)(wa,"addlayer",this.handleLayerAdd_,this),(0,ca.listen)(wa,"removelayer",this.handleLayerRemove_,this)]);this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()}redrawText(){const wa=this.getLayerGroup().getLayerStatesArray();
for(let Ra=0,$a=wa.length;Ra<$a;++Ra){const jb=wa[Ra].layer;jb.hasRenderer()&&jb.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const wa=this.frameState_;wa&&this.renderer_.flushDeclutterItems(wa)}removeControl(wa){return this.getControls().remove(wa)}removeInteraction(wa){return this.getInteractions().remove(wa)}removeLayer(wa){return this.getLayerGroup().getLayers().remove(wa)}handleLayerRemove_(wa){J(wa.layer)}removeOverlay(wa){return this.getOverlays().remove(wa)}renderFrame_(wa){const Ra=
this.getSize();var $a=this.getView();const jb=this.frameState_;var rb=null;void 0!==Ra&&(0,W.hasArea)(Ra)&&$a&&$a.isDef()&&(rb=$a.getHints(this.frameState_?this.frameState_.viewHints:void 0),$a=$a.getState(),rb={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,y.getForViewAndSize)($a.center,$a.resolution,$a.rotation,Ra),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,
postRenderFunctions:[],size:Ra,tileQueue:this.tileQueue_,time:wa,usedTiles:{},viewState:$a,viewHints:rb,wantedTiles:{},mapId:(0,S.getUid)(this),renderTargets:{}},$a.nextCenter&&$a.nextResolution&&(wa=isNaN($a.nextRotation)?$a.rotation:$a.nextRotation,rb.nextExtent=(0,y.getForViewAndSize)($a.nextCenter,$a.nextResolution,wa,Ra)));this.frameState_=rb;this.renderer_.renderFrame(rb);rb&&(rb.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,rb.postRenderFunctions),!jb||this.previousExtent_&&
((0,y.isEmpty)(this.previousExtent_)||(0,y.equals)(rb.extent,this.previousExtent_))||(this.dispatchEvent(new ea.default(ta.default.MOVESTART,this,jb)),this.previousExtent_=(0,y.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||rb.viewHints[ka.default.ANIMATING]||rb.viewHints[ka.default.INTERACTING]||(0,y.equals)(rb.extent,this.previousExtent_)||(this.dispatchEvent(new ea.default(ta.default.MOVEEND,this,rb)),(0,y.clone)(rb.extent,this.previousExtent_)));this.dispatchEvent(new ea.default(ta.default.POSTRENDER,
this,rb));this.renderComplete_=this.hasListener(ta.default.LOADSTART)||this.hasListener(ta.default.LOADEND)||this.hasListener(db.default.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0;this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0;this.handlePostRender()},0))}setLayerGroup(wa){const Ra=this.getLayerGroup();Ra&&this.handleLayerRemove_(new m.GroupEvent("removelayer",
Ra));this.set(Ea.default.LAYERGROUP,wa)}setSize(wa){this.set(Ea.default.SIZE,wa)}setTarget(wa){this.set(Ea.default.TARGET,wa)}setView(wa){if(!wa||wa instanceof la.default)this.set(Ea.default.VIEW,wa);else{this.set(Ea.default.VIEW,new la.default);var Ra=this;wa.then(function($a){Ra.setView(new la.default($a))})}}updateSize(){var wa=this.getTargetElement();let Ra=void 0;if(wa){var $a=getComputedStyle(wa);const jb=wa.offsetWidth-parseFloat($a.borderLeftWidth)-parseFloat($a.paddingLeft)-parseFloat($a.paddingRight)-
parseFloat($a.borderRightWidth);$a=wa.offsetHeight-parseFloat($a.borderTopWidth)-parseFloat($a.paddingTop)-parseFloat($a.paddingBottom)-parseFloat($a.borderBottomWidth);isNaN(jb)||isNaN($a)||(Ra=[jb,$a],!(0,W.hasArea)(Ra)&&(wa.offsetWidth||wa.offsetHeight||wa.getClientRects().length)&&(0,v.warn)("No map visible because the map container's width or height are 0."))}wa=this.getSize();!Ra||wa&&(0,T.equals)(Ra,wa)||(this.setSize(Ra),this.updateViewportSize_())}updateViewportSize_(){const wa=this.getView();
if(wa){let Ra=void 0;const $a=getComputedStyle(this.viewport_);$a.width&&$a.height&&(Ra=[parseInt($a.width,10),parseInt($a.height,10)]);wa.setViewportSize(Ra)}}}const ib=Va};
shadow$provide[168]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});Z=c(20);X=c(141);var J=c(71),K=c(28),E=c(17),C=c(70);Z=c.esmDefault(Z);var u=c.esmDefault(X);class p extends Z.default{constructor(f){super();this.on;this.once;this.un;this.options=f;this.id=f.id;this.insertFirst=void 0!==f.insertFirst?f.insertFirst:!0;this.stopEvent=void 0!==f.stopEvent?f.stopEvent:!0;this.element=document.createElement("div");this.element.className=
void 0!==f.className?f.className:"ol-overlay-container "+J.CLASS_SELECTABLE;this.element.style.position="absolute";this.element.style.pointerEvents="auto";this.autoPan=!0===f.autoPan?{}:f.autoPan||void 0;this.rendered={transform_:"",visible:!0};this.mapPostrenderListenerKey=null;this.addChangeListener("element",this.handleElementChanged);this.addChangeListener("map",this.handleMapChanged);this.addChangeListener("offset",this.handleOffsetChanged);this.addChangeListener("position",this.handlePositionChanged);
this.addChangeListener("positioning",this.handlePositioningChanged);void 0!==f.element&&this.setElement(f.element);this.setOffset(void 0!==f.offset?f.offset:[0,0]);this.setPositioning(f.positioning||"top-left");void 0!==f.position&&this.setPosition(f.position)}getElement(){return this.get("element")}getId(){return this.id}getMap(){return this.get("map")||null}getOffset(){return this.get("offset")}getPosition(){return this.get("position")}getPositioning(){return this.get("positioning")}handleElementChanged(){(0,C.removeChildren)(this.element);
const f=this.getElement();f&&this.element.appendChild(f)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,C.removeNode)(this.element),(0,E.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var f=this.getMap();f&&(this.mapPostrenderListenerKey=(0,E.listen)(f,u.default.POSTRENDER,this.render,this),this.updatePixelPosition(),f=this.stopEvent?f.getOverlayContainerStopEvent():f.getOverlayContainer(),this.insertFirst?f.insertBefore(this.element,f.childNodes[0]||null):
f.appendChild(this.element),this.performAutoPan())}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition();this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(f){this.set("element",f)}setMap(f){this.set("map",f)}setOffset(f){this.set("offset",f)}setPosition(f){this.set("position",f)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(f){const l=this.getMap();if(l&&
l.getTargetElement()&&this.get("position")){var e=this.getRect(l.getTargetElement(),l.getSize()),d=this.getElement(),g=this.getRect(d,[(0,C.outerWidth)(d),(0,C.outerHeight)(d)]);f=f||{};d=void 0===f.margin?20:f.margin;if(!(0,K.containsExtent)(e,g)){const h=g[0]-e[0],k=e[2]-g[2],n=g[1]-e[1];g=e[3]-g[3];e=[0,0];0>h?e[0]=h-d:0>k&&(e[0]=Math.abs(k)+d);0>n?e[1]=n-d:0>g&&(e[1]=Math.abs(g)+d);if(0!==e[0]||0!==e[1])if(d=l.getView().getCenterInternal(),d=l.getPixelFromCoordinateInternal(d))d=[d[0]+e[0],d[1]+
e[1]],f=f.animation||{},l.getView().animateInternal({center:l.getCoordinateFromPixelInternal(d),duration:f.duration,easing:f.easing})}}}getRect(f,l){var e=f.getBoundingClientRect();f=e.left+window.pageXOffset;e=e.top+window.pageYOffset;return[f,e,f+l[0],e+l[1]]}setPositioning(f){this.set("positioning",f)}setVisible(f){this.rendered.visible!==f&&(this.element.style.display=f?"":"none",this.rendered.visible=f)}updatePixelPosition(){var f=this.getMap(),l=this.getPosition();f&&f.isRendered()&&l?(l=f.getPixelFromCoordinate(l),
f=f.getSize(),this.updateRenderedPosition(l,f)):this.setVisible(!1)}updateRenderedPosition(f,l){l=this.element.style;var e=this.getOffset(),d=this.getPositioning();this.setVisible(!0);const g=Math.round(f[0]+e[0])+"px";f=Math.round(f[1]+e[1])+"px";let h=e="0%";if("bottom-right"==d||"center-right"==d||"top-right"==d)e="-100%";else if("bottom-center"==d||"center-center"==d||"top-center"==d)e="-50%";if("bottom-left"==d||"bottom-center"==d||"bottom-right"==d)h="-100%";else if("center-left"==d||"center-center"==
d||"center-right"==d)h="-50%";d=`translate(${e}, ${h}) translate(${g}, ${f})`;this.rendered.transform_!=d&&(this.rendered.transform_=d,l.transform=d)}getOptions(){return this.options}}const m=p};
shadow$provide[169]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});var J=c(23);class K{constructor(C){this.highWaterMark=void 0!==C?C:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}canExpireCache(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark}expireCache(C){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null}containsKey(C){return this.entries_.hasOwnProperty(C)}forEach(C){let u=
this.oldest_;for(;u;)C(u.value_,u.key_,this),u=u.newer}get(C,u){C=this.entries_[C];(0,J.assert)(void 0!==C,"Tried to get a value for a key that does not exist in the cache");if(C===this.newest_)return C.value_;C===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(C.newer.older=C.older,C.older.newer=C.newer);C.newer=null;C.older=this.newest_;this.newest_=this.newest_.newer=C;return C.value_}remove(C){const u=this.entries_[C];(0,J.assert)(void 0!==u,"Tried to get a value for a key that does not exist in the cache");
if(u===this.newest_){if(this.newest_=u.older)this.newest_.newer=null}else if(u===this.oldest_){if(this.oldest_=u.newer)this.oldest_.older=null}else u.newer.older=u.older,u.older.newer=u.newer;delete this.entries_[C];--this.count_;return u.value_}getCount(){return this.count_}getKeys(){const C=Array(this.count_);let u=0,p;for(p=this.newest_;p;p=p.older)C[u++]=p.key_;return C}getValues(){const C=Array(this.count_);let u=0,p;for(p=this.newest_;p;p=p.older)C[u++]=p.value_;return C}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(C){if(this.containsKey(C))return this.entries_[C].value_}pop(){const C=
this.oldest_;delete this.entries_[C.key_];C.newer&&(C.newer.older=null);this.oldest_=C.newer;this.oldest_||(this.newest_=null);--this.count_;return C.value_}replace(C,u){this.get(C);this.entries_[C].value_=u}set(C,u){(0,J.assert)(!(C in this.entries_),"Tried to set a value for a key that is used already");u={key_:C,newer:null,older:this.newest_,value_:u};this.newest_?this.newest_.newer=u:this.oldest_=u;this.newest_=u;this.entries_[C]=u;++this.count_}setSize(C){this.highWaterMark=C}}const E=K};
shadow$provide[170]=function(X,c,Z,N){function J(f,l,e,d){return void 0!==d?(d[0]=f,d[1]=l,d[2]=e,d):[f,l,e]}function K(f,l,e){return f+"/"+l+"/"+e}function E(f){return K(f[0],f[1],f[2])}function C(f){const [l,e,d]=f.substring(f.lastIndexOf("/")+1,f.length).split(",").map(Number);return K(l,e,d)}function u(f){return f.split("/").map(Number)}function p(f){return(f[1]<<f[0])+f[2]}function m(f,l){const e=f[0],d=f[1];f=f[2];return l.getMinZoom()>e||e>l.getMaxZoom()?!1:(l=l.getFullTileRange(e))?l.containsXY(d,
f):!0}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createOrUpdate:{enumerable:!0,get:function(){return J}},fromKey:{enumerable:!0,get:function(){return u}},getCacheKeyForTileKey:{enumerable:!0,get:function(){return C}},getKey:{enumerable:!0,get:function(){return E}},getKeyZXY:{enumerable:!0,get:function(){return K}},hash:{enumerable:!0,get:function(){return p}},withinExtentAndZ:{enumerable:!0,get:function(){return m}}})};
shadow$provide[171]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});X=c(169);var J=c(170);c=c.esmDefault(X);class K extends c.default{clear(){for(;0<this.getCount();)this.pop().release();super.clear()}expireCache(C){for(;this.canExpireCache()&&!(this.peekLast().getKey()in C);)this.pop().release()}pruneExceptNewestZ(){if(0!==this.getCount()){var C=this.peekFirstKey(),u=(0,J.fromKey)(C)[0];this.forEach(p=>{p.tileCoord[0]!==
u&&(this.remove((0,J.getKey)(p.tileCoord)),p.release())})}}}const E=K};
shadow$provide[172]=function(X,c,Z,N){function J(C,u,p,m,f){return void 0!==f?(f.minX=C,f.maxX=u,f.minY=p,f.maxY=m,f):new K(C,u,p,m)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createOrUpdate:{enumerable:!0,get:function(){return J}},default:{enumerable:!0,get:function(){return E}}});class K{constructor(C,u,p,m){this.minX=C;this.maxX=u;this.minY=p;this.maxY=m}contains(C){return this.containsXY(C[1],C[2])}containsTileRange(C){return this.minX<=C.minX&&C.maxX<=this.maxX&&this.minY<=
C.minY&&C.maxY<=this.maxY}containsXY(C,u){return this.minX<=C&&C<=this.maxX&&this.minY<=u&&u<=this.maxY}equals(C){return this.minX==C.minX&&this.minY==C.minY&&this.maxX==C.maxX&&this.maxY==C.maxY}extend(C){C.minX<this.minX&&(this.minX=C.minX);C.maxX>this.maxX&&(this.maxX=C.maxX);C.minY<this.minY&&(this.minY=C.minY);C.maxY>this.maxY&&(this.maxY=C.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(C){return this.minX<=
C.maxX&&this.maxX>=C.minX&&this.minY<=C.maxY&&this.maxY>=C.minY}}const E=K};
shadow$provide[173]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(130);var J=c(70),K=c(19);c=c.esmDefault(X);const E=[];class C extends c.default{constructor(p,m,f,l){super(p,m,{transition:0});this.context_={};this.executorGroups={};this.declutterExecutorGroups={};this.loadingSourceTiles=0;this.hitDetectionImageData={};this.replayState_={};this.sourceTiles=[];this.errorTileKeys={};this.wantedResolution;this.getSourceTiles=
l.bind(void 0,this);this.wrappedTileCoord=f}getContext(p){p=(0,K.getUid)(p);p in this.context_||(this.context_[p]=(0,J.createCanvasContext2D)(1,1,E));return this.context_[p]}hasContext(p){return(0,K.getUid)(p)in this.context_}getImage(p){return this.hasContext(p)?this.getContext(p).canvas:null}getReplayState(p){p=(0,K.getUid)(p);p in this.replayState_||(this.replayState_[p]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,
renderedTileZ:-1});return this.replayState_[p]}load(){this.getSourceTiles()}release(){for(const p in this.context_){const m=this.context_[p];(0,J.releaseCanvas)(m);E.push(m.canvas);delete this.context_[p]}super.release()}}const u=C};
shadow$provide[174]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});X=c(130);Z=c(129);var J=c.esmDefault(Z);c=c.esmDefault(X);class K extends c.default{constructor(C,u,p,m,f,l){super(C,u,l);this.extent=null;this.format_=m;this.features_=null;this.loader_;this.projection=null;this.resolution;this.tileLoadFunction_=f;this.key=this.url_=p}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==
J.default.IDLE&&(this.setState(J.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(C,u){this.setFeatures(C)}onError(){this.setState(J.default.ERROR)}setFeatures(C){this.features_=C;this.setState(J.default.LOADED)}setLoader(C){this.loader_=C}}const E=K};
shadow$provide[175]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Collection:{enumerable:!0,get:function(){return J.default}},Disposable:{enumerable:!0,get:function(){return K.default}},Feature:{enumerable:!0,get:function(){return E.default}},Geolocation:{enumerable:!0,get:function(){return C.default}},Graticule:{enumerable:!0,get:function(){return u.default}},Image:{enumerable:!0,get:function(){return p.default}},ImageCanvas:{enumerable:!0,get:function(){return m.default}},
ImageTile:{enumerable:!0,get:function(){return f.default}},ImageWrapper:{enumerable:!0,get:function(){return p.default}},Kinetic:{enumerable:!0,get:function(){return l.default}},Map:{enumerable:!0,get:function(){return e.default}},MapBrowserEvent:{enumerable:!0,get:function(){return d.default}},MapBrowserEventHandler:{enumerable:!0,get:function(){return g.default}},MapEvent:{enumerable:!0,get:function(){return h.default}},Object:{enumerable:!0,get:function(){return k.default}},Observable:{enumerable:!0,
get:function(){return n.default}},Overlay:{enumerable:!0,get:function(){return r.default}},Tile:{enumerable:!0,get:function(){return x.default}},TileCache:{enumerable:!0,get:function(){return D.default}},TileQueue:{enumerable:!0,get:function(){return z.default}},TileRange:{enumerable:!0,get:function(){return w.default}},VERSION:{enumerable:!0,get:function(){return y.VERSION}},VectorRenderTile:{enumerable:!0,get:function(){return q.default}},VectorTile:{enumerable:!0,get:function(){return A.default}},
View:{enumerable:!0,get:function(){return L.default}},getUid:{enumerable:!0,get:function(){return y.getUid}}});var J=c(22),K=c(11),E=c(24),C=c(58),u=c(127),p=c(89),m=c(128),f=c(131),l=c(132),e=c(167),d=c(137),g=c(140),h=c(136),k=c(20),n=c(18),r=c(168),x=c(130),D=c(171),z=c(144),w=c(172),q=c(173),A=c(174),L=c(86),y=c(19)};
shadow$provide[176]=function(X,c,Z,N){function J(g){const h=g.body;return!!(h.webkitRequestFullscreen||h.requestFullscreen&&g.fullscreenEnabled)}function K(g){return!(!g.webkitIsFullScreen&&!g.fullscreenElement)}function E(g){g.requestFullscreen?g.requestFullscreen():g.webkitRequestFullscreen&&g.webkitRequestFullscreen()}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return d}}});N=c(145);X=c(16);Z=c(142);var C=c(71),u=c(17),p=c(70);N=c.esmDefault(N);
var m=c.esmDefault(X),f=c.esmDefault(Z);const l=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];class e extends N.default{constructor(g){g=g?g:{};super({element:document.createElement("div"),target:g.target});this.on;this.once;this.un;this.keys_=void 0!==g.keys?g.keys:!1;this.source_=g.source;this.isInFullscreen_=!1;this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this);this.cssClassName_=void 0!==g.className?g.className:"ol-full-screen";this.documentListeners_=
[];this.activeClassName_=void 0!==g.activeClassName?g.activeClassName.split(" "):[this.cssClassName_+"-true"];this.inactiveClassName_=void 0!==g.inactiveClassName?g.inactiveClassName.split(" "):[this.cssClassName_+"-false"];var h=void 0!==g.label?g.label:"";this.labelNode_="string"===typeof h?document.createTextNode(h):h;h=void 0!==g.labelActive?g.labelActive:"";this.labelActiveNode_="string"===typeof h?document.createTextNode(h):h;g=g.tipLabel?g.tipLabel:"Toggle full-screen";this.button_=document.createElement("button");
this.button_.title=g;this.button_.setAttribute("type","button");this.button_.appendChild(this.labelNode_);this.button_.addEventListener(m.default.CLICK,this.handleClick_.bind(this),!1);this.setClassName_(this.button_,this.isInFullscreen_);this.element.className=`${this.cssClassName_} ${C.CLASS_UNSELECTABLE} ${C.CLASS_CONTROL}`;this.element.appendChild(this.button_)}handleClick_(g){g.preventDefault();this.handleFullScreen_()}handleFullScreen_(){var g=this.getMap();if(g){var h=g.getOwnerDocument();
J(h)&&(K(h)?h.exitFullscreen?h.exitFullscreen():h.webkitExitFullscreen&&h.webkitExitFullscreen():(g=this.source_?"string"===typeof this.source_?h.getElementById(this.source_):this.source_:g.getTargetElement(),this.keys_?g.webkitRequestFullscreen?g.webkitRequestFullscreen():E(g):E(g)))}}handleFullScreenChange_(){const g=this.getMap();if(g){var h=this.isInFullscreen_;this.isInFullscreen_=K(g.getOwnerDocument());h!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?
((0,p.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):((0,p.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),g.updateSize())}}setClassName_(g,h){h?(g.classList.remove(...this.inactiveClassName_),g.classList.add(...this.activeClassName_)):(g.classList.remove(...this.activeClassName_),g.classList.add(...this.inactiveClassName_))}setMap(g){const h=this.getMap();h&&h.removeChangeListener(f.default.TARGET,this.boundHandleMapTargetChange_);
super.setMap(g);this.handleMapTargetChange_();g&&g.addChangeListener(f.default.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const g=this.documentListeners_;for(let k=0,n=g.length;k<n;++k)(0,u.unlistenByKey)(g[k]);g.length=0;var h=this.getMap();if(h){h=h.getOwnerDocument();J(h)?this.element.classList.remove(C.CLASS_UNSUPPORTED):this.element.classList.add(C.CLASS_UNSUPPORTED);for(let k=0,n=l.length;k<n;++k)g.push((0,u.listen)(h,l[k],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}
const d=e};
shadow$provide[177]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});X=c(145);Z=c(139);var J=c(40),K=c(17),E=c(37),C=c.esmDefault(Z);c=c.esmDefault(X);class u extends c.default{constructor(m){m=m?m:{};const f=document.createElement("div");f.className=void 0!==m.className?m.className:"ol-mouse-position";super({element:f,render:m.render,target:m.target});this.on;this.once;this.un;this.addChangeListener("projection",this.handleProjectionChanged_);
m.coordinateFormat&&this.setCoordinateFormat(m.coordinateFormat);m.projection&&this.setProjection(m.projection);this.placeholder_=(this.renderOnMouseOut_=void 0!==m.placeholder)?m.placeholder:"\x26#160;";this.renderedHTML_=f.innerHTML;this.transform_=this.mapProjection_=null;this.wrapX_=!1===m.wrapX?!1:!0}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get("coordinateFormat")}getProjection(){return this.get("projection")}handleMouseMove(m){const f=this.getMap();this.updateHTML_(f.getEventPixel(m))}handleMouseOut(m){this.updateHTML_(null)}setMap(m){super.setMap(m);
m&&(m=m.getViewport(),this.listenerKeys.push((0,K.listen)(m,C.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,K.listen)(m,C.default.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null))}setCoordinateFormat(m){this.set("coordinateFormat",m)}setProjection(m){this.set("projection",(0,J.get)(m))}updateHTML_(m){var f=this.placeholder_;if(m&&this.mapProjection_){if(!this.transform_){const l=this.getProjection();this.transform_=l?(0,J.getTransformFromProjections)(this.mapProjection_,
l):J.identityTransform}if(m=this.getMap().getCoordinateFromPixelInternal(m)){if(f=(0,J.getUserProjection)())this.transform_=(0,J.getTransformFromProjections)(this.mapProjection_,f);this.transform_(m,m);this.wrapX_&&(f=f||this.getProjection()||this.mapProjection_,(0,E.wrapX)(m,f));f=(f=this.getCoordinateFormat())?f(m):m.toString()}}this.renderedHTML_&&f===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=f)}render(m){m=m.frameState;m?this.mapProjection_!=m.viewState.projection&&(this.mapProjection_=
m.viewState.projection,this.transform_=null):this.mapProjection_=null}}const p=u};
shadow$provide[178]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return L}}});var J=c(22),K=c(145);X=c(16);Z=c(167);N=c(141);var E=c(142),C=c(10),u=c(168),p=c(86),m=c(80),f=c(71),l=c(28),e=c(17),d=c(57),g=c(70),h=c.esmDefault(J),k=c.esmDefault(u);J=c.esmDefault(K);var n=c.esmDefault(C),r=c.esmDefault(N),x=c.esmDefault(Z),D=c.esmDefault(p),z=c.esmDefault(X),w=c.esmDefault(m),q=c.esmDefault(E);class A extends J.default{constructor(y){y=
y?y:{};super({element:document.createElement("div"),render:y.render,target:y.target});this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this);this.collapsed_=void 0!==y.collapsed?y.collapsed:!0;this.collapsible_=void 0!==y.collapsible?y.collapsible:!0;this.collapsible_||(this.collapsed_=!1);this.rotateWithView_=void 0!==y.rotateWithView?y.rotateWithView:!1;this.viewExtent_=void 0;const F=void 0!==y.className?y.className:"ol-overviewmap",M=void 0!==y.tipLabel?y.tipLabel:"Overview map";
var T=void 0!==y.collapseLabel?y.collapseLabel:"";"string"===typeof T?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=T):this.collapseLabel_=T;T=void 0!==y.label?y.label:"";"string"===typeof T?(this.label_=document.createElement("span"),this.label_.textContent=T):this.label_=T;const Q=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;T=document.createElement("button");T.setAttribute("type","button");T.title=M;T.appendChild(Q);T.addEventListener(z.default.CLICK,
this.handleClick_.bind(this),!1);this.ovmapDiv_=document.createElement("div");this.ovmapDiv_.className="ol-overviewmap-map";this.view_=y.view;const S=new x.default({view:y.view,controls:new h.default,interactions:new h.default});this.ovmap_=S;y.layers&&y.layers.forEach(function(I){S.addLayer(I)});y=document.createElement("div");y.className="ol-overviewmap-box";y.style.boxSizing="border-box";this.boxOverlay_=new k.default({position:[0,0],positioning:"center-center",element:y});this.ovmap_.addOverlay(this.boxOverlay_);
y=this.element;y.className=F+" "+f.CLASS_UNSELECTABLE+" "+f.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+f.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible");y.appendChild(this.ovmapDiv_);y.appendChild(T);const W=this,ca=this.boxOverlay_,B=function(I){I=S.getEventCoordinateInternal({clientX:I.clientX,clientY:I.clientY});ca.setPosition(I)},v=function(I){I=S.getEventCoordinateInternal(I);W.getMap().getView().setCenterInternal(I);window.removeEventListener("mousemove",B);window.removeEventListener("mouseup",
v)};this.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",B);window.addEventListener("mouseup",v)})}setMap(y){var F=this.getMap();if(y!==F&&(F&&((F=F.getView())&&this.unbindView_(F),this.ovmap_.setTarget(null)),super.setMap(y),y)){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push((0,e.listen)(y,n.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(y=y.getView())this.bindView_(y),y.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_());
this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}handleMapPropertyChange_(y){y.key===q.default.VIEW?((y=y.oldValue)&&this.unbindView_(y),y=this.getMap().getView(),this.bindView_(y)):this.ovmap_.isRendered()||y.key!==q.default.TARGET&&y.key!==q.default.SIZE||this.ovmap_.updateSize()}bindView_(y){if(!this.view_){const F=new D.default({projection:y.getProjection()});this.ovmap_.setView(F)}y.addChangeListener(w.default.ROTATION,this.boundHandleRotationChanged_);this.handleRotationChanged_()}unbindView_(y){y.removeChangeListener(w.default.ROTATION,
this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){var y=this.getMap(),F=this.ovmap_;if(y.isRendered()&&F.isRendered()){var M=y.getSize();y=y.getView().calculateExtentInternal(M);if(!this.viewExtent_||!(0,l.equals)(y,this.viewExtent_)){this.viewExtent_=y;var T=F.getSize();M=F.getView().calculateExtentInternal(T);var Q=F.getPixelFromCoordinateInternal((0,l.getTopLeft)(y)),S=F.getPixelFromCoordinateInternal((0,l.getBottomRight)(y));
F=Math.abs(Q[0]-S[0]);Q=Math.abs(Q[1]-S[1]);S=T[0];T=T[1];F<.1*S||Q<.1*T||F>.75*S||Q>.75*T?this.resetExtent_():(0,l.containsExtent)(M,y)||this.recenter_()}}}resetExtent_(){var y=this.getMap(),F=this.ovmap_;const M=y.getSize();y=y.getView().calculateExtentInternal(M);F=F.getView();(0,l.scaleFromCenter)(y,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2)));F.fitInternal((0,d.fromExtent)(y))}recenter_(){var y=this.getMap();const F=this.ovmap_;y=y.getView();F.getView().setCenterInternal(y.getCenterInternal())}updateBox_(){var y=
this.getMap(),F=this.ovmap_;if(y.isRendered()&&F.isRendered()){var M=y.getSize(),T=y.getView(),Q=F.getView();F=this.rotateWithView_?0:-T.getRotation();y=this.boxOverlay_;var S=this.boxOverlay_.getElement(),W=T.getCenterInternal();T=T.getResolution();var ca=Q.getResolution();Q=M[0]*T/ca;M=M[1]*T/ca;y.setPosition(W);S&&(S.style.width=Q+"px",S.style.height=M+"px",S.style.transform="rotate("+F+"rad)")}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=(0,e.listenOnce)(this.ovmap_,
r.default.POSTRENDER,function(y){delete this.ovmapPostrenderKey_;this.updateBox_()},this))}handleClick_(y){y.preventDefault();this.handleToggle_()}handleToggle_(){this.element.classList.toggle(f.CLASS_COLLAPSED);this.collapsed_?(0,g.replaceNode)(this.collapseLabel_,this.label_):(0,g.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;const y=this.ovmap_;this.collapsed_||(y.isRendered()?(this.viewExtent_=void 0,y.render()):(y.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()))}getCollapsible(){return this.collapsible_}setCollapsible(y){this.collapsible_!==
y&&(this.collapsible_=y,this.element.classList.toggle("ol-uncollapsible"),!y&&this.collapsed_&&this.handleToggle_())}setCollapsed(y){this.collapsible_&&this.collapsed_!==y&&this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(y){this.rotateWithView_!==y&&(this.rotateWithView_=y,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,
this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(y){this.validateExtent_();this.updateBox_()}}const L=A};
shadow$provide[179]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});X=c(145);var J=c(71),K=c(40);c=c.esmDefault(X);const E=[1,2,5],C=25.4/.28;class u extends c.default{constructor(m){m=m?m:{};var f=document.createElement("div");f.style.pointerEvents="none";super({element:f,render:m.render,target:m.target});this.on;this.once;this.un;f=void 0!==m.className?m.className:m.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=
document.createElement("div");this.innerElement_.className=f+"-inner";this.element.className=f+" "+J.CLASS_UNSELECTABLE;this.element.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=void 0!==m.minWidth?m.minWidth:64;this.maxWidth_=m.maxWidth;this.renderedVisible_=!1;this.renderedWidth_=void 0;this.renderedHTML_="";this.addChangeListener("units",this.handleUnitsChanged_);this.setUnits(m.units||"metric");this.scaleBar_=m.bar||!1;this.scaleBarSteps_=m.steps||4;this.scaleBarText_=m.text||
!1;this.dpi_=m.dpi||void 0}getUnits(){return this.get("units")}handleUnitsChanged_(){this.updateElement_()}setUnits(m){this.set("units",m)}setDpi(m){this.dpi_=m}updateElement_(){var m=this.viewState_;if(m){var f=m.center,l=m.projection,e=this.getUnits();m=(0,K.getPointResolution)(l,m.resolution,f,"degrees"==e?"degrees":"m");f=this.minWidth_*(this.dpi_||C)/C;l=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||C)/C:void 0;var d=f*m;if("degrees"==e)e=K.METERS_PER_UNIT.degrees,d*=e,d<e/60?(d="",m*=
3600):d<e?(d="",m*=60):d="";else if("imperial"==e).9144>d?(d="in",m/=.0254):1609.344>d?(d="ft",m/=.3048):(d="mi",m/=1609.344);else if("nautical"==e)m/=1852,d="NM";else if("metric"==e).001>d?(d="m",m*=1E6):1>d?(d="mm",m*=1E3):1E3>d?d="m":(d="km",m/=1E3);else if("us"==e).9144>d?(d="in",m*=39.37):1609.344>d?(d="ft",m/=.30480061):(d="mi",m/=1609.3472);else throw Error("Invalid units");for(var g=3*Math.floor(Math.log(f*m)/Math.log(10)),h,k,n,r,x;;){k=Math.floor(g/3);h=E[(g%3+3)%3]*Math.pow(10,k);e=
Math.round(h/m);if(isNaN(e)){this.element.style.display="none";this.renderedVisible_=!1;return}if(void 0!==l&&e>=l){h=n;e=r;k=x;break}else if(e>=f)break;n=h;r=e;x=k;++g}n=this.scaleBar_?this.createScaleBar(e,h,d):h.toFixed(0>k?-k:0)+" "+d;this.renderedHTML_!=n&&(this.renderedHTML_=this.innerElement_.innerHTML=n);this.renderedWidth_!=e&&(this.innerElement_.style.width=e+"px",this.renderedWidth_=e);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&
(this.element.style.display="none",this.renderedVisible_=!1)}createScaleBar(m,f,l){var e=this.getScaleForResolution();e=1>e?Math.round(1/e).toLocaleString()+" : 1":"1 : "+Math.round(e).toLocaleString();const d=this.scaleBarSteps_,g=m/d,h=[this.createMarker("absolute")];for(let k=0;k<d;++k)h.push("\x3cdiv\x3e\x3cdiv "+`class="ol-scale-singlebar ${0===k%2?"ol-scale-singlebar-odd":"ol-scale-singlebar-even"}" `+`style="width: ${g}px;"`+"\x3e\x3c/div\x3e"+this.createMarker("relative")+(0===k%2||2===d?
this.createStepText(k,m,!1,f,l):"")+"\x3c/div\x3e");h.push(this.createStepText(d,m,!0,f,l));return(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${m}px;">`+e+"\x3c/div\x3e":"")+h.join("")}createMarker(m){return'\x3cdiv class\x3d"ol-scale-step-marker" '+`style="position: ${m}; top: ${"absolute"===m?3:-10}px;"`+"\x3e\x3c/div\x3e"}createStepText(m,f,l,e,d){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"'+`margin-left: ${0===m?-3:f/this.scaleBarSteps_*-1}px;`+`text-align: ${0===
m?"left":"center"};`+`min-width: ${0===m?0:f/this.scaleBarSteps_*2}px;`+`left: ${l?f+"px":"unset"};`+'"\x3e'+((0===m?0:Math.round(e/this.scaleBarSteps_*m*100)/100)+(0===m?"":" "+d))+"\x3c/div\x3e"}getScaleForResolution(){return(0,K.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1E3/25.4)*(this.dpi_||C)}render(m){this.viewState_=(m=m.frameState)?m.viewState:null;this.updateElement_()}}const p=u};
shadow$provide[180]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return l}}});Z=c(145);X=c(16);N=c(139);var J=c(71),K=c(35),E=c(85),C=c(17),u=c(9),p=c.esmDefault(N);Z=c.esmDefault(Z);var m=c.esmDefault(X);class f extends Z.default{constructor(e){e=e?e:{};super({target:e.target,element:document.createElement("div"),render:e.render});this.dragListenerKeys_=[];this.currentResolution_=void 0;this.direction_=0;this.dragging_;this.widthLimit_=
this.heightLimit_=0;this.startX_;this.startY_;this.thumbSize_=null;this.sliderInitialized_=!1;this.duration_=void 0!==e.duration?e.duration:200;e=void 0!==e.className?e.className:"ol-zoomslider";const d=document.createElement("button");d.setAttribute("type","button");d.className=e+"-thumb "+J.CLASS_UNSELECTABLE;const g=this.element;g.className=e+" "+J.CLASS_UNSELECTABLE+" "+J.CLASS_CONTROL;g.appendChild(d);g.addEventListener(p.default.POINTERDOWN,this.handleDraggerStart_.bind(this),!1);g.addEventListener(p.default.POINTERMOVE,
this.handleDraggerDrag_.bind(this),!1);g.addEventListener(p.default.POINTERUP,this.handleDraggerEnd_.bind(this),!1);g.addEventListener(m.default.CLICK,this.handleContainerClick_.bind(this),!1);d.addEventListener(m.default.CLICK,u.stopPropagation,!1)}setMap(e){super.setMap(e);e&&e.render()}initSlider_(){var e=this.element;let d=e.offsetWidth,g=e.offsetHeight;if(0===d&&0===g)return this.sliderInitialized_=!1;var h=getComputedStyle(e);d-=parseFloat(h.paddingRight)+parseFloat(h.paddingLeft);g-=parseFloat(h.paddingTop)+
parseFloat(h.paddingBottom);h=e.firstElementChild;const k=getComputedStyle(h);e=h.offsetWidth+parseFloat(k.marginRight)+parseFloat(k.marginLeft);h=h.offsetHeight+parseFloat(k.marginTop)+parseFloat(k.marginBottom);this.thumbSize_=[e,h];d>g?(this.direction_=1,this.widthLimit_=d-e):(this.direction_=0,this.heightLimit_=g-h);return this.sliderInitialized_=!0}handleContainerClick_(e){const d=this.getMap().getView();e=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/
2);e=this.getResolutionForPosition_(e);e=d.getConstrainedZoom(d.getZoomForResolution(e));d.animateInternal({zoom:e,duration:this.duration_,easing:E.easeOut})}handleDraggerStart_(e){if(!this.dragging_&&e.target===this.element.firstElementChild){var d=this.element.firstElementChild;this.getMap().getView().beginInteraction();this.startX_=e.clientX-parseFloat(d.style.left);this.startY_=e.clientY-parseFloat(d.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){e=this.handleDraggerDrag_;
d=this.handleDraggerEnd_;const g=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,C.listen)(g,p.default.POINTERMOVE,e,this),(0,C.listen)(g,p.default.POINTERUP,d,this))}}}handleDraggerDrag_(e){this.dragging_&&(e=this.getRelativePosition_(e.clientX-this.startX_,e.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(e),this.getMap().getView().setResolution(this.currentResolution_))}handleDraggerEnd_(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=
!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(C.unlistenByKey),this.dragListenerKeys_.length=0)}setThumbPosition_(e){e=this.getPositionForResolution_(e);const d=this.element.firstElementChild;1==this.direction_?d.style.left=this.widthLimit_*e+"px":d.style.top=this.heightLimit_*e+"px"}getRelativePosition_(e,d){return(0,K.clamp)(1===this.direction_?e/this.widthLimit_:d/this.heightLimit_,0,1)}getResolutionForPosition_(e){return this.getMap().getView().getResolutionForValueFunction()(1-
e)}getPositionForResolution_(e){const d=this.getMap().getView().getValueForResolutionFunction();return(0,K.clamp)(1-d(e),0,1)}render(e){e.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=e=e.frameState.viewState.resolution,this.setThumbPosition_(e))}}const l=f};
shadow$provide[181]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});Z=c(145);X=c(16);var J=c(71),K=c(57);Z=c.esmDefault(Z);var E=c.esmDefault(X);class C extends Z.default{constructor(p){p=p?p:{};super({element:document.createElement("div"),target:p.target});this.extent=p.extent?p.extent:null;const m=void 0!==p.className?p.className:"ol-zoom-extent";var f=void 0!==p.label?p.label:"E";const l=void 0!==p.tipLabel?p.tipLabel:
"Fit to extent";p=document.createElement("button");p.setAttribute("type","button");p.title=l;p.appendChild("string"===typeof f?document.createTextNode(f):f);p.addEventListener(E.default.CLICK,this.handleClick_.bind(this),!1);f=this.element;f.className=m+" "+J.CLASS_UNSELECTABLE+" "+J.CLASS_CONTROL;f.appendChild(p)}handleClick_(p){p.preventDefault();this.handleZoomToExtent()}handleZoomToExtent(){const p=this.getMap().getView(),m=this.extent?this.extent:p.getProjection().getExtent();p.fitInternal((0,K.fromExtent)(m))}}
const u=C};
shadow$provide[182]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Attribution:{enumerable:!0,get:function(){return J.default}},Control:{enumerable:!0,get:function(){return K.default}},FullScreen:{enumerable:!0,get:function(){return E.default}},MousePosition:{enumerable:!0,get:function(){return C.default}},OverviewMap:{enumerable:!0,get:function(){return u.default}},Rotate:{enumerable:!0,get:function(){return p.default}},ScaleLine:{enumerable:!0,get:function(){return m.default}},
Zoom:{enumerable:!0,get:function(){return f.default}},ZoomSlider:{enumerable:!0,get:function(){return l.default}},ZoomToExtent:{enumerable:!0,get:function(){return e.default}},defaults:{enumerable:!0,get:function(){return d.defaults}}});var J=c(146),K=c(145),E=c(176),C=c(177),u=c(178),p=c(147),m=c(179),f=c(148),l=c(180),e=c(181),d=c(149)};
shadow$provide[183]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(43);var J=c(28),K=c(45),E=c(41);c=c.esmDefault(X);class C extends c.default{constructor(p,m,f){super();void 0!==f&&void 0===m?this.setFlatCoordinates(f,p):this.setCenterAndRadius(p,m?m:0,f)}clone(){const p=new C(this.flatCoordinates.slice(),void 0,this.layout);p.applyProperties(this);return p}closestPointXY(p,m,f,l){const e=this.flatCoordinates;
p-=e[0];const d=m-e[1];m=p*p+d*d;if(m<l){if(0===m)for(l=0;l<this.stride;++l)f[l]=e[l];else for(l=this.getRadius()/Math.sqrt(m),f[0]=e[0]+l*p,f[1]=e[1]+l*d,l=2;l<this.stride;++l)f[l]=e[l];f.length=this.stride;return m}return l}containsXY(p,m){const f=this.flatCoordinates;p-=f[0];m-=f[1];return p*p+m*m<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(p){const m=this.flatCoordinates,f=m[this.stride]-m[0];return(0,J.createOrUpdate)(m[0]-f,m[1]-f,m[0]+
f,m[1]+f,p)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const p=this.flatCoordinates[this.stride]-this.flatCoordinates[0],m=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return p*p+m*m}getType(){return"Circle"}intersectsExtent(p){var m=this.getExtent();return(0,J.intersects)(p,m)?(m=this.getCenter(),p[0]<=m[0]&&p[2]>=m[0]||p[1]<=m[1]&&p[3]>=m[1]?!0:(0,J.forEachCorner)(p,this.intersectsCoordinate.bind(this))):!1}setCenter(p){const m=this.stride;var f=this.flatCoordinates[m]-
this.flatCoordinates[0];const l=p.slice();l[m]=l[0]+f;for(f=1;f<m;++f)l[m+f]=p[f];this.setFlatCoordinates(this.layout,l);this.changed()}setCenterAndRadius(p,m,f){this.setLayout(f,p,0);this.flatCoordinates||(this.flatCoordinates=[]);f=this.flatCoordinates;p=(0,K.deflateCoordinate)(f,0,p,this.stride);f[p++]=f[0]+m;for(let l=1,e=this.stride;l<e;++l)f[p++]=f[l];f.length=p;this.changed()}getCoordinates(){return null}setCoordinates(p,m){}setRadius(p){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+
p;this.changed()}rotate(p,m){const f=this.getCenter(),l=this.getStride();this.setCenter((0,E.rotate)(f,0,f.length,l,p,m,f));this.changed()}}C.prototype.transform;const u=C};
shadow$provide[184]=function(X,c,Z,N){function J(m){const f=[];for(let l=0,e=m.length;l<e;++l)f.push(m[l].clone());return f}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return p}}});X=c(16);Z=c(42);var K=c(28),E=c(17),C=c.esmDefault(X);c=c.esmDefault(Z);class u extends c.default{constructor(m){super();this.geometries_=m?m:null;this.changeEventsKeys_=[];this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(E.unlistenByKey);
this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let m=0,f=this.geometries_.length;m<f;++m)this.changeEventsKeys_.push((0,E.listen)(this.geometries_[m],C.default.CHANGE,this.changed,this))}clone(){const m=new u(null);m.setGeometries(this.geometries_);m.applyProperties(this);return m}closestPointXY(m,f,l,e){if(e<(0,K.closestSquaredDistanceXY)(this.getExtent(),m,f))return e;const d=this.geometries_;for(let g=0,h=d.length;g<h;++g)e=d[g].closestPointXY(m,f,l,e);return e}containsXY(m,
f){const l=this.geometries_;for(let e=0,d=l.length;e<d;++e)if(l[e].containsXY(m,f))return!0;return!1}computeExtent(m){(0,K.createOrUpdateEmpty)(m);const f=this.geometries_;for(let l=0,e=f.length;l<e;++l)(0,K.extend)(m,f[l].getExtent());return m}getGeometries(){return J(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let m=[];const f=this.geometries_;for(let l=0,e=f.length;l<e;++l)f[l].getType()===this.getType()?m=m.concat(f[l].getGeometriesArrayRecursive()):
m.push(f[l]);return m}getSimplifiedGeometry(m){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>m||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&m<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const f=[],l=this.geometries_;let e=!1;for(let d=0,g=l.length;d<g;++d){const h=l[d],k=h.getSimplifiedGeometry(m);f.push(k);k!==h&&(e=!0)}if(e)return m=new u(null),m.setGeometriesArray(f),
m;this.simplifiedGeometryMaxMinSquaredTolerance=m;return this}getType(){return"GeometryCollection"}intersectsExtent(m){const f=this.geometries_;for(let l=0,e=f.length;l<e;++l)if(f[l].intersectsExtent(m))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(m,f){const l=this.geometries_;for(let e=0,d=l.length;e<d;++e)l[e].rotate(m,f);this.changed()}scale(m,f,l){l||(l=(0,K.getCenter)(this.getExtent()));const e=this.geometries_;for(let d=0,g=e.length;d<g;++d)e[d].scale(m,f,l);this.changed()}setGeometries(m){this.setGeometriesArray(J(m))}setGeometriesArray(m){this.unlistenGeometriesChange_();
this.geometries_=m;this.listenGeometriesChange_();this.changed()}applyTransform(m){const f=this.geometries_;for(let l=0,e=f.length;l<e;++l)f[l].applyTransform(m);this.changed()}translate(m,f){const l=this.geometries_;for(let e=0,d=l.length;e<d;++e)l[e].translate(m,f);this.changed()}disposeInternal(){this.unlistenGeometriesChange_();super.disposeInternal()}}const p=u};
shadow$provide[185]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return d}}});X=c(63);Z=c(43);var J=c(44),K=c(28),E=c(45),C=c(46),u=c(12),p=c(47),m=c(61),f=c(54);Z=c.esmDefault(Z);var l=c.esmDefault(X);class e extends Z.default{constructor(g,h,k){super();this.ends_=[];this.maxDeltaRevision_=this.maxDelta_=-1;if(Array.isArray(g[0]))this.setCoordinates(g,h);else if(void 0!==h&&k)this.setFlatCoordinates(h,g),this.ends_=k;else{h=
this.getLayout();k=[];const n=[];for(let r=0,x=g.length;r<x;++r){const D=g[r];0===r&&(h=D.getLayout());(0,u.extend)(k,D.getFlatCoordinates());n.push(k.length)}this.setFlatCoordinates(h,k);this.ends_=n}}appendLineString(g){this.flatCoordinates?(0,u.extend)(this.flatCoordinates,g.getFlatCoordinates().slice()):this.flatCoordinates=g.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()}clone(){const g=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());
g.applyProperties(this);return g}closestPointXY(g,h,k,n){if(n<(0,K.closestSquaredDistanceXY)(this.getExtent(),g,h))return n;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,J.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,J.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,g,h,k,n)}getCoordinateAtM(g,h,k){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?
null:(0,m.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,g,void 0!==h?h:!1,void 0!==k?k:!1)}getCoordinates(){return(0,p.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(g){return 0>g||this.ends_.length<=g?null:new l.default(this.flatCoordinates.slice(0===g?0:this.ends_[g-1],this.ends_[g]),this.layout)}getLineStrings(){const g=this.flatCoordinates,h=this.ends_,k=this.layout,n=[];var r=0;for(let x=0,D=h.length;x<
D;++x){const z=h[x];r=new l.default(g.slice(r,z),k);n.push(r);r=z}return n}getFlatMidpoints(){const g=[],h=this.flatCoordinates;var k=0;const n=this.ends_,r=this.stride;for(let x=0,D=n.length;x<D;++x){const z=n[x];k=(0,m.interpolatePoint)(h,k,z,r,.5);(0,u.extend)(g,k);k=z}return g}getSimplifiedGeometryInternal(g){const h=[],k=[];h.length=(0,C.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,g,h,0,k);return new e(h,"XY",k)}getType(){return"MultiLineString"}intersectsExtent(g){return(0,f.intersectsLineStringArray)(this.flatCoordinates,
0,this.ends_,this.stride,g)}setCoordinates(g,h){this.setLayout(h,g,2);this.flatCoordinates||(this.flatCoordinates=[]);g=(0,E.deflateCoordinatesArray)(this.flatCoordinates,0,g,this.stride,this.ends_);this.flatCoordinates.length=0===g.length?0:g[g.length-1];this.changed()}}const d=e};
shadow$provide[186]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return f}}});X=c(50);Z=c(43);var J=c(28),K=c(45),E=c(12),C=c(47),u=c(35);Z=c.esmDefault(Z);var p=c.esmDefault(X);class m extends Z.default{constructor(l,e){super();e&&!Array.isArray(l[0])?this.setFlatCoordinates(e,l):this.setCoordinates(l,e)}appendPoint(l){this.flatCoordinates?(0,E.extend)(this.flatCoordinates,l.getFlatCoordinates()):this.flatCoordinates=l.getFlatCoordinates().slice();
this.changed()}clone(){const l=new m(this.flatCoordinates.slice(),this.layout);l.applyProperties(this);return l}closestPointXY(l,e,d,g){if(g<(0,J.closestSquaredDistanceXY)(this.getExtent(),l,e))return g;const h=this.flatCoordinates,k=this.stride;for(let r=0,x=h.length;r<x;r+=k){var n=(0,u.squaredDistance)(l,e,h[r],h[r+1]);if(n<g){g=n;for(n=0;n<k;++n)d[n]=h[r+n];d.length=k}}return g}getCoordinates(){return(0,C.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(l){const e=
this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return 0>l||e<=l?null:new p.default(this.flatCoordinates.slice(l*this.stride,(l+1)*this.stride),this.layout)}getPoints(){const l=this.flatCoordinates,e=this.layout,d=this.stride,g=[];for(let h=0,k=l.length;h<k;h+=d){const n=new p.default(l.slice(h,h+d),e);g.push(n)}return g}getType(){return"MultiPoint"}intersectsExtent(l){const e=this.flatCoordinates,d=this.stride;for(let g=0,h=e.length;g<h;g+=d)if((0,J.containsXY)(l,e[g],e[g+1]))return!0;
return!1}setCoordinates(l,e){this.setLayout(e,l,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,K.deflateCoordinates)(this.flatCoordinates,0,l,this.stride);this.changed()}}const f=m};
shadow$provide[187]=function(X,c,Z,N){function J(E,C,u,p){const m=[];(0,K.createEmpty)();for(let f=0,l=u.length;f<l;++f){const e=u[f];C=(0,K.createOrUpdateFromFlatCoordinates)(E,C,e[0],p);m.push((C[0]+C[2])/2,(C[1]+C[3])/2);C=e[e.length-1]}return m}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},linearRingss:{enumerable:!0,get:function(){return J}}});var K=c(28)};
shadow$provide[188]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return r}}});X=c(186);Z=c(57);N=c(43);var J=c(44),K=c(28),E=c(45),C=c(12),u=c(52),p=c(47),m=c(54),f=c(56),l=c(48),e=c(187),d=c(51),g=c(46);N=c.esmDefault(N);var h=c.esmDefault(Z),k=c.esmDefault(X);class n extends N.default{constructor(x,D,z){super();this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.orientedRevision_=this.maxDeltaRevision_=
this.maxDelta_=-1;this.orientedFlatCoordinates_=null;if(!z&&!Array.isArray(x[0])){D=this.getLayout();const w=x;x=[];z=[];for(let q=0,A=w.length;q<A;++q){const L=w[q];0===q&&(D=L.getLayout());const y=x.length,F=L.getEnds();for(let M=0,T=F.length;M<T;++M)F[M]+=y;(0,C.extend)(x,L.getFlatCoordinates());z.push(F)}}void 0!==D&&z?(this.setFlatCoordinates(D,x),this.endss_=z):this.setCoordinates(x,D)}appendPolygon(x){if(this.flatCoordinates){const D=this.flatCoordinates.length;(0,C.extend)(this.flatCoordinates,
x.getFlatCoordinates());x=x.getEnds().slice();for(let z=0,w=x.length;z<w;++z)x[z]+=D}else this.flatCoordinates=x.getFlatCoordinates().slice(),x=x.getEnds().slice(),this.endss_.push();this.endss_.push(x);this.changed()}clone(){var x=this.endss_.length;const D=Array(x);for(let z=0;z<x;++z)D[z]=this.endss_[z].slice();x=new n(this.flatCoordinates.slice(),this.layout,D);x.applyProperties(this);return x}closestPointXY(x,D,z,w){if(w<(0,K.closestSquaredDistanceXY)(this.getExtent(),x,D))return w;this.maxDeltaRevision_!=
this.getRevision()&&(this.maxDelta_=Math.sqrt((0,J.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,J.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,x,D,z,w)}containsXY(x,D){return(0,d.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,x,D)}getArea(){return(0,l.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(x){let D;
void 0!==x?(D=this.getOrientedFlatCoordinates().slice(),(0,f.orientLinearRingsArray)(D,0,this.endss_,this.stride,x)):D=this.flatCoordinates;return(0,p.inflateMultiCoordinatesArray)(D,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const x=(0,e.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,u.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,
this.stride,x);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new k.default(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const x=this.flatCoordinates;(0,f.linearRingssAreOriented)(x,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=x:(this.orientedFlatCoordinates_=x.slice(),this.orientedFlatCoordinates_.length=(0,f.orientLinearRingsArray)(this.orientedFlatCoordinates_,
0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(x){const D=[],z=[];D.length=(0,g.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(x),D,0,z);return new n(D,"XY",z)}getPolygon(x){if(0>x||this.endss_.length<=x)return null;if(0===x)var D=0;else D=this.endss_[x-1],D=D[D.length-1];x=this.endss_[x].slice();const z=x[x.length-1];if(0!==D)for(let w=0,q=x.length;w<q;++w)x[w]-=D;return new h.default(this.flatCoordinates.slice(D,
z),this.layout,x)}getPolygons(){const x=this.layout,D=this.flatCoordinates,z=this.endss_,w=[];var q=0;for(let A=0,L=z.length;A<L;++A){const y=z[A].slice(),F=y[y.length-1];if(0!==q)for(let M=0,T=y.length;M<T;++M)y[M]-=q;q=new h.default(D.slice(q,F),x,y);w.push(q);q=F}return w}getType(){return"MultiPolygon"}intersectsExtent(x){return(0,m.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,x)}setCoordinates(x,D){this.setLayout(D,x,3);this.flatCoordinates||(this.flatCoordinates=
[]);x=(0,E.deflateMultiCoordinatesArray)(this.flatCoordinates,0,x,this.stride,this.endss_);0===x.length?this.flatCoordinates.length=0:(x=x[x.length-1],this.flatCoordinates.length=0===x.length?0:x[x.length-1]);this.changed()}}const r=n};
shadow$provide[189]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Circle:{enumerable:!0,get:function(){return J.default}},Geometry:{enumerable:!0,get:function(){return K.default}},GeometryCollection:{enumerable:!0,get:function(){return E.default}},LineString:{enumerable:!0,get:function(){return u.default}},LinearRing:{enumerable:!0,get:function(){return C.default}},MultiLineString:{enumerable:!0,get:function(){return p.default}},MultiPoint:{enumerable:!0,get:function(){return m.default}},
MultiPolygon:{enumerable:!0,get:function(){return f.default}},Point:{enumerable:!0,get:function(){return l.default}},Polygon:{enumerable:!0,get:function(){return e.default}},SimpleGeometry:{enumerable:!0,get:function(){return d.default}}});var J=c(183),K=c(42),E=c(184),C=c(49),u=c(63),p=c(185),m=c(186),f=c(188),l=c(50),e=c(57),d=c(43)};
shadow$provide[190]=function(X,c,Z,N){function J(p,m){m=Object.assign({preserveDrawingBuffer:!0,antialias:E.SAFARI_BUG_237906?!1:!0},m);const f=C.length;for(let l=0;l<f;++l)try{const e=p.getContext(C[l],m);if(e)return e}catch(e){}return null}function K(){if(!u){var p=document.createElement("canvas");(p=J(p))&&(u=p.getSupportedExtensions())}return u}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ARRAY_BUFFER:{enumerable:!0,get:function(){return 34962}},DYNAMIC_DRAW:{enumerable:!0,get:function(){return 35048}},
ELEMENT_ARRAY_BUFFER:{enumerable:!0,get:function(){return 34963}},FLOAT:{enumerable:!0,get:function(){return 5126}},STATIC_DRAW:{enumerable:!0,get:function(){return 35044}},STREAM_DRAW:{enumerable:!0,get:function(){return 35040}},UNSIGNED_BYTE:{enumerable:!0,get:function(){return 5121}},UNSIGNED_INT:{enumerable:!0,get:function(){return 5125}},UNSIGNED_SHORT:{enumerable:!0,get:function(){return 5123}},getContext:{enumerable:!0,get:function(){return J}},getSupportedExtensions:{enumerable:!0,get:function(){return K}}});
var E=c(25);const C=["experimental-webgl","webgl","webkit-3d","moz-webgl"];let u};
shadow$provide[191]=function(X,c,Z,N){function J(m){switch(m){case K.ARRAY_BUFFER:return Float32Array;case K.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},BufferUsage:{enumerable:!0,get:function(){return C}},default:{enumerable:!0,get:function(){return p}},getArrayClassForType:{enumerable:!0,get:function(){return J}}});var K=c(190),E=c(23);const C={STATIC_DRAW:K.STATIC_DRAW,STREAM_DRAW:K.STREAM_DRAW,DYNAMIC_DRAW:K.DYNAMIC_DRAW};
class u{constructor(m,f){this.array=null;this.type=m;(0,E.assert)(m===K.ARRAY_BUFFER||m===K.ELEMENT_ARRAY_BUFFER,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`");this.usage=void 0!==f?f:C.STATIC_DRAW}ofSize(m){this.array=new (J(this.type))(m);return this}fromArray(m){this.array=J(this.type).from(m);return this}fromArrayBuffer(m){this.array=new (J(this.type))(m);return this}getType(){return this.type}getArray(){return this.array}getUsage(){return this.usage}getSize(){return this.array?
this.array.length:0}}const p=u};
shadow$provide[192]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[193]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});var J=c(19);class K{constructor(C){const u=this.gl_=C.webGlContext;this.scaleRatio_=C.scaleRatio||1;this.renderTargetTexture_=u.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=u.createFramebuffer();this.depthBuffer_=u.createRenderbuffer();const p=u.createShader(u.VERTEX_SHADER);u.shaderSource(p,C.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
u.compileShader(p);const m=u.createShader(u.FRAGMENT_SHADER);u.shaderSource(m,C.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord) * u_opacity;\n  }\n");u.compileShader(m);this.renderTargetProgram_=u.createProgram();u.attachShader(this.renderTargetProgram_,p);u.attachShader(this.renderTargetProgram_,m);u.linkProgram(this.renderTargetProgram_);
this.renderTargetVerticesBuffer_=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),u.STATIC_DRAW);this.renderTargetAttribLocation_=u.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=u.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetOpacityLocation_=u.getUniformLocation(this.renderTargetProgram_,"u_opacity");this.renderTargetTextureLocation_=
u.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];C.uniforms&&Object.keys(C.uniforms).forEach(f=>{this.uniforms_.push({value:C.uniforms[f],location:u.getUniformLocation(this.renderTargetProgram_,f)})})}getGL(){return this.gl_}init(C){C=this.getGL();const u=[C.drawingBufferWidth*this.scaleRatio_,C.drawingBufferHeight*this.scaleRatio_];C.bindFramebuffer(C.FRAMEBUFFER,this.getFrameBuffer());C.bindRenderbuffer(C.RENDERBUFFER,this.getDepthBuffer());C.viewport(0,0,u[0],u[1]);if(!this.renderTargetTextureSize_||
this.renderTargetTextureSize_[0]!==u[0]||this.renderTargetTextureSize_[1]!==u[1]){this.renderTargetTextureSize_=u;const p=C.RGBA,m=C.RGBA,f=C.UNSIGNED_BYTE;C.bindTexture(C.TEXTURE_2D,this.renderTargetTexture_);C.texImage2D(C.TEXTURE_2D,0,p,u[0],u[1],0,m,f,null);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.LINEAR);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE);C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,
C.TEXTURE_2D,this.renderTargetTexture_,0);C.renderbufferStorage(C.RENDERBUFFER,C.DEPTH_COMPONENT16,u[0],u[1]);C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_ATTACHMENT,C.RENDERBUFFER,this.depthBuffer_)}}apply(C,u,p,m){const f=this.getGL(),l=C.size;f.bindFramebuffer(f.FRAMEBUFFER,u?u.getFrameBuffer():null);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,this.renderTargetTexture_);if(!u&&(u=(0,J.getUid)(f.canvas),!C.renderTargets[u])){const e=f.getContextAttributes();e&&e.preserveDrawingBuffer&&
(f.clearColor(0,0,0,0),f.clearDepth(1),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT));C.renderTargets[u]=!0}f.disable(f.DEPTH_TEST);f.enable(f.BLEND);f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight);f.bindBuffer(f.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);f.useProgram(this.renderTargetProgram_);f.enableVertexAttribArray(this.renderTargetAttribLocation_);f.vertexAttribPointer(this.renderTargetAttribLocation_,2,f.FLOAT,!1,0,0);f.uniform2f(this.renderTargetUniformLocation_,
l[0],l[1]);f.uniform1i(this.renderTargetTextureLocation_,0);f.uniform1f(this.renderTargetOpacityLocation_,C.layerStatesArray[C.layerIndex].opacity);this.applyUniforms(C);p&&p(f,C);f.drawArrays(f.TRIANGLES,0,6);m&&m(f,C)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(C){const u=this.getGL();let p,m=1;this.uniforms_.forEach(function(f){p="function"===typeof f.value?f.value(C):f.value;if(p instanceof HTMLCanvasElement||p instanceof ImageData)f.texture||
(f.texture=u.createTexture()),u.activeTexture(u[`TEXTURE${m}`]),u.bindTexture(u.TEXTURE_2D,f.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),p instanceof ImageData?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,p.width,p.height,0,u.UNSIGNED_BYTE,new Uint8Array(p.data)):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,p),u.uniform1i(f.location,m++);
else if(Array.isArray(p))switch(p.length){case 2:u.uniform2f(f.location,p[0],p[1]);break;case 3:u.uniform3f(f.location,p[0],p[1],p[2]);break;case 4:u.uniform4f(f.location,p[0],p[1],p[2],p[3])}else"number"===typeof p&&u.uniform1f(f.location,p)})}}const E=K};
shadow$provide[194]=function(X,c,Z,N){function J(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function K(E,C){E[0]=C[0];E[1]=C[1];E[4]=C[2];E[5]=C[3];E[12]=C[4];E[13]=C[5];return E}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},create:{enumerable:!0,get:function(){return J}},fromTransform:{enumerable:!0,get:function(){return K}}})};
shadow$provide[195]=function(X,c,Z,N){function J(){const z="unique/"+r;r+=1;return z}function K(z){var w=n[z];w||(w=document.createElement("canvas"),w.width=1,w.height=1,w.style.position="absolute",w.style.left="0",w={users:0,context:(0,u.getContext)(w)},n[z]=w);w.users+=1;return w.context}function E(z){let w=0;for(let q=0;q<z.length;q++){const A=z[q];w+=A.size*C(A.type)}return w}function C(z){switch(z){case k.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case k.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;
case k.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},AttributeType:{enumerable:!0,get:function(){return k}},DefaultUniform:{enumerable:!0,get:function(){return h}},ShaderType:{enumerable:!0,get:function(){return g}},computeAttributesStride:{enumerable:!0,get:function(){return E}},default:{enumerable:!0,get:function(){return D}}});X=c(192);Z=c(11);N=c(193);var u=c(190),p=c(14),m=c(26),
f=c(194),l=c(19),e=c.esmDefault(N);Z=c.esmDefault(Z);var d=c.esmDefault(X);const g={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633},h={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},k={UNSIGNED_BYTE:u.UNSIGNED_BYTE,UNSIGNED_SHORT:u.UNSIGNED_SHORT,UNSIGNED_INT:u.UNSIGNED_INT,FLOAT:u.FLOAT},n={};let r=
0;class x extends Z.default{constructor(z){super();z=z||{};this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this);this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this);this.canvasCacheKey_=z.canvasCacheKey?"shared/"+z.canvasCacheKey:J();this.gl_=K(this.canvasCacheKey_);this.bufferCache_={};this.extensionCache_={};this.currentProgram_=null;this.needsToBeRecreated_=!1;const w=this.gl_.canvas;w.addEventListener(d.default.LOST,this.boundHandleWebGLContextLost_);
w.addEventListener(d.default.RESTORED,this.boundHandleWebGLContextRestored_);this.offsetRotateMatrix_=(0,m.create)();this.offsetScaleMatrix_=(0,m.create)();this.tmpMat4_=(0,f.create)();this.uniformLocationsByProgram_={};this.attribLocationsByProgram_={};this.uniforms_=[];z.uniforms&&this.setUniforms(z.uniforms);this.postProcessPasses_=z.postProcesses?z.postProcesses.map(q=>new e.default({webGlContext:this.gl_,scaleRatio:q.scaleRatio,vertexShader:q.vertexShader,fragmentShader:q.fragmentShader,uniforms:q.uniforms})):
[new e.default({webGlContext:this.gl_})];this.shaderCompileErrors_=null;this.startTime_=Date.now()}setUniforms(z){this.uniforms_=[];this.addUniforms(z)}addUniforms(z){for(const w in z)this.uniforms_.push({name:w,value:z[w]})}canvasCacheKeyMatches(z){return this.canvasCacheKey_==="shared/"+z}getExtension(z){if(z in this.extensionCache_)return this.extensionCache_[z];const w=this.gl_.getExtension(z);return this.extensionCache_[z]=w}bindBuffer(z){const w=this.gl_,q=(0,l.getUid)(z);var A=this.bufferCache_[q];
A||(A=w.createBuffer(),A={buffer:z,webGlBuffer:A},this.bufferCache_[q]=A);w.bindBuffer(z.getType(),A.webGlBuffer)}flushBufferData(z){const w=this.gl_;this.bindBuffer(z);w.bufferData(z.getType(),z.getArray(),z.getUsage())}deleteBuffer(z){const w=this.gl_;z=(0,l.getUid)(z);const q=this.bufferCache_[z];q&&!w.isContextLost()&&w.deleteBuffer(q.webGlBuffer);delete this.bufferCache_[z]}disposeInternal(){var z=this.gl_.canvas;z.removeEventListener(d.default.LOST,this.boundHandleWebGLContextLost_);z.removeEventListener(d.default.RESTORED,
this.boundHandleWebGLContextRestored_);z=this.canvasCacheKey_;var w=n[z];if(w&&(--w.users,!(0<w.users))){w=w.context;var q=w.getExtension("WEBGL_lose_context");q&&q.loseContext();w=w.canvas;w.width=1;w.height=1;delete n[z]}delete this.gl_}prepareDraw(z,w,q){const A=this.gl_;var L=this.getCanvas();const y=z.size,F=z.pixelRatio;if(L.width!==y[0]*F||L.height!==y[1]*F)L.width=y[0]*F,L.height=y[1]*F,L.style.width=y[0]+"px",L.style.height=y[1]+"px";for(L=this.postProcessPasses_.length-1;0<=L;L--)this.postProcessPasses_[L].init(z);
A.bindTexture(A.TEXTURE_2D,null);A.clearColor(0,0,0,0);A.depthRange(0,1);A.clearDepth(1);A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT);A.enable(A.BLEND);A.blendFunc(A.ONE,w?A.ZERO:A.ONE_MINUS_SRC_ALPHA);q?(A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL)):A.disable(A.DEPTH_TEST)}bindTexture(z,w,q){const A=this.gl_;A.activeTexture(A.TEXTURE0+w);A.bindTexture(A.TEXTURE_2D,z);A.uniform1i(this.getUniformLocation(q),w)}prepareDrawToRenderTarget(z,w,q,A){z=this.gl_;const L=w.getSize();z.bindFramebuffer(z.FRAMEBUFFER,
w.getFramebuffer());z.bindRenderbuffer(z.RENDERBUFFER,w.getDepthbuffer());z.viewport(0,0,L[0],L[1]);z.bindTexture(z.TEXTURE_2D,w.getTexture());z.clearColor(0,0,0,0);z.depthRange(0,1);z.clearDepth(1);z.clear(z.COLOR_BUFFER_BIT|z.DEPTH_BUFFER_BIT);z.enable(z.BLEND);z.blendFunc(z.ONE,q?z.ZERO:z.ONE_MINUS_SRC_ALPHA);A?(z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL)):z.disable(z.DEPTH_TEST)}drawElements(z,w){const q=this.gl_;this.getExtension("OES_element_index_uint");q.drawElements(q.TRIANGLES,w-z,q.UNSIGNED_INT,
4*z)}finalizeDraw(z,w,q){for(let A=0,L=this.postProcessPasses_.length;A<L;A++)A===L-1?this.postProcessPasses_[A].apply(z,null,w,q):this.postProcessPasses_[A].apply(z,this.postProcessPasses_[A+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(z){const w=z.size,q=z.viewState.rotation,A=z.pixelRatio;this.setUniformFloatValue(h.TIME,.001*(Date.now()-this.startTime_));this.setUniformFloatValue(h.ZOOM,z.viewState.zoom);this.setUniformFloatValue(h.RESOLUTION,z.viewState.resolution);
this.setUniformFloatValue(h.PIXEL_RATIO,A);this.setUniformFloatVec2(h.VIEWPORT_SIZE_PX,[w[0],w[1]]);this.setUniformFloatValue(h.ROTATION,q)}applyHitDetectionUniform(z){const w=this.getUniformLocation(h.HIT_DETECTION);this.getGL().uniform1i(w,z?1:0);z&&this.setUniformFloatValue(h.PIXEL_RATIO,.5)}applyUniforms(z){const w=this.gl_;let q,A=0;this.uniforms_.forEach(L=>{q="function"===typeof L.value?L.value(z):L.value;if(q instanceof HTMLCanvasElement||q instanceof HTMLImageElement||q instanceof ImageData)L.texture||
(L.prevValue=void 0,L.texture=w.createTexture()),this.bindTexture(L.texture,A,L.name),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),q instanceof HTMLImageElement&&!q.complete||L.prevValue===q||(L.prevValue=q,w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,q)),A++;else if(Array.isArray(q)&&6===q.length)this.setUniformMatrixValue(L.name,(0,f.fromTransform)(this.tmpMat4_,
q));else if(Array.isArray(q)&&4>=q.length)switch(q.length){case 2:w.uniform2f(this.getUniformLocation(L.name),q[0],q[1]);break;case 3:w.uniform3f(this.getUniformLocation(L.name),q[0],q[1],q[2]);break;case 4:w.uniform4f(this.getUniformLocation(L.name),q[0],q[1],q[2],q[3])}else"number"===typeof q&&w.uniform1f(this.getUniformLocation(L.name),q)})}useProgram(z,w){this.gl_.useProgram(z);this.currentProgram_=z;this.applyFrameState(w);this.applyUniforms(w)}compileShader(z,w){const q=this.gl_;w=q.createShader(w);
q.shaderSource(w,z);q.compileShader(w);return w}getProgram(z,w){var q=this.gl_;z=this.compileShader(z,q.FRAGMENT_SHADER);w=this.compileShader(w,q.VERTEX_SHADER);const A=q.createProgram();q.attachShader(A,z);q.attachShader(A,w);q.linkProgram(A);if(!q.getShaderParameter(z,q.COMPILE_STATUS))throw q=`Fragment shader compilation failed: ${q.getShaderInfoLog(z)}`,Error(q);q.deleteShader(z);if(!q.getShaderParameter(w,q.COMPILE_STATUS))throw q=`Vertex shader compilation failed: ${q.getShaderInfoLog(w)}`,
Error(q);q.deleteShader(w);if(!q.getProgramParameter(A,q.LINK_STATUS))throw q=`GL program linking failed: ${q.getProgramInfoLog(A)}`,Error(q);return A}getUniformLocation(z){const w=(0,l.getUid)(this.currentProgram_);void 0===this.uniformLocationsByProgram_[w]&&(this.uniformLocationsByProgram_[w]={});void 0===this.uniformLocationsByProgram_[w][z]&&(this.uniformLocationsByProgram_[w][z]=this.gl_.getUniformLocation(this.currentProgram_,z));return this.uniformLocationsByProgram_[w][z]}getAttributeLocation(z){const w=
(0,l.getUid)(this.currentProgram_);void 0===this.attribLocationsByProgram_[w]&&(this.attribLocationsByProgram_[w]={});void 0===this.attribLocationsByProgram_[w][z]&&(this.attribLocationsByProgram_[w][z]=this.gl_.getAttribLocation(this.currentProgram_,z));return this.attribLocationsByProgram_[w][z]}makeProjectionTransform(z,w){const q=z.size,A=z.viewState.resolution,L=z.viewState.center;(0,m.compose)(w,0,0,2/(A*q[0]),2/(A*q[1]),-z.viewState.rotation,-L[0],-L[1]);return w}setUniformFloatValue(z,w){this.gl_.uniform1f(this.getUniformLocation(z),
w)}setUniformFloatVec2(z,w){this.gl_.uniform2fv(this.getUniformLocation(z),w)}setUniformFloatVec4(z,w){this.gl_.uniform4fv(this.getUniformLocation(z),w)}setUniformMatrixValue(z,w){this.gl_.uniformMatrix4fv(this.getUniformLocation(z),!1,w)}enableAttributeArray_(z,w,q,A,L){z=this.getAttributeLocation(z);0>z||(this.gl_.enableVertexAttribArray(z),this.gl_.vertexAttribPointer(z,w,q,!1,A,L))}enableAttributes(z){const w=E(z);let q=0;for(let A=0;A<z.length;A++){const L=z[A];this.enableAttributeArray_(L.name,
L.size,L.type||u.FLOAT,w,q);q+=L.size*C(L.type)}}handleWebGLContextLost(z){(0,p.clear)(this.bufferCache_);this.currentProgram_=null;z.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(z,w,q){const A=this.gl_;q=q||A.createTexture();const L=A.RGBA,y=A.RGBA,F=A.UNSIGNED_BYTE;A.bindTexture(A.TEXTURE_2D,q);w?A.texImage2D(A.TEXTURE_2D,0,L,y,F,w):A.texImage2D(A.TEXTURE_2D,0,L,z[0],z[1],0,y,F,null);A.texParameteri(A.TEXTURE_2D,
A.TEXTURE_MIN_FILTER,A.LINEAR);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE);return q}}const D=x};
shadow$provide[196]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return l}}});Z=c(77);N=c(107);var J=c(108);X=c(59);var K=c(195),E=c(26),C=c.esmDefault(Z),u=c.esmDefault(J),p=c.esmDefault(K);Z=c.esmDefault(N);var m=c.esmDefault(X);class f extends Z.default{constructor(e,d){super(e);d=d||{};this.inversePixelTransform_=(0,E.create)();this.pixelContext_=null;this.postProcesses_=d.postProcesses;this.uniforms_=d.uniforms;this.helper;
e.addChangeListener(C.default.MAP,this.removeHelper.bind(this));this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this);this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,d){const g=this.getLayer();g.hasListener(m.default.PRECOMPOSE)&&(e=new u.default(m.default.PRECOMPOSE,void 0,d,e),g.dispatchEvent(e))}dispatchPostComposeEvent(e,d){const g=this.getLayer();g.hasListener(m.default.POSTCOMPOSE)&&(e=new u.default(m.default.POSTCOMPOSE,void 0,
d,e),g.dispatchEvent(e))}reset(e){this.uniforms_=e.uniforms;this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){var d=!0;let h=-1,k;for(let n=0,r=e.layerStatesArray.length;n<r;n++){var g=e.layerStatesArray[n].layer;const x=g.getRenderer();if(x instanceof f){g=g.getClassName();if(d||g!==k)h+=1,d=!1;k=g;if(x===this)break}else d=!0}d="map/"+e.mapId+"/group/"+h;this.helper&&this.helper.canvasCacheKeyMatches(d)&&
!this.helper.needsToBeRecreated()||(this.removeHelper(),this.helper=new p.default({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:d}),k&&(this.helper.getCanvas().className=k),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}disposeInternal(){this.removeHelper();super.disposeInternal()}dispatchRenderEvent_(e,d,g){const h=this.getLayer();h.hasListener(e)&&((0,E.compose)(this.inversePixelTransform_,0,0,g.pixelRatio,
-g.pixelRatio,0,0,-g.size[1]),e=new u.default(e,this.inversePixelTransform_,g,d),h.dispatchEvent(e))}preRender(e,d){this.dispatchRenderEvent_(m.default.PRERENDER,e,d)}postRender(e,d){this.dispatchRenderEvent_(m.default.POSTRENDER,e,d)}}const l=f};
shadow$provide[197]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});var J=c(12);const K=new Uint8Array(4);class E{constructor(u,p){this.helper_=u;u=u.getGL();this.texture_=u.createTexture();this.framebuffer_=u.createFramebuffer();this.depthbuffer_=u.createRenderbuffer();this.size_=p||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}setSize(u){(0,J.equals)(u,this.size_)||(this.size_[0]=
u[0],this.size_[1]=u[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const u=this.size_,p=this.helper_.getGL();p.bindFramebuffer(p.FRAMEBUFFER,this.framebuffer_);p.readPixels(0,0,u[0],u[1],p.RGBA,p.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_}readPixel(u,p){if(0>u||0>p||u>this.size_[0]||p>=this.size_[1])return K[0]=0,K[1]=0,K[2]=0,K[3]=0,K;this.readAll();u=Math.floor(u)+(this.size_[1]-Math.floor(p)-
1)*this.size_[0];K[0]=this.data_[4*u];K[1]=this.data_[4*u+1];K[2]=this.data_[4*u+2];K[3]=this.data_[4*u+3];return K}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const u=this.size_,p=this.helper_.getGL();this.texture_=this.helper_.createTexture(u,null,this.texture_);p.bindFramebuffer(p.FRAMEBUFFER,this.framebuffer_);p.viewport(0,0,u[0],u[1]);p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,this.texture_,
0);p.bindRenderbuffer(p.RENDERBUFFER,this.depthbuffer_);p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_COMPONENT16,u[0],u[1]);p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,this.depthbuffer_);this.data_=new Uint8Array(u[0]*u[1]*4)}}const C=E};
shadow$provide[198]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},WebGLWorkerMessageType:{enumerable:!0,get:function(){return J}}});const J={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"}};
shadow$provide[199]=function(X,c,Z,N){function J(w,q,A){A=A||2;var L=q&&q.length,y=L?q[0]*A:w.length,F=K(w,0,y,A,!0),M=[];if(!F||F.next===F.prev)return M;var T;if(L){var Q=F;var S=A;F=[];var W;L=0;for(W=q.length;L<W;L++){var ca=q[L]*S;var B=L<W-1?q[L+1]*S:w.length;ca=K(w,ca,B,S,!1);ca===ca.next&&(ca.steiner=!0);B=F;var v=B.push,I=ca,O=ca;do{if(I.x<O.x||I.x===O.x&&I.y<O.y)O=I;I=I.next}while(I!==ca);v.call(B,O)}F.sort(p);for(L=0;L<F.length;L++){S=void 0;q=F[L];b:{W=Q;ca=q.x;B=q.y;v=-Infinity;do{if(B<=
W.y&&B>=W.next.y&&W.next.y!==W.y&&(I=W.x+(B-W.y)*(W.next.x-W.x)/(W.next.y-W.y),I<=ca&&I>v&&(v=I,S=W.x<W.next.x?W:W.next,I===ca)))break b;W=W.next}while(W!==Q);if(S){O=S;var ea=S.x,la=S.y,va=Infinity;W=S;do{if(ca>=W.x&&W.x>=ea&&ca!==W.x&&f(B<la?ca:v,B,ea,la,B<la?v:ca,B,W.x,W.y)){I=Math.abs(B-W.y)/(ca-W.x);var Da;if((Da=k(W,q))&&!(Da=I<va)&&(Da=I===va)&&!(Da=W.x>S.x)&&(Da=W.x===S.x)){Da=S;var Ya=W;Da=0>l(Da.prev,Da,Ya.prev)&&0>l(Ya.next,Da,Da.next)}Da&&(S=W,va=I)}W=W.next}while(W!==O)}else S=null}S&&
(q=n(S,q),E(q,q.next),Q=E(S,S.next))}F=Q}if(w.length>80*A){var Za=T=w[0];var gb=L=w[1];for(Q=A;Q<y;Q+=A)q=w[Q],S=w[Q+1],q<Za&&(Za=q),S<gb&&(gb=S),q>T&&(T=q),S>L&&(L=S);T=Math.max(T-Za,L-gb);T=0!==T?32767/T:0}C(F,M,A,Za,gb,T,0);return M}function K(w,q,A,L,y){if(y===0<z(w,q,A,L))for(y=q;y<A;y+=L)var F=r(y,w[y],w[y+1],F);else for(y=A-L;y>=q;y-=L)F=r(y,w[y],w[y+1],F);F&&e(F,F.next)&&(x(F),F=F.next);return F}function E(w,q){if(!w)return w;q||(q=w);do{var A=!1;if(w.steiner||!e(w,w.next)&&0!==l(w.prev,w,
w.next))w=w.next;else{x(w);w=q=w.prev;if(w===w.next)break;A=!0}}while(A||w!==q);return q}function C(w,q,A,L,y,F,M){if(w){if(!M&&F){var T=w,Q=T;do 0===Q.z&&(Q.z=m(Q.x,Q.y,L,y,F)),Q.prevZ=Q.prev,Q=Q.nextZ=Q.next;while(Q!==T);Q.prevZ.nextZ=null;Q.prevZ=null;T=Q;var S,W,ca,B,v=1;do{Q=T;var I=T=null;for(W=0;Q;){W++;var O=Q;for(S=ca=0;S<v&&(ca++,O=O.nextZ,O);S++);for(B=v;0<ca||0<B&&O;)0!==ca&&(0===B||!O||Q.z<=O.z)?(S=Q,Q=Q.nextZ,ca--):(S=O,O=O.nextZ,B--),I?I.nextZ=S:T=S,S.prevZ=I,I=S;Q=O}I.nextZ=null;v*=
2}while(1<W)}for(T=w;w.prev!==w.next;){Q=w.prev;O=w.next;if(F)I=u(w,L,y,F);else a:{I=w.prev;var ea=w;B=w.next;if(0<=l(I,ea,B))I=!1;else{W=I.x;ca=ea.x;v=B.x;S=I.y;ea=ea.y;var la=B.y,va=W<ca?W<v?W:v:ca<v?ca:v,Da=S<ea?S<la?S:la:ea<la?ea:la,Ya=W>ca?W>v?W:v:ca>v?ca:v,Za=S>ea?S>la?S:la:ea>la?ea:la;for(B=B.next;B!==I;){if(B.x>=va&&B.x<=Ya&&B.y>=Da&&B.y<=Za&&f(W,S,ca,ea,v,la,B.x,B.y)&&0<=l(B.prev,B,B.next)){I=!1;break a}B=B.next}I=!0}}if(I)q.push(Q.i/A|0),q.push(w.i/A|0),q.push(O.i/A|0),x(w),T=w=O.next;else if(w=
O,w===T){if(!M)C(E(w),q,A,L,y,F,1);else if(1===M){w=E(w);M=q;T=A;Q=w;do O=Q.prev,I=Q.next.next,!e(O,I)&&d(O,Q,Q.next,I)&&k(O,I)&&k(I,O)&&(M.push(O.i/T|0),M.push(Q.i/T|0),M.push(I.i/T|0),x(Q),x(Q.next),Q=w=I),Q=Q.next;while(Q!==w);w=E(Q);C(w,q,A,L,y,F,2)}else if(2===M)a:{M=w;do{for(T=M.next.next;T!==M.prev;){if(Q=M.i!==T.i){Q=M;O=T;if(I=Q.next.i!==O.i&&Q.prev.i!==O.i){b:{I=Q;do{if(I.i!==Q.i&&I.next.i!==Q.i&&I.i!==O.i&&I.next.i!==O.i&&d(I,I.next,Q,O)){I=!0;break b}I=I.next}while(I!==Q);I=!1}I=!I}if(I){if(I=
k(Q,O)&&k(O,Q)){I=Q;W=!1;ca=(Q.x+O.x)/2;v=(Q.y+O.y)/2;do I.y>v!==I.next.y>v&&I.next.y!==I.y&&ca<(I.next.x-I.x)*(v-I.y)/(I.next.y-I.y)+I.x&&(W=!W),I=I.next;while(I!==Q);I=W}I=I&&(l(Q.prev,Q,O.prev)||l(Q,O.prev,O))||e(Q,O)&&0<l(Q.prev,Q,Q.next)&&0<l(O.prev,O,O.next)}Q=I}if(Q){w=n(M,T);M=E(M,M.next);w=E(w,w.next);C(M,q,A,L,y,F,0);C(w,q,A,L,y,F,0);break a}T=T.next}M=M.next}while(M!==w)}break}}}}function u(w,q,A,L){var y=w.prev,F=w.next;if(0<=l(y,w,F))return!1;var M=y.x,T=w.x,Q=F.x,S=y.y,W=w.y,ca=F.y,
B=M<T?M<Q?M:Q:T<Q?T:Q,v=S<W?S<ca?S:ca:W<ca?W:ca,I=M>T?M>Q?M:Q:T>Q?T:Q,O=S>W?S>ca?S:ca:W>ca?W:ca,ea=m(B,v,q,A,L);q=m(I,O,q,A,L);A=w.prevZ;for(w=w.nextZ;A&&A.z>=ea&&w&&w.z<=q;){if(A.x>=B&&A.x<=I&&A.y>=v&&A.y<=O&&A!==y&&A!==F&&f(M,S,T,W,Q,ca,A.x,A.y)&&0<=l(A.prev,A,A.next))return!1;A=A.prevZ;if(w.x>=B&&w.x<=I&&w.y>=v&&w.y<=O&&w!==y&&w!==F&&f(M,S,T,W,Q,ca,w.x,w.y)&&0<=l(w.prev,w,w.next))return!1;w=w.nextZ}for(;A&&A.z>=ea;){if(A.x>=B&&A.x<=I&&A.y>=v&&A.y<=O&&A!==y&&A!==F&&f(M,S,T,W,Q,ca,A.x,A.y)&&0<=l(A.prev,
A,A.next))return!1;A=A.prevZ}for(;w&&w.z<=q;){if(w.x>=B&&w.x<=I&&w.y>=v&&w.y<=O&&w!==y&&w!==F&&f(M,S,T,W,Q,ca,w.x,w.y)&&0<=l(w.prev,w,w.next))return!1;w=w.nextZ}return!0}function p(w,q){return w.x-q.x}function m(w,q,A,L,y){w=(w-A)*y|0;q=(q-L)*y|0;w=(w|w<<8)&16711935;w=(w|w<<4)&252645135;w=(w|w<<2)&858993459;q=(q|q<<8)&16711935;q=(q|q<<4)&252645135;q=(q|q<<2)&858993459;return(w|w<<1)&1431655765|((q|q<<1)&1431655765)<<1}function f(w,q,A,L,y,F,M,T){return(y-M)*(q-T)>=(w-M)*(F-T)&&(w-M)*(L-T)>=(A-M)*
(q-T)&&(A-M)*(F-T)>=(y-M)*(L-T)}function l(w,q,A){return(q.y-w.y)*(A.x-q.x)-(q.x-w.x)*(A.y-q.y)}function e(w,q){return w.x===q.x&&w.y===q.y}function d(w,q,A,L){var y=h(l(w,q,A)),F=h(l(w,q,L)),M=h(l(A,L,w)),T=h(l(A,L,q));return y!==F&&M!==T||0===y&&g(w,A,q)||0===F&&g(w,L,q)||0===M&&g(A,w,L)||0===T&&g(A,q,L)?!0:!1}function g(w,q,A){return q.x<=Math.max(w.x,A.x)&&q.x>=Math.min(w.x,A.x)&&q.y<=Math.max(w.y,A.y)&&q.y>=Math.min(w.y,A.y)}function h(w){return 0<w?1:0>w?-1:0}function k(w,q){return 0>l(w.prev,
w,w.next)?0<=l(w,q,w.next)&&0<=l(w,w.prev,q):0>l(w,q,w.prev)||0>l(w,w.next,q)}function n(w,q){var A=new D(w.i,w.x,w.y),L=new D(q.i,q.x,q.y),y=w.next,F=q.prev;w.next=q;q.prev=w;A.next=y;y.prev=A;L.next=A;A.prev=L;F.next=L;L.prev=F;return L}function r(w,q,A,L){w=new D(w,q,A);L?(w.next=L.next,w.prev=L,L.next.prev=w,L.next=w):(w.prev=w,w.next=w);return w}function x(w){w.next.prev=w.prev;w.prev.next=w.next;w.prevZ&&(w.prevZ.nextZ=w.nextZ);w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function D(w,q,A){this.i=w;this.x=
q;this.y=A;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function z(w,q,A,L){for(var y=0,F=A-L;q<A;q+=L)y+=(w[F]-w[q])*(w[q+1]+w[F+1]),F=q;return y}Z.exports=J;Z.exports.default=J;J.deviation=function(w,q,A,L){var y=q&&q.length,F=Math.abs(z(w,0,y?q[0]*A:w.length,A));if(y){y=0;for(var M=q.length;y<M;y++)F-=Math.abs(z(w,q[y]*A,y<M-1?q[y+1]*A:w.length,A))}for(y=q=0;y<L.length;y+=3){M=L[y]*A;var T=L[y+1]*A,Q=L[y+2]*A;q+=Math.abs((w[M]-w[Q])*(w[T+1]-w[M+1])-(w[M]-w[T])*(w[Q+
1]-w[M+1]))}return 0===F&&0===q?0:Math.abs((q-F)/F)};J.flatten=function(w){for(var q=w[0][0].length,A={vertices:[],holes:[],dimensions:q},L=0,y=0;y<w.length;y++){for(var F=0;F<w[y].length;F++)for(var M=0;M<q;M++)A.vertices.push(w[y][F][M]);0<y&&(L+=w[y-1].length,A.holes.push(L))}return A}};
shadow$provide[200]=function(X,c,Z,N){function J(h,k,n,r,x){h[k+0]=n;h[k+1]=r;h[k+2]=x}function K(h,k,n,r,x,D){const z=3+x,w=h[k+0],q=h[k+1],A=d;A.length=x;for(x=0;x<A.length;x++)A[x]=h[k+2+x];h=D?D.vertexPosition:0;D=D?D.indexPosition:0;k=h/z;J(n,h,w,q,0);A.length&&n.set(A,h+3);h+=z;J(n,h,w,q,1);A.length&&n.set(A,h+3);h+=z;J(n,h,w,q,2);A.length&&n.set(A,h+3);h+=z;J(n,h,w,q,3);A.length&&n.set(A,h+3);r[D++]=k;r[D++]=k+1;r[D++]=k+3;r[D++]=k+1;r[D++]=k+2;r[D++]=k+3;g.vertexPosition=h+z;g.indexPosition=
D;return g}function E(h,k,n,r,x,D,z,w,q,A){function L(W,ca,B){var v=Math.sqrt((ca[0]-W[0])*(ca[0]-W[0])+(ca[1]-W[1])*(ca[1]-W[1]));const I=[(ca[0]-W[0])/v,(ca[1]-W[1])/v];ca=[-I[1],I[0]];const O=Math.sqrt((B[0]-W[0])*(B[0]-W[0])+(B[1]-W[1])*(B[1]-W[1]));W=[(B[0]-W[0])/O,(B[1]-W[1])/O];v=0===v||0===O?0:Math.acos((0,l.clamp)(W[0]*I[0]+W[1]*I[1],-1,1));return 0<W[0]*ca[0]+W[1]*ca[1]?v:2*Math.PI-v}const y=D.length/(8+w.length);k=[h[k+0],h[k+1]];n=[h[n],h[n+1]];const F=(0,f.apply)(q,[...k]),M=(0,f.apply)(q,
[...n]);let T=-1,Q=-1;const S=null!==x;null!==r&&(r=(0,f.apply)(q,[h[r],h[r+1]]),T=L(F,M,r));S&&(h=(0,f.apply)(q,[h[x],h[x+1]]),Q=L(M,F,h));D.push(k[0],k[1],n[0],n[1],T,Q,A,0);D.push(...w);D.push(k[0],k[1],n[0],n[1],T,Q,A,1);D.push(...w);D.push(k[0],k[1],n[0],n[1],T,Q,A,2);D.push(...w);D.push(k[0],k[1],n[0],n[1],T,Q,A,3);D.push(...w);z.push(y,y+1,y+2,y+1,y+3,y+2);return A+Math.sqrt((M[0]-F[0])*(M[0]-F[0])+(M[1]-F[1])*(M[1]-F[1]))}function C(h,k,n,r,x){const D=2+x,z=h.slice(k,k+x);k+=x;var w=h[k++];
x=0;var q=Array(w-1);for(let A=0;A<w;A++)x+=h[k++],A<w-1&&(q[A]=x);h=h.slice(k,k+2*x);q=(0,e.default)(h,q,2);for(w=0;w<q.length;w++)r.push(q[w]+n.length/D);for(r=0;r<h.length;r+=2)n.push(h[r],h[r+1],...z);return k+2*x}function u(){const h=document.createElement("canvas").getContext("2d").createImageData(1,1);h.data[0]=255;h.data[1]=255;h.data[2]=255;h.data[3]=255;return h}function p(h,k){k=k||[];k[0]=Math.floor(h/256/256/256)/255;k[1]=Math.floor(h/256/256)%256/255;k[2]=Math.floor(h/256)%256/255;k[3]=
h%256/255;return k}function m(h){let k;k=0+Math.round(4278190080*h[0]);k+=Math.round(16711680*h[1]);k+=Math.round(65280*h[2]);return k+=Math.round(255*h[3])}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},colorDecodeId:{enumerable:!0,get:function(){return m}},colorEncodeId:{enumerable:!0,get:function(){return p}},getBlankImageData:{enumerable:!0,get:function(){return u}},writeLineSegmentToBuffers:{enumerable:!0,get:function(){return E}},writePointFeatureToBuffers:{enumerable:!0,get:function(){return K}},
writePolygonTrianglesToBuffers:{enumerable:!0,get:function(){return C}}});X=c(199);var f=c(26),l=c(35),e=c.esmDefault(X);const d=[],g={vertexPosition:0,indexPosition:0}};
shadow$provide[201]=function(X,c,Z,N){function J(u){var p=u.length;if(0<p%4)throw Error("Invalid string. Length must be a multiple of 4");u=u.indexOf("\x3d");-1===u&&(u=p);return[u,u===p?0:4-u%4]}N.byteLength=function(u){u=J(u);var p=u[1];return 3*(u[0]+p)/4-p};N.toByteArray=function(u){var p=J(u);var m=p[0];p=p[1];var f=new C(3*(m+p)/4-p),l=0,e=0<p?m-4:m,d;for(d=0;d<e;d+=4)m=E[u.charCodeAt(d)]<<18|E[u.charCodeAt(d+1)]<<12|E[u.charCodeAt(d+2)]<<6|E[u.charCodeAt(d+3)],f[l++]=m>>16&255,f[l++]=m>>8&
255,f[l++]=m&255;2===p&&(m=E[u.charCodeAt(d)]<<2|E[u.charCodeAt(d+1)]>>4,f[l++]=m&255);1===p&&(m=E[u.charCodeAt(d)]<<10|E[u.charCodeAt(d+1)]<<4|E[u.charCodeAt(d+2)]>>2,f[l++]=m>>8&255,f[l++]=m&255);return f};N.fromByteArray=function(u){for(var p=u.length,m=p%3,f=[],l=0,e=p-m;l<e;l+=16383){for(var d=f,g=d.push,h,k=u,n=l+16383>e?e:l+16383,r=[],x=l;x<n;x+=3)h=(k[x]<<16&16711680)+(k[x+1]<<8&65280)+(k[x+2]&255),r.push(K[h>>18&63]+K[h>>12&63]+K[h>>6&63]+K[h&63]);h=r.join("");g.call(d,h)}1===m?(u=u[p-1],
f.push(K[u>>2]+K[u<<4&63]+"\x3d\x3d")):2===m&&(u=(u[p-2]<<8)+u[p-1],f.push(K[u>>10]+K[u>>4&63]+K[u<<2&63]+"\x3d"));return f.join("")};var K=[],E=[],C="undefined"!==typeof Uint8Array?Uint8Array:Array;for(X=0;64>X;++X)K[X]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[X],E["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(X)]=X;E[45]=62;E[95]=63};
shadow$provide[202]=function(X,c,Z,N){N.read=function(J,K,E,C,u){var p=8*u-C-1;var m=(1<<p)-1,f=m>>1,l=-7;u=E?u-1:0;var e=E?-1:1,d=J[K+u];u+=e;E=d&(1<<-l)-1;d>>=-l;for(l+=p;0<l;E=256*E+J[K+u],u+=e,l-=8);p=E&(1<<-l)-1;E>>=-l;for(l+=C;0<l;p=256*p+J[K+u],u+=e,l-=8);if(0===E)E=1-f;else{if(E===m)return p?NaN:Infinity*(d?-1:1);p+=Math.pow(2,C);E-=f}return(d?-1:1)*p*Math.pow(2,E-C)};N.write=function(J,K,E,C,u,p){var m,f=8*p-u-1,l=(1<<f)-1,e=l>>1,d=23===u?Math.pow(2,-24)-Math.pow(2,-77):0;p=C?0:p-1;var g=
C?1:-1,h=0>K||0===K&&0>1/K?1:0;K=Math.abs(K);isNaN(K)||Infinity===K?(K=isNaN(K)?1:0,C=l):(C=Math.floor(Math.log(K)/Math.LN2),1>K*(m=Math.pow(2,-C))&&(C--,m*=2),K=1<=C+e?K+d/m:K+d*Math.pow(2,1-e),2<=K*m&&(C++,m/=2),C+e>=l?(K=0,C=l):1<=C+e?(K=(K*m-1)*Math.pow(2,u),C+=e):(K=K*Math.pow(2,e-1)*Math.pow(2,u),C=0));for(;8<=u;J[E+p]=K&255,p+=g,K/=256,u-=8);C=C<<u|K;for(f+=u;0<f;J[E+p]=C&255,p+=g,C/=256,f-=8);J[E+p-g]|=128*h}};
shadow$provide[203]=function(X,c,Z,N){var J={}.toString;Z.exports=Array.isArray||function(K){return"[object Array]"==J.call(K)}};
shadow$provide[204]=function(X,c,Z,N){function J(){try{var B=new Uint8Array(1);B.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===B.foo()&&"function"===typeof B.subarray&&0===B.subarray(1,1).byteLength}catch(v){return!1}}function K(B,v){if((E.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<v)throw new RangeError("Invalid typed array length");E.TYPED_ARRAY_SUPPORT?(B=new Uint8Array(v),B.__proto__=E.prototype):(null===B&&(B=new E(v)),B.length=v);return B}function E(B,v,I){if(!(E.TYPED_ARRAY_SUPPORT||
this instanceof E))return new E(B,v,I);if("number"===typeof B){if("string"===typeof v)throw Error("If encoding is specified then the first argument must be a string");return p(this,B)}return C(this,B,v,I)}function C(B,v,I,O){if("number"===typeof v)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&v instanceof ArrayBuffer){v.byteLength;if(0>I||v.byteLength<I)throw new RangeError("'offset' is out of bounds");if(v.byteLength<I+(O||0))throw new RangeError("'length' is out of bounds");
v=void 0===I&&void 0===O?new Uint8Array(v):void 0===O?new Uint8Array(v,I):new Uint8Array(v,I,O);E.TYPED_ARRAY_SUPPORT?(B=v,B.__proto__=E.prototype):B=m(B,v);return B}if("string"===typeof v){O=B;B=I;if("string"!==typeof B||""===B)B="utf8";if(!E.isEncoding(B))throw new TypeError('"encoding" must be a valid string encoding');I=e(v,B)|0;O=K(O,I);v=O.write(v,B);v!==I&&(O=O.slice(0,v));return O}return f(B,v)}function u(B){if("number"!==typeof B)throw new TypeError('"size" argument must be a number');if(0>
B)throw new RangeError('"size" argument must not be negative');}function p(B,v){u(v);B=K(B,0>v?0:l(v)|0);if(!E.TYPED_ARRAY_SUPPORT)for(var I=0;I<v;++I)B[I]=0;return B}function m(B,v){var I=0>v.length?0:l(v.length)|0;B=K(B,I);for(var O=0;O<I;O+=1)B[O]=v[O]&255;return B}function f(B,v){if(E.isBuffer(v)){var I=l(v.length)|0;B=K(B,I);if(0===B.length)return B;v.copy(B,0,0,I);return B}if(v){if("undefined"!==typeof ArrayBuffer&&v.buffer instanceof ArrayBuffer||"length"in v)return(I="number"!==typeof v.length)||
(I=v.length,I=I!==I),I?K(B,0):m(B,v);if("Buffer"===v.type&&S(v.data))return m(B,v.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function l(B){if(B>=(E.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(E.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return B|0}function e(B,v){if(E.isBuffer(B))return B.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(B)||B instanceof ArrayBuffer))return B.byteLength;"string"!==typeof B&&(B=""+B);var I=B.length;if(0===I)return 0;for(var O=!1;;)switch(v){case "ascii":case "latin1":case "binary":return I;case "utf8":case "utf-8":case void 0:return L(B).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*I;case "hex":return I>>>1;case "base64":return F(B).length;default:if(O)return L(B).length;v=(""+v).toLowerCase();O=!0}}function d(B,
v,I){var O=!1;if(void 0===v||0>v)v=0;if(v>this.length)return"";if(void 0===I||I>this.length)I=this.length;if(0>=I)return"";I>>>=0;v>>>=0;if(I<=v)return"";for(B||(B="utf8");;)switch(B){case "hex":B=v;v=I;I=this.length;if(!B||0>B)B=0;if(!v||0>v||v>I)v=I;O="";for(I=B;I<v;++I)B=O,O=this[I],O=16>O?"0"+O.toString(16):O.toString(16),O=B+O;return O;case "utf8":case "utf-8":return n(this,v,I);case "ascii":B="";for(I=Math.min(this.length,I);v<I;++v)B+=String.fromCharCode(this[v]&127);return B;case "latin1":case "binary":B=
"";for(I=Math.min(this.length,I);v<I;++v)B+=String.fromCharCode(this[v]);return B;case "base64":return v=0===v&&I===this.length?T.fromByteArray(this):T.fromByteArray(this.slice(v,I)),v;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":v=this.slice(v,I);I="";for(B=0;B<v.length;B+=2)I+=String.fromCharCode(v[B]+256*v[B+1]);return I;default:if(O)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase();O=!0}}function g(B,v,I){var O=B[v];B[v]=B[I];B[I]=O}function h(B,v,I,O,ea){if(0===B.length)return-1;
"string"===typeof I?(O=I,I=0):2147483647<I?I=2147483647:-2147483648>I&&(I=-2147483648);I=+I;isNaN(I)&&(I=ea?0:B.length-1);0>I&&(I=B.length+I);if(I>=B.length){if(ea)return-1;I=B.length-1}else if(0>I)if(ea)I=0;else return-1;"string"===typeof v&&(v=E.from(v,O));if(E.isBuffer(v))return 0===v.length?-1:k(B,v,I,O,ea);if("number"===typeof v)return v&=255,E.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?ea?Uint8Array.prototype.indexOf.call(B,v,I):Uint8Array.prototype.lastIndexOf.call(B,
v,I):k(B,[v],I,O,ea);throw new TypeError("val must be string, number or Buffer");}function k(B,v,I,O,ea){function la(Za,gb){return 1===va?Za[gb]:Za.readUInt16BE(gb*va)}var va=1,Da=B.length,Ya=v.length;if(void 0!==O&&(O=String(O).toLowerCase(),"ucs2"===O||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(2>B.length||2>v.length)return-1;va=2;Da/=2;Ya/=2;I/=2}if(ea)for(O=-1;I<Da;I++)if(la(B,I)===la(v,-1===O?0:I-O)){if(-1===O&&(O=I),I-O+1===Ya)return O*va}else-1!==O&&(I-=I-O),O=-1;else for(I+Ya>Da&&(I=
Da-Ya);0<=I;I--){Da=!0;for(O=0;O<Ya;O++)if(la(B,I+O)!==la(v,O)){Da=!1;break}if(Da)return I}return-1}function n(B,v,I){I=Math.min(B.length,I);for(var O=[];v<I;){var ea=B[v],la=null,va=239<ea?4:223<ea?3:191<ea?2:1;if(v+va<=I)switch(va){case 1:128>ea&&(la=ea);break;case 2:var Da=B[v+1];128===(Da&192)&&(ea=(ea&31)<<6|Da&63,127<ea&&(la=ea));break;case 3:Da=B[v+1];var Ya=B[v+2];128===(Da&192)&&128===(Ya&192)&&(ea=(ea&15)<<12|(Da&63)<<6|Ya&63,2047<ea&&(55296>ea||57343<ea)&&(la=ea));break;case 4:Da=B[v+1];
Ya=B[v+2];var Za=B[v+3];128===(Da&192)&&128===(Ya&192)&&128===(Za&192)&&(ea=(ea&15)<<18|(Da&63)<<12|(Ya&63)<<6|Za&63,65535<ea&&1114112>ea&&(la=ea))}null===la?(la=65533,va=1):65535<la&&(la-=65536,O.push(la>>>10&1023|55296),la=56320|la&1023);O.push(la);v+=va}B=O.length;if(B<=W)O=String.fromCharCode.apply(String,O);else{I="";for(v=0;v<B;)I+=String.fromCharCode.apply(String,O.slice(v,v+=W));O=I}return O}function r(B,v,I){if(0!==B%1||0>B)throw new RangeError("offset is not uint");if(B+v>I)throw new RangeError("Trying to access beyond buffer length");
}function x(B,v,I,O,ea,la){if(!E.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>ea||v<la)throw new RangeError('"value" argument is out of bounds');if(I+O>B.length)throw new RangeError("Index out of range");}function D(B,v,I,O){0>v&&(v=65535+v+1);for(var ea=0,la=Math.min(B.length-I,2);ea<la;++ea)B[I+ea]=(v&255<<8*(O?ea:1-ea))>>>8*(O?ea:1-ea)}function z(B,v,I,O){0>v&&(v=4294967295+v+1);for(var ea=0,la=Math.min(B.length-I,4);ea<la;++ea)B[I+ea]=v>>>8*(O?ea:3-ea)&255}
function w(B,v,I,O,ea,la){if(I+O>B.length)throw new RangeError("Index out of range");if(0>I)throw new RangeError("Index out of range");}function q(B,v,I,O,ea){ea||w(B,v,I,4,3.4028234663852886E38,-3.4028234663852886E38);Q.write(B,v,I,O,23,4);return I+4}function A(B,v,I,O,ea){ea||w(B,v,I,8,1.7976931348623157E308,-1.7976931348623157E308);Q.write(B,v,I,O,52,8);return I+8}function L(B,v){v=v||Infinity;for(var I,O=B.length,ea=null,la=[],va=0;va<O;++va){I=B.charCodeAt(va);if(55295<I&&57344>I){if(!ea){if(56319<
I){-1<(v-=3)&&la.push(239,191,189);continue}else if(va+1===O){-1<(v-=3)&&la.push(239,191,189);continue}ea=I;continue}if(56320>I){-1<(v-=3)&&la.push(239,191,189);ea=I;continue}I=(ea-55296<<10|I-56320)+65536}else ea&&-1<(v-=3)&&la.push(239,191,189);ea=null;if(128>I){if(0>--v)break;la.push(I)}else if(2048>I){if(0>(v-=2))break;la.push(I>>6|192,I&63|128)}else if(65536>I){if(0>(v-=3))break;la.push(I>>12|224,I>>6&63|128,I&63|128)}else if(1114112>I){if(0>(v-=4))break;la.push(I>>18|240,I>>12&63|128,I>>6&63|
128,I&63|128)}else throw Error("Invalid code point");}return la}function y(B){for(var v=[],I=0;I<B.length;++I)v.push(B.charCodeAt(I)&255);return v}function F(B){var v=T,I=v.toByteArray;B=(B.trim?B.trim():B.replace(/^\s+|\s+$/g,"")).replace(ca,"");if(2>B.length)B="";else for(;0!==B.length%4;)B+="\x3d";return I.call(v,B)}function M(B,v,I,O){for(var ea=0;ea<O&&!(ea+I>=v.length||ea>=B.length);++ea)v[ea+I]=B[ea];return ea}var T=c(201),Q=c(202),S=c(203);N.Buffer=E;N.SlowBuffer=function(B){+B!=B&&(B=0);
return E.alloc(+B)};N.INSPECT_MAX_BYTES=50;E.TYPED_ARRAY_SUPPORT=void 0!==X.TYPED_ARRAY_SUPPORT?X.TYPED_ARRAY_SUPPORT:J();N.kMaxLength=E.TYPED_ARRAY_SUPPORT?2147483647:1073741823;E.poolSize=8192;E._augment=function(B){B.__proto__=E.prototype;return B};E.from=function(B,v,I){return C(null,B,v,I)};E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,
configurable:!0}));E.alloc=function(B,v,I){u(B);B=0>=B?K(null,B):void 0!==v?"string"===typeof I?K(null,B).fill(v,I):K(null,B).fill(v):K(null,B);return B};E.allocUnsafe=function(B){return p(null,B)};E.allocUnsafeSlow=function(B){return p(null,B)};E.isBuffer=function(B){return!(null==B||!B._isBuffer)};E.compare=function(B,v){if(!E.isBuffer(B)||!E.isBuffer(v))throw new TypeError("Arguments must be Buffers");if(B===v)return 0;for(var I=B.length,O=v.length,ea=0,la=Math.min(I,O);ea<la;++ea)if(B[ea]!==v[ea]){I=
B[ea];O=v[ea];break}return I<O?-1:O<I?1:0};E.isEncoding=function(B){switch(String(B).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};E.concat=function(B,v){if(!S(B))throw new TypeError('"list" argument must be an Array of Buffers');if(0===B.length)return E.alloc(0);var I;if(void 0===v)for(I=v=0;I<B.length;++I)v+=B[I].length;v=E.allocUnsafe(v);var O=0;for(I=
0;I<B.length;++I){var ea=B[I];if(!E.isBuffer(ea))throw new TypeError('"list" argument must be an Array of Buffers');ea.copy(v,O);O+=ea.length}return v};E.byteLength=e;E.prototype._isBuffer=!0;E.prototype.swap16=function(){var B=this.length;if(0!==B%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<B;v+=2)g(this,v,v+1);return this};E.prototype.swap32=function(){var B=this.length;if(0!==B%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<
B;v+=4)g(this,v,v+3),g(this,v+1,v+2);return this};E.prototype.swap64=function(){var B=this.length;if(0!==B%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<B;v+=8)g(this,v,v+7),g(this,v+1,v+6),g(this,v+2,v+5),g(this,v+3,v+4);return this};E.prototype.toString=function(){var B=this.length|0;return 0===B?"":0===arguments.length?n(this,0,B):d.apply(this,arguments)};E.prototype.equals=function(B){if(!E.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===
B?!0:0===E.compare(this,B)};E.prototype.inspect=function(){var B="",v=N.INSPECT_MAX_BYTES;0<this.length&&(B=this.toString("hex",0,v).match(/.{2}/g).join(" "),this.length>v&&(B+=" ... "));return"\x3cBuffer "+B+"\x3e"};E.prototype.compare=function(B,v,I,O,ea){if(!E.isBuffer(B))throw new TypeError("Argument must be a Buffer");void 0===v&&(v=0);void 0===I&&(I=B?B.length:0);void 0===O&&(O=0);void 0===ea&&(ea=this.length);if(0>v||I>B.length||0>O||ea>this.length)throw new RangeError("out of range index");
if(O>=ea&&v>=I)return 0;if(O>=ea)return-1;if(v>=I)return 1;v>>>=0;I>>>=0;O>>>=0;ea>>>=0;if(this===B)return 0;var la=ea-O,va=I-v,Da=Math.min(la,va);O=this.slice(O,ea);B=B.slice(v,I);for(v=0;v<Da;++v)if(O[v]!==B[v]){la=O[v];va=B[v];break}return la<va?-1:va<la?1:0};E.prototype.includes=function(B,v,I){return-1!==this.indexOf(B,v,I)};E.prototype.indexOf=function(B,v,I){return h(this,B,v,I,!0)};E.prototype.lastIndexOf=function(B,v,I){return h(this,B,v,I,!1)};E.prototype.write=function(B,v,I,O){if(void 0===
v)O="utf8",I=this.length,v=0;else if(void 0===I&&"string"===typeof v)O=v,I=this.length,v=0;else if(isFinite(v))v|=0,isFinite(I)?(I|=0,void 0===O&&(O="utf8")):(O=I,I=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ea=this.length-v;if(void 0===I||I>ea)I=ea;if(0<B.length&&(0>I||0>v)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(ea=!1;;)switch(O){case "hex":a:{v=Number(v)||0;O=this.length-v;I?(I=
Number(I),I>O&&(I=O)):I=O;O=B.length;if(0!==O%2)throw new TypeError("Invalid hex string");I>O/2&&(I=O/2);for(O=0;O<I;++O){ea=parseInt(B.substr(2*O,2),16);if(isNaN(ea)){B=O;break a}this[v+O]=ea}B=O}return B;case "utf8":case "utf-8":return M(L(B,this.length-v),this,v,I);case "ascii":return M(y(B),this,v,I);case "latin1":case "binary":return M(y(B),this,v,I);case "base64":return M(F(B),this,v,I);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":O=B;ea=this.length-v;for(var la=[],va=0;va<O.length&&
!(0>(ea-=2));++va){var Da=O.charCodeAt(va);B=Da>>8;Da%=256;la.push(Da);la.push(B)}return M(la,this,v,I);default:if(ea)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase();ea=!0}};E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;E.prototype.slice=function(B,v){var I=this.length;B=~~B;v=void 0===v?I:~~v;0>B?(B+=I,0>B&&(B=0)):B>I&&(B=I);0>v?(v+=I,0>v&&(v=0)):v>I&&(v=I);v<B&&(v=B);if(E.TYPED_ARRAY_SUPPORT)v=this.subarray(B,
v),v.__proto__=E.prototype;else{I=v-B;v=new E(I,void 0);for(var O=0;O<I;++O)v[O]=this[O+B]}return v};E.prototype.readUIntLE=function(B,v,I){B|=0;v|=0;I||r(B,v,this.length);I=this[B];for(var O=1,ea=0;++ea<v&&(O*=256);)I+=this[B+ea]*O;return I};E.prototype.readUIntBE=function(B,v,I){B|=0;v|=0;I||r(B,v,this.length);I=this[B+--v];for(var O=1;0<v&&(O*=256);)I+=this[B+--v]*O;return I};E.prototype.readUInt8=function(B,v){v||r(B,1,this.length);return this[B]};E.prototype.readUInt16LE=function(B,v){v||r(B,
2,this.length);return this[B]|this[B+1]<<8};E.prototype.readUInt16BE=function(B,v){v||r(B,2,this.length);return this[B]<<8|this[B+1]};E.prototype.readUInt32LE=function(B,v){v||r(B,4,this.length);return(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]};E.prototype.readUInt32BE=function(B,v){v||r(B,4,this.length);return 16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])};E.prototype.readIntLE=function(B,v,I){B|=0;v|=0;I||r(B,v,this.length);I=this[B];for(var O=1,ea=0;++ea<v&&(O*=256);)I+=
this[B+ea]*O;I>=128*O&&(I-=Math.pow(2,8*v));return I};E.prototype.readIntBE=function(B,v,I){B|=0;v|=0;I||r(B,v,this.length);I=v;for(var O=1,ea=this[B+--I];0<I&&(O*=256);)ea+=this[B+--I]*O;ea>=128*O&&(ea-=Math.pow(2,8*v));return ea};E.prototype.readInt8=function(B,v){v||r(B,1,this.length);return this[B]&128?-1*(255-this[B]+1):this[B]};E.prototype.readInt16LE=function(B,v){v||r(B,2,this.length);B=this[B]|this[B+1]<<8;return B&32768?B|4294901760:B};E.prototype.readInt16BE=function(B,v){v||r(B,2,this.length);
B=this[B+1]|this[B]<<8;return B&32768?B|4294901760:B};E.prototype.readInt32LE=function(B,v){v||r(B,4,this.length);return this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24};E.prototype.readInt32BE=function(B,v){v||r(B,4,this.length);return this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]};E.prototype.readFloatLE=function(B,v){v||r(B,4,this.length);return Q.read(this,B,!0,23,4)};E.prototype.readFloatBE=function(B,v){v||r(B,4,this.length);return Q.read(this,B,!1,23,4)};E.prototype.readDoubleLE=function(B,
v){v||r(B,8,this.length);return Q.read(this,B,!0,52,8)};E.prototype.readDoubleBE=function(B,v){v||r(B,8,this.length);return Q.read(this,B,!1,52,8)};E.prototype.writeUIntLE=function(B,v,I,O){B=+B;v|=0;I|=0;O||x(this,B,v,I,Math.pow(2,8*I)-1,0);O=1;var ea=0;for(this[v]=B&255;++ea<I&&(O*=256);)this[v+ea]=B/O&255;return v+I};E.prototype.writeUIntBE=function(B,v,I,O){B=+B;v|=0;I|=0;O||x(this,B,v,I,Math.pow(2,8*I)-1,0);O=I-1;var ea=1;for(this[v+O]=B&255;0<=--O&&(ea*=256);)this[v+O]=B/ea&255;return v+I};
E.prototype.writeUInt8=function(B,v,I){B=+B;v|=0;I||x(this,B,v,1,255,0);E.TYPED_ARRAY_SUPPORT||(B=Math.floor(B));this[v]=B&255;return v+1};E.prototype.writeUInt16LE=function(B,v,I){B=+B;v|=0;I||x(this,B,v,2,65535,0);E.TYPED_ARRAY_SUPPORT?(this[v]=B&255,this[v+1]=B>>>8):D(this,B,v,!0);return v+2};E.prototype.writeUInt16BE=function(B,v,I){B=+B;v|=0;I||x(this,B,v,2,65535,0);E.TYPED_ARRAY_SUPPORT?(this[v]=B>>>8,this[v+1]=B&255):D(this,B,v,!1);return v+2};E.prototype.writeUInt32LE=function(B,v,I){B=+B;
v|=0;I||x(this,B,v,4,4294967295,0);E.TYPED_ARRAY_SUPPORT?(this[v+3]=B>>>24,this[v+2]=B>>>16,this[v+1]=B>>>8,this[v]=B&255):z(this,B,v,!0);return v+4};E.prototype.writeUInt32BE=function(B,v,I){B=+B;v|=0;I||x(this,B,v,4,4294967295,0);E.TYPED_ARRAY_SUPPORT?(this[v]=B>>>24,this[v+1]=B>>>16,this[v+2]=B>>>8,this[v+3]=B&255):z(this,B,v,!1);return v+4};E.prototype.writeIntLE=function(B,v,I,O){B=+B;v|=0;O||(O=Math.pow(2,8*I-1),x(this,B,v,I,O-1,-O));O=0;var ea=1,la=0;for(this[v]=B&255;++O<I&&(ea*=256);)0>B&&
0===la&&0!==this[v+O-1]&&(la=1),this[v+O]=(B/ea>>0)-la&255;return v+I};E.prototype.writeIntBE=function(B,v,I,O){B=+B;v|=0;O||(O=Math.pow(2,8*I-1),x(this,B,v,I,O-1,-O));O=I-1;var ea=1,la=0;for(this[v+O]=B&255;0<=--O&&(ea*=256);)0>B&&0===la&&0!==this[v+O+1]&&(la=1),this[v+O]=(B/ea>>0)-la&255;return v+I};E.prototype.writeInt8=function(B,v,I){B=+B;v|=0;I||x(this,B,v,1,127,-128);E.TYPED_ARRAY_SUPPORT||(B=Math.floor(B));0>B&&(B=255+B+1);this[v]=B&255;return v+1};E.prototype.writeInt16LE=function(B,v,I){B=
+B;v|=0;I||x(this,B,v,2,32767,-32768);E.TYPED_ARRAY_SUPPORT?(this[v]=B&255,this[v+1]=B>>>8):D(this,B,v,!0);return v+2};E.prototype.writeInt16BE=function(B,v,I){B=+B;v|=0;I||x(this,B,v,2,32767,-32768);E.TYPED_ARRAY_SUPPORT?(this[v]=B>>>8,this[v+1]=B&255):D(this,B,v,!1);return v+2};E.prototype.writeInt32LE=function(B,v,I){B=+B;v|=0;I||x(this,B,v,4,2147483647,-2147483648);E.TYPED_ARRAY_SUPPORT?(this[v]=B&255,this[v+1]=B>>>8,this[v+2]=B>>>16,this[v+3]=B>>>24):z(this,B,v,!0);return v+4};E.prototype.writeInt32BE=
function(B,v,I){B=+B;v|=0;I||x(this,B,v,4,2147483647,-2147483648);0>B&&(B=4294967295+B+1);E.TYPED_ARRAY_SUPPORT?(this[v]=B>>>24,this[v+1]=B>>>16,this[v+2]=B>>>8,this[v+3]=B&255):z(this,B,v,!1);return v+4};E.prototype.writeFloatLE=function(B,v,I){return q(this,B,v,!0,I)};E.prototype.writeFloatBE=function(B,v,I){return q(this,B,v,!1,I)};E.prototype.writeDoubleLE=function(B,v,I){return A(this,B,v,!0,I)};E.prototype.writeDoubleBE=function(B,v,I){return A(this,B,v,!1,I)};E.prototype.copy=function(B,v,
I,O){I||(I=0);O||0===O||(O=this.length);v>=B.length&&(v=B.length);v||(v=0);0<O&&O<I&&(O=I);if(O===I||0===B.length||0===this.length)return 0;if(0>v)throw new RangeError("targetStart out of bounds");if(0>I||I>=this.length)throw new RangeError("sourceStart out of bounds");if(0>O)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length);B.length-v<O-I&&(O=B.length-v+I);var ea=O-I;if(this===B&&I<v&&v<O)for(O=ea-1;0<=O;--O)B[O+v]=this[O+I];else if(1E3>ea||!E.TYPED_ARRAY_SUPPORT)for(O=
0;O<ea;++O)B[O+v]=this[O+I];else Uint8Array.prototype.set.call(B,this.subarray(I,I+ea),v);return ea};E.prototype.fill=function(B,v,I,O){if("string"===typeof B){"string"===typeof v?(O=v,v=0,I=this.length):"string"===typeof I&&(O=I,I=this.length);if(1===B.length){var ea=B.charCodeAt(0);256>ea&&(B=ea)}if(void 0!==O&&"string"!==typeof O)throw new TypeError("encoding must be a string");if("string"===typeof O&&!E.isEncoding(O))throw new TypeError("Unknown encoding: "+O);}else"number"===typeof B&&(B&=255);
if(0>v||this.length<v||this.length<I)throw new RangeError("Out of range index");if(I<=v)return this;v>>>=0;I=void 0===I?this.length:I>>>0;B||(B=0);if("number"===typeof B)for(O=v;O<I;++O)this[O]=B;else for(B=E.isBuffer(B)?B:L((new E(B,O)).toString()),ea=B.length,O=0;O<I-v;++O)this[O+v]=B[O%ea];return this};var ca=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[205]=function(X,c,Z,N){function J(){return new Worker("undefined"===typeof Blob?"data:application/javascript;base64,"+K.from('const e\x3d"GENERATE_POLYGON_BUFFERS",t\x3d"GENERATE_POINT_BUFFERS",n\x3d"GENERATE_LINE_STRING_BUFFERS";function r(e,t){const n\x3dt[0],r\x3dt[1];return t[0]\x3de[0]*n+e[2]*r+e[4],t[1]\x3de[1]*n+e[3]*r+e[5],t}function x(e,t){const n\x3d(r\x3dt)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new Error(t)}(0!\x3d\x3dn,"Transformation matrix cannot be inverted");const x\x3dt[0],i\x3dt[1],u\x3dt[2],o\x3dt[3],f\x3dt[4],s\x3dt[5];return e[0]\x3do/n,e[1]\x3d-i/n,e[2]\x3d-u/n,e[3]\x3dx/n,e[4]\x3d(u*s-o*f)/n,e[5]\x3d-(x*s-i*f)/n,e}function i(e){return e\x26\x26e.__esModule\x26\x26Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var u\x3d{exports:{}};function o(e,t,n){n\x3dn||2;var r,x,i,u,o,s,l,v\x3dt\x26\x26t.length,c\x3dv?t[0]*n:e.length,h\x3df(e,0,c,n,!0),g\x3d[];if(!h||h.next\x3d\x3d\x3dh.prev)return g;if(v\x26\x26(h\x3dfunction(e,t,n,r){var x,i,u,o\x3d[];for(x\x3d0,i\x3dt.length;x\x3ci;x++)(u\x3df(e,t[x]*r,x\x3ci-1?t[x+1]*r:e.length,r,!1))\x3d\x3d\x3du.next\x26\x26(u.steiner\x3d!0),o.push(d(u));for(o.sort(p),x\x3d0;x\x3co.length;x++)n\x3dy(o[x],n);return n}(e,t,h,n)),e.length\x3e80*n){r\x3di\x3de[0],x\x3du\x3de[1];for(var b\x3dn;b\x3cc;b+\x3dn)(o\x3de[b])\x3cr\x26\x26(r\x3do),(s\x3de[b+1])\x3cx\x26\x26(x\x3ds),o\x3ei\x26\x26(i\x3do),s\x3eu\x26\x26(u\x3ds);l\x3d0!\x3d\x3d(l\x3dMath.max(i-r,u-x))?32767/l:0}return a(h,g,n,r,x,l,0),g}function f(e,t,n,r,x){var i,u;if(x\x3d\x3d\x3dO(e,t,n,r)\x3e0)for(i\x3dt;i\x3cn;i+\x3dr)u\x3dP(i,e[i],e[i+1],u);else for(i\x3dn-r;i\x3e\x3dt;i-\x3dr)u\x3dP(i,e[i],e[i+1],u);return u\x26\x26m(u,u.next)\x26\x26(B(u),u\x3du.next),u}function s(e,t){if(!e)return e;t||(t\x3de);var n,r\x3de;do{if(n\x3d!1,r.steiner||!m(r,r.next)\x26\x260!\x3d\x3dM(r.prev,r,r.next))r\x3dr.next;else{if(B(r),(r\x3dt\x3dr.prev)\x3d\x3d\x3dr.next)break;n\x3d!0}}while(n||r!\x3d\x3dt);return t}function a(e,t,n,r,x,i,u){if(e){!u\x26\x26i\x26\x26function(e,t,n,r){var x\x3de;do{0\x3d\x3d\x3dx.z\x26\x26(x.z\x3db(x.x,x.y,t,n,r)),x.prevZ\x3dx.prev,x.nextZ\x3dx.next,x\x3dx.next}while(x!\x3d\x3de);x.prevZ.nextZ\x3dnull,x.prevZ\x3dnull,function(e){var t,n,r,x,i,u,o,f,s\x3d1;do{for(n\x3de,e\x3dnull,i\x3dnull,u\x3d0;n;){for(u++,r\x3dn,o\x3d0,t\x3d0;t\x3cs\x26\x26(o++,r\x3dr.nextZ);t++);for(f\x3ds;o\x3e0||f\x3e0\x26\x26r;)0!\x3d\x3do\x26\x26(0\x3d\x3d\x3df||!r||n.z\x3c\x3dr.z)?(x\x3dn,n\x3dn.nextZ,o--):(x\x3dr,r\x3dr.nextZ,f--),i?i.nextZ\x3dx:e\x3dx,x.prevZ\x3di,i\x3dx;n\x3dr}i.nextZ\x3dnull,s*\x3d2}while(u\x3e1)}(x)}(e,r,x,i);for(var o,f,p\x3de;e.prev!\x3d\x3de.next;)if(o\x3de.prev,f\x3de.next,i?v(e,r,x,i):l(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),B(e),e\x3df.next,p\x3df.next;else if((e\x3df)\x3d\x3d\x3dp){u?1\x3d\x3d\x3du?a(e\x3dc(s(e),t,n),t,n,r,x,i,2):2\x3d\x3d\x3du\x26\x26h(e,t,n,r,x,i):a(s(e),t,n,r,x,i,1);break}}}function l(e){var t\x3de.prev,n\x3de,r\x3de.next;if(M(t,n,r)\x3e\x3d0)return!1;for(var x\x3dt.x,i\x3dn.x,u\x3dr.x,o\x3dt.y,f\x3dn.y,s\x3dr.y,a\x3dx\x3ci?x\x3cu?x:u:i\x3cu?i:u,l\x3do\x3cf?o\x3cs?o:s:f\x3cs?f:s,v\x3dx\x3ei?x\x3eu?x:u:i\x3eu?i:u,c\x3do\x3ef?o\x3es?o:s:f\x3es?f:s,h\x3dr.next;h!\x3d\x3dt;){if(h.x\x3e\x3da\x26\x26h.x\x3c\x3dv\x26\x26h.y\x3e\x3dl\x26\x26h.y\x3c\x3dc\x26\x26Z(x,o,i,f,u,s,h.x,h.y)\x26\x26M(h.prev,h,h.next)\x3e\x3d0)return!1;h\x3dh.next}return!0}function v(e,t,n,r){var x\x3de.prev,i\x3de,u\x3de.next;if(M(x,i,u)\x3e\x3d0)return!1;for(var o\x3dx.x,f\x3di.x,s\x3du.x,a\x3dx.y,l\x3di.y,v\x3du.y,c\x3do\x3cf?o\x3cs?o:s:f\x3cs?f:s,h\x3da\x3cl?a\x3cv?a:v:l\x3cv?l:v,p\x3do\x3ef?o\x3es?o:s:f\x3es?f:s,y\x3da\x3el?a\x3ev?a:v:l\x3ev?l:v,g\x3db(c,h,t,n,r),d\x3db(p,y,t,n,r),w\x3de.prevZ,m\x3de.nextZ;w\x26\x26w.z\x3e\x3dg\x26\x26m\x26\x26m.z\x3c\x3dd;){if(w.x\x3e\x3dc\x26\x26w.x\x3c\x3dp\x26\x26w.y\x3e\x3dh\x26\x26w.y\x3c\x3dy\x26\x26w!\x3d\x3dx\x26\x26w!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,w.x,w.y)\x26\x26M(w.prev,w,w.next)\x3e\x3d0)return!1;if(w\x3dw.prevZ,m.x\x3e\x3dc\x26\x26m.x\x3c\x3dp\x26\x26m.y\x3e\x3dh\x26\x26m.y\x3c\x3dy\x26\x26m!\x3d\x3dx\x26\x26m!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,m.x,m.y)\x26\x26M(m.prev,m,m.next)\x3e\x3d0)return!1;m\x3dm.nextZ}for(;w\x26\x26w.z\x3e\x3dg;){if(w.x\x3e\x3dc\x26\x26w.x\x3c\x3dp\x26\x26w.y\x3e\x3dh\x26\x26w.y\x3c\x3dy\x26\x26w!\x3d\x3dx\x26\x26w!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,w.x,w.y)\x26\x26M(w.prev,w,w.next)\x3e\x3d0)return!1;w\x3dw.prevZ}for(;m\x26\x26m.z\x3c\x3dd;){if(m.x\x3e\x3dc\x26\x26m.x\x3c\x3dp\x26\x26m.y\x3e\x3dh\x26\x26m.y\x3c\x3dy\x26\x26m!\x3d\x3dx\x26\x26m!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,m.x,m.y)\x26\x26M(m.prev,m,m.next)\x3e\x3d0)return!1;m\x3dm.nextZ}return!0}function c(e,t,n){var r\x3de;do{var x\x3dr.prev,i\x3dr.next.next;!m(x,i)\x26\x26A(x,r,r.next,i)\x26\x26F(x,i)\x26\x26F(i,x)\x26\x26(t.push(x.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),B(r),B(r.next),r\x3de\x3di),r\x3dr.next}while(r!\x3d\x3de);return s(r)}function h(e,t,n,r,x,i){var u\x3de;do{for(var o\x3du.next.next;o!\x3d\x3du.prev;){if(u.i!\x3d\x3do.i\x26\x26w(u,o)){var f\x3dI(u,o);return u\x3ds(u,u.next),f\x3ds(f,f.next),a(u,t,n,r,x,i,0),void a(f,t,n,r,x,i,0)}o\x3do.next}u\x3du.next}while(u!\x3d\x3de)}function p(e,t){return e.x-t.x}function y(e,t){var n\x3dfunction(e,t){var n,r\x3dt,x\x3de.x,i\x3de.y,u\x3d-1/0;do{if(i\x3c\x3dr.y\x26\x26i\x3e\x3dr.next.y\x26\x26r.next.y!\x3d\x3dr.y){var o\x3dr.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o\x3c\x3dx\x26\x26o\x3eu\x26\x26(u\x3do,n\x3dr.x\x3cr.next.x?r:r.next,o\x3d\x3d\x3dx))return n}r\x3dr.next}while(r!\x3d\x3dt);if(!n)return null;var f,s\x3dn,a\x3dn.x,l\x3dn.y,v\x3d1/0;r\x3dn;do{x\x3e\x3dr.x\x26\x26r.x\x3e\x3da\x26\x26x!\x3d\x3dr.x\x26\x26Z(i\x3cl?x:u,i,a,l,i\x3cl?u:x,i,r.x,r.y)\x26\x26(f\x3dMath.abs(i-r.y)/(x-r.x),F(r,e)\x26\x26(f\x3cv||f\x3d\x3d\x3dv\x26\x26(r.x\x3en.x||r.x\x3d\x3d\x3dn.x\x26\x26g(n,r)))\x26\x26(n\x3dr,v\x3df)),r\x3dr.next}while(r!\x3d\x3ds);return n}(e,t);if(!n)return t;var r\x3dI(n,e);return s(r,r.next),s(n,n.next)}function g(e,t){return M(e.prev,e,t.prev)\x3c0\x26\x26M(t.next,e,e.next)\x3c0}function b(e,t,n,r,x){return(e\x3d1431655765\x26((e\x3d858993459\x26((e\x3d252645135\x26((e\x3d16711935\x26((e\x3d(e-n)*x|0)|e\x3c\x3c8))|e\x3c\x3c4))|e\x3c\x3c2))|e\x3c\x3c1))|(t\x3d1431655765\x26((t\x3d858993459\x26((t\x3d252645135\x26((t\x3d16711935\x26((t\x3d(t-r)*x|0)|t\x3c\x3c8))|t\x3c\x3c4))|t\x3c\x3c2))|t\x3c\x3c1))\x3c\x3c1}function d(e){var t\x3de,n\x3de;do{(t.x\x3cn.x||t.x\x3d\x3d\x3dn.x\x26\x26t.y\x3cn.y)\x26\x26(n\x3dt),t\x3dt.next}while(t!\x3d\x3de);return n}function Z(e,t,n,r,x,i,u,o){return(x-u)*(t-o)\x3e\x3d(e-u)*(i-o)\x26\x26(e-u)*(r-o)\x3e\x3d(n-u)*(t-o)\x26\x26(n-u)*(i-o)\x3e\x3d(x-u)*(r-o)}function w(e,t){return e.next.i!\x3d\x3dt.i\x26\x26e.prev.i!\x3d\x3dt.i\x26\x26!function(e,t){var n\x3de;do{if(n.i!\x3d\x3de.i\x26\x26n.next.i!\x3d\x3de.i\x26\x26n.i!\x3d\x3dt.i\x26\x26n.next.i!\x3d\x3dt.i\x26\x26A(n,n.next,e,t))return!0;n\x3dn.next}while(n!\x3d\x3de);return!1}(e,t)\x26\x26(F(e,t)\x26\x26F(t,e)\x26\x26function(e,t){var n\x3de,r\x3d!1,x\x3d(e.x+t.x)/2,i\x3d(e.y+t.y)/2;do{n.y\x3ei!\x3dn.next.y\x3ei\x26\x26n.next.y!\x3d\x3dn.y\x26\x26x\x3c(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x\x26\x26(r\x3d!r),n\x3dn.next}while(n!\x3d\x3de);return r}(e,t)\x26\x26(M(e.prev,e,t.prev)||M(e,t.prev,t))||m(e,t)\x26\x26M(e.prev,e,e.next)\x3e0\x26\x26M(t.prev,t,t.next)\x3e0)}function M(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x\x3d\x3d\x3dt.x\x26\x26e.y\x3d\x3d\x3dt.y}function A(e,t,n,r){var x\x3dz(M(e,t,n)),i\x3dz(M(e,t,r)),u\x3dz(M(n,r,e)),o\x3dz(M(n,r,t));return x!\x3d\x3di\x26\x26u!\x3d\x3do||(!(0!\x3d\x3dx||!E(e,n,t))||(!(0!\x3d\x3di||!E(e,r,t))||(!(0!\x3d\x3du||!E(n,e,r))||!(0!\x3d\x3do||!E(n,t,r)))))}function E(e,t,n){return t.x\x3c\x3dMath.max(e.x,n.x)\x26\x26t.x\x3e\x3dMath.min(e.x,n.x)\x26\x26t.y\x3c\x3dMath.max(e.y,n.y)\x26\x26t.y\x3e\x3dMath.min(e.y,n.y)}function z(e){return e\x3e0?1:e\x3c0?-1:0}function F(e,t){return M(e.prev,e,e.next)\x3c0?M(e,t,e.next)\x3e\x3d0\x26\x26M(e,e.prev,t)\x3e\x3d0:M(e,t,e.prev)\x3c0||M(e,e.next,t)\x3c0}function I(e,t){var n\x3dnew _(e.i,e.x,e.y),r\x3dnew _(t.i,t.x,t.y),x\x3de.next,i\x3dt.prev;return e.next\x3dt,t.prev\x3de,n.next\x3dx,x.prev\x3dn,r.next\x3dn,n.prev\x3dr,i.next\x3dr,r.prev\x3di,r}function P(e,t,n,r){var x\x3dnew _(e,t,n);return r?(x.next\x3dr.next,x.prev\x3dr,r.next.prev\x3dx,r.next\x3dx):(x.prev\x3dx,x.next\x3dx),x}function B(e){e.next.prev\x3de.prev,e.prev.next\x3de.next,e.prevZ\x26\x26(e.prevZ.nextZ\x3de.nextZ),e.nextZ\x26\x26(e.nextZ.prevZ\x3de.prevZ)}function _(e,t,n){this.i\x3de,this.x\x3dt,this.y\x3dn,this.prev\x3dnull,this.next\x3dnull,this.z\x3d0,this.prevZ\x3dnull,this.nextZ\x3dnull,this.steiner\x3d!1}function O(e,t,n,r){for(var x\x3d0,i\x3dt,u\x3dn-r;i\x3cn;i+\x3dr)x+\x3d(e[u]-e[i])*(e[i+1]+e[u+1]),u\x3di;return x}u.exports\x3do,u.exports.default\x3do,o.deviation\x3dfunction(e,t,n,r){var x\x3dt\x26\x26t.length,i\x3dx?t[0]*n:e.length,u\x3dMath.abs(O(e,0,i,n));if(x)for(var o\x3d0,f\x3dt.length;o\x3cf;o++){var s\x3dt[o]*n,a\x3do\x3cf-1?t[o+1]*n:e.length;u-\x3dMath.abs(O(e,s,a,n))}var l\x3d0;for(o\x3d0;o\x3cr.length;o+\x3d3){var v\x3dr[o]*n,c\x3dr[o+1]*n,h\x3dr[o+2]*n;l+\x3dMath.abs((e[v]-e[h])*(e[c+1]-e[v+1])-(e[v]-e[c])*(e[h+1]-e[v+1]))}return 0\x3d\x3d\x3du\x26\x260\x3d\x3d\x3dl?0:Math.abs((l-u)/u)},o.flatten\x3dfunction(e){for(var t\x3de[0][0].length,n\x3d{vertices:[],holes:[],dimensions:t},r\x3d0,x\x3d0;x\x3ce.length;x++){for(var i\x3d0;i\x3ce[x].length;i++)for(var u\x3d0;u\x3ct;u++)n.vertices.push(e[x][i][u]);x\x3e0\x26\x26(r+\x3de[x-1].length,n.holes.push(r))}return n};var N\x3di(u.exports);const R\x3d[],S\x3d{vertexPosition:0,indexPosition:0};function T(e,t,n,r,x){e[t+0]\x3dn,e[t+1]\x3dr,e[t+2]\x3dx}function U(e,t,n,r,x,i){const u\x3d3+x,o\x3de[t+0],f\x3de[t+1],s\x3dR;s.length\x3dx;for(let n\x3d0;n\x3cs.length;n++)s[n]\x3de[t+2+n];let a\x3di?i.vertexPosition:0,l\x3di?i.indexPosition:0;const v\x3da/u;return T(n,a,o,f,0),s.length\x26\x26n.set(s,a+3),a+\x3du,T(n,a,o,f,1),s.length\x26\x26n.set(s,a+3),a+\x3du,T(n,a,o,f,2),s.length\x26\x26n.set(s,a+3),a+\x3du,T(n,a,o,f,3),s.length\x26\x26n.set(s,a+3),a+\x3du,r[l++]\x3dv,r[l++]\x3dv+1,r[l++]\x3dv+3,r[l++]\x3dv+1,r[l++]\x3dv+2,r[l++]\x3dv+3,S.vertexPosition\x3da,S.indexPosition\x3dl,S}function k(e,t,n,x,i,u,o,f,s,a){const l\x3d8+f.length,v\x3du.length/l,c\x3d[e[t+0],e[t+1]],h\x3d[e[n],e[n+1]],p\x3dr(s,[...c]),y\x3dr(s,[...h]);function g(e,t,n){const r\x3dMath.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),x\x3d[(t[0]-e[0])/r,(t[1]-e[1])/r],i\x3d[-x[1],x[0]],u\x3dMath.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),o\x3d[(n[0]-e[0])/u,(n[1]-e[1])/u],f\x3d0\x3d\x3d\x3dr||0\x3d\x3d\x3du?0:Math.acos((s\x3do[0]*x[0]+o[1]*x[1],a\x3d-1,l\x3d1,Math.min(Math.max(s,a),l)));var s,a,l;return o[0]*i[0]+o[1]*i[1]\x3e0?f:2*Math.PI-f}let b\x3d-1,d\x3d-1;const Z\x3dnull!\x3d\x3di;if(null!\x3d\x3dx){b\x3dg(p,y,r(s,[...[e[x],e[x+1]]]))}if(Z){d\x3dg(y,p,r(s,[...[e[i],e[i+1]]]))}return u.push(c[0],c[1],h[0],h[1],b,d,a,0),u.push(...f),u.push(c[0],c[1],h[0],h[1],b,d,a,1),u.push(...f),u.push(c[0],c[1],h[0],h[1],b,d,a,2),u.push(...f),u.push(c[0],c[1],h[0],h[1],b,d,a,3),u.push(...f),o.push(v,v+1,v+2,v+1,v+3,v+2),a+Math.sqrt((y[0]-p[0])*(y[0]-p[0])+(y[1]-p[1])*(y[1]-p[1]))}function G(e,t,n,r,x){const i\x3d2+x;let u\x3dt;const o\x3de.slice(u,u+x);u+\x3dx;const f\x3de[u++];let s\x3d0;const a\x3dnew Array(f-1);for(let t\x3d0;t\x3cf;t++)s+\x3de[u++],t\x3cf-1\x26\x26(a[t]\x3ds);const l\x3de.slice(u,u+2*s),v\x3dN(l,a,2);for(let e\x3d0;e\x3cv.length;e++)r.push(v[e]+n.length/i);for(let e\x3d0;e\x3cl.length;e+\x3d2)n.push(l[e],l[e+1],...o);return u+2*s}const j\x3dself;j.onmessage\x3dr\x3d\x3e{const i\x3dr.data;switch(i.type){case t:{const e\x3d3,t\x3d2,n\x3di.customAttributesSize,r\x3dt+n,x\x3dnew Float32Array(i.renderInstructions),u\x3dx.length/r,o\x3d4*u*(n+e),f\x3dnew Uint32Array(6*u),s\x3dnew Float32Array(o);let a;for(let e\x3d0;e\x3cx.length;e+\x3dr)a\x3dU(x,e,s,f,n,a);const l\x3dObject.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},i);j.postMessage(l,[s.buffer,f.buffer,x.buffer]);break}case n:{const e\x3d[],t\x3d[],n\x3di.customAttributesSize,r\x3d2,u\x3dnew Float32Array(i.renderInstructions);let o\x3d0;const f\x3d[1,0,0,1,0,0];let s,a;for(x(f,i.renderInstructionsTransform);o\x3cu.length;){a\x3dArray.from(u.slice(o,o+n)),o+\x3dn,s\x3du[o++];const x\x3do,i\x3do+(s-1)*r,l\x3du[x]\x3d\x3d\x3du[i]\x26\x26u[x+1]\x3d\x3d\x3du[i+1];let v\x3d0;for(let n\x3d0;n\x3cs-1;n++){let c\x3dnull;n\x3e0?c\x3do+(n-1)*r:l\x26\x26(c\x3di-r);let h\x3dnull;n\x3cs-2?h\x3do+(n+2)*r:l\x26\x26(h\x3dx+r),v\x3dk(u,o+n*r,o+(n+1)*r,c,h,e,t,a,f,v)}o+\x3ds*r}const l\x3dUint32Array.from(t),v\x3dFloat32Array.from(e),c\x3dObject.assign({vertexBuffer:v.buffer,indexBuffer:l.buffer,renderInstructions:u.buffer},i);j.postMessage(c,[v.buffer,l.buffer,u.buffer]);break}case e:{const e\x3d[],t\x3d[],n\x3di.customAttributesSize,r\x3dnew Float32Array(i.renderInstructions);let x\x3d0;for(;x\x3cr.length;)x\x3dG(r,x,e,t,n);const u\x3dUint32Array.from(t),o\x3dFloat32Array.from(e),f\x3dObject.assign({vertexBuffer:o.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},i);j.postMessage(f,[o.buffer,u.buffer,r.buffer]);break}}};',
"binary").toString("base64"):URL.createObjectURL(new Blob(['const e\x3d"GENERATE_POLYGON_BUFFERS",t\x3d"GENERATE_POINT_BUFFERS",n\x3d"GENERATE_LINE_STRING_BUFFERS";function r(e,t){const n\x3dt[0],r\x3dt[1];return t[0]\x3de[0]*n+e[2]*r+e[4],t[1]\x3de[1]*n+e[3]*r+e[5],t}function x(e,t){const n\x3d(r\x3dt)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new Error(t)}(0!\x3d\x3dn,"Transformation matrix cannot be inverted");const x\x3dt[0],i\x3dt[1],u\x3dt[2],o\x3dt[3],f\x3dt[4],s\x3dt[5];return e[0]\x3do/n,e[1]\x3d-i/n,e[2]\x3d-u/n,e[3]\x3dx/n,e[4]\x3d(u*s-o*f)/n,e[5]\x3d-(x*s-i*f)/n,e}function i(e){return e\x26\x26e.__esModule\x26\x26Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var u\x3d{exports:{}};function o(e,t,n){n\x3dn||2;var r,x,i,u,o,s,l,v\x3dt\x26\x26t.length,c\x3dv?t[0]*n:e.length,h\x3df(e,0,c,n,!0),g\x3d[];if(!h||h.next\x3d\x3d\x3dh.prev)return g;if(v\x26\x26(h\x3dfunction(e,t,n,r){var x,i,u,o\x3d[];for(x\x3d0,i\x3dt.length;x\x3ci;x++)(u\x3df(e,t[x]*r,x\x3ci-1?t[x+1]*r:e.length,r,!1))\x3d\x3d\x3du.next\x26\x26(u.steiner\x3d!0),o.push(d(u));for(o.sort(p),x\x3d0;x\x3co.length;x++)n\x3dy(o[x],n);return n}(e,t,h,n)),e.length\x3e80*n){r\x3di\x3de[0],x\x3du\x3de[1];for(var b\x3dn;b\x3cc;b+\x3dn)(o\x3de[b])\x3cr\x26\x26(r\x3do),(s\x3de[b+1])\x3cx\x26\x26(x\x3ds),o\x3ei\x26\x26(i\x3do),s\x3eu\x26\x26(u\x3ds);l\x3d0!\x3d\x3d(l\x3dMath.max(i-r,u-x))?32767/l:0}return a(h,g,n,r,x,l,0),g}function f(e,t,n,r,x){var i,u;if(x\x3d\x3d\x3dO(e,t,n,r)\x3e0)for(i\x3dt;i\x3cn;i+\x3dr)u\x3dP(i,e[i],e[i+1],u);else for(i\x3dn-r;i\x3e\x3dt;i-\x3dr)u\x3dP(i,e[i],e[i+1],u);return u\x26\x26m(u,u.next)\x26\x26(B(u),u\x3du.next),u}function s(e,t){if(!e)return e;t||(t\x3de);var n,r\x3de;do{if(n\x3d!1,r.steiner||!m(r,r.next)\x26\x260!\x3d\x3dM(r.prev,r,r.next))r\x3dr.next;else{if(B(r),(r\x3dt\x3dr.prev)\x3d\x3d\x3dr.next)break;n\x3d!0}}while(n||r!\x3d\x3dt);return t}function a(e,t,n,r,x,i,u){if(e){!u\x26\x26i\x26\x26function(e,t,n,r){var x\x3de;do{0\x3d\x3d\x3dx.z\x26\x26(x.z\x3db(x.x,x.y,t,n,r)),x.prevZ\x3dx.prev,x.nextZ\x3dx.next,x\x3dx.next}while(x!\x3d\x3de);x.prevZ.nextZ\x3dnull,x.prevZ\x3dnull,function(e){var t,n,r,x,i,u,o,f,s\x3d1;do{for(n\x3de,e\x3dnull,i\x3dnull,u\x3d0;n;){for(u++,r\x3dn,o\x3d0,t\x3d0;t\x3cs\x26\x26(o++,r\x3dr.nextZ);t++);for(f\x3ds;o\x3e0||f\x3e0\x26\x26r;)0!\x3d\x3do\x26\x26(0\x3d\x3d\x3df||!r||n.z\x3c\x3dr.z)?(x\x3dn,n\x3dn.nextZ,o--):(x\x3dr,r\x3dr.nextZ,f--),i?i.nextZ\x3dx:e\x3dx,x.prevZ\x3di,i\x3dx;n\x3dr}i.nextZ\x3dnull,s*\x3d2}while(u\x3e1)}(x)}(e,r,x,i);for(var o,f,p\x3de;e.prev!\x3d\x3de.next;)if(o\x3de.prev,f\x3de.next,i?v(e,r,x,i):l(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),B(e),e\x3df.next,p\x3df.next;else if((e\x3df)\x3d\x3d\x3dp){u?1\x3d\x3d\x3du?a(e\x3dc(s(e),t,n),t,n,r,x,i,2):2\x3d\x3d\x3du\x26\x26h(e,t,n,r,x,i):a(s(e),t,n,r,x,i,1);break}}}function l(e){var t\x3de.prev,n\x3de,r\x3de.next;if(M(t,n,r)\x3e\x3d0)return!1;for(var x\x3dt.x,i\x3dn.x,u\x3dr.x,o\x3dt.y,f\x3dn.y,s\x3dr.y,a\x3dx\x3ci?x\x3cu?x:u:i\x3cu?i:u,l\x3do\x3cf?o\x3cs?o:s:f\x3cs?f:s,v\x3dx\x3ei?x\x3eu?x:u:i\x3eu?i:u,c\x3do\x3ef?o\x3es?o:s:f\x3es?f:s,h\x3dr.next;h!\x3d\x3dt;){if(h.x\x3e\x3da\x26\x26h.x\x3c\x3dv\x26\x26h.y\x3e\x3dl\x26\x26h.y\x3c\x3dc\x26\x26Z(x,o,i,f,u,s,h.x,h.y)\x26\x26M(h.prev,h,h.next)\x3e\x3d0)return!1;h\x3dh.next}return!0}function v(e,t,n,r){var x\x3de.prev,i\x3de,u\x3de.next;if(M(x,i,u)\x3e\x3d0)return!1;for(var o\x3dx.x,f\x3di.x,s\x3du.x,a\x3dx.y,l\x3di.y,v\x3du.y,c\x3do\x3cf?o\x3cs?o:s:f\x3cs?f:s,h\x3da\x3cl?a\x3cv?a:v:l\x3cv?l:v,p\x3do\x3ef?o\x3es?o:s:f\x3es?f:s,y\x3da\x3el?a\x3ev?a:v:l\x3ev?l:v,g\x3db(c,h,t,n,r),d\x3db(p,y,t,n,r),w\x3de.prevZ,m\x3de.nextZ;w\x26\x26w.z\x3e\x3dg\x26\x26m\x26\x26m.z\x3c\x3dd;){if(w.x\x3e\x3dc\x26\x26w.x\x3c\x3dp\x26\x26w.y\x3e\x3dh\x26\x26w.y\x3c\x3dy\x26\x26w!\x3d\x3dx\x26\x26w!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,w.x,w.y)\x26\x26M(w.prev,w,w.next)\x3e\x3d0)return!1;if(w\x3dw.prevZ,m.x\x3e\x3dc\x26\x26m.x\x3c\x3dp\x26\x26m.y\x3e\x3dh\x26\x26m.y\x3c\x3dy\x26\x26m!\x3d\x3dx\x26\x26m!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,m.x,m.y)\x26\x26M(m.prev,m,m.next)\x3e\x3d0)return!1;m\x3dm.nextZ}for(;w\x26\x26w.z\x3e\x3dg;){if(w.x\x3e\x3dc\x26\x26w.x\x3c\x3dp\x26\x26w.y\x3e\x3dh\x26\x26w.y\x3c\x3dy\x26\x26w!\x3d\x3dx\x26\x26w!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,w.x,w.y)\x26\x26M(w.prev,w,w.next)\x3e\x3d0)return!1;w\x3dw.prevZ}for(;m\x26\x26m.z\x3c\x3dd;){if(m.x\x3e\x3dc\x26\x26m.x\x3c\x3dp\x26\x26m.y\x3e\x3dh\x26\x26m.y\x3c\x3dy\x26\x26m!\x3d\x3dx\x26\x26m!\x3d\x3du\x26\x26Z(o,a,f,l,s,v,m.x,m.y)\x26\x26M(m.prev,m,m.next)\x3e\x3d0)return!1;m\x3dm.nextZ}return!0}function c(e,t,n){var r\x3de;do{var x\x3dr.prev,i\x3dr.next.next;!m(x,i)\x26\x26A(x,r,r.next,i)\x26\x26F(x,i)\x26\x26F(i,x)\x26\x26(t.push(x.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),B(r),B(r.next),r\x3de\x3di),r\x3dr.next}while(r!\x3d\x3de);return s(r)}function h(e,t,n,r,x,i){var u\x3de;do{for(var o\x3du.next.next;o!\x3d\x3du.prev;){if(u.i!\x3d\x3do.i\x26\x26w(u,o)){var f\x3dI(u,o);return u\x3ds(u,u.next),f\x3ds(f,f.next),a(u,t,n,r,x,i,0),void a(f,t,n,r,x,i,0)}o\x3do.next}u\x3du.next}while(u!\x3d\x3de)}function p(e,t){return e.x-t.x}function y(e,t){var n\x3dfunction(e,t){var n,r\x3dt,x\x3de.x,i\x3de.y,u\x3d-1/0;do{if(i\x3c\x3dr.y\x26\x26i\x3e\x3dr.next.y\x26\x26r.next.y!\x3d\x3dr.y){var o\x3dr.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o\x3c\x3dx\x26\x26o\x3eu\x26\x26(u\x3do,n\x3dr.x\x3cr.next.x?r:r.next,o\x3d\x3d\x3dx))return n}r\x3dr.next}while(r!\x3d\x3dt);if(!n)return null;var f,s\x3dn,a\x3dn.x,l\x3dn.y,v\x3d1/0;r\x3dn;do{x\x3e\x3dr.x\x26\x26r.x\x3e\x3da\x26\x26x!\x3d\x3dr.x\x26\x26Z(i\x3cl?x:u,i,a,l,i\x3cl?u:x,i,r.x,r.y)\x26\x26(f\x3dMath.abs(i-r.y)/(x-r.x),F(r,e)\x26\x26(f\x3cv||f\x3d\x3d\x3dv\x26\x26(r.x\x3en.x||r.x\x3d\x3d\x3dn.x\x26\x26g(n,r)))\x26\x26(n\x3dr,v\x3df)),r\x3dr.next}while(r!\x3d\x3ds);return n}(e,t);if(!n)return t;var r\x3dI(n,e);return s(r,r.next),s(n,n.next)}function g(e,t){return M(e.prev,e,t.prev)\x3c0\x26\x26M(t.next,e,e.next)\x3c0}function b(e,t,n,r,x){return(e\x3d1431655765\x26((e\x3d858993459\x26((e\x3d252645135\x26((e\x3d16711935\x26((e\x3d(e-n)*x|0)|e\x3c\x3c8))|e\x3c\x3c4))|e\x3c\x3c2))|e\x3c\x3c1))|(t\x3d1431655765\x26((t\x3d858993459\x26((t\x3d252645135\x26((t\x3d16711935\x26((t\x3d(t-r)*x|0)|t\x3c\x3c8))|t\x3c\x3c4))|t\x3c\x3c2))|t\x3c\x3c1))\x3c\x3c1}function d(e){var t\x3de,n\x3de;do{(t.x\x3cn.x||t.x\x3d\x3d\x3dn.x\x26\x26t.y\x3cn.y)\x26\x26(n\x3dt),t\x3dt.next}while(t!\x3d\x3de);return n}function Z(e,t,n,r,x,i,u,o){return(x-u)*(t-o)\x3e\x3d(e-u)*(i-o)\x26\x26(e-u)*(r-o)\x3e\x3d(n-u)*(t-o)\x26\x26(n-u)*(i-o)\x3e\x3d(x-u)*(r-o)}function w(e,t){return e.next.i!\x3d\x3dt.i\x26\x26e.prev.i!\x3d\x3dt.i\x26\x26!function(e,t){var n\x3de;do{if(n.i!\x3d\x3de.i\x26\x26n.next.i!\x3d\x3de.i\x26\x26n.i!\x3d\x3dt.i\x26\x26n.next.i!\x3d\x3dt.i\x26\x26A(n,n.next,e,t))return!0;n\x3dn.next}while(n!\x3d\x3de);return!1}(e,t)\x26\x26(F(e,t)\x26\x26F(t,e)\x26\x26function(e,t){var n\x3de,r\x3d!1,x\x3d(e.x+t.x)/2,i\x3d(e.y+t.y)/2;do{n.y\x3ei!\x3dn.next.y\x3ei\x26\x26n.next.y!\x3d\x3dn.y\x26\x26x\x3c(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x\x26\x26(r\x3d!r),n\x3dn.next}while(n!\x3d\x3de);return r}(e,t)\x26\x26(M(e.prev,e,t.prev)||M(e,t.prev,t))||m(e,t)\x26\x26M(e.prev,e,e.next)\x3e0\x26\x26M(t.prev,t,t.next)\x3e0)}function M(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x\x3d\x3d\x3dt.x\x26\x26e.y\x3d\x3d\x3dt.y}function A(e,t,n,r){var x\x3dz(M(e,t,n)),i\x3dz(M(e,t,r)),u\x3dz(M(n,r,e)),o\x3dz(M(n,r,t));return x!\x3d\x3di\x26\x26u!\x3d\x3do||(!(0!\x3d\x3dx||!E(e,n,t))||(!(0!\x3d\x3di||!E(e,r,t))||(!(0!\x3d\x3du||!E(n,e,r))||!(0!\x3d\x3do||!E(n,t,r)))))}function E(e,t,n){return t.x\x3c\x3dMath.max(e.x,n.x)\x26\x26t.x\x3e\x3dMath.min(e.x,n.x)\x26\x26t.y\x3c\x3dMath.max(e.y,n.y)\x26\x26t.y\x3e\x3dMath.min(e.y,n.y)}function z(e){return e\x3e0?1:e\x3c0?-1:0}function F(e,t){return M(e.prev,e,e.next)\x3c0?M(e,t,e.next)\x3e\x3d0\x26\x26M(e,e.prev,t)\x3e\x3d0:M(e,t,e.prev)\x3c0||M(e,e.next,t)\x3c0}function I(e,t){var n\x3dnew _(e.i,e.x,e.y),r\x3dnew _(t.i,t.x,t.y),x\x3de.next,i\x3dt.prev;return e.next\x3dt,t.prev\x3de,n.next\x3dx,x.prev\x3dn,r.next\x3dn,n.prev\x3dr,i.next\x3dr,r.prev\x3di,r}function P(e,t,n,r){var x\x3dnew _(e,t,n);return r?(x.next\x3dr.next,x.prev\x3dr,r.next.prev\x3dx,r.next\x3dx):(x.prev\x3dx,x.next\x3dx),x}function B(e){e.next.prev\x3de.prev,e.prev.next\x3de.next,e.prevZ\x26\x26(e.prevZ.nextZ\x3de.nextZ),e.nextZ\x26\x26(e.nextZ.prevZ\x3de.prevZ)}function _(e,t,n){this.i\x3de,this.x\x3dt,this.y\x3dn,this.prev\x3dnull,this.next\x3dnull,this.z\x3d0,this.prevZ\x3dnull,this.nextZ\x3dnull,this.steiner\x3d!1}function O(e,t,n,r){for(var x\x3d0,i\x3dt,u\x3dn-r;i\x3cn;i+\x3dr)x+\x3d(e[u]-e[i])*(e[i+1]+e[u+1]),u\x3di;return x}u.exports\x3do,u.exports.default\x3do,o.deviation\x3dfunction(e,t,n,r){var x\x3dt\x26\x26t.length,i\x3dx?t[0]*n:e.length,u\x3dMath.abs(O(e,0,i,n));if(x)for(var o\x3d0,f\x3dt.length;o\x3cf;o++){var s\x3dt[o]*n,a\x3do\x3cf-1?t[o+1]*n:e.length;u-\x3dMath.abs(O(e,s,a,n))}var l\x3d0;for(o\x3d0;o\x3cr.length;o+\x3d3){var v\x3dr[o]*n,c\x3dr[o+1]*n,h\x3dr[o+2]*n;l+\x3dMath.abs((e[v]-e[h])*(e[c+1]-e[v+1])-(e[v]-e[c])*(e[h+1]-e[v+1]))}return 0\x3d\x3d\x3du\x26\x260\x3d\x3d\x3dl?0:Math.abs((l-u)/u)},o.flatten\x3dfunction(e){for(var t\x3de[0][0].length,n\x3d{vertices:[],holes:[],dimensions:t},r\x3d0,x\x3d0;x\x3ce.length;x++){for(var i\x3d0;i\x3ce[x].length;i++)for(var u\x3d0;u\x3ct;u++)n.vertices.push(e[x][i][u]);x\x3e0\x26\x26(r+\x3de[x-1].length,n.holes.push(r))}return n};var N\x3di(u.exports);const R\x3d[],S\x3d{vertexPosition:0,indexPosition:0};function T(e,t,n,r,x){e[t+0]\x3dn,e[t+1]\x3dr,e[t+2]\x3dx}function U(e,t,n,r,x,i){const u\x3d3+x,o\x3de[t+0],f\x3de[t+1],s\x3dR;s.length\x3dx;for(let n\x3d0;n\x3cs.length;n++)s[n]\x3de[t+2+n];let a\x3di?i.vertexPosition:0,l\x3di?i.indexPosition:0;const v\x3da/u;return T(n,a,o,f,0),s.length\x26\x26n.set(s,a+3),a+\x3du,T(n,a,o,f,1),s.length\x26\x26n.set(s,a+3),a+\x3du,T(n,a,o,f,2),s.length\x26\x26n.set(s,a+3),a+\x3du,T(n,a,o,f,3),s.length\x26\x26n.set(s,a+3),a+\x3du,r[l++]\x3dv,r[l++]\x3dv+1,r[l++]\x3dv+3,r[l++]\x3dv+1,r[l++]\x3dv+2,r[l++]\x3dv+3,S.vertexPosition\x3da,S.indexPosition\x3dl,S}function k(e,t,n,x,i,u,o,f,s,a){const l\x3d8+f.length,v\x3du.length/l,c\x3d[e[t+0],e[t+1]],h\x3d[e[n],e[n+1]],p\x3dr(s,[...c]),y\x3dr(s,[...h]);function g(e,t,n){const r\x3dMath.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),x\x3d[(t[0]-e[0])/r,(t[1]-e[1])/r],i\x3d[-x[1],x[0]],u\x3dMath.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),o\x3d[(n[0]-e[0])/u,(n[1]-e[1])/u],f\x3d0\x3d\x3d\x3dr||0\x3d\x3d\x3du?0:Math.acos((s\x3do[0]*x[0]+o[1]*x[1],a\x3d-1,l\x3d1,Math.min(Math.max(s,a),l)));var s,a,l;return o[0]*i[0]+o[1]*i[1]\x3e0?f:2*Math.PI-f}let b\x3d-1,d\x3d-1;const Z\x3dnull!\x3d\x3di;if(null!\x3d\x3dx){b\x3dg(p,y,r(s,[...[e[x],e[x+1]]]))}if(Z){d\x3dg(y,p,r(s,[...[e[i],e[i+1]]]))}return u.push(c[0],c[1],h[0],h[1],b,d,a,0),u.push(...f),u.push(c[0],c[1],h[0],h[1],b,d,a,1),u.push(...f),u.push(c[0],c[1],h[0],h[1],b,d,a,2),u.push(...f),u.push(c[0],c[1],h[0],h[1],b,d,a,3),u.push(...f),o.push(v,v+1,v+2,v+1,v+3,v+2),a+Math.sqrt((y[0]-p[0])*(y[0]-p[0])+(y[1]-p[1])*(y[1]-p[1]))}function G(e,t,n,r,x){const i\x3d2+x;let u\x3dt;const o\x3de.slice(u,u+x);u+\x3dx;const f\x3de[u++];let s\x3d0;const a\x3dnew Array(f-1);for(let t\x3d0;t\x3cf;t++)s+\x3de[u++],t\x3cf-1\x26\x26(a[t]\x3ds);const l\x3de.slice(u,u+2*s),v\x3dN(l,a,2);for(let e\x3d0;e\x3cv.length;e++)r.push(v[e]+n.length/i);for(let e\x3d0;e\x3cl.length;e+\x3d2)n.push(l[e],l[e+1],...o);return u+2*s}const j\x3dself;j.onmessage\x3dr\x3d\x3e{const i\x3dr.data;switch(i.type){case t:{const e\x3d3,t\x3d2,n\x3di.customAttributesSize,r\x3dt+n,x\x3dnew Float32Array(i.renderInstructions),u\x3dx.length/r,o\x3d4*u*(n+e),f\x3dnew Uint32Array(6*u),s\x3dnew Float32Array(o);let a;for(let e\x3d0;e\x3cx.length;e+\x3dr)a\x3dU(x,e,s,f,n,a);const l\x3dObject.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},i);j.postMessage(l,[s.buffer,f.buffer,x.buffer]);break}case n:{const e\x3d[],t\x3d[],n\x3di.customAttributesSize,r\x3d2,u\x3dnew Float32Array(i.renderInstructions);let o\x3d0;const f\x3d[1,0,0,1,0,0];let s,a;for(x(f,i.renderInstructionsTransform);o\x3cu.length;){a\x3dArray.from(u.slice(o,o+n)),o+\x3dn,s\x3du[o++];const x\x3do,i\x3do+(s-1)*r,l\x3du[x]\x3d\x3d\x3du[i]\x26\x26u[x+1]\x3d\x3d\x3du[i+1];let v\x3d0;for(let n\x3d0;n\x3cs-1;n++){let c\x3dnull;n\x3e0?c\x3do+(n-1)*r:l\x26\x26(c\x3di-r);let h\x3dnull;n\x3cs-2?h\x3do+(n+2)*r:l\x26\x26(h\x3dx+r),v\x3dk(u,o+n*r,o+(n+1)*r,c,h,e,t,a,f,v)}o+\x3ds*r}const l\x3dUint32Array.from(t),v\x3dFloat32Array.from(e),c\x3dObject.assign({vertexBuffer:v.buffer,indexBuffer:l.buffer,renderInstructions:u.buffer},i);j.postMessage(c,[v.buffer,l.buffer,u.buffer]);break}case e:{const e\x3d[],t\x3d[],n\x3di.customAttributesSize,r\x3dnew Float32Array(i.renderInstructions);let x\x3d0;for(;x\x3cr.length;)x\x3dG(r,x,e,t,n);const u\x3dUint32Array.from(t),o\x3dFloat32Array.from(e),f\x3dObject.assign({vertexBuffer:o.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},i);j.postMessage(f,[o.buffer,u.buffer,r.buffer]);break}}};'],
{type:"application/javascript"})))}var K=c(204).Buffer;Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},create:{enumerable:!0,get:function(){return J}}})};
shadow$provide[206]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return w}}});X=c(96);N=c(121);var J=c(79);Z=c(191);var K=c(196),E=c(197),C=c(190),u=c(195),p=c(198),m=c(26),f=c(23),l=c(28),e=c(200),d=c(205),g=c(19),h=c(17),k=c.esmDefault(N),n=c.esmDefault(J),r=c.esmDefault(E);N=c.esmDefault(K);var x=c.esmDefault(X),D=c.esmDefault(Z);class z extends N.default{constructor(q,A){const L=A.uniforms||{},y=(0,m.create)();L[u.DefaultUniform.PROJECTION_MATRIX]=
y;super(q,{uniforms:L,postProcesses:A.postProcesses});this.sourceRevision_=-1;this.verticesBuffer_=new D.default(C.ARRAY_BUFFER,C.DYNAMIC_DRAW);this.indicesBuffer_=new D.default(C.ELEMENT_ARRAY_BUFFER,C.DYNAMIC_DRAW);this.vertexShader_=A.vertexShader;this.fragmentShader_=A.fragmentShader;this.program_;this.hitDetectionEnabled_=A.hitDetectionEnabled??!0;q=A.attributes?A.attributes.map(function(F){return{name:"a_"+F.name,size:1,type:u.AttributeType.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,
type:u.AttributeType.FLOAT},{name:"a_index",size:1,type:u.AttributeType.FLOAT}];this.hitDetectionEnabled_&&(this.attributes.push({name:"a_hitColor",size:4,type:u.AttributeType.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:u.AttributeType.FLOAT}));this.attributes.push(...q);this.customAttributes=A.attributes?A.attributes:[];this.previousExtent_=(0,l.createEmpty)();this.currentTransform_=y;this.renderTransform_=(0,m.create)();this.invertRenderTransform_=(0,m.create)();this.renderInstructions_=
new Float32Array(0);this.hitRenderTarget_;this.lastSentId=0;this.worker_=(0,d.create)();this.worker_.addEventListener("message",F=>{const M=F.data;if(M.type===p.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS){const T=M.projectionTransform;this.verticesBuffer_.fromArrayBuffer(M.vertexBuffer);this.helper.flushBufferData(this.verticesBuffer_);this.indicesBuffer_.fromArrayBuffer(M.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=T;(0,m.makeInverse)(this.invertRenderTransform_,
this.renderTransform_);this.renderInstructions_=new Float32Array(F.data.renderInstructions);M.id===this.lastSentId&&(this.ready=!0);this.getLayer().changed()}});this.featureCache_={};this.featureCount_=0;A=this.getLayer().getSource();this.sourceListenKeys_=[(0,h.listen)(A,k.default.ADDFEATURE,this.handleSourceFeatureAdded_,this),(0,h.listen)(A,k.default.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),(0,h.listen)(A,k.default.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),(0,h.listen)(A,
k.default.CLEAR,this.handleSourceFeatureClear_,this)];A.forEachFeature(F=>{this.featureCache_[(0,g.getUid)(F)]={feature:F,properties:F.getProperties(),geometry:F.getGeometry()};this.featureCount_++})}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.hitDetectionEnabled_&&(this.hitRenderTarget_=new r.default(this.helper))}handleSourceFeatureAdded_(q){q=q.feature;this.featureCache_[(0,g.getUid)(q)]={feature:q,properties:q.getProperties(),geometry:q.getGeometry()};
this.featureCount_++}handleSourceFeatureChanged_(q){q=q.feature;this.featureCache_[(0,g.getUid)(q)]={feature:q,properties:q.getProperties(),geometry:q.getGeometry()}}handleSourceFeatureDelete_(q){delete this.featureCache_[(0,g.getUid)(q.feature)];this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={};this.featureCount_=0}renderFrame(q){const A=this.helper.getGL();this.preRender(A,q);const [L,y,F]=this.getWorldParameters_(q);this.renderWorlds(q,!1,L,y,F);this.helper.finalizeDraw(q,
this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const M=this.helper.getCanvas();this.hitDetectionEnabled_&&(this.renderWorlds(q,!0,L,y,F),this.hitRenderTarget_.clearCachedData());this.postRender(A,q);return M}getWorldParameters_(q){var A=q.viewState.projection;const L=this.getLayer().getSource().getWrapX()&&A.canWrapX();A=A.getExtent();q=q.extent;const y=L?(0,l.getWidth)(A):null;return[L?Math.floor((q[0]-A[0])/y):0,L?Math.ceil((q[2]-A[2])/y)+1:1,y]}prepareFrameInternal(q){var A=this.getLayer();
const L=A.getSource();var y=q.viewState,F=!q.viewHints[n.default.ANIMATING]&&!q.viewHints[n.default.INTERACTING];const M=!(0,l.equals)(this.previousExtent_,q.extent),T=this.sourceRevision_<L.getRevision();T&&(this.sourceRevision_=L.getRevision());F&&(M||T)&&(F=y.projection,y=y.resolution,A=A instanceof x.default?A.getRenderBuffer():0,A=(0,l.buffer)(q.extent,A*y),L.loadFeatures(A,y,F),this.rebuildBuffers_(q),this.previousExtent_=q.extent.slice());this.helper.useProgram(this.program_,q);this.helper.prepareDraw(q);
this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);return!0}rebuildBuffers_(q){const A=(0,m.create)();this.helper.makeProjectionTransform(q,A);q=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length;var L=q*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===L||(this.renderInstructions_=new Float32Array(L));var y;const F=[],M=[];let T=-1;for(var Q in this.featureCache_)if(L=this.featureCache_[Q],
(y=L.geometry)&&"Point"===y.getType())for(F[0]=y.getFlatCoordinates()[0],F[1]=y.getFlatCoordinates()[1],(0,m.apply)(A,F),this.renderInstructions_[++T]=F[0],this.renderInstructions_[++T]=F[1],this.hitDetectionEnabled_&&(y=(0,e.colorEncodeId)(T+5,M),this.renderInstructions_[++T]=y[0],this.renderInstructions_[++T]=y[1],this.renderInstructions_[++T]=y[2],this.renderInstructions_[++T]=y[3],this.renderInstructions_[++T]=Number(Q)),y=0;y<this.customAttributes.length;y++){const S=this.customAttributes[y].callback(L.feature,
L.properties);this.renderInstructions_[++T]=S}Q={id:++this.lastSentId,type:p.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:q-2};Q.projectionTransform=A;this.ready=!1;this.worker_.postMessage(Q,[this.renderInstructions_.buffer]);this.renderInstructions_=null}forEachFeatureAtCoordinate(q,A,L,y,F){(0,f.assert)(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`");
if(this.renderInstructions_&&this.hitDetectionEnabled_&&(q=(0,m.apply)(A.coordinateToPixelTransform,q.slice()),q=this.hitRenderTarget_.readPixel(q[0]/2,q[1]/2),q=(0,e.colorDecodeId)([q[0]/255,q[1]/255,q[2]/255,q[3]/255]),q=Math.floor(this.renderInstructions_[q]).toString(),q=this.getLayer().getSource().getFeatureByUid(q)))return y(q,this.getLayer(),null)}renderWorlds(q,A,L,y,F){this.helper.useProgram(this.program_,q);A&&(this.hitRenderTarget_.setSize([Math.floor(q.size[0]/2),Math.floor(q.size[1]/
2)]),this.helper.prepareDrawToRenderTarget(q,this.hitRenderTarget_,!0));this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(q,this.currentTransform_);(0,m.translate)(this.currentTransform_,L*F,0);(0,m.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.applyUniforms(q);this.helper.applyHitDetectionUniform(A);const M=this.indicesBuffer_.getSize();this.helper.drawElements(0,
M)}while(++L<y)}disposeInternal(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(q){(0,h.unlistenByKey)(q)});this.sourceListenKeys_=null;super.disposeInternal()}}const w=z};
shadow$provide[207]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});class J{constructor(E,C){this.name=E;this.data=C;this.texture_=null}getTexture(E){if(!this.texture_){const C=E.createTexture();E.bindTexture(E.TEXTURE_2D,C);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST);E.texParameteri(E.TEXTURE_2D,
E.TEXTURE_MAG_FILTER,E.NEAREST);E.texImage2D(E.TEXTURE_2D,0,E.RGBA,this.data.length/4,1,0,E.RGBA,E.UNSIGNED_BYTE,this.data);this.texture_=C}return this.texture_}}const K=J};
shadow$provide[208]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ERROR_THRESHOLD:{enumerable:!0,get:function(){return.5}}})};
shadow$provide[209]=function(X,c,Z,N){function J(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}function K(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e instanceof DataView?e:null}function E(e){p||(p=(0,C.createCanvasContext2D)(e.width,e.height,void 0,{willReadFrequently:!0}));const d=p.canvas,g=e.width;d.width!==g&&(d.width=g);const h=e.height;d.height!==h&&(d.height=h);
p.clearRect(0,0,g,h);p.drawImage(e,0,0);return p.getImageData(0,0,g,h).data}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},asArrayLike:{enumerable:!0,get:function(){return K}},asImageLike:{enumerable:!0,get:function(){return J}},default:{enumerable:!0,get:function(){return l}},toArray:{enumerable:!0,get:function(){return E}}});X=c(130);Z=c(129);var C=c(70),u=c.esmDefault(Z);c=c.esmDefault(X);let p=null;const m=[256,256];class f extends c.default{constructor(e){super(e.tileCoord,u.default.IDLE,
{transition:e.transition,interpolate:e.interpolate});this.loader_=e.loader;this.error_=this.data_=null;this.size_=e.size||null}getSize(){if(this.size_)return this.size_;const e=J(this.data_);return e?[e.width,e.height]:m}getData(){return this.data_}getError(){return this.error_}load(){if(this.state===u.default.IDLE||this.state===u.default.ERROR){this.state=u.default.LOADING;this.changed();var e=this;this.loader_().then(function(d){e.data_=d;e.state=u.default.LOADED;e.changed()}).catch(function(d){e.error_=
d;e.state=u.default.ERROR;e.changed()})}}}const l=f};
shadow$provide[210]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});var J=c(28),K=c(40),E=c(35);class C{constructor(p,m,f,l,e,d){this.sourceProj_=p;this.targetProj_=m;let g={};const h=(0,K.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(D){const z=D[0]+"/"+D[1];g[z]||(g[z]=h(D));return g[z]};this.maxSourceExtent_=l;this.errorThresholdSquared_=e*e;this.triangles_=[];this.wrapsXInSource_=
!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!l&&!!this.sourceProj_.getExtent()&&(0,J.getWidth)(l)>=(0,J.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,J.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,J.getWidth)(this.targetProj_.getExtent()):null;p=(0,J.getTopLeft)(f);m=(0,J.getTopRight)(f);l=(0,J.getBottomRight)(f);e=(0,J.getBottomLeft)(f);const k=this.transformInv_(p),n=this.transformInv_(m),
r=this.transformInv_(l),x=this.transformInv_(e);f=10+(d?Math.max(0,Math.ceil(Math.log2((0,J.getArea)(f)/(d*d*65536)))):0);this.addQuad_(p,m,l,e,k,n,r,x,f);if(this.wrapsXInSource_){let D=Infinity;this.triangles_.forEach(function(z,w,q){D=Math.min(D,z.source[0][0],z.source[1][0],z.source[2][0])});this.triangles_.forEach(z=>{if(Math.max(z.source[0][0],z.source[1][0],z.source[2][0])-D>this.sourceWorldWidth_/2){const w=[[z.source[0][0],z.source[0][1]],[z.source[1][0],z.source[1][1]],[z.source[2][0],z.source[2][1]]];
w[0][0]-D>this.sourceWorldWidth_/2&&(w[0][0]-=this.sourceWorldWidth_);w[1][0]-D>this.sourceWorldWidth_/2&&(w[1][0]-=this.sourceWorldWidth_);w[2][0]-D>this.sourceWorldWidth_/2&&(w[2][0]-=this.sourceWorldWidth_);Math.max(w[0][0],w[1][0],w[2][0])-Math.min(w[0][0],w[1][0],w[2][0])<this.sourceWorldWidth_/2&&(z.source=w)}})}g={}}addTriangle_(p,m,f,l,e,d){this.triangles_.push({source:[l,e,d],target:[p,m,f]})}addQuad_(p,m,f,l,e,d,g,h,k){var n=(0,J.boundingExtent)([e,d,g,h]);const r=this.sourceWorldWidth_?
(0,J.getWidth)(n)/this.sourceWorldWidth_:null;var x=this.sourceWorldWidth_,D=this.sourceProj_.canWrapX()&&.5<r&&1>r,z=!1;if(0<k){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const w=(0,J.boundingExtent)([p,m,f,l]);z=.25<(0,J.getWidth)(w)/this.targetWorldWidth_||z}!D&&this.sourceProj_.isGlobal()&&r&&(z=.25<r||z)}if(z||!this.maxSourceExtent_||!(isFinite(n[0])&&isFinite(n[1])&&isFinite(n[2])&&isFinite(n[3]))||(0,J.intersects)(n,this.maxSourceExtent_)){n=0;if(!(z||isFinite(e[0])&&isFinite(e[1])&&
isFinite(d[0])&&isFinite(d[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])))if(0<k)z=!0;else if(n=(isFinite(e[0])&&isFinite(e[1])?0:8)+(isFinite(d[0])&&isFinite(d[1])?0:4)+(isFinite(g[0])&&isFinite(g[1])?0:2)+(isFinite(h[0])&&isFinite(h[1])?0:1),1!=n&&2!=n&&4!=n&&8!=n)return;if(0<k&&(z||(z=this.transformInv_([(p[0]+f[0])/2,(p[1]+f[1])/2]),x=D?((0,E.modulo)(e[0],x)+(0,E.modulo)(g[0],x))/2-(0,E.modulo)(z[0],x):(e[0]+g[0])/2-z[0],z=(e[1]+g[1])/2-z[1],z=x*x+z*z>this.errorThresholdSquared_),
z)){Math.abs(p[0]-f[0])<=Math.abs(p[1]-f[1])?(D=[(m[0]+f[0])/2,(m[1]+f[1])/2],x=this.transformInv_(D),z=[(l[0]+p[0])/2,(l[1]+p[1])/2],n=this.transformInv_(z),this.addQuad_(p,m,D,z,e,d,x,n,k-1),this.addQuad_(z,D,f,l,n,x,g,h,k-1)):(D=[(p[0]+m[0])/2,(p[1]+m[1])/2],x=this.transformInv_(D),z=[(f[0]+l[0])/2,(f[1]+l[1])/2],n=this.transformInv_(z),this.addQuad_(p,D,z,l,e,x,n,h,k-1),this.addQuad_(D,m,f,z,x,d,g,n,k-1));return}if(D){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(n&11)&&this.addTriangle_(p,
f,l,e,g,h);0==(n&14)&&this.addTriangle_(p,f,m,e,g,d);n&&(0==(n&13)&&this.addTriangle_(m,l,p,d,h,e),0==(n&7)&&this.addTriangle_(m,l,f,d,h,g))}}calculateSourceExtent(){const p=(0,J.createEmpty)();this.triangles_.forEach(function(m,f,l){m=m.source;(0,J.extendCoordinate)(p,m[0]);(0,J.extendCoordinate)(p,m[1]);(0,J.extendCoordinate)(p,m[2])});return p}getTriangles(){return this.triangles_}}const u=C};
shadow$provide[211]=function(X,c,Z,N){function J(g,h,k,n,r){g.beginPath();g.moveTo(0,0);g.lineTo(h,k);g.lineTo(n,r);g.closePath();g.save();g.clip();g.fillRect(0,0,Math.max(h,n)+1,Math.max(k,r));g.restore()}function K(g,h){return 2<Math.abs(g[4*h]-210)||2<Math.abs(g[4*h+3]-191.25)}function E(g,h,k,n){const r=(0,f.transform)(k,h,g);k=(0,f.getPointResolution)(h,n,k);h=h.getMetersPerUnit();void 0!==h&&(k*=h);h=g.getMetersPerUnit();void 0!==h&&(k/=h);h=g.getExtent();if(!h||(0,p.containsCoordinate)(h,r))g=
(0,f.getPointResolution)(g,k,r)/k,isFinite(g)&&0<g&&(k/=g);return k}function C(g,h,k,n){const r=(0,p.getCenter)(k);let x=E(g,h,r,n);(!isFinite(x)||0>=x)&&(0,p.forEachCorner)(k,function(D){x=E(g,h,D,n);return isFinite(x)&&0<x});return x}function u(g,h,k,n,r,x,D,z,w,q,A,L){function y(W){return Math.round(W*k)/k}const F=(0,m.createCanvasContext2D)(Math.round(k*g),Math.round(k*h),d);L||(F.imageSmoothingEnabled=!1);if(0===w.length)return F.canvas;F.scale(k,k);F.globalCompositeOperation="lighter";const M=
(0,p.createEmpty)();w.forEach(function(W,ca,B){(0,p.extend)(M,W.extent)});g=(0,p.getWidth)(M);h=(0,p.getHeight)(M);const T=(0,m.createCanvasContext2D)(Math.round(k*g/n),Math.round(k*h/n),d);L||(T.imageSmoothingEnabled=!1);const Q=k/n;w.forEach(function(W,ca,B){ca=W.extent[0]-M[0];B=-(W.extent[3]-M[3]);const v=(0,p.getWidth)(W.extent),I=(0,p.getHeight)(W.extent);0<W.image.width&&0<W.image.height&&T.drawImage(W.image,q,q,W.image.width-2*q,W.image.height-2*q,ca*Q,B*Q,v*Q,I*Q)});const S=(0,p.getTopLeft)(D);
z.getTriangles().forEach(function(W,ca,B){B=W.source;var v=W.target;W=B[0][0];ca=B[0][1];var I=B[1][0],O=B[1][1],ea=B[2][0],la=B[2][1];B=y((v[0][0]-S[0])/x);const va=y(-(v[0][1]-S[1])/x),Da=y((v[1][0]-S[0])/x),Ya=y(-(v[1][1]-S[1])/x),Za=y((v[2][0]-S[0])/x);v=y(-(v[2][1]-S[1])/x);I-=W;O-=ca;ea-=W;la-=ca;if(I=(0,l.solveLinearSystem)([[I,O,0,0,Da-B],[ea,la,0,0,Za-B],[0,0,I,O,Ya-va],[0,0,ea,la,v-va]])){F.save();F.beginPath();void 0===e&&(O=(0,m.createCanvasContext2D)(6,6,d),O.globalCompositeOperation=
"lighter",O.fillStyle="rgba(210, 0, 0, 0.75)",J(O,4,5,4,0),J(O,4,5,0,5),ea=O.getImageData(0,0,3,3).data,e=K(ea,0)||K(ea,4)||K(ea,8),(0,m.releaseCanvas)(O),d.push(O.canvas));if(e||!L)for(F.moveTo(Da,Ya),O=B-Da,ea=va-Ya,la=0;4>la;la++)F.lineTo(Da+y((la+1)*O/4),Ya+y(la*ea/3)),3!=la&&F.lineTo(Da+y((la+1)*O/4),Ya+y((la+1)*ea/3));else F.moveTo(Da,Ya),F.lineTo(B,va);F.lineTo(Za,v);F.clip();F.transform(I[0],I[2],I[1],I[3],B,va);F.translate(M[0]-W,M[3]-ca);F.scale(n/k,-n/k);F.drawImage(T.canvas,0,0);F.restore()}});
(0,m.releaseCanvas)(T);d.push(T.canvas);A&&(F.save(),F.globalCompositeOperation="source-over",F.strokeStyle="black",F.lineWidth=1,z.getTriangles().forEach(function(W,ca,B){var v=W.target;W=(v[0][0]-S[0])/x;ca=-(v[0][1]-S[1])/x;B=(v[1][0]-S[0])/x;const I=-(v[1][1]-S[1])/x,O=(v[2][0]-S[0])/x;v=-(v[2][1]-S[1])/x;F.beginPath();F.moveTo(B,I);F.lineTo(W,ca);F.lineTo(O,v);F.closePath();F.stroke()}),F.restore());return F.canvas}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},calculateSourceExtentResolution:{enumerable:!0,
get:function(){return C}},calculateSourceResolution:{enumerable:!0,get:function(){return E}},canvasPool:{enumerable:!0,get:function(){return d}},render:{enumerable:!0,get:function(){return u}}});var p=c(28),m=c(70),f=c(40),l=c(35);let e;const d=[]};
shadow$provide[212]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return g}}});var J=c(208),K=c(209);X=c(16);Z=c(129);N=c(210);var E=c(211),C=c(35),u=c(70),p=c(28),m=c(17),f=c.esmDefault(Z),l=c.esmDefault(N);Z=c.esmDefault(K);var e=c.esmDefault(X);class d extends Z.default{constructor(h){super({tileCoord:h.tileCoord,loader:()=>Promise.resolve(new Uint8Array(4)),interpolate:h.interpolate,transition:h.transition});this.pixelRatio_=
h.pixelRatio;this.gutter_=h.gutter;this.reprojError_=this.reprojData_=null;this.reprojSize_=void 0;this.sourceTileGrid_=h.sourceTileGrid;this.targetTileGrid_=h.targetTileGrid;this.wrappedTileCoord_=h.wrappedTileCoord||h.tileCoord;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var k=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),n=this.targetTileGrid_.getExtent(),r=this.sourceTileGrid_.getExtent();n=n?(0,p.getIntersection)(k,n):k;if(0===(0,p.getArea)(n))this.state=
f.default.EMPTY;else{k=h.sourceProj;var x=k.getExtent();x&&(r=r?(0,p.getIntersection)(r,x):x);x=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]);var D=h.targetProj,z=(0,E.calculateSourceExtentResolution)(k,D,n,x);if(!isFinite(z)||0>=z)this.state=f.default.EMPTY;else if(this.triangulation_=new l.default(k,D,n,r,z*(void 0!==h.errorThreshold?h.errorThreshold:J.ERROR_THRESHOLD),x),0===this.triangulation_.getTriangles().length)this.state=f.default.EMPTY;else if(this.sourceZ_=this.sourceTileGrid_.getZForResolution(z),
n=this.triangulation_.calculateSourceExtent(),r&&(k.canWrapX()?(n[1]=(0,C.clamp)(n[1],r[1],r[3]),n[3]=(0,C.clamp)(n[3],r[1],r[3])):n=(0,p.getIntersection)(n,r)),(0,p.getArea)(n)){r=this.sourceTileGrid_.getTileRangeForExtentAndZ(n,this.sourceZ_);h=h.getTileFunction;for(k=r.minX;k<=r.maxX;k++)for(n=r.minY;n<=r.maxY;n++)(x=h(this.sourceZ_,k,n,this.pixelRatio_))&&this.sourceTiles_.push(x);0===this.sourceTiles_.length&&(this.state=f.default.EMPTY)}else this.state=f.default.EMPTY}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const h=
[];this.sourceTiles_.forEach(L=>{if(L&&L.getState()===f.default.LOADED){var y=L.getSize(),F=this.gutter_;var M=(M=(0,K.asArrayLike)(L.getData()))?M:(0,K.toArray)((0,K.asImageLike)(L.getData()));y=[y[0]+2*F,y[1]+2*F];var T=y[0]*y[1];F=M instanceof Float32Array?Float32Array:Uint8Array;M=new F(M.buffer);var Q=F.BYTES_PER_ELEMENT,S=Q*M.length/T,W=M.byteLength/y[1],ca=Math.floor(W/Q/y[0]),B=T*ca;T=M;if(M.length!==B){T=new F(B);let v=B=0;ca*=y[0];for(let I=0;I<y[1];++I){for(let O=0;O<ca;++O)T[B++]=M[v+
O];v+=W/Q}}h.push({extent:this.sourceTileGrid_.getTileCoordExtent(L.tileCoord),data:new Uint8Array(T.buffer),dataType:F,bytesPerPixel:S,pixelSize:y})}});this.sourceTiles_.length=0;if(0===h.length)this.state=f.default.ERROR;else{var k=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(k);const L="number"===typeof n?n:n[0];n="number"===typeof n?n:n[1];k=this.targetTileGrid_.getResolution(k);const y=this.sourceTileGrid_.getResolution(this.sourceZ_),F=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
let M,T;const Q=h[0].bytesPerPixel;var r=Math.ceil(Q/3);for(--r;0<=r;--r){var x=[];for(let S=0,W=h.length;S<W;++S){var D=h[S],z=D.data,w=D.pixelSize,q=w[0],A=w[1];w=(0,u.createCanvasContext2D)(q,A,E.canvasPool);q=w.createImageData(q,A);A=q.data;let ca=3*r;for(let B=0,v=A.length;B<v;B+=4)A[B]=z[ca],A[B+1]=z[ca+1],A[B+2]=z[ca+2],A[B+3]=255,ca+=Q;w.putImageData(q,0,0);x.push({extent:D.extent,image:w.canvas})}D=(0,E.render)(L,n,this.pixelRatio_,y,this.sourceTileGrid_.getExtent(),k,F,this.triangulation_,
x,this.gutter_,!1,!1);for(let S=0,W=x.length;S<W;++S)z=x[S].image.getContext("2d"),(0,u.releaseCanvas)(z),E.canvasPool.push(z.canvas);x=D.getContext("2d");z=x.getImageData(0,0,D.width,D.height);(0,u.releaseCanvas)(x);E.canvasPool.push(D);M||(T=new Uint8Array(Q*z.width*z.height),M=new h[0].dataType(T.buffer));x=z.data;D=3*r;for(let S=0,W=x.length;S<W;S+=4)255===x[S+3]?(T[D]=x[S],T[D+1]=x[S+1],T[D+2]=x[S+2]):(T[D]=0,T[D+1]=0,T[D+2]=0),D+=Q}this.reprojData_=M;this.reprojSize_=[Math.round(L*this.pixelRatio_),
Math.round(n*this.pixelRatio_)];this.state=f.default.LOADED}this.changed()}load(){if(this.state===f.default.IDLE||this.state===f.default.ERROR){this.state=f.default.LOADING;this.changed();var h=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(k=>{const n=k.getState();if(n===f.default.IDLE||n===f.default.LOADING){h++;var r=(0,m.listen)(k,e.default.CHANGE,function(){const x=k.getState();if(x==f.default.LOADED||x==f.default.ERROR||x==f.default.EMPTY)(0,m.unlistenByKey)(r),h--,0===h&&(this.unlistenSources_(),
this.reproject_())},this);this.sourcesListenerKeys_.push(r)}});0===h?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(k){k.getState()==f.default.IDLE&&k.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(m.unlistenByKey);this.sourcesListenerKeys_=null}}const g=d};
shadow$provide[213]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return g}}});var J=c(208);X=c(16);Z=c(130);N=c(129);var K=c(210),E=c(211),C=c(35),u=c(28),p=c(17),m=c(70),f=c.esmDefault(N),l=c.esmDefault(K),e=c.esmDefault(X);c=c.esmDefault(Z);class d extends c.default{constructor(h,k,n,r,x,D,z,w,q,A,L,y){super(x,f.default.IDLE,{interpolate:!!y});this.renderEdges_=void 0!==L?L:!1;this.pixelRatio_=z;this.gutter_=w;this.canvas_=
null;this.sourceTileGrid_=k;this.targetTileGrid_=r;this.wrappedTileCoord_=D?D:x;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;D=r.getTileCoordExtent(this.wrappedTileCoord_);w=this.targetTileGrid_.getExtent();x=this.sourceTileGrid_.getExtent();D=w?(0,u.getIntersection)(D,w):D;if(0===(0,u.getArea)(D))this.state=f.default.EMPTY;else if((w=h.getExtent())&&(x=x?(0,u.getIntersection)(x,w):w),r=r.getResolution(this.wrappedTileCoord_[0]),w=(0,E.calculateSourceExtentResolution)(h,n,D,
r),!isFinite(w)||0>=w)this.state=f.default.EMPTY;else if(this.triangulation_=new l.default(h,n,D,x,w*(void 0!==A?A:J.ERROR_THRESHOLD),r),0===this.triangulation_.getTriangles().length)this.state=f.default.EMPTY;else if(this.sourceZ_=k.getZForResolution(w),n=this.triangulation_.calculateSourceExtent(),x&&(h.canWrapX()?(n[1]=(0,C.clamp)(n[1],x[1],x[3]),n[3]=(0,C.clamp)(n[3],x[1],x[3])):n=(0,u.getIntersection)(n,x)),(0,u.getArea)(n)){h=k.getTileRangeForExtentAndZ(n,this.sourceZ_);for(k=h.minX;k<=h.maxX;k++)for(n=
h.minY;n<=h.maxY;n++)(A=q(this.sourceZ_,k,n,z))&&this.sourceTiles_.push(A);0===this.sourceTiles_.length&&(this.state=f.default.EMPTY)}else this.state=f.default.EMPTY}getImage(){return this.canvas_}reproject_(){const h=[];this.sourceTiles_.forEach(r=>{r&&r.getState()==f.default.LOADED&&h.push({extent:this.sourceTileGrid_.getTileCoordExtent(r.tileCoord),image:r.getImage()})});this.sourceTiles_.length=0;if(0===h.length)this.state=f.default.ERROR;else{var k=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(k);
const r="number"===typeof n?n:n[0];n="number"===typeof n?n:n[1];k=this.targetTileGrid_.getResolution(k);const x=this.sourceTileGrid_.getResolution(this.sourceZ_),D=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,E.render)(r,n,this.pixelRatio_,x,this.sourceTileGrid_.getExtent(),k,D,this.triangulation_,h,this.gutter_,this.renderEdges_,this.interpolate);this.state=f.default.LOADED}this.changed()}load(){if(this.state==f.default.IDLE){this.state=f.default.LOADING;this.changed();
let h=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(k=>{const n=k.getState();if(n==f.default.IDLE||n==f.default.LOADING){h++;const r=(0,p.listen)(k,e.default.CHANGE,function(x){x=k.getState();if(x==f.default.LOADED||x==f.default.ERROR||x==f.default.EMPTY)(0,p.unlistenByKey)(r),h--,0===h&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(r)}});0===h?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(k,n,r){k.getState()==f.default.IDLE&&
k.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(p.unlistenByKey);this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,m.releaseCanvas)(this.canvas_.getContext("2d")),E.canvasPool.push(this.canvas_),this.canvas_=null);super.release()}}const g=d};
shadow$provide[214]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});Z=c(15);X=c(16);N=c(131);var J=c(129),K=c(19),E=c.esmDefault(N),C=c.esmDefault(J);Z=c.esmDefault(Z);var u=c.esmDefault(X);class p extends Z.default{constructor(f){super();this.tile;this.handleTileChange_=this.handleTileChange_.bind(this);this.gutter_=f.gutter||0;this.helper_=f.helper;this.ready=this.loaded=!1}setTile(f){if(f!==this.tile)if(this.tile&&
this.tile.removeEventListener(u.default.CHANGE,this.handleTileChange_),this.tile=f,this.loaded=f.getState()===C.default.LOADED)this.uploadTile();else{if(f instanceof E.default){const l=f.getImage();l instanceof Image&&!l.crossOrigin&&(l.crossOrigin="anonymous")}f.addEventListener(u.default.CHANGE,this.handleTileChange_)}}uploadTile(){(0,K.abstract)()}setReady(){this.ready=!0;this.dispatchEvent(u.default.CHANGE)}handleTileChange_(){this.tile.getState()===C.default.LOADED&&(this.loaded=!0,this.uploadTile())}disposeInternal(){this.tile.removeEventListener(u.default.CHANGE,
this.handleTileChange_)}}const m=p};
shadow$provide[215]=function(X,c,Z,N){function J(x,D,z){z=z?x.LINEAR:x.NEAREST;x.bindTexture(x.TEXTURE_2D,D);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,z);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,z)}function K(x,D,z,w,q,A){const L=x.getGL();let y;z instanceof Float32Array?(y=L.FLOAT,x.getExtension("OES_texture_float"),x=null!==x.getExtension("OES_texture_float_linear")):
(y=L.UNSIGNED_BYTE,x=!0);J(L,D,A&&x);A=z.byteLength/w[1];D=1;0===A%8?D=8:0===A%4?D=4:0===A%2&&(D=2);switch(q){case 1:q=L.LUMINANCE;break;case 2:q=L.LUMINANCE_ALPHA;break;case 3:q=L.RGB;break;case 4:q=L.RGBA;break;default:throw Error(`Unsupported number of bands: ${q}`);}A=L.getParameter(L.UNPACK_ALIGNMENT);L.pixelStorei(L.UNPACK_ALIGNMENT,D);L.texImage2D(L.TEXTURE_2D,0,q,w[0],w[1],0,q,y,z);L.pixelStorei(L.UNPACK_ALIGNMENT,A)}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,
get:function(){return r}}});Z=c(214);var E=c(209);X=c(16);N=c(131);var C=c(213),u=c(191),p=c(190),m=c(70),f=c(66),l=c.esmDefault(N),e=c.esmDefault(C),d=c.esmDefault(u);Z=c.esmDefault(Z);var g=c.esmDefault(E),h=c.esmDefault(X);let k=null;class n extends Z.default{constructor(x){super(x);this.textures=[];this.renderSize_=(0,f.toSize)(x.grid.getTileSize(x.tile.tileCoord[0]));this.bandCount=NaN;const D=new d.default(p.ARRAY_BUFFER,p.STATIC_DRAW);D.fromArray([0,1,1,1,1,0,0,0]);this.helper_.flushBufferData(D);
this.coords=D;this.setTile(x.tile)}uploadTile(){var x=this.helper_,D=x.getGL();const z=this.tile;this.textures.length=0;var w=z instanceof l.default||z instanceof e.default?z.getImage():z.getData();var q=(0,E.asImageLike)(w);if(q)x=D.createTexture(),this.textures.push(x),this.bandCount=4,J(D,x,z.interpolate),D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,q);else{w=(0,E.asArrayLike)(w);q=z.getSize();q=[q[0]+2*this.gutter_,q[1]+2*this.gutter_];var A=q[0]*q[1],L=w instanceof Float32Array?
Float32Array:Uint8Array,y=L.BYTES_PER_ELEMENT,F=w.byteLength/q[1];this.bandCount=Math.floor(F/y/q[0]);var M=Math.ceil(this.bandCount/4);if(1===M)A=D.createTexture(),this.textures.push(A),K(x,A,w,q,this.bandCount,z.interpolate);else{var T=Array(M);for(var Q=0;Q<M;++Q){var S=D.createTexture();this.textures.push(S);T[Q]=new L(A*(Q<M-1?4:(this.bandCount-1)%4+1))}L=D=0;Q=q[0]*this.bandCount;for(S=0;S<q[1];++S){for(let W=0;W<Q;++W){const ca=W%this.bandCount,B=T[Math.floor(ca/4)];B[B.length/A*Math.floor(D/
this.bandCount)+ca%4]=w[L+W];++D}L+=F/y}for(w=0;w<M;++w)y=T[w],K(x,this.textures[w],y,q,y.length/A,z.interpolate)}}this.setReady()}disposeInternal(){const x=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(let D=0;D<this.textures.length;++D)x.deleteTexture(this.textures[D]);this.tile.removeEventListener(h.default.CHANGE,this.handleTileChange_)}getImagePixelData_(x,D,z){const w=this.gutter_,q=this.renderSize_[0],A=this.renderSize_[1];k||(k=(0,m.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0}));
k.clearRect(0,0,1,1);D=w+Math.floor(D/q*(x.width-2*w));z=w+Math.floor(z/A*(x.height-2*w));let L;try{k.drawImage(x,D,z,1,1,0,0,1,1),L=k.getImageData(0,0,1,1).data}catch(y){return k=null}return L}getArrayPixelData_(x,D,z,w){var q=this.gutter_;const A=D[0],L=D[1];D=A+2*q;const y=L+2*q;z=q+Math.floor(z/this.renderSize_[0]*A);w=q+Math.floor(w/this.renderSize_[1]*L);if(x instanceof DataView)return q=x.byteLength/(D*y),D=q*(w*D+z),x=x.buffer.slice(D,D+q),new DataView(x);D=this.bandCount*(w*D+z);return x.slice(D,
D+this.bandCount)}getPixelData(x,D){if(!this.loaded)return null;if(this.tile instanceof g.default){var z=this.tile.getData();const w=(0,E.asArrayLike)(z);return w?(z=this.tile.getSize(),this.getArrayPixelData_(w,z,x,D)):this.getImagePixelData_((0,E.asImageLike)(z),x,D)}return this.getImagePixelData_(this.tile.getImage(),x,D)}}const r=n};
shadow$provide[216]=function(X,c,Z,N){function J(){return{tileIds:new Set,representationsByZ:{}}}function K(F,M,T){const Q=F.representationsByZ;T in Q||(Q[T]=new Set);Q[T].add(M);F.tileIds.add((0,f.getUid)(M.tile))}function E(F,M){var T=F.layerStatesArray[F.layerIndex];T.extent&&(M=(0,k.getIntersection)(M,(0,h.fromUserExtent)(T.extent,F.viewState.projection)));T=T.layer.getRenderSource();T.getWrapX()||(F=T.getTileGridForProjection(F.viewState.projection).getExtent())&&(M=(0,k.getIntersection)(M,F));
return M}function C(F,M){return`${F.getKey()},${(0,e.getKey)(M)}`}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Uniforms:{enumerable:!0,get:function(){return q}},default:{enumerable:!0,get:function(){return y}},getCacheKey:{enumerable:!0,get:function(){return C}},newTileRepresentationLookup:{enumerable:!0,get:function(){return J}}});X=c(169);Z=c(212);N=c(213);var u=c(172),p=c(129),m=c(196),f=c(19),l=c(194),e=c(170),d=c(26),g=c(12),h=c(40),k=c(28),n=c(66),r=c.esmDefault(N),x=c.esmDefault(u),
D=c.esmDefault(p);N=c.esmDefault(m);var z=c.esmDefault(X),w=c.esmDefault(Z);const q={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"},A={};class L extends N.default{constructor(F,M){super(F,{uniforms:M.uniforms,postProcesses:M.postProcesses});this.renderComplete=!1;this.tileTransform_=
(0,d.create)();this.tempMat4=(0,l.create)();this.tempTileRange_=new x.default(0,0,0,0);this.tempTileCoord_=(0,e.createOrUpdate)(0,0,0);this.tempSize_=[0,0];this.tileRepresentationCache=new z.default(void 0!==M.cacheSize?M.cacheSize:512);this.frameState=null;this.projection_=void 0}reset(F){super.reset({uniforms:F.uniforms})}isDrawableTile_(F){var M=this.getLayer();F=F.getState();M=M.getUseInterimTilesOnError();return F==D.default.LOADED||F==D.default.EMPTY||F==D.default.ERROR&&!M}prepareFrameInternal(F){this.projection_?
F.viewState.projection!==this.projection_&&(this.clearCache(),this.projection_=F.viewState.projection):this.projection_=F.viewState.projection;const M=this.getLayer().getRenderSource();return!M||(0,k.isEmpty)(E(F,F.extent))?!1:"ready"===M.getState()}createTileRepresentation(F){return(0,f.abstract)()}enqueueTiles(F,M,T,Q,S){const W=F.viewState;var ca=this.getLayer();const B=ca.getRenderSource(),v=B.getTileGridForProjection(W.projection),I=B.getGutterForProjection(W.projection),O=(0,f.getUid)(B);O in
F.wantedTiles||(F.wantedTiles[O]={});const ea=F.wantedTiles[O],la=this.tileRepresentationCache;var va=ca.getMapInternal();for(S=Math.max(T-S,v.getMinZoom(),v.getZForResolution(Math.min(ca.getMaxResolution(),va?va.getView().getResolutionForZoom(Math.max(ca.getMinZoom(),0)):v.getResolution(0)),B.zDirection));T>=S;--T){ca=v.getTileRangeForExtentAndZ(M,T,this.tempTileRange_);va=v.getResolution(T);for(let Ya=ca.minX;Ya<=ca.maxX;++Ya)for(let Za=ca.minY;Za<=ca.maxY;++Za){const gb=(0,e.createOrUpdate)(T,
Ya,Za,this.tempTileCoord_);var Da=C(B,gb);let qb,db;la.containsKey(Da)&&(qb=la.get(Da),db=qb.tile);qb&&qb.tile.key===B.getKey()||(db=B.getTile(T,Ya,Za,F.pixelRatio,W.projection));Q.tileIds.has((0,f.getUid)(db))||(qb?this.isDrawableTile_(db)?qb.setTile(db):(Da=db.getInterimTile(),qb.setTile(Da)):(qb=this.createTileRepresentation({tile:db,grid:v,helper:this.helper,gutter:I}),la.set(Da,qb)),K(Q,qb,T),Da=db.getKey(),ea[Da]=!0,db.getState()===D.default.IDLE&&(F.tileQueue.isKeyQueued(Da)||F.tileQueue.enqueue([db,
O,v.getTileCoordCenter(gb),va])))}}}beforeTilesRender(F,M){this.helper.prepareDraw(this.frameState,!M,!0)}renderTile(F,M,T,Q,S,W,ca,B,v,I,O){}drawTile_(F,M,T,Q,S,W,ca){if(M.loaded){var B=M.tile.tileCoord,v=(0,e.getKey)(B);W=v in W?W[v]:1;v=ca.getResolution(T);var I=(0,n.toSize)(ca.getTileSize(T),this.tempSize_),O=ca.getOrigin(T);ca=ca.getTileCoordExtent(B);T=1>W?-1:1/(T+2);1>W&&(F.animate=!0);var ea=F.viewState,la=I[0]+2*Q,va=I[1]+2*Q,Da=la/va,Ya=(ea.center[0]-O[0])/(I[0]*v),Za=(O[1]-ea.center[1])/
(I[1]*v),gb=ea.resolution/v,qb=B[1];B=B[2];(0,d.reset)(this.tileTransform_);(0,d.scale)(this.tileTransform_,2/(F.size[0]*gb/la),-2/(F.size[1]*gb/la));(0,d.rotate)(this.tileTransform_,ea.rotation);(0,d.scale)(this.tileTransform_,1,1/Da);(0,d.translate)(this.tileTransform_,(I[0]*(qb-Ya)-Q)/la,(I[1]*(B-Za)-Q)/va);this.renderTile(M,this.tileTransform_,F,S,v,I,O,ca,T,Q,W)}}renderFrame(F){this.frameState=F;this.renderComplete=!0;const M=this.helper.getGL();this.preRender(M,F);var T=F.viewState,Q=this.getLayer();
const S=Q.getRenderSource();var W=S.getTileGridForProjection(T.projection),ca=S.getGutterForProjection(T.projection);const B=E(F,F.extent),v=W.getZForResolution(T.resolution,S.zDirection),I=J(),O=Q.getPreload();F.nextExtent&&(T=W.getZForResolution(T.nextResolution,S.zDirection),Q=E(F,F.nextExtent),this.enqueueTiles(F,Q,T,I,O));this.enqueueTiles(F,B,v,I,0);0<O&&setTimeout(()=>{this.enqueueTiles(F,B,v-1,I,O-1)},0);T={};Q=(0,f.getUid)(this);var ea=F.time;let la=!1;for(var va of I.representationsByZ[v]){var Da=
va.tile;if((Da instanceof r.default||Da instanceof w.default)&&Da.getState()===D.default.EMPTY)continue;const Za=Da.tileCoord;if(va.loaded){var Ya=Da.getAlpha(Q,ea);if(1===Ya){Da.endTransition(Q);continue}la=!0;Da=(0,e.getKey)(Za);T[Da]=Ya}this.renderComplete=!1;if(!this.findAltTiles_(W,Za,v+1,I))for(Ya=W.getMinZoom(),Da=v-1;Da>=Ya&&!this.findAltTiles_(W,Za,Da,I);--Da);}this.beforeTilesRender(F,la);va=I.representationsByZ;Q=Object.keys(va).map(Number).sort(g.descending);for(let Za=0,gb=Q.length;Za<
gb;++Za){ea=Q[Za];for(const qb of va[ea])(0,e.getKey)(qb.tile.tileCoord)in T||this.drawTile_(F,qb,ea,ca,B,T,W)}for(const Za of va[v])(0,e.getKey)(Za.tile.tileCoord)in T&&this.drawTile_(F,Za,v,ca,B,T,W);this.helper.finalizeDraw(F,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);W=this.helper.getCanvas();for(ca=this.tileRepresentationCache;ca.canExpireCache();)ca.pop().dispose();F.postRenderFunctions.push(function(Za,gb){S.updateCacheSize(.1,gb.viewState.projection);S.expireCache(gb.viewState.projection,
A)});this.postRender(M,F);return W}findAltTiles_(F,M,T,Q){F=F.getTileRangeForTileCoordAndZ(M,T,this.tempTileRange_);if(!F)return!1;M=!0;const S=this.tileRepresentationCache,W=this.getLayer().getRenderSource();for(let B=F.minX;B<=F.maxX;++B)for(let v=F.minY;v<=F.maxY;++v){var ca=C(W,[T,B,v]);let I=!1;S.containsKey(ca)&&(ca=S.get(ca),ca.loaded&&!Q.tileIds.has((0,f.getUid)(ca.tile))&&(K(Q,ca,T),I=!0));I||(M=!1)}return M}clearCache(){const F=this.tileRepresentationCache;F.forEach(M=>M.dispose());F.clear()}removeHelper(){this.helper&&
this.clearCache();super.removeHelper()}disposeInternal(){super.disposeInternal();delete this.frameState}}const y=L};
shadow$provide[217]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Attributes:{enumerable:!0,get:function(){return x}},Uniforms:{enumerable:!0,get:function(){return r}},default:{enumerable:!0,get:function(){return w}}});X=c(212);var J=c(213),K=c(129);Z=c(215);N=c(191);var E=c(216),C=c(195),u=c(190),p=c(26),m=c(28),f=c(40),l=c(194),e=c(66),d=c.esmDefault(J),g=c.esmDefault(K);J=c.esmDefault(E);var h=c.esmDefault(X),k=c.esmDefault(Z),n=c.esmDefault(N);const r={...E.Uniforms,
TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},x={TEXTURE_COORD:"a_textureCoord"},D=[{name:x.TEXTURE_COORD,size:2,type:C.AttributeType.FLOAT}];class z extends J.default{constructor(q,A){super(q,A);this.program_;this.vertexShader_=A.vertexShader;this.fragmentShader_=A.fragmentShader;this.indices_=new n.default(u.ELEMENT_ARRAY_BUFFER,
u.STATIC_DRAW);this.indices_.fromArray([0,1,3,1,2,3]);this.paletteTextures_=A.paletteTextures||[]}reset(q){super.reset(q);this.vertexShader_=q.vertexShader;this.fragmentShader_=q.fragmentShader;this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.helper.flushBufferData(this.indices_)}createTileRepresentation(q){return new k.default(q)}beforeTilesRender(q,
A){super.beforeTilesRender(q,A);this.helper.useProgram(this.program_,q)}renderTile(q,A,L,y,F,M,T,Q,S,W,ca){var B=this.helper.getGL();this.helper.bindBuffer(q.coords);this.helper.bindBuffer(this.indices_);this.helper.enableAttributes(D);for(var v=0;v<q.textures.length;)this.helper.bindTexture(q.textures[v],v,`${r.TILE_TEXTURE_ARRAY}[${v}]`),++v;for(var I=0;I<this.paletteTextures_.length;++I){const O=this.paletteTextures_[I],ea=O.getTexture(B);this.helper.bindTexture(ea,v,O.name);++v}L=L.viewState;
B=M[0]+2*W;v=M[1]+2*W;I=q.tile.tileCoord;q=I[1];I=I[2];this.helper.setUniformMatrixValue(r.TILE_TRANSFORM,(0,l.fromTransform)(this.tempMat4,A));this.helper.setUniformFloatValue(r.TRANSITION_ALPHA,ca);this.helper.setUniformFloatValue(r.DEPTH,S);A=y;0<W&&(A=Q,(0,m.getIntersection)(A,y,A));this.helper.setUniformFloatVec4(r.RENDER_EXTENT,A);this.helper.setUniformFloatValue(r.RESOLUTION,L.resolution);this.helper.setUniformFloatValue(r.ZOOM,L.zoom);this.helper.setUniformFloatValue(r.TEXTURE_PIXEL_WIDTH,
B);this.helper.setUniformFloatValue(r.TEXTURE_PIXEL_HEIGHT,v);this.helper.setUniformFloatValue(r.TEXTURE_RESOLUTION,F);this.helper.setUniformFloatValue(r.TEXTURE_ORIGIN_X,T[0]+q*M[0]*F-W*F);this.helper.setUniformFloatValue(r.TEXTURE_ORIGIN_Y,T[1]-I*M[1]*F+W*F);this.helper.drawElements(0,this.indices_.getSize())}getData(q){if(!this.helper.getGL())return null;var A=this.frameState;if(!A)return null;var L=this.getLayer();q=(0,p.apply)(A.pixelToCoordinateTransform,q.slice());A=A.viewState;var y=L.getExtent();
if(y&&!(0,m.containsCoordinate)((0,f.fromUserExtent)(y,A.projection),q))return null;L=L.getSources((0,m.boundingExtent)([q]),A.resolution);for(y=L.length-1;0<=y;--y){var F=L[y];if("ready"===F.getState()){var M=F.getTileGridForProjection(A.projection);if(F.getWrapX())break;var T=M.getExtent();if(!T||(0,m.containsCoordinate)(T,q))break}}if(0>y)return null;T=this.tileRepresentationCache;for(L=M.getZForResolution(A.resolution);L>=M.getMinZoom();--L){A=M.getTileCoordForCoordAndZ(q,L);y=(0,E.getCacheKey)(F,
A);if(!T.containsKey(y))continue;y=T.get(y);const Q=y.tile;if((Q instanceof d.default||Q instanceof h.default)&&Q.getState()===g.default.EMPTY)break;if(y.loaded)return F=M.getOrigin(L),T=(0,e.toSize)(M.getTileSize(L)),M=M.getResolution(L),y.getPixelData((q[0]-F[0])/M-A[1]*T[0],(F[1]-q[1])/M-A[2]*T[1])}return null}disposeInternal(){const q=this.helper;q&&(q.getGL().deleteProgram(this.program_),delete this.program_,q.deleteBuffer(this.indices_));super.disposeInternal();delete this.indices_}}const w=
z};
shadow$provide[218]=function(X,c,Z,N){function J(B){switch(B){case "string":return Q.STRING;case "color":return Q.COLOR;case "number":return Q.NUMBER;case "boolean":return Q.BOOLEAN;case "number[]":return Q.NUMBER_ARRAY;default:throw Error(`Unrecognized type hint: ${B}`);}}function K(B){if("number"===typeof B)return Q.NUMBER;if("boolean"===typeof B)return Q.BOOLEAN;if("string"===typeof B)return(0,M.isStringColor)(B)?Q.COLOR|Q.STRING:Q.STRING;if(!Array.isArray(B))throw Error(`Unhandled value type: ${JSON.stringify(B)}`);
if(B.every(function(I){return"number"===typeof I}))return 3===B.length||4===B.length?Q.COLOR|Q.NUMBER_ARRAY:Q.NUMBER_ARRAY;if("string"!==typeof B[0])throw Error(`Expected an expression operator but received: ${JSON.stringify(B)}`);const v=S[B[0]];if(void 0===v)throw Error(`Unrecognized expression operator: ${JSON.stringify(B)}`);return v.getReturnType(B.slice(1))}function E(B){return 0===Math.log2(B)%1}function C(B){const v=[];0<(B&Q.NUMBER)&&v.push("number");0<(B&Q.COLOR)&&v.push("color");0<(B&Q.BOOLEAN)&&
v.push("boolean");0<(B&Q.NUMBER_ARRAY)&&v.push("number[]");0<(B&Q.STRING)&&v.push("string");return 0<v.length?v.join(", "):"(no type)"}function u(B){B=B.toString();return B.includes(".")?B:B+".0"}function p(B){if(2>B.length||4<B.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${B.length}(${B.map(u).join(", ")})`}function m(B){B=(0,M.asArray)(B);const v=3<B.length?B[3]:1;return p([B[0]/255*v,B[1]/255*v,B[2]/255*v,v])}function f(B){B in W||(W[B]=ca++);
return W[B]}function l(B){return u(f(B))}function e(B,v,I){I=void 0!==I?I:Q.NUMBER;if(Array.isArray(v)&&"string"===typeof v[0]){const O=S[v[0]];if(void 0===O)throw Error(`Unrecognized expression operator: ${JSON.stringify(v)}`);return O.toGlsl(B,v.slice(1),I)}B=K(v)&I;z(v,B,"");if(0<(B&Q.NUMBER))return u(v);if(0<(B&Q.BOOLEAN))return v.toString();if(0<(B&Q.STRING))return l(v.toString());if(0<(B&Q.COLOR))return m(v);if(0<(B&Q.NUMBER_ARRAY))return p(v);throw Error(`Unexpected expression ${v} (expected type ${C(I)})`);
}function d(B){if(0===(K(B)&Q.NUMBER))throw Error(`A numeric value was expected, got ${JSON.stringify(B)} instead`);}function g(B){for(let v=0;v<B.length;v++)d(B[v])}function h(B){if(0===(K(B)&Q.STRING))throw Error(`A string value was expected, got ${JSON.stringify(B)} instead`);}function k(B){if(0===(K(B)&Q.BOOLEAN))throw Error(`A boolean value was expected, got ${JSON.stringify(B)} instead`);}function n(B,v){if(B.length!==v)throw Error(`Exactly ${v} arguments were expected, got ${B.length} instead`);
}function r(B,v){if(B.length<v)throw Error(`At least ${v} arguments were expected, got ${B.length} instead`);}function x(B,v){if(B.length>v)throw Error(`At most ${v} arguments were expected, got ${B.length} instead`);}function D(B){if(0!==B.length%2)throw Error(`An even amount of arguments was expected, got ${JSON.stringify(B)} instead`);}function z(B,v,I){if(v===Q.NONE)throw Error(`No matching type was found for the following expression ${I}: ${JSON.stringify(B)}`);}function w(B,v,I){z(B,v,I);if(!E(v))throw Error(`Expected to have a unique type for the following expression ${I}: ${JSON.stringify(B)}
Got the following types instead: ${C(v)}`);}function q(B,v,I,O){if((v&I)===Q.NONE)throw Error(`Expected the ${O} type of the following expression: ${JSON.stringify(B)} to be of the following types: ${C(I)}
Got these types instead: ${C(v)}`);}function A(B){return"u_var_"+B}function L(B){return{getReturnType:function(){return Q.BOOLEAN},toGlsl:function(v,I){n(I,2);let O=Q.ANY;for(let ea=0;ea<I.length;ea++)O&=K(I[ea]);if(O===Q.NONE)throw Error(`All arguments should be of compatible type, got ${JSON.stringify(I)} instead`);O&=~Q.COLOR;return`(${e(v,I[0],O)} ${B} ${e(v,I[1],O)})`}}}function y(B){return{getReturnType:function(){return Q.BOOLEAN},toGlsl:function(v,I){r(I,2);for(let O=0;O<I.length;O++)k(I[O]);
return`(${I.map(O=>e(v,O,Q.BOOLEAN)).join(` ${B} `)})`}}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Operators:{enumerable:!0,get:function(){return S}},PALETTE_TEXTURE_ARRAY:{enumerable:!0,get:function(){return"u_paletteTextures"}},ValueTypes:{enumerable:!0,get:function(){return Q}},arrayToGlsl:{enumerable:!0,get:function(){return p}},colorToGlsl:{enumerable:!0,get:function(){return m}},expressionToGlsl:{enumerable:!0,get:function(){return e}},getStringNumberEquivalent:{enumerable:!0,
get:function(){return f}},getValueType:{enumerable:!0,get:function(){return K}},isTypeUnique:{enumerable:!0,get:function(){return E}},numberToGlsl:{enumerable:!0,get:function(){return u}},stringToGlsl:{enumerable:!0,get:function(){return l}},uniformNameForVariable:{enumerable:!0,get:function(){return A}}});X=c(207);var F=c(217),M=c(68),T=c.esmDefault(X);const Q={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},S={},W={};let ca=0;S.get={getReturnType:function(B){return 2===B.length?
J(B[1]):Q.ANY},toGlsl:function(B,v,I){r(v,1);x(v,2);h(v[0]);I&=S.get.getReturnType(v);w(["get",...v],I,"");const O=v[0].toString();v=B.attributes.find(ea=>ea.name===O);if(!v)B.attributes.push({name:O,type:I});else if(I!==v.type)throw Error(`The following attribute was used in different places with incompatible types: ${O}
Types were: ${C(v.type)} and ${C(I)}`);return(B.inFragmentShader?"v_":"a_")+O}};S["var"]={getReturnType:function(){return Q.ANY},toGlsl:function(B,v,I){n(v,1);h(v[0]);const O=v[0].toString();if(!B.style.variables||void 0===B.style.variables[O])throw Error(`The following variable is missing from the style: ${O}`);I&=K(B.style.variables[O]);w(["var",...v],I,"");v=B.variables.find(ea=>ea.name===O);if(!v)B.variables.push({name:O,type:I});else if(I!==v.type)throw Error(`The following variable was used in different places with incompatible types: ${O}
Types were: ${C(v.type)} and ${C(I)}`);return A(O)}};S.palette={getReturnType:function(){return Q.COLOR},toGlsl:function(B,v){n(v,2);d(v[0]);const I=e(B,v[0]);var O=v[1];if(!Array.isArray(O))throw Error("The second argument of palette must be an array");v=O.length;var ea=new Uint8Array(4*v);for(let Da=0;Da<v;Da++){var la=O[Da];if("string"===typeof la)la=(0,M.fromString)(la);else{if(!Array.isArray(la))throw Error("The second argument of palette must be an array of strings or colors");var va=la.length;
if(4!==va){if(3!==va)throw Error(`Expected palette color to have 3 or 4 values, got ${va}`);la=[la[0],la[1],la[2],1]}}va=4*Da;ea[va]=la[0];ea[va+1]=la[1];ea[va+2]=la[2];ea[va+3]=255*la[3]}B.paletteTextures||(B.paletteTextures=[]);O=`${"u_paletteTextures"}[${B.paletteTextures.length}]`;ea=new T.default(O,ea);B.paletteTextures.push(ea);return`texture2D(${O}, vec2((${I} + 0.5) / ${v}.0, 0.5))`}};S.band={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){r(v,1);x(v,3);var I=v[0];if(!("getBandValue"in
B.functions)){var O="";const ea=B.bandCount||1;for(let la=0;la<ea;la++){const va=Math.floor(la/4);let Da=la%4;la===ea-1&&1===Da&&(Da=3);O+=`
          if (band == ${la+1}.0) {
            return texture2D(${`${F.Uniforms.TILE_TEXTURE_ARRAY}[${va}]`}, v_textureCoord + vec2(dx, dy))[${Da}];
          }
        `}B.functions.getBandValue=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / ${F.Uniforms.TEXTURE_PIXEL_WIDTH};
          float dy = yOffset / ${F.Uniforms.TEXTURE_PIXEL_HEIGHT};
          ${O}
        }
      `}I=e(B,I);O=e(B,v[1]||0);B=e(B,v[2]||0);return`${"getBandValue"}(${I}, ${O}, ${B})`}};S.time={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,0);return"u_time"}};S.zoom={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,0);return"u_zoom"}};S.resolution={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,0);return"u_resolution"}};S["geometry-type"]={getReturnType:function(){return Q.STRING},toGlsl:function(B,v){n(v,0);const I=O=>{const ea=
O.getType();switch(ea){case "Point":case "LineString":case "Polygon":return ea;case "MultiPoint":case "MultiLineString":case "MultiPolygon":return ea.substring(5);case "Circle":return"Polygon";case "GeometryCollection":return I(O.getGeometries()[0])}};B.attributes.find(O=>"geometryType"===O.name)||B.attributes.push({name:"geometryType",type:Q.STRING,callback:O=>I(O.getGeometry())});return(B.inFragmentShader?"v_":"a_")+"geometryType"}};S["*"]={getReturnType:function(B){let v=Q.NUMBER|Q.COLOR;for(let I=
0;I<B.length;I++)v&=K(B[I]);return v},toGlsl:function(B,v,I){r(v,2);let O=I;for(I=0;I<v.length;I++)O&=K(v[I]);q(v,O,Q.NUMBER|Q.COLOR,"output");return`(${v.map(ea=>e(B,ea,O)).join(" * ")})`}};S["/"]={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,2);g(v);return`(${e(B,v[0])} / ${e(B,v[1])})`}};S["+"]={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){r(v,2);g(v);return`(${v.map(I=>e(B,I)).join(" + ")})`}};S["-"]={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,
v){n(v,2);g(v);return`(${e(B,v[0])} - ${e(B,v[1])})`}};S.clamp={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,3);g(v);const I=e(B,v[1]),O=e(B,v[2]);return`clamp(${e(B,v[0])}, ${I}, ${O})`}};S["%"]={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,2);g(v);return`mod(${e(B,v[0])}, ${e(B,v[1])})`}};S["^"]={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,2);g(v);return`pow(${e(B,v[0])}, ${e(B,v[1])})`}};S.abs={getReturnType:function(){return Q.NUMBER},
toGlsl:function(B,v){n(v,1);g(v);return`abs(${e(B,v[0])})`}};S.floor={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,1);g(v);return`floor(${e(B,v[0])})`}};S.round={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,1);g(v);return`floor(${e(B,v[0])} + 0.5)`}};S.ceil={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,1);g(v);return`ceil(${e(B,v[0])})`}};S.sin={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,1);g(v);return`sin(${e(B,
v[0])})`}};S.cos={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,1);g(v);return`cos(${e(B,v[0])})`}};S.atan={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){r(v,1);x(v,2);g(v);return 2===v.length?`atan(${e(B,v[0])}, ${e(B,v[1])})`:`atan(${e(B,v[0])})`}};S.sqrt={getReturnType:function(){return Q.NUMBER},toGlsl:function(B,v){n(v,1);g(v);return`sqrt(${e(B,v[0])})`}};S["\x3e"]={getReturnType:function(){return Q.BOOLEAN},toGlsl:function(B,v){n(v,2);g(v);return`(${e(B,
v[0])} > ${e(B,v[1])})`}};S["\x3e\x3d"]={getReturnType:function(){return Q.BOOLEAN},toGlsl:function(B,v){n(v,2);g(v);return`(${e(B,v[0])} >= ${e(B,v[1])})`}};S["\x3c"]={getReturnType:function(){return Q.BOOLEAN},toGlsl:function(B,v){n(v,2);g(v);return`(${e(B,v[0])} < ${e(B,v[1])})`}};S["\x3c\x3d"]={getReturnType:function(){return Q.BOOLEAN},toGlsl:function(B,v){n(v,2);g(v);return`(${e(B,v[0])} <= ${e(B,v[1])})`}};S["\x3d\x3d"]=L("\x3d\x3d");S["!\x3d"]=L("!\x3d");S["!"]={getReturnType:function(){return Q.BOOLEAN},
toGlsl:function(B,v){n(v,1);k(v[0]);return`(!${e(B,v[0],Q.BOOLEAN)})`}};S.all=y("\x26\x26");S.any=y("||");S.between={getReturnType:function(){return Q.BOOLEAN},toGlsl:function(B,v){n(v,3);g(v);const I=e(B,v[1]),O=e(B,v[2]);B=e(B,v[0]);return`(${B} >= ${I} && ${B} <= ${O})`}};S.array={getReturnType:function(){return Q.NUMBER_ARRAY},toGlsl:function(B,v){r(v,2);x(v,4);g(v);const I=v.map(function(O){return e(B,O)});return`vec${v.length}(${I.join(", ")})`}};S.color={getReturnType:function(){return Q.COLOR},
toGlsl:function(B,v){r(v,3);x(v,4);g(v);const I=v.slice(0,3).map(O=>`${e(B,O)} / 255.0`);return 3===v.length?`vec4(${I.join(", ")}, 1.0)`:`(${e(B,v[3])} * vec4(${I.join(", ")}, 1.0))`}};S.interpolate={getReturnType:function(B){let v=Q.COLOR|Q.NUMBER;for(let I=3;I<B.length;I+=2)v&=K(B[I]);return v},toGlsl:function(B,v,I){D(v);r(v,6);var O=v[0];let ea;switch(O[0]){case "linear":ea=1;break;case "exponential":ea=O[1];break;default:ea=null}if(!ea)throw Error(`Invalid interpolation type for "interpolate" operator, received: ${JSON.stringify(O)}`);
O=Q.NUMBER;I&=S.interpolate.getReturnType(v);w(["interpolate",...v],I,"output");const la=e(B,v[1],O),va=u(ea);var Da="";for(let Ya=2;Ya<v.length-2;Ya+=2){const Za=e(B,v[Ya],O);Da=Da||e(B,v[Ya+1],I);const gb=e(B,v[Ya+2],O),qb=e(B,v[Ya+3],I);Da=`mix(${Da}, ${qb}, clamp(${1===ea?`(${la} - ${Za}) / (${gb} - ${Za})`:`(pow(${va}, (${la} - ${Za})) - 1.0) / (pow(${va}, (${gb} - ${Za})) - 1.0)`}, 0.0, 1.0))`}return Da}};S.match={getReturnType:function(B){let v=Q.ANY;for(let I=2;I<B.length;I+=2)v&=K(B[I]);
return v&=K(B[B.length-1])},toGlsl:function(B,v,I){D(v);r(v,4);let O=K(v[0]);for(var ea=1;ea<v.length-1;ea+=2)O&=K(v[ea]);q(["match",...v],O,Q.STRING|Q.NUMBER|Q.BOOLEAN,"input");O&=Q.STRING|Q.NUMBER|Q.BOOLEAN;I&=S.match.getReturnType(v);w(["match",...v],I,"output");ea=e(B,v[0],O);const la=e(B,v[v.length-1],I);let va=null;for(let Da=v.length-3;1<=Da;Da-=2){const Ya=e(B,v[Da],O),Za=e(B,v[Da+1],I);va=`(${ea} == ${Ya} ? ${Za} : ${va||la})`}return va}};S["case"]={getReturnType:function(B){let v=Q.ANY;
for(let I=1;I<B.length;I+=2)v&=K(B[I]);return v&=K(B[B.length-1])},toGlsl:function(B,v,I){if(0===v.length%2)throw Error(`An odd amount of arguments was expected, got ${JSON.stringify(v)} instead`);r(v,3);I&=S["case"].getReturnType(v);w(["case",...v],I,"output");for(var O=0;O<v.length-1;O+=2)k(v[O]);O=e(B,v[v.length-1],I);let ea=null;for(let la=v.length-3;0<=la;la-=2){const va=e(B,v[la],Q.BOOLEAN),Da=e(B,v[la+1],I);ea=`(${va} ? ${Da} : ${ea||O})`}return ea}};S["in"]={getReturnType:function(B){return Q.BOOLEAN},
toGlsl:function(B,v){n(v,2);const I=v[0];let O=v[1];if(!Array.isArray(O))throw Error('The "in" operator expects an array literal as its second argument.');if("string"===typeof O[0]){if("literal"!==O[0])throw Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(O[1]))throw Error('The "in" operator was provided a literal value which was not an array as second argument.');O=O[1]}let ea=K(I);for(var la=0;la<O.length-
1;la+=1)ea&=K(O[la]);q(["match",...v],ea,Q.STRING|Q.NUMBER|Q.BOOLEAN,"input");ea&=Q.STRING|Q.NUMBER|Q.BOOLEAN;v=`operator_${"in"}_${Object.keys(B.functions).length}`;la=[];for(let va=0;va<O.length;va+=1)la.push(`  if (inputValue == ${e(B,O[va],ea)}) { return true; }`);B.functions[v]=`bool ${v}(float inputValue) {
${la.join("\n")}
  return false;
}`;return`${v}(${e(B,I,ea)})`}}};
shadow$provide[219]=function(X,c,Z,N){function J(){return{"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createDefaultStyle:{enumerable:!0,get:function(){return J}}})};
shadow$provide[220]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ShaderBuilder:{enumerable:!0,get:function(){return E}}});var J=c(218);const K=(0,c(219).createDefaultStyle)();class E{constructor(){this.uniforms_=[];this.attributes_=[];this.varyings_=[];this.hasSymbol_=!1;this.symbolSizeExpression_=`vec2(${(0,J.numberToGlsl)(K["circle-radius"])} + ${(0,J.numberToGlsl)(.5*K["circle-stroke-width"])})`;this.symbolRotationExpression_="0.0";this.symbolOffsetExpression_=
"vec2(0.0)";this.symbolColorExpression_=(0,J.colorToGlsl)(K["circle-fill-color"]);this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression_="false";this.hasStroke_=this.symbolRotateWithView_=!1;this.strokeWidthExpression_=(0,J.numberToGlsl)(K["stroke-width"]);this.strokeColorExpression_=(0,J.colorToGlsl)(K["stroke-color"]);this.strokeOffsetExpression_="0.";this.strokeCapExpression_=(0,J.stringToGlsl)("round");this.strokeJoinExpression_=(0,J.stringToGlsl)("round");this.strokeMiterLimitExpression_=
"10.";this.strokeDistanceFieldExpression_="-1000.";this.hasFill_=!1;this.fillColorExpression_=(0,J.colorToGlsl)(K["fill-color"]);this.vertexShaderFunctions_=[];this.fragmentShaderFunctions_=[]}addUniform(C){this.uniforms_.push(C);return this}addAttribute(C){this.attributes_.push(C);return this}addVarying(C,u,p){this.varyings_.push({name:C,type:u,expression:p});return this}setSymbolSizeExpression(C){this.hasSymbol_=!0;this.symbolSizeExpression_=C;return this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(C){this.symbolRotationExpression_=
C;return this}setSymbolOffsetExpression(C){this.symbolOffsetExpression_=C;return this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(C){this.hasSymbol_=!0;this.symbolColorExpression_=C;return this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(C){this.texCoordExpression_=C;return this}setFragmentDiscardExpression(C){this.discardExpression_=C;return this}setSymbolRotateWithView(C){this.symbolRotateWithView_=C;return this}setStrokeWidthExpression(C){this.hasStroke_=
!0;this.strokeWidthExpression_=C;return this}setStrokeColorExpression(C){this.hasStroke_=!0;this.strokeColorExpression_=C;return this}setStrokeOffsetExpression(C){this.strokeOffsetExpression_=C;return this}setStrokeCapExpression(C){this.strokeCapExpression_=C;return this}setStrokeJoinExpression(C){this.strokeJoinExpression_=C;return this}setStrokeMiterLimitExpression(C){this.strokeMiterLimitExpression_=C;return this}setStrokeDistanceFieldExpression(C){this.strokeDistanceFieldExpression_=C;return this}setFillColorExpression(C){this.hasFill_=
!0;this.fillColorExpression_=C;return this}addVertexShaderFunction(C){this.vertexShaderFunctions_.includes(C)||this.vertexShaderFunctions_.push(C)}addFragmentShaderFunction(C){this.fragmentShaderFunctions_.includes(C)||this.fragmentShaderFunctions_.push(C)}getSymbolVertexShader(){return this.hasSymbol_?`${"#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform mediump int u_hitDetection;\n\nconst float PI \x3d 3.141592653589793238;\nconst float TWO_PI \x3d 2.0 * PI;\n"}
${this.uniforms_.map(function(C){return"uniform "+C+";"}).join("\n")}
attribute vec2 a_position;
attribute float a_index;
attribute vec4 a_hitColor;
${this.attributes_.map(function(C){return"attribute "+C+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
varying vec4 v_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(C){return"varying "+C.type+" "+C.name+";"}).join("\n")}
${this.vertexShaderFunctions_.join("\n")}
vec2 pxToScreen(vec2 coordPx) {
  vec2 scaled = coordPx / u_viewportSizePx / 0.5;
  ${this.symbolRotateWithView_?"scaled \x3d vec2(scaled.x * cos(-u_rotation) - scaled.y * sin(-u_rotation), scaled.x * sin(-u_rotation) + scaled.y * cos(-u_rotation));":""}
  return scaled;
}

vec2 screenToPx(vec2 coordScreen) {
  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;
}

void main(void) {
  v_quadSizePx = ${this.symbolSizeExpression_};
  vec2 halfSizePx = v_quadSizePx * 0.5;
  vec2 centerOffsetPx = ${this.symbolOffsetExpression_};
  vec2 offsetPx = centerOffsetPx;
  if (a_index == 0.0) {
    offsetPx -= halfSizePx;
  } else if (a_index == 1.0) {
    offsetPx += halfSizePx * vec2(1., -1.);
  } else if (a_index == 2.0) {
    offsetPx += halfSizePx;
  } else {
    offsetPx += halfSizePx * vec2(-1., 1.);
  }
  float angle = ${this.symbolRotationExpression_};
  float c = cos(-angle);
  float s = sin(-angle);
  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);
  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);
  gl_Position = center + vec4(pxToScreen(offsetPx), 0., 0.);
  vec4 texCoord = ${this.texCoordExpression_};
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  v_hitColor = a_hitColor;
  v_angle = angle;
  ${this.symbolRotateWithView_?"v_angle +\x3d u_rotation;":""}
  c = cos(-v_angle);
  s = sin(-v_angle);
  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); 
  v_centerPx = screenToPx(center.xy) + centerOffsetPx;
${this.varyings_.map(function(C){return"  "+C.name+" \x3d "+C.expression+";"}).join("\n")}
}`:null}getSymbolFragmentShader(){return this.hasSymbol_?`${"#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform mediump int u_hitDetection;\n\nconst float PI \x3d 3.141592653589793238;\nconst float TWO_PI \x3d 2.0 * PI;\n"}
${this.uniforms_.map(function(C){return"uniform "+C+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec4 v_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(C){return"varying "+C.type+" "+C.name+";"}).join("\n")}
${this.fragmentShaderFunctions_.join("\n")}

void main(void) {
  if (${this.discardExpression_}) { discard; }
  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center
  float c = cos(v_angle);
  float s = sin(v_angle);
  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);
  gl_FragColor = ${this.symbolColorExpression_};
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.05) { discard; };
    gl_FragColor = v_hitColor;
  }
}`:null}getStrokeVertexShader(){return this.hasStroke_?`${"#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform mediump int u_hitDetection;\n\nconst float PI \x3d 3.141592653589793238;\nconst float TWO_PI \x3d 2.0 * PI;\n"}
${this.uniforms_.map(function(C){return"uniform "+C+";"}).join("\n")}
attribute vec2 a_position;
attribute float a_index;
attribute vec2 a_segmentStart;
attribute vec2 a_segmentEnd;
attribute float a_parameters;
attribute float a_distance;
attribute vec2 a_joinAngles;
attribute vec4 a_hitColor;
${this.attributes_.map(function(C){return"attribute "+C+";"}).join("\n")}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(C){return"varying "+C.type+" "+C.name+";"}).join("\n")}
${this.vertexShaderFunctions_.join("\n")}
vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

vec4 pxToScreen(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return vec4(screenPos, 0.0, 1.0);
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

vec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {
  float halfAngle = joinAngle / 2.0;
  float c = cos(halfAngle);
  float s = sin(halfAngle);
  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);
  float length = 1.0 / s;
  return angleBisectorNormal * length;
}

vec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {
  // if on a cap or the join angle is too high, offset the line along the segment normal
  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {
    return point - normal * offsetPx;
  }
  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)
  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;
}

void main(void) {
  v_angleStart = a_joinAngles.x;
  v_angleEnd = a_joinAngles.y;
  float vertexNumber = a_parameters;

  float lineWidth = ${this.strokeWidthExpression_};
  float lineOffsetPx = ${this.strokeOffsetExpression_};

  // compute segment start/end in px with offset
  vec2 segmentStartPx = worldToPx(a_segmentStart);
  vec2 segmentEndPx = worldToPx(a_segmentEnd);
  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);
  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);
  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),
  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);
  
  // compute current vertex position
  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;
  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;
  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;
  vec2 joinDirection;
  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;
  // if angle is too high, do not make a proper join
  if (cos(angle) > 0.985 || isCap(angle)) {
    joinDirection = normalPx * normalDir - tangentPx * tangentDir;
  } else {
    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);
  }
  positionPx = positionPx + joinDirection * lineWidth * 0.5;
  gl_Position = pxToScreen(positionPx);

  v_segmentStart = segmentStartPx;
  v_segmentEnd = segmentEndPx;
  v_width = lineWidth;
  v_hitColor = a_hitColor;
  v_distanceOffsetPx = a_distance / u_resolution;
${this.varyings_.map(function(C){return"  "+C.name+" \x3d "+C.expression+";"}).join("\n")}
}`:null}getStrokeFragmentShader(){return this.hasStroke_?`${"#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform mediump int u_hitDetection;\n\nconst float PI \x3d 3.141592653589793238;\nconst float TWO_PI \x3d 2.0 * PI;\n"}
${this.uniforms_.map(function(C){return"uniform "+C+";"}).join("\n")}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(C){return"varying "+C.type+" "+C.name+";"}).join("\n")}
${this.fragmentShaderFunctions_.join("\n")}

vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

float segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  vec2 tangent = normalize(end - start);
  vec2 normal = vec2(-tangent.y, tangent.x);
  vec2 startToPoint = point - start;
  return abs(dot(startToPoint, normal)) - width * 0.5;
}

float buttCapDistanceField(vec2 point, vec2 start, vec2 end) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  return dot(startToPoint, -tangent);
}

float squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return buttCapDistanceField(point, start, end) - width * 0.5;
}

float roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment
  return length(point - start) - width * 0.5 - onSegment;
}

float roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return roundCapDistanceField(point, start, end, width);
}

float bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  float c = cos(joinAngle * 0.5);
  float s = sin(joinAngle * 0.5);
  float direction = -sign(sin(joinAngle));
  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);
  float radius = width * 0.5 * s;
  return dot(startToPoint, bisector * direction) - radius;
}

float miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  if (cos(joinAngle) > 0.985) { // avoid risking a division by zero
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  float miterLength = 1. / sin(joinAngle * 0.5);
  float miterLimit = ${this.strokeMiterLimitExpression_};
  if (miterLength > miterLimit) {
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  return -1000.;
}

float capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {
   if (capType == ${(0,J.stringToGlsl)("butt")}) {
    return buttCapDistanceField(point, start, end);
  } else if (capType == ${(0,J.stringToGlsl)("square")}) {
    return squareCapDistanceField(point, start, end, width);
  }
  return roundCapDistanceField(point, start, end, width);
}

float joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {
  if (joinType == ${(0,J.stringToGlsl)("bevel")}) {
    return bevelJoinField(point, start, end, width, joinAngle);
  } else if (joinType == ${(0,J.stringToGlsl)("miter")}) {
    return miterJoinDistanceField(point, start, end, width, joinAngle);
  }
  return roundJoinDistanceField(point, start, end, width);
}

float computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {
  if (isCap(joinAngle)) {
    return capDistanceField(point, start, end, width, capType);
  }
  return joinDistanceField(point, start, end, width, joinAngle, joinType);
}

void main(void) {
  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 v_worldPos = pxToWorld(currentPoint);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      v_worldPos[0] < u_renderExtent[0] ||
      v_worldPos[1] < u_renderExtent[1] ||
      v_worldPos[0] > u_renderExtent[2] ||
      v_worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }

  float segmentLength = length(v_segmentEnd - v_segmentStart);
  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;
  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);
  vec2 startToPoint = currentPoint - v_segmentStart;
  float currentLengthPx = max(0., min(dot(segmentTangent, startToPoint), segmentLength)) + v_distanceOffsetPx; 
  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));
  vec4 color = ${this.strokeColorExpression_} * u_globalAlpha;
  float capType = ${this.strokeCapExpression_};
  float joinType = ${this.strokeJoinExpression_};
  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);
  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);
  float distance = max(
    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),
    max(segmentStartDistance, segmentEndDistance)
  );
  distance = max(distance, ${this.strokeDistanceFieldExpression_});
  gl_FragColor = color * smoothstep(0., -1., distance);
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_hitColor;
  }
}`:null}getFillVertexShader(){return this.hasFill_?`${"#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform mediump int u_hitDetection;\n\nconst float PI \x3d 3.141592653589793238;\nconst float TWO_PI \x3d 2.0 * PI;\n"}
${this.uniforms_.map(function(C){return"uniform "+C+";"}).join("\n")}
attribute vec2 a_position;
attribute vec4 a_hitColor;
${this.attributes_.map(function(C){return"attribute "+C+";"}).join("\n")}
varying vec4 v_hitColor;
${this.varyings_.map(function(C){return"varying "+C.type+" "+C.name+";"}).join("\n")}
${this.vertexShaderFunctions_.join("\n")}
void main(void) {
  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);
${this.varyings_.map(function(C){return"  "+C.name+" \x3d "+C.expression+";"}).join("\n")}
}`:null}getFillFragmentShader(){return this.hasFill_?`${"#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform mediump int u_hitDetection;\n\nconst float PI \x3d 3.141592653589793238;\nconst float TWO_PI \x3d 2.0 * PI;\n"}
${this.uniforms_.map(function(C){return"uniform "+C+";"}).join("\n")}
varying vec4 v_hitColor;
${this.varyings_.map(function(C){return"varying "+C.type+" "+C.name+";"}).join("\n")}
${this.fragmentShaderFunctions_.join("\n")}
vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

void main(void) {
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 v_worldPos = pxToWorld(gl_FragCoord.xy / u_pixelRatio);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      v_worldPos[0] < u_renderExtent[0] ||
      v_worldPos[1] < u_renderExtent[1] ||
      v_worldPos[0] > u_renderExtent[2] ||
      v_worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }
  gl_FragColor = ${this.fillColorExpression_} * u_globalAlpha;
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_hitColor;
  }
}`:null}}};
shadow$provide[221]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});Z=c(96);X=c(206);var J=c(220),K=c(35),E=c(70);Z=c.esmDefault(Z);var C=c.esmDefault(X);const u=["#00f","#0ff","#0f0","#ff0","#f00"];class p extends Z.default{constructor(f){f=f?f:{};const l=Object.assign({},f);delete l.gradient;delete l.radius;delete l.blur;delete l.weight;super(l);this.gradient_=null;this.addChangeListener("gradient",this.handleGradientChanged_);
this.setGradient(f.gradient?f.gradient:u);this.setBlur(void 0!==f.blur?f.blur:15);this.setRadius(void 0!==f.radius?f.radius:8);const e=f.weight?f.weight:"weight";this.weightFunction_="string"===typeof e?function(d){return d.get(e)}:e;this.setRenderOrder(null)}getBlur(){return this.get("blur")}getGradient(){return this.get("gradient")}getRadius(){return this.get("radius")}handleGradientChanged_(){var f=this.getGradient();const l=(0,E.createCanvasContext2D)(1,256),e=l.createLinearGradient(0,0,1,256),
d=1/(f.length-1);for(let g=0,h=f.length;g<h;++g)e.addColorStop(g*d,f[g]);l.fillStyle=e;l.fillRect(0,0,1,256);this.gradient_=l.canvas}setBlur(f){this.set("blur",f)}setGradient(f){this.set("gradient",f)}setRadius(f){this.set("radius",f)}createRenderer(){const f=(new J.ShaderBuilder).addAttribute("float a_weight").addVarying("v_weight","float","a_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_weight)");
return new C.default(this,{className:this.getClassName(),attributes:[{name:"weight",callback:l=>{l=this.weightFunction_(l);return void 0!==l?(0,K.clamp)(l,0,1):1}}],uniforms:{u_size:()=>2*(this.get("radius")+this.get("blur")),u_blurSlope:()=>this.get("radius")/Math.max(1,this.get("blur"))},hitDetectionEnabled:!0,vertexShader:f.getSymbolVertexShader(),fragmentShader:f.getSymbolFragmentShader(),postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a * u_opacity;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}const m=p};
shadow$provide[222]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});X=c(87);c=c.esmDefault(X);class J extends c.default{constructor(E){E=E?E:{};super(E)}}const K=J};
shadow$provide[223]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});X=c(109);Z=c(65);N=c(79);var J=c(26),K=c(28),E=c(40),C=c.esmDefault(Z),u=c.esmDefault(N);c=c.esmDefault(X);class p extends c.default{constructor(f){super(f);this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(f){var l=f.layerStatesArray[f.layerIndex];const e=f.pixelRatio,d=f.viewState,g=d.resolution,h=this.getLayer().getSource(),
k=f.viewHints;f=f.extent;void 0!==l.extent&&(f=(0,K.getIntersection)(f,(0,E.fromUserExtent)(l.extent,d.projection)));if(!k[u.default.ANIMATING]&&!k[u.default.INTERACTING]&&!(0,K.isEmpty)(f))if(h){if(l=h.getImage(f,g,e,d.projection))this.loadImage(l)?this.image_=l:l.getState()===C.default.EMPTY&&(this.image_=null)}else this.image_=null;return!!this.image_}getData(f){var l=this.frameState;if(!l)return null;var e=this.getLayer();f=(0,J.apply)(l.pixelToCoordinateTransform,f.slice());if((e=e.getExtent())&&
!(0,K.containsCoordinate)(e,f))return null;l=this.image_.getExtent();e=this.image_.getImage();var d=(0,K.getWidth)(l);d=Math.floor((f[0]-l[0])/d*e.width);if(0>d||d>=e.width)return null;const g=(0,K.getHeight)(l);f=Math.floor((l[3]-f[1])/g*e.height);return 0>f||f>=e.height?null:this.getImageData(e,d,f)}renderFrame(f,l){var e=this.image_,d=e.getExtent(),g=e.getResolution();const [h,k]=Array.isArray(g)?g:[g,g];var n=e.getPixelRatio();g=f.layerStatesArray[f.layerIndex];var r=f.pixelRatio,x=f.viewState,
D=x.center,z=x.resolution;const w=r*h/(z*n),q=r*k/(z*n);var A=f.extent,L=x.resolution;z=x.rotation;const y=Math.round((0,K.getWidth)(A)/L*r),F=Math.round((0,K.getHeight)(A)/L*r);(0,J.compose)(this.pixelTransform,f.size[0]/2,f.size[1]/2,1/r,1/r,z,-y/2,-F/2);(0,J.makeInverse)(this.inversePixelTransform,this.pixelTransform);z=(0,J.toString)(this.pixelTransform);this.useContainer(l,z,this.getBackground(f));l=this.context;A=l.canvas;A.width!=y||A.height!=F?(A.width=y,A.height=F):this.containerReused||
l.clearRect(0,0,y,F);L=!1;let M=!0;g.extent&&(x=(0,E.fromUserExtent)(g.extent,x.projection),(L=(M=(0,K.intersects)(x,f.extent))&&!(0,K.containsExtent)(x,f.extent))&&this.clipUnrotated(l,f,x));e=e.getImage();d=(0,J.compose)(this.tempTransform,y/2,F/2,w,q,0,n*(d[0]-D[0])/h,n*(D[1]-d[3])/k);this.renderedResolution=k*r/n;n=e.width*d[0];r=e.height*d[3];this.getLayer().getSource().getInterpolate()||(l.imageSmoothingEnabled=!1);this.preRender(l,f);if(M&&.5<=n&&.5<=r){D=d[4];d=d[5];g=g.opacity;let T;1!==
g&&(T=l.globalAlpha,l.globalAlpha=g);l.drawImage(e,0,0,+e.width,+e.height,D,d,n,r);1!==g&&(l.globalAlpha=T)}this.postRender(l,f);L&&l.restore();l.imageSmoothingEnabled=!0;z!==A.style.transform&&(A.style.transform=z);return this.container}}const m=p};
shadow$provide[224]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});Z=c(222);X=c(223);Z=c.esmDefault(Z);var J=c.esmDefault(X);class K extends Z.default{constructor(C){super(C)}createRenderer(){return new J.default(this)}getData(C){return super.getData(C)}}const E=K};
shadow$provide[225]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[226]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});X=c(87);Z=c(225);var J=c.esmDefault(Z);c=c.esmDefault(X);class K extends c.default{constructor(C){C=C?C:{};const u=Object.assign({},C);delete u.preload;delete u.useInterimTilesOnError;super(u);this.on;this.once;this.un;this.setPreload(void 0!==C.preload?C.preload:0);this.setUseInterimTilesOnError(void 0!==C.useInterimTilesOnError?C.useInterimTilesOnError:
!0)}getPreload(){return this.get(J.default.PRELOAD)}setPreload(C){this.set(J.default.PRELOAD,C)}getUseInterimTilesOnError(){return this.get(J.default.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(C){this.set(J.default.USE_INTERIM_TILES_ON_ERROR,C)}getData(C){return super.getData(C)}}const E=K};
shadow$provide[227]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return k}}});Z=c(109);X=c(131);N=c(213);var J=c(172),K=c(129),E=c(26),C=c(12),u=c(28),p=c(40),m=c(19),f=c(66),l=c.esmDefault(N),e=c.esmDefault(J),d=c.esmDefault(K);Z=c.esmDefault(Z);var g=c.esmDefault(X);class h extends Z.default{constructor(n){super(n);this.extentChanged=!0;this.renderedExtent_=null;this.renderedPixelRatio;this.renderedProjection=null;this.renderedRevision;
this.renderedTiles=[];this.newTiles_=!1;this.tmpExtent=(0,u.createEmpty)();this.tmpTileRange_=new e.default(0,0,0,0)}isDrawableTile(n){var r=this.getLayer();n=n.getState();r=r.getUseInterimTilesOnError();return n==d.default.LOADED||n==d.default.EMPTY||n==d.default.ERROR&&!r}getTile(n,r,x,D){const z=D.pixelRatio,w=D.viewState.projection;D=this.getLayer();n=D.getSource().getTile(n,r,x,z,w);n.getState()==d.default.ERROR&&D.getUseInterimTilesOnError()&&0<D.getPreload()&&(this.newTiles_=!0);this.isDrawableTile(n)||
(n=n.getInterimTile());return n}getData(n){var r=this.frameState;if(!r)return null;var x=this.getLayer();n=(0,E.apply)(r.pixelToCoordinateTransform,n.slice());var D=x.getExtent();if(D&&!(0,u.containsCoordinate)(D,n))return null;var z=r.pixelRatio,w=r.viewState.projection;D=r.viewState;x=x.getRenderSource();var q=x.getTileGridForProjection(D.projection);const A=x.getTilePixelRatio(r.pixelRatio);for(var L=q.getZForResolution(D.resolution);L>=q.getMinZoom();--L){const y=q.getTileCoordForCoordAndZ(n,
L);r=x.getTile(L,y[1],y[2],z,w);if(!(r instanceof g.default||r instanceof l.default)||r instanceof l.default&&r.getState()===d.default.EMPTY)break;if(r.getState()===d.default.LOADED)return z=q.getOrigin(L),w=(0,f.toSize)(q.getTileSize(L)),L=q.getResolution(L),q=Math.floor(A*((n[0]-z[0])/L-y[1]*w[0])),n=Math.floor(A*((z[1]-n[1])/L-y[2]*w[1])),D=Math.round(A*x.getGutterForProjection(D.projection)),this.getImageData(r.getImage(),q+D,n+D)}return null}loadedTileCallback(n,r,x){return this.isDrawableTile(x)?
super.loadedTileCallback(n,r,x):!1}prepareFrame(n){return!!this.getLayer().getSource()}renderFrame(n,r){const x=n.layerStatesArray[n.layerIndex];var D=n.viewState;const z=D.projection;var w=D.resolution,q=D.center,A=D.rotation;const L=n.pixelRatio,y=this.getLayer(),F=y.getSource(),M=F.getRevision(),T=F.getTileGridForProjection(z),Q=T.getZForResolution(w,F.zDirection),S=T.getResolution(Q);let W=n.extent;var ca=n.viewState.resolution;const B=F.getTilePixelRatio(L);var v=Math.round((0,u.getWidth)(W)/
ca*L),I=Math.round((0,u.getHeight)(W)/ca*L),O=x.extent&&(0,p.fromUserExtent)(x.extent,z);O&&(W=(0,u.getIntersection)(W,(0,p.fromUserExtent)(x.extent,z)));var ea=S*v/2/B,la=S*I/2/B;q=[q[0]-ea,q[1]-la,q[0]+ea,q[1]+la];la=T.getTileRangeForExtentAndZ(W,Q);ea={};ea[Q]={};var va=this.createLoadedTileFinder(F,z,ea),Da=this.tmpExtent,Ya=this.tmpTileRange_;this.newTiles_=!1;D=A?(0,u.getRotatedViewport)(D.center,ca,A,n.size):void 0;for(ca=la.minX;ca<=la.maxX;++ca)for(var Za=la.minY;Za<=la.maxY;++Za)if(!A||
T.tileCoordIntersectsViewport([Q,ca,Za],D)){var gb=this.getTile(Q,ca,Za,n);if(this.isDrawableTile(gb)){var qb=(0,m.getUid)(this);if(gb.getState()==d.default.LOADED){ea[Q][gb.tileCoord.toString()]=gb;var db=gb.inTransition(qb);db&&1!==x.opacity&&(gb.endTransition(qb),db=!1);this.newTiles_||!db&&this.renderedTiles.includes(gb)||(this.newTiles_=!0)}if(1===gb.getAlpha(qb,n.time))continue}qb=T.getTileCoordChildTileRange(gb.tileCoord,Ya,Da);db=!1;qb&&(db=va(Q+1,qb));db||T.forEachTileCoordParentTileRange(gb.tileCoord,
va,Ya,Da)}w=S/w*L/B;(0,E.compose)(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/L,1/L,A,-v/2,-I/2);A=(0,E.toString)(this.pixelTransform);this.useContainer(r,A,this.getBackground(n));r=this.context;la=r.canvas;(0,E.makeInverse)(this.inversePixelTransform,this.pixelTransform);(0,E.compose)(this.tempTransform,v/2,I/2,w,w,0,-v/2,-I/2);la.width!=v||la.height!=I?(la.width=v,la.height=I):this.containerReused||r.clearRect(0,0,v,I);O&&this.clipUnrotated(r,n,O);F.getInterpolate()||(r.imageSmoothingEnabled=
!1);this.preRender(r,n);this.renderedTiles.length=0;v=Object.keys(ea).map(Number);v.sort(C.ascending);let sb,Ha;1!==x.opacity||this.containerReused&&!F.getOpaque(n.viewState.projection)?(sb=[],Ha=[]):v=v.reverse();for(I=v.length-1;0<=I;--I){O=v[I];Da=F.getTilePixelSize(O,L,z);Ya=T.getResolution(O)/S;va=Da[0]*Ya*w;Da=Da[1]*Ya*w;Ya=T.getTileCoordForCoordAndZ((0,u.getTopLeft)(q),O);D=T.getTileCoordExtent(Ya);D=(0,E.apply)(this.tempTransform,[B*(D[0]-q[0])/S,B*(q[3]-D[3])/S]);ca=B*F.getGutterForProjection(z);
Za=ea[O];for(const fb in Za){gb=Za[fb];qb=gb.tileCoord;var ta=Ya[1]-qb[1];var Pa=Ya[2]-qb[2];qb=Math.round(D[0]-ta*va);db=Math.round(D[1]-Pa*Da);ta=Math.round(D[0]-(ta-1)*va)-qb;const ka=Math.round(D[1]-(Pa-1)*Da)-db,Ea=Q===O,Va=Ea&&1!==gb.getAlpha((0,m.getUid)(this),n.time);let ib=!1;if(!Va)if(sb){Pa=[qb,db,qb+ta,db,qb+ta,db+ka,qb,db+ka];for(let wa=0,Ra=sb.length;wa<Ra;++wa)if(Q!==O&&O<Ha[wa]){const $a=sb[wa];(0,u.intersects)([qb,db,qb+ta,db+ka],[$a[0],$a[3],$a[4],$a[7]])&&(ib||(r.save(),ib=!0),
r.beginPath(),r.moveTo(Pa[0],Pa[1]),r.lineTo(Pa[2],Pa[3]),r.lineTo(Pa[4],Pa[5]),r.lineTo(Pa[6],Pa[7]),r.moveTo($a[6],$a[7]),r.lineTo($a[4],$a[5]),r.lineTo($a[2],$a[3]),r.lineTo($a[0],$a[1]),r.clip())}sb.push(Pa);Ha.push(O)}else r.clearRect(qb,db,ta,ka);this.drawTileImage(gb,n,qb,db,ta,ka,ca,Ea);sb&&!Va?(ib&&r.restore(),this.renderedTiles.unshift(gb)):this.renderedTiles.push(gb);this.updateUsedTiles(n.usedTiles,F,gb)}}this.renderedRevision=M;this.renderedResolution=S;this.extentChanged=!this.renderedExtent_||
!(0,u.equals)(this.renderedExtent_,q);this.renderedExtent_=q;this.renderedPixelRatio=L;this.renderedProjection=z;this.manageTilePyramid(n,F,T,L,z,W,Q,y.getPreload());this.scheduleExpireCache(n,F);this.postRender(r,n);x.extent&&r.restore();r.imageSmoothingEnabled=!0;A!==la.style.transform&&(la.style.transform=A);return this.container}drawTileImage(n,r,x,D,z,w,q,A){const L=this.getTileImage(n);if(L){var y=(0,m.getUid)(this),F=r.layerStatesArray[r.layerIndex],M=F.opacity*(A?n.getAlpha(y,r.time):1),T=
M!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=M);this.context.drawImage(L,q,q,L.width-2*q,L.height-2*q,x,D,z,w);T&&this.context.restore();M!==F.opacity?r.animate=!0:A&&n.endTransition(y)}}getImage(){const n=this.context;return n?n.canvas:null}getTileImage(n){return n.getImage()}scheduleExpireCache(n,r){r.canExpireCache()&&(r=function(x,D,z){D=(0,m.getUid)(x);D in z.usedTiles&&x.expireCache(z.viewState.projection,z.usedTiles[D])}.bind(null,r),n.postRenderFunctions.push(r))}updateUsedTiles(n,
r,x){r=(0,m.getUid)(r);r in n||(n[r]={});n[r][x.getKey()]=!0}manageTilePyramid(n,r,x,D,z,w,q,A,L){const y=(0,m.getUid)(r);y in n.wantedTiles||(n.wantedTiles[y]={});const F=n.wantedTiles[y],M=n.tileQueue;var T=x.getMinZoom();const Q=n.viewState.rotation;n=Q?(0,u.getRotatedViewport)(n.viewState.center,n.viewState.resolution,Q,n.size):void 0;let S=0,W,ca,B,v,I;for(I=T;I<=q;++I)for(W=x.getTileRangeForExtentAndZ(w,I,W),ca=x.getResolution(I),B=W.minX;B<=W.maxX;++B)for(v=W.minY;v<=W.maxY;++v)if(!Q||x.tileCoordIntersectsViewport([I,
B,v],n))q-I<=A?(++S,T=r.getTile(I,B,v,D,z),T.getState()==d.default.IDLE&&(F[T.getKey()]=!0,M.isKeyQueued(T.getKey())||M.enqueue([T,y,x.getTileCoordCenter(T.tileCoord),ca])),void 0!==L&&L(T)):r.useTile(I,B,v,z);r.updateCacheSize(S,z)}}const k=h};
shadow$provide[228]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});Z=c(226);X=c(227);Z=c.esmDefault(Z);var J=c.esmDefault(X);class K extends Z.default{constructor(C){super(C)}createRenderer(){return new J.default(this)}}const E=K};
shadow$provide[229]=function(X,c,Z,N){function J(K){return Array.isArray(K)?Math.min(...K):K}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},fromResolutionLike:{enumerable:!0,get:function(){return J}}})};
shadow$provide[230]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return n}}});X=c(223);Z=c(117);N=c(16);var J=c(128),K=c(65),E=c(88),C=c(79),u=c(26),p=c(229),m=c(28),f=c.esmDefault(K),l=c.esmDefault(Z),e=c.esmDefault(J),d=c.esmDefault(N),g=c.esmDefault(E),h=c.esmDefault(C);c=c.esmDefault(X);class k extends c.default{constructor(r){super(r);this.vectorRenderer_=new l.default(r);this.layerImageRatio_=r.getImageRatio();this.coordinateToVectorPixelTransform_=
(0,u.create)();this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose();super.disposeInternal()}getFeatures(r){if(!this.vectorRenderer_)return Promise.resolve([]);r=(0,u.apply)(this.coordinateToVectorPixelTransform_,(0,u.apply)(this.renderedPixelToCoordinateTransform_,r.slice()));return this.vectorRenderer_.getFeatures(r)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(r){const x=r.pixelRatio,D=r.viewState,z=D.resolution;var w=r.viewHints;
const q=this.vectorRenderer_;let A=r.extent;1!==this.layerImageRatio_&&(A=A.slice(0),(0,m.scaleFromCenter)(A,this.layerImageRatio_));const L=(0,m.getWidth)(A)/z,y=(0,m.getHeight)(A)/z;if(!w[h.default.ANIMATING]&&!w[h.default.INTERACTING]&&!(0,m.isEmpty)(A)){q.useContainer(null,null);w=q.context;const F=Object.assign({},r.layerStatesArray[r.layerIndex],{opacity:1}),M=Object.assign({},r,{declutterTree:new g.default(9),extent:A,size:[L,y],viewState:Object.assign({},r.viewState,{rotation:0}),layerStatesArray:[F],
layerIndex:0});let T=!0;const Q=new e.default(A,z,x,w.canvas,function(S){q.prepareFrame(M)&&q.replayGroupChanged&&(q.clipping=!1,q.renderFrame(M,null)&&(q.renderDeclutter(M),T=!1),S())});Q.addEventListener(d.default.CHANGE,()=>{if(Q.getState()===f.default.LOADED){this.image_=T?null:Q;var S=Q.getPixelRatio();this.renderedResolution=S=(0,p.fromResolutionLike)(Q.getResolution())*x/S;this.coordinateToVectorPixelTransform_=(0,u.compose)(this.coordinateToVectorPixelTransform_,L/2,y/2,1/S,-1/S,0,-D.center[0],
-D.center[1])}});Q.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=r.pixelToCoordinateTransform.slice());return!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(r,x,D,z,w){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(r,x,D,z,w):super.forEachFeatureAtCoordinate(r,x,D,z,w)}}const n=k};
shadow$provide[231]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});Z=c(96);X=c(230);Z=c.esmDefault(Z);var J=c.esmDefault(X);class K extends Z.default{constructor(C){C=C?C:{};const u=Object.assign({},C);delete u.imageRatio;super(u);this.imageRatio_=void 0!==C.imageRatio?C.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new J.default(this)}}const E=K};
shadow$provide[232]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return x}}});X=c(106);Z=c(112);var J=c(227);N=c(129);var K=c(79),E=c(115),C=c(26),u=c(28),p=c(116),m=c(19),f=c(66),l=c(37);J=c.esmDefault(J);var e=c.esmDefault(Z),d=c.esmDefault(N),g=c.esmDefault(K),h=c.esmDefault(X);const k={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},n={hybrid:["Image","Text","Default"],vector:"Polygon Circle LineString Image Text Default".split(" ")};
class r extends J.default{constructor(D){super(D);this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this);this.renderedLayerRevision_;this.renderedPixelToCoordinateTransform_=null;this.renderedRotation_;this.tmpTransform_=(0,C.create)()}prepareTile(D,z,w){let q;const A=D.getState();if(A===d.default.LOADED||A===d.default.ERROR)this.updateExecutorGroup_(D,z,w),this.tileImageNeedsRender_(D)&&(q=!0);return q}getTile(D,z,w,q){const A=q.pixelRatio;var L=q.viewState;const y=L.resolution;
L=L.projection;const F=this.getLayer(),M=F.getSource().getTile(D,z,w,A,L);var T=q.viewHints;if((T=!(T[g.default.ANIMATING]||T[g.default.INTERACTING]))||!M.wantedResolution)M.wantedResolution=y;this.prepareTile(M,A,L)&&(T||8>Date.now()-q.time)&&"vector"!==F.getRenderMode()&&this.renderTileImage_(M,q);return super.getTile(D,z,w,q)}isDrawableTile(D){const z=this.getLayer();return super.isDrawableTile(D)&&("vector"===z.getRenderMode()?(0,m.getUid)(z)in D.executorGroups:D.hasContext(z))}getTileImage(D){return D.getImage(this.getLayer())}prepareFrame(D){const z=
this.getLayer().getRevision();this.renderedLayerRevision_!==z&&(this.renderedLayerRevision_=z,this.renderedTiles.length=0);return super.prepareFrame(D)}updateExecutorGroup_(D,z,w){const q=this.getLayer(),A=q.getRevision(),L=q.getRenderOrder()||null,y=D.wantedResolution,F=D.getReplayState(q);if(F.dirty||F.renderedResolution!==y||F.renderedRevision!=A||F.renderedRenderOrder!=L){var M=q.getSource(),T=q.getDeclutter(),Q=M.getTileGrid(),S=M.getTileGridForProjection(w).getTileCoordExtent(D.wrappedTileCoord);
w=M.getSourceTiles(z,w,D);var W=(0,m.getUid)(q);delete D.hitDetectionImageData[W];D.executorGroups[W]=[];T&&(D.declutterExecutorGroups[W]=[]);F.dirty=!1;for(let la=0,va=w.length;la<va;++la){var ca=w[la];if(ca.getState()!=d.default.LOADED)continue;var B=Q.getTileCoordExtent(ca.tileCoord),v=(0,u.getIntersection)(S,B),I=(0,u.buffer)(v,q.getRenderBuffer()*y,this.tmpExtent);B=(0,u.equals)(B,v)?null:I;const Da=new h.default(0,I,y,z);I=T?new h.default(0,v,y,z):void 0;const Ya=(0,p.getSquaredTolerance)(y,
z);ca=ca.getFeatures();L&&L!==F.renderedRenderOrder&&ca.sort(L);for(let Za=0,gb=ca.length;Za<gb;++Za){var O=ca[Za];if(!B||(0,u.intersects)(B,O.getGeometry().getExtent())){var ea=void 0;const qb=O.getStyleFunction()||q.getStyleFunction();qb&&(ea=qb(O,y));ea&&(ea=this.renderFeature(O,Ya,ea,Da,I),F.dirty=F.dirty||ea)}}B=Da.finish();v="vector"!==q.getRenderMode()&&T&&1===w.length?null:v;v=new e.default(v,y,z,M.getOverlaps(),B,q.getRenderBuffer());D.executorGroups[W].push(v);I&&(v=new e.default(null,y,
z,M.getOverlaps(),I.finish(),q.getRenderBuffer()),D.declutterExecutorGroups[W].push(v))}F.renderedRevision=A;F.renderedRenderOrder=L;F.renderedResolution=y}}forEachFeatureAtCoordinate(D,z,w,q,A){const L=z.viewState.resolution,y=z.viewState.rotation;w=void 0==w?0:w;const F=this.getLayer(),M=F.getSource().getTileGridForProjection(z.viewState.projection),T=(0,u.boundingExtent)([D]);(0,u.buffer)(T,L*w,T);const Q={},S=function(v,I,O){let ea=v.getId();void 0===ea&&(ea=(0,m.getUid)(v));const la=Q[ea];if(!la){if(0===
O)return Q[ea]=!0,q(v,F,I);A.push(Q[ea]={feature:v,layer:F,geometry:I,distanceSq:O,callback:q})}else if(!0!==la&&O<la.distanceSq){if(0===O)return Q[ea]=!0,A.splice(A.lastIndexOf(la),1),q(v,F,I);la.geometry=I;la.distanceSq=O}},W=this.renderedTiles;let ca;for(let v=0,I=W.length;!ca&&v<I;++v){const O=W[v];var B=M.getTileCoordExtent(O.wrappedTileCoord);if(!(0,u.intersects)(B,T))continue;B=(0,m.getUid)(F);const ea=[O.executorGroups[B]],la=O.declutterExecutorGroups[B];la&&ea.push(la);ea.some(va=>{const Da=
va===la?z.declutterTree.all().map(Ya=>Ya.value):null;for(let Ya=0,Za=va.length;Ya<Za;++Ya)if(ca=va[Ya].forEachFeatureAtCoordinate(D,L,y,w,S,Da))return!0})}return ca}getFeatures(D){return new Promise((z,w)=>{w=this.getLayer();const q=(0,m.getUid)(w);var A=w.getSource(),L=this.renderedProjection,y=L.getExtent(),F=this.renderedResolution;const M=A.getTileGridForProjection(L);var T=(0,C.apply)(this.renderedPixelToCoordinateTransform_,D.slice()),Q=M.getTileCoordForCoordAndResolution(T,F);let S;for(let W=
0,ca=this.renderedTiles.length;W<ca;++W)if(Q.toString()===this.renderedTiles[W].tileCoord.toString()){S=this.renderedTiles[W];if(S.getState()===d.default.LOADED){Q=M.getTileCoordExtent(S.tileCoord);A.getWrapX()&&L.canWrapX()&&!(0,u.containsExtent)(y,Q)&&(0,l.wrapX)(T,L);break}S=void 0}!S||0<S.loadingSourceTiles?z([]):(L=M.getTileCoordExtent(S.wrappedTileCoord),L=(0,u.getTopLeft)(L),T=[(T[0]-L[0])/F,(L[1]-T[1])/F],L=S.getSourceTiles().reduce(function(W,ca){return W.concat(ca.getFeatures())},[]),y=
S.hitDetectionImageData[q],y||(A=(0,f.toSize)(M.getTileSize(M.getZForResolution(F,A.zDirection))),y=this.renderedRotation_,F=[this.getRenderTransform(M.getTileCoordCenter(S.wrappedTileCoord),F,0,E.HIT_DETECT_RESOLUTION,A[0]*E.HIT_DETECT_RESOLUTION,A[1]*E.HIT_DETECT_RESOLUTION,0)],y=(0,E.createHitDetectionImageData)(A,F,L,w.getStyleFunction(),M.getTileCoordExtent(S.wrappedTileCoord),S.getReplayState(w).renderedResolution,y),S.hitDetectionImageData[q]=y),z((0,E.hitDetect)(T,L,y)))})}handleFontsChanged(){const D=
this.getLayer();D.getVisible()&&void 0!==this.renderedLayerRevision_&&D.changed()}handleStyleImageChange_(D){this.renderIfReadyAndVisible()}renderDeclutter(D){const z=this.context,w=z.globalAlpha;z.globalAlpha=this.getLayer().getOpacity();var q=D.viewHints;q=!(q[g.default.ANIMATING]||q[g.default.INTERACTING]);const A=this.renderedTiles;for(let L=0,y=A.length;L<y;++L){const F=A[L],M=F.declutterExecutorGroups[(0,m.getUid)(this.getLayer())];if(M)for(let T=M.length-1;0<=T;--T)M[T].execute(this.context,
1,this.getTileRenderTransform(F,D),D.viewState.rotation,q,void 0,D.declutterTree)}z.globalAlpha=w}getTileRenderTransform(D,z){const w=z.pixelRatio;var q=z.viewState;const A=q.center,L=q.resolution;q=q.rotation;var y=z.size;const F=Math.round(y[0]*w);y=Math.round(y[1]*w);z=this.getLayer().getSource().getTileGridForProjection(z.viewState.projection);const M=D.tileCoord;D=z.getTileCoordExtent(D.wrappedTileCoord);D=z.getTileCoordExtent(M,this.tmpExtent)[0]-D[0];return(0,C.multiply)((0,C.scale)(this.inversePixelTransform.slice(),
1/w,1/w),this.getRenderTransform(A,L,q,w,F,y,D))}postRender(D,z){var w=z.viewHints;w=!(w[g.default.ANIMATING]||w[g.default.INTERACTING]);this.renderedPixelToCoordinateTransform_=z.pixelToCoordinateTransform.slice();this.renderedRotation_=z.viewState.rotation;const q=this.getLayer();var A=q.getRenderMode();const L=D.globalAlpha;D.globalAlpha=q.getOpacity();const y=n[A];var F=z.viewState;A=F.rotation;var M=q.getSource();F=M.getTileGridForProjection(F.projection).getZForResolution(F.resolution,M.zDirection);
M=this.renderedTiles;const T=[],Q=[];let S=!0;for(let ca=M.length-1;0<=ca;--ca){var W=M[ca];S=S&&!W.getReplayState(q).dirty;const B=W.executorGroups[(0,m.getUid)(q)].filter(ea=>ea.hasExecutors(y));if(0===B.length)continue;const v=this.getTileRenderTransform(W,z);W=W.tileCoord[0];let I=!1;const O=B[0].getClipCoords(v);if(O){for(let ea=0,la=T.length;ea<la;++ea)if(F!==W&&W<Q[ea]){const va=T[ea];(0,u.intersects)([O[0],O[3],O[4],O[7]],[va[0],va[3],va[4],va[7]])&&(I||(D.save(),I=!0),D.beginPath(),D.moveTo(O[0],
O[1]),D.lineTo(O[2],O[3]),D.lineTo(O[4],O[5]),D.lineTo(O[6],O[7]),D.moveTo(va[6],va[7]),D.lineTo(va[4],va[5]),D.lineTo(va[2],va[3]),D.lineTo(va[0],va[1]),D.clip())}T.push(O);Q.push(W)}for(let ea=0,la=B.length;ea<la;++ea)B[ea].execute(D,1,v,A,w,y);I&&D.restore()}D.globalAlpha=L;this.ready=S;super.postRender(D,z)}renderFeature(D,z,w,q,A){if(!w)return!1;let L=!1;if(Array.isArray(w))for(let y=0,F=w.length;y<F;++y)L=(0,p.renderFeature)(q,D,w[y],z,this.boundHandleStyleImageChange_,void 0,A)||L;else L=(0,p.renderFeature)(q,
D,w,z,this.boundHandleStyleImageChange_,void 0,A);return L}tileImageNeedsRender_(D){var z=this.getLayer();if("vector"===z.getRenderMode())return!1;const w=D.getReplayState(z);z=z.getRevision();return w.renderedTileResolution!==D.wantedResolution||w.renderedTileRevision!==z}renderTileImage_(D,z){const w=this.getLayer(),q=D.getReplayState(w);var A=w.getRevision();const L=D.executorGroups[(0,m.getUid)(w)];q.renderedTileRevision=A;A=D.wrappedTileCoord;var y=A[0];const F=w.getSource();var M=z.pixelRatio;
const T=z.viewState.projection;var Q=F.getTileGridForProjection(T),S=Q.getResolution(D.tileCoord[0]);S*=z.pixelRatio/D.wantedResolution;const W=Q.getResolution(y);z=D.getContext(w);M=Math.round(Math.max(M,S/M));y=F.getTilePixelSize(y,M,T);z.canvas.width=y[0];z.canvas.height=y[1];M/=S;1!==M&&(y=(0,C.reset)(this.tmpTransform_),(0,C.scale)(y,M,M),z.setTransform.apply(z,y));A=Q.getTileCoordExtent(A,this.tmpExtent);Q=S/W;S=(0,C.reset)(this.tmpTransform_);(0,C.scale)(S,Q,-Q);(0,C.translate)(S,-A[0],-A[3]);
for(let ca=0,B=L.length;ca<B;++ca)L[ca].execute(z,M,S,0,!0,k[w.getRenderMode()]);q.renderedTileResolution=D.wantedResolution}}const x=r};
shadow$provide[233]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});N=c(96);X=c(232);Z=c(225);var J=c(23);N=c.esmDefault(N);var K=c.esmDefault(Z),E=c.esmDefault(X);class C extends N.default{constructor(p){p=p?p:{};var m=Object.assign({},p);delete m.preload;delete m.useInterimTilesOnError;super(m);this.on;this.once;this.un;m=p.renderMode||"hybrid";(0,J.assert)("hybrid"==m||"vector"==m,"`renderMode` must be `'hybrid'` or `'vector'`");
this.renderMode_=m;this.setPreload(p.preload?p.preload:0);this.setUseInterimTilesOnError(void 0!==p.useInterimTilesOnError?p.useInterimTilesOnError:!0);this.getBackground;this.setBackground}createRenderer(){return new E.default(this)}getFeatures(p){return super.getFeatures(p)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(K.default.PRELOAD)}getUseInterimTilesOnError(){return this.get(K.default.USE_INTERIM_TILES_ON_ERROR)}setPreload(p){this.set(K.default.PRELOAD,p)}setUseInterimTilesOnError(p){this.set(K.default.USE_INTERIM_TILES_ON_ERROR,
p)}}const u=C};
shadow$provide[234]=function(X,c,Z,N){function J(n){n=(0,h.asArray)(n);return[256*n[0]+n[1],256*n[2]+Math.round(255*n[3])]}function K(n){return n===g.ValueTypes.COLOR?2:n===g.ValueTypes.NUMBER_ARRAY?4:1}function E(n){n=K(n);return 1<n?`vec${n}`:"float"}function C(n,r,x,D){var z;`${D}radius`in n&&"icon-"!==D?z=(0,g.expressionToGlsl)(x,n[`${D}radius`],g.ValueTypes.NUMBER):`${D}radius1`in n&&"shape-"===D&&(z=(0,g.expressionToGlsl)(x,n[`${D}radius1`],g.ValueTypes.NUMBER));void 0!==z&&(`${D}stroke-width`in
n&&(z=`(${z} + ${(0,g.expressionToGlsl)(x,n[`${D}stroke-width`],g.ValueTypes.NUMBER)} * 0.5)`),r.setSymbolSizeExpression(`vec2(${z} * 2. + 0.5)`));`${D}scale`in n&&(z=(0,g.expressionToGlsl)(x,n[`${D}scale`],g.ValueTypes.NUMBER|g.ValueTypes.NUMBER_ARRAY),r.setSymbolSizeExpression(`${r.getSymbolSizeExpression()} * ${z}`));`${D}displacement`in n&&r.setSymbolOffsetExpression((0,g.expressionToGlsl)(x,n[`${D}displacement`],g.ValueTypes.NUMBER_ARRAY));`${D}rotation`in n&&r.setSymbolRotationExpression((0,g.expressionToGlsl)(x,
n[`${D}rotation`],g.ValueTypes.NUMBER));`${D}rotate-with-view`in n&&r.setSymbolRotateWithView(!!n[`${D}rotate-with-view`])}function u(n,r,x,D,z){let w="vec4(0.)";null!==r&&(w=r);null!==x&&null!==D&&(w=`mix(${x}, ${w}, ${`smoothstep(-${D} + 0.63, -${D} - 0.58, ${n})`})`);n=`${w} * ${`(1.0 - smoothstep(-0.63, 0.58, ${n}))`}`;null!==z&&(n=`${n} * ${z}`);return n}function p(n,r,x,D,z){z.functions.circleDistanceField="float circleDistanceField(vec2 point, float radius) {\n  return length(point) - radius;\n}";
C(n,r,D,"circle-");x=null;"circle-opacity"in n&&(x=(0,g.expressionToGlsl)(z,n["circle-opacity"],g.ValueTypes.NUMBER));D="coordsPx";"circle-scale"in n&&(D=`coordsPx / ${(0,g.expressionToGlsl)(z,n["circle-scale"],g.ValueTypes.NUMBER|g.ValueTypes.NUMBER_ARRAY)}`);let w=null;"circle-fill-color"in n&&(w=(0,g.expressionToGlsl)(z,n["circle-fill-color"],g.ValueTypes.COLOR));let q=null;"circle-stroke-color"in n&&(q=(0,g.expressionToGlsl)(z,n["circle-stroke-color"],g.ValueTypes.COLOR));let A=(0,g.expressionToGlsl)(z,
n["circle-radius"],g.ValueTypes.NUMBER),L=null;"circle-stroke-width"in n&&(L=(0,g.expressionToGlsl)(z,n["circle-stroke-width"],g.ValueTypes.NUMBER),A=`(${A} + ${L} * 0.5)`);n=u(`circleDistanceField(${D}, ${A})`,w,q,L,x);r.setSymbolColorExpression(n)}function m(n,r,x,D,z){z.functions.round="float round(float v) {\n  return sign(v) * floor(abs(v) + 0.5);\n}";z.functions.starDistanceField="float starDistanceField(vec2 point, float numPoints, float radiusIn, float radiusOut, float angle) {\n  float startAngle \x3d -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c \x3d cos(startAngle);\n  float s \x3d sin(startAngle);\n  vec2 pointRotated \x3d vec2(c * point.x - s * point.y, s * point.x + c * point.y); \n  float alpha \x3d TWO_PI / numPoints; // the angle of one sector\n  float beta \x3d atan(pointRotated.y, pointRotated.x);\n  float gamma \x3d round(beta / alpha) * alpha; // angle in sector\n  c \x3d cos(-gamma);\n  s \x3d sin(-gamma);\n  vec2 inSector \x3d vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  vec2 tipToPoint \x3d inSector + vec2(-radiusOut, 0.);\n  vec2 edgeNormal \x3d vec2(radiusIn * sin(alpha * 0.5), -radiusIn * cos(alpha * 0.5) + radiusOut);\n  return dot(normalize(edgeNormal), tipToPoint);\n}";
z.functions.regularDistanceField="float regularDistanceField(vec2 point, float numPoints, float radius, float angle) {\n  float startAngle \x3d -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c \x3d cos(startAngle);\n  float s \x3d sin(startAngle);\n  vec2 pointRotated \x3d vec2(c * point.x - s * point.y, s * point.x + c * point.y); \n  float alpha \x3d TWO_PI / numPoints; // the angle of one sector\n  float radiusIn \x3d radius * cos(PI / numPoints);\n  float beta \x3d atan(pointRotated.y, pointRotated.x);\n  float gamma \x3d round((beta - alpha * 0.5) / alpha) * alpha + alpha * 0.5; // angle in sector from mid\n  c \x3d cos(-gamma);\n  s \x3d sin(-gamma);\n  vec2 inSector \x3d vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  return inSector.x - radiusIn;\n}";
C(n,r,D,"shape-");x=null;"shape-opacity"in n&&(x=(0,g.expressionToGlsl)(z,n["shape-opacity"],g.ValueTypes.NUMBER));let w="coordsPx";"shape-scale"in n&&(w=`coordsPx / ${(0,g.expressionToGlsl)(z,n["shape-scale"],g.ValueTypes.NUMBER|g.ValueTypes.NUMBER_ARRAY)}`);D=null;"shape-fill-color"in n&&(D=(0,g.expressionToGlsl)(z,n["shape-fill-color"],g.ValueTypes.COLOR));let q=null;"shape-stroke-color"in n&&(q=(0,g.expressionToGlsl)(z,n["shape-stroke-color"],g.ValueTypes.COLOR));let A=null;"shape-stroke-width"in
n&&(A=(0,g.expressionToGlsl)(z,n["shape-stroke-width"],g.ValueTypes.NUMBER));const L=(0,g.expressionToGlsl)(z,n["shape-points"],g.ValueTypes.NUMBER);let y="0.";"shape-angle"in n&&(y=(0,g.expressionToGlsl)(z,n["shape-angle"],g.ValueTypes.NUMBER));if("shape-radius"in n)n=(0,g.expressionToGlsl)(z,n["shape-radius"],g.ValueTypes.NUMBER),null!==A&&(n=`${n} + ${A} * 0.5`),n=`regularDistanceField(${w}, ${L}, ${n}, ${y})`;else{let F=(0,g.expressionToGlsl)(z,n["shape-radius1"],g.ValueTypes.NUMBER);n=(0,g.expressionToGlsl)(z,
n["shape-radius2"],g.ValueTypes.NUMBER);null!==A&&(F=`${F} + ${A} * 0.5`,n=`${n} + ${A} * 0.5`);n=`starDistanceField(${w}, ${L}, ${n}, ${F}, ${y})`}x=u(n,D,q,A,x);r.setSymbolColorExpression(x)}function f(n,r,x,D,z){z.functions.samplePremultiplied="vec4 samplePremultiplied(sampler2D sampler, vec2 texCoord) {\n  vec4 color \x3d texture2D(sampler, texCoord);\n  return vec4(color.rgb * color.a, color.a);\n}";var w="vec4(1.0)";"icon-color"in n&&(w=(0,g.expressionToGlsl)(z,n["icon-color"],g.ValueTypes.COLOR));
"icon-opacity"in n&&(w=`${w} * ${(0,g.expressionToGlsl)(z,n["icon-opacity"],g.ValueTypes.NUMBER)}`);let q;const A=(0,k.getUid)(n);"icon-src"in n?(q=new Image,q.crossOrigin=void 0===n["icon-cross-origin"]?"anonymous":n["icon-cross-origin"],q.src=n["icon-src"],x[`u_texture${A}_size`]=()=>q.complete?[q.width,q.height]:[0,0],z=`u_texture${A}_size`,r.addUniform(`vec2 u_texture${A}_size`)):(q=n["icon-img"],q instanceof HTMLImageElement?q.complete&&q.width&&q.height?z=(0,g.arrayToGlsl)([q.width,q.height]):
(x[`u_texture${A}_size`]=()=>q.complete?[q.width,q.height]:[0,0],z=`u_texture${A}_size`):z=(0,g.arrayToGlsl)([q.width,q.height]));x[`u_texture${A}`]=q;r.addUniform(`sampler2D u_texture${A}`).setSymbolColorExpression(`${w} * samplePremultiplied(u_texture${A}, v_texCoord)`).setSymbolSizeExpression(z);"icon-width"in n&&"icon-height"in n&&r.setSymbolSizeExpression(`vec2(${(0,g.expressionToGlsl)(D,n["icon-width"],g.ValueTypes.NUMBER)}, ${(0,g.expressionToGlsl)(D,n["icon-height"],g.ValueTypes.NUMBER)})`);
if("icon-offset"in n&&"icon-size"in n){x=(0,g.expressionToGlsl)(D,n["icon-offset"],g.ValueTypes.NUMBER_ARRAY);w=(0,g.expressionToGlsl)(D,n["icon-size"],g.ValueTypes.NUMBER_ARRAY);z=r.getSymbolSizeExpression();r.setSymbolSizeExpression(w);if("icon-offset-origin"in n)switch(n["icon-offset-origin"]){case "top-right":x=`vec2(v_quadSizePx.x, 0.) + ${w} * vec2(-1., 0.) + ${x} * vec2(-1., 1.)`;break;case "bottom-left":x=`vec2(0., v_quadSizePx.y) + ${w} * vec2(0., -1.) + ${x} * vec2(1., -1.)`;break;case "bottom-right":x=
`v_quadSizePx - ${w} - ${x}`}r.setTextureCoordinateExpression(`(vec4((${x}).xyxy) + vec4(0., 0., ${w})) / (${z}).xyxy`)}C(n,r,D,"icon-");if("icon-anchor"in n){x=(0,g.expressionToGlsl)(D,n["icon-anchor"],g.ValueTypes.NUMBER_ARRAY);w="1.0";"icon-scale"in n&&(w=(0,g.expressionToGlsl)(D,n["icon-scale"],g.ValueTypes.NUMBER|g.ValueTypes.NUMBER_ARRAY));D="pixels"===n["icon-anchor-x-units"]&&"pixels"===n["icon-anchor-y-units"]?`${x} * ${w}`:"pixels"===n["icon-anchor-x-units"]?`${x} * vec2(vec2(${w}).x, v_quadSizePx.y)`:
"pixels"===n["icon-anchor-y-units"]?`${x} * vec2(v_quadSizePx.x, vec2(${w}).x)`:`${x} * v_quadSizePx`;x=`v_quadSizePx * vec2(0.5, -0.5) + ${D} * vec2(-1., 1.)`;if("icon-anchor-origin"in n)switch(n["icon-anchor-origin"]){case "top-right":x=`v_quadSizePx * -0.5 + ${D}`;break;case "bottom-left":x=`v_quadSizePx * 0.5 - ${D}`;break;case "bottom-right":x=`v_quadSizePx * vec2(-0.5, 0.5) + ${D} * vec2(1., -1.)`}r.setSymbolOffsetExpression(`${r.getSymbolOffsetExpression()} + ${x}`)}}function l(n,r,x,D,z){"stroke-color"in
n&&r.setStrokeColorExpression((0,g.expressionToGlsl)(z,n["stroke-color"],g.ValueTypes.COLOR));"stroke-width"in n&&r.setStrokeWidthExpression((0,g.expressionToGlsl)(D,n["stroke-width"],g.ValueTypes.NUMBER));"stroke-offset"in n&&r.setStrokeOffsetExpression((0,g.expressionToGlsl)(D,n["stroke-offset"],g.ValueTypes.NUMBER));"stroke-line-cap"in n&&r.setStrokeCapExpression((0,g.expressionToGlsl)(D,n["stroke-line-cap"],g.ValueTypes.STRING));"stroke-line-join"in n&&r.setStrokeJoinExpression((0,g.expressionToGlsl)(D,
n["stroke-line-join"],g.ValueTypes.STRING));"stroke-miter-limit"in n&&r.setStrokeMiterLimitExpression((0,g.expressionToGlsl)(D,n["stroke-miter-limit"],g.ValueTypes.NUMBER));if("stroke-line-dash"in n){z.functions.getSingleDashDistance=`float getSingleDashDistance(float distance, float radius, float dashOffset, float dashLength, float dashLengthTotal, float capType) {
  float localDistance = mod(distance, dashLengthTotal);
  float distanceSegment = abs(localDistance - dashOffset - dashLength * 0.5) - dashLength * 0.5;
  distanceSegment = min(distanceSegment, dashLengthTotal - localDistance);
  if (capType == ${(0,g.stringToGlsl)("square")}) {
    distanceSegment -= v_width * 0.5;
  } else if (capType == ${(0,g.stringToGlsl)("round")}) {
    distanceSegment = min(distanceSegment, sqrt(distanceSegment * distanceSegment + radius * radius) - v_width * 0.5);
  }
  return distanceSegment;
}`;x=n["stroke-line-dash"].map(y=>(0,g.expressionToGlsl)(z,y,g.ValueTypes.NUMBER));1===x.length%2&&(x=[...x,...x]);let w="0.";"stroke-line-dash-offset"in n&&(w=(0,g.expressionToGlsl)(D,n["stroke-line-dash-offset"],g.ValueTypes.NUMBER));n=`dashDistanceField_${JSON.stringify(n["stroke-line-dash"]).split("").reduce((y,F)=>(y<<5)-y+F.charCodeAt(0),0)>>>0}`;D=x.map((y,F)=>`float dashLength${F} = ${y};`);const q=x.map((y,F)=>`dashLength${F}`).join(" + ");let A="0.",L=`getSingleDashDistance(distance, radius, ${A}, dashLength0, totalDashLength, capType)`;
for(let y=2;y<x.length;y+=2)A=`${A} + dashLength${y-2} + dashLength${y-1}`,L=`min(${L}, getSingleDashDistance(distance, radius, ${A}, dashLength${y}, totalDashLength, capType))`;z.functions[n]=`float ${n}(float distance, float radius, float capType) {
  ${D.join("\n  ")}
  float totalDashLength = ${q};
  return ${L};
}`;r.setStrokeDistanceFieldExpression(`${n}(currentLengthPx + ${w}, currentRadiusPx, capType)`)}}function e(n){const r={inFragmentShader:!1,variables:[],attributes:[],functions:{},style:n},x={inFragmentShader:!0,variables:r.variables,attributes:[],functions:{},style:n},D=new d.ShaderBuilder,z={};"icon-src"in n||"icon-img"in n?f(n,D,z,r,x):"shape-points"in n?m(n,D,z,r,x):"circle-radius"in n&&p(n,D,z,r,x);l(n,D,z,r,x);"fill-color"in n&&D.setFillColorExpression((0,g.expressionToGlsl)(x,n["fill-color"],
g.ValueTypes.COLOR));if(n.filter){var w=(0,g.expressionToGlsl)(x,n.filter,g.ValueTypes.BOOLEAN);D.setFragmentDiscardExpression(`!${w}`)}x.variables.forEach(function(q){const A=(0,g.uniformNameForVariable)(q.name);D.addUniform(`${E(q.type)} ${A}`);z[A]=q.type===g.ValueTypes.STRING?()=>(0,g.getStringNumberEquivalent)(n.variables[q.name]):q.type===g.ValueTypes.COLOR?()=>J([...(0,h.asArray)(n.variables[q.name]||"#eee")]):q.type===g.ValueTypes.BOOLEAN?()=>n.variables[q.name]?1:0:()=>n.variables[q.name]});
x.attributes.forEach(function(q){r.attributes.find(y=>y.name===q.name)||r.attributes.push(q);let A=E(q.type),L=`a_${q.name}`;q.type===g.ValueTypes.COLOR&&(A="vec4",L=`unpackColor(${L})`,D.addVertexShaderFunction("vec4 unpackColor(vec2 packedColor) {\n  return fract(packedColor[1] / 256.0) * vec4(\n    fract(floor(packedColor[0] / 256.0) / 256.0),\n    fract(packedColor[0] / 256.0),\n    fract(floor(packedColor[1] / 256.0) / 256.0),\n    1.0\n  );\n}"));D.addVarying(`v_${q.name}`,A,L)});r.attributes.forEach(function(q){D.addAttribute(`${E(q.type)} a_${q.name}`)});
w=r.attributes.map(function(q){let A;A=q.callback?q.callback:q.type===g.ValueTypes.STRING?L=>(0,g.getStringNumberEquivalent)(L.get(q.name)):q.type===g.ValueTypes.COLOR?L=>J([...(0,h.asArray)(L.get(q.name)||"#eee")]):q.type===g.ValueTypes.BOOLEAN?L=>L.get(q.name)?1:0:L=>L.get(q.name);return{name:q.name,size:K(q.type),callback:A}});for(const q in r.functions)D.addVertexShaderFunction(r.functions[q]);for(const q in x.functions)D.addFragmentShaderFunction(x.functions[q]);return{builder:D,attributes:w.reduce((q,
A)=>({...q,[A.name]:{callback:A.callback,size:A.size}}),{}),uniforms:z}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},packColor:{enumerable:!0,get:function(){return J}},parseLiteralStyle:{enumerable:!0,get:function(){return e}}});var d=c(220),g=c(218),h=c(68),k=c(19)};
shadow$provide[235]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});Z=c(87);X=c(206);var J=c(234);Z=c.esmDefault(Z);var K=c.esmDefault(X);class E extends Z.default{constructor(u){super(Object.assign({},u));this.parseResult_=(0,J.parseLiteralStyle)(u.style);this.styleVariables_=u.style.variables||{};this.hitDetectionDisabled_=!!u.disableHitDetection}createRenderer(){const u=Object.keys(this.parseResult_.attributes).map(p=>
({name:p,...this.parseResult_.attributes[p]}));return new K.default(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitDetectionEnabled:!this.hitDetectionDisabled_,uniforms:this.parseResult_.uniforms,attributes:u})}updateStyleVariables(u){Object.assign(this.styleVariables_,u);this.changed()}}const C=E};
shadow$provide[236]=function(X,c,Z,N){function J(f,l){const e=`
    attribute vec2 ${K.Attributes.TEXTURE_COORD};
    uniform mat4 ${K.Uniforms.TILE_TRANSFORM};
    uniform float ${K.Uniforms.TEXTURE_PIXEL_WIDTH};
    uniform float ${K.Uniforms.TEXTURE_PIXEL_HEIGHT};
    uniform float ${K.Uniforms.TEXTURE_RESOLUTION};
    uniform float ${K.Uniforms.TEXTURE_ORIGIN_X};
    uniform float ${K.Uniforms.TEXTURE_ORIGIN_Y};
    uniform float ${K.Uniforms.DEPTH};

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = ${K.Attributes.TEXTURE_COORD};
      v_mapCoord = vec2(
        ${K.Uniforms.TEXTURE_ORIGIN_X} + ${K.Uniforms.TEXTURE_RESOLUTION} * ${K.Uniforms.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],
        ${K.Uniforms.TEXTURE_ORIGIN_Y} - ${K.Uniforms.TEXTURE_RESOLUTION} * ${K.Uniforms.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]
      );
      gl_Position = ${K.Uniforms.TILE_TRANSFORM} * vec4(${K.Attributes.TEXTURE_COORD}, ${K.Uniforms.DEPTH}, 1.0);
    }
  `,d={inFragmentShader:!0,variables:[],attributes:[],functions:{},bandCount:l,style:f};var g=[];if(void 0!==f.color){var h=(0,E.expressionToGlsl)(d,f.color,E.ValueTypes.COLOR);g.push(`color = ${h};`)}void 0!==f.contrast&&(h=(0,E.expressionToGlsl)(d,f.contrast,E.ValueTypes.NUMBER),g.push(`color.rgb = clamp((${h} + 1.0) * color.rgb - (${h} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));void 0!==f.exposure&&(h=(0,E.expressionToGlsl)(d,f.exposure,E.ValueTypes.NUMBER),g.push(`color.rgb = clamp((${h} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));
void 0!==f.saturation&&(h=(0,E.expressionToGlsl)(d,f.saturation,E.ValueTypes.NUMBER),g.push(`
      float saturation = ${h} + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `));void 0!==f.gamma&&(h=(0,E.expressionToGlsl)(d,f.gamma,E.ValueTypes.NUMBER),g.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${h}));`));void 0!==f.brightness&&(h=(0,E.expressionToGlsl)(d,f.brightness,E.ValueTypes.NUMBER),g.push(`color.rgb = clamp(color.rgb + ${h}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));h={};var k=d.variables.length;if(1<k&&!f.variables)throw Error(`Missing variables in style (expected ${d.variables})`);for(let n=0;n<k;++n){const r=d.variables[n];if(!(r.name in f.variables))throw Error(`Missing '${r.name}' in style variables`);
const x=(0,E.uniformNameForVariable)(r.name);h[x]=function(){let D=f.variables[r.name];"string"===typeof D&&(D=(0,E.getStringNumberEquivalent)(D));return void 0!==D?D:-9999999}}k=Object.keys(h).map(function(n){return`uniform float ${n};`});k.push(`uniform sampler2D ${K.Uniforms.TILE_TEXTURE_ARRAY}[${Math.ceil(l/4)}];`);d.paletteTextures&&k.push(`uniform sampler2D ${E.PALETTE_TEXTURE_ARRAY}[${d.paletteTextures.length}];`);l=Object.keys(d.functions).map(function(n){return d.functions[n]});g=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 ${K.Uniforms.RENDER_EXTENT};
    uniform float ${K.Uniforms.TRANSITION_ALPHA};
    uniform float ${K.Uniforms.TEXTURE_PIXEL_WIDTH};
    uniform float ${K.Uniforms.TEXTURE_PIXEL_HEIGHT};
    uniform float ${K.Uniforms.RESOLUTION};
    uniform float ${K.Uniforms.ZOOM};

    ${k.join("\n")}

    ${l.join("\n")}

    void main() {
      if (
        v_mapCoord[0] < ${K.Uniforms.RENDER_EXTENT}[0] ||
        v_mapCoord[1] < ${K.Uniforms.RENDER_EXTENT}[1] ||
        v_mapCoord[0] > ${K.Uniforms.RENDER_EXTENT}[2] ||
        v_mapCoord[1] > ${K.Uniforms.RENDER_EXTENT}[3]
      ) {
        discard;
      }

      vec4 color = texture2D(${K.Uniforms.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);

      ${g.join("\n")}

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= ${K.Uniforms.TRANSITION_ALPHA};
    }`;return{vertexShader:e,fragmentShader:g,uniforms:h,paletteTextures:d.paletteTextures}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});Z=c(226);X=c(77);var K=c(217),E=c(218);Z=c.esmDefault(Z);var C=c.esmDefault(X),u=c.esmDefault(K);class p extends Z.default{constructor(f){f=f?Object.assign({},f):{};const l=f.style||{};delete f.style;const e=f.cacheSize;delete f.cacheSize;super(f);this.sources_=f.sources;this.renderedSource_=null;
this.renderedResolution_=NaN;this.style_=l;this.cacheSize_=e;this.styleVariables_=this.style_.variables||{};this.addChangeListener(C.default.SOURCE,this.handleSourceUpdate_)}getSources(f,l){const e=this.getSource();return this.sources_?"function"===typeof this.sources_?this.sources_(f,l):this.sources_:e?[e]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const f=this.getRenderSource();return f?f.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();
this.getSource()&&this.setStyle(this.style_)}getSourceBandCount_(){var f=Number.MAX_SAFE_INTEGER;return(f=this.getSources([-f,-f,f,f],f))&&f.length&&"bandCount"in f[0]?f[0].bandCount:4}createRenderer(){const f=J(this.style_,this.getSourceBandCount_());return new u.default(this,{vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,uniforms:f.uniforms,cacheSize:this.cacheSize_,paletteTextures:f.paletteTextures})}renderSources(f,l){const e=this.getRenderer();let d;for(let g=0,h=l.length;g<h;++g)this.renderedSource_=
l[g],e.prepareFrame(f)&&(d=e.renderFrame(f));return d}render(f,l){this.rendered=!0;l=f.viewState;const e=this.getSources(f.extent,l.resolution);let d=!0;for(let h=0,k=e.length;h<k;++h){const n=e[h];var g=n.getState();if("loading"==g){const r=()=>{"ready"==n.getState()&&(n.removeEventListener("change",r),this.changed())};n.addEventListener("change",r)}d=d&&"ready"==g}g=this.renderSources(f,e);return this.getRenderer().renderComplete&&d?(this.renderedResolution_=l.resolution,g):this.renderedResolution_>
.5*l.resolution&&(l=this.getSources(f.extent,this.renderedResolution_).filter(h=>!e.includes(h)),0<l.length)?this.renderSources(f,l):g}setStyle(f){this.styleVariables_=f.variables||{};this.style_=f;f=J(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,uniforms:f.uniforms});this.changed()}updateStyleVariables(f){Object.assign(this.styleVariables_,f);this.changed()}}p.prototype.dispose;const m=p};
shadow$provide[237]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Graticule:{enumerable:!0,get:function(){return J.default}},Group:{enumerable:!0,get:function(){return K.default}},Heatmap:{enumerable:!0,get:function(){return E.default}},Image:{enumerable:!0,get:function(){return C.default}},Layer:{enumerable:!0,get:function(){return u.default}},Tile:{enumerable:!0,get:function(){return p.default}},Vector:{enumerable:!0,get:function(){return m.default}},VectorImage:{enumerable:!0,
get:function(){return f.default}},VectorTile:{enumerable:!0,get:function(){return l.default}},WebGLPoints:{enumerable:!0,get:function(){return e.default}},WebGLTile:{enumerable:!0,get:function(){return d.default}}});var J=c(127),K=c(135),E=c(221),C=c(224),u=c(87),p=c(228),m=c(118),f=c(231),l=c(233),e=c(235),d=c(236)};
shadow$provide[238]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return J}}});const J={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[239]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return h}}});var J=c(172),K=c(81),E=c(23),C=c(35),u=c(28),p=c(170),m=c(54),f=c(12),l=c(66),e=c.esmDefault(J);const d=[0,0,0];class g{constructor(k){this.minZoom=void 0!==k.minZoom?k.minZoom:0;this.resolutions_=k.resolutions;(0,E.assert)((0,f.isSorted)(this.resolutions_,function(x,D){return D-x},!0),"`resolutions` must be sorted in descending order");let n;if(!k.origins)for(let x=
0,D=this.resolutions_.length-1;x<D;++x)if(!n)n=this.resolutions_[x]/this.resolutions_[x+1];else if(this.resolutions_[x]/this.resolutions_[x+1]!==n){n=void 0;break}this.zoomFactor_=n;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==k.origin?k.origin:null;this.origins_=null;void 0!==k.origins&&(this.origins_=k.origins,(0,E.assert)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const r=k.extent;void 0===r||this.origin_||this.origins_||
(this.origin_=(0,u.getTopLeft)(r));(0,E.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both");this.tileSizes_=null;void 0!==k.tileSizes&&(this.tileSizes_=k.tileSizes,(0,E.assert)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal"));this.tileSize_=void 0!==k.tileSize?k.tileSize:this.tileSizes_?null:K.DEFAULT_TILE_SIZE;(0,E.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&
!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both");this.extent_=void 0!==r?r:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];this.tmpExtent_=[0,0,0,0];void 0!==k.sizes?this.fullTileRanges_=k.sizes.map(function(x,D){x=new e.default(Math.min(0,x[0]),Math.max(x[0]-1,-1),Math.min(0,x[1]),Math.max(x[1]-1,-1));r&&(D=this.getTileRangeForExtentAndZ(r,D),x.minX=Math.max(D.minX,x.minX),x.maxX=Math.min(D.maxX,x.maxX),x.minY=Math.max(D.minY,x.minY),x.maxY=Math.min(D.maxY,x.maxY));
return x},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(k,n,r){k=this.getTileRangeForExtentAndZ(k,n);for(let x=k.minX,D=k.maxX;x<=D;++x)for(let z=k.minY,w=k.maxY;z<=w;++z)r([n,x,z])}forEachTileCoordParentTileRange(k,n,r,x){let D,z,w=null,q=k[0]-1;2===this.zoomFactor_?(D=k[1],z=k[2]):w=this.getTileCoordExtent(k,x);for(;q>=this.minZoom;){2===this.zoomFactor_?(D=Math.floor(D/2),z=Math.floor(z/2),k=(0,J.createOrUpdate)(D,D,z,z,r)):k=this.getTileRangeForExtentAndZ(w,q,r);if(n(q,k))return!0;--q}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(k){return this.origin_?
this.origin_:this.origins_[k]}getResolution(k){return this.resolutions_[k]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(k,n,r){if(k[0]<this.maxZoom){if(2===this.zoomFactor_)return r=2*k[1],k=2*k[2],(0,J.createOrUpdate)(r,r+1,k,k+1,n);r=this.getTileCoordExtent(k,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,k[0]+1,n)}return null}getTileRangeForTileCoordAndZ(k,n,r){if(n>this.maxZoom||n<this.minZoom)return null;var x=k[0];const D=k[1],z=k[2];if(n===x)return(0,J.createOrUpdate)(D,
z,D,z,r);if(this.zoomFactor_){k=Math.pow(this.zoomFactor_,n-x);const w=Math.floor(D*k),q=Math.floor(z*k);return n<x?(0,J.createOrUpdate)(w,w,q,q,r):(0,J.createOrUpdate)(w,Math.floor(k*(D+1))-1,q,Math.floor(k*(z+1))-1,r)}x=this.getTileCoordExtent(k,this.tmpExtent_);return this.getTileRangeForExtentAndZ(x,n,r)}getTileRangeForExtentAndZ(k,n,r){this.getTileCoordForXYAndZ_(k[0],k[3],n,!1,d);const x=d[1],D=d[2];this.getTileCoordForXYAndZ_(k[2],k[1],n,!0,d);return(0,J.createOrUpdate)(x,d[1],D,d[2],r)}getTileCoordCenter(k){const n=
this.getOrigin(k[0]),r=this.getResolution(k[0]),x=(0,l.toSize)(this.getTileSize(k[0]),this.tmpSize_);return[n[0]+(k[1]+.5)*x[0]*r,n[1]-(k[2]+.5)*x[1]*r]}getTileCoordExtent(k,n){const r=this.getOrigin(k[0]),x=this.getResolution(k[0]),D=(0,l.toSize)(this.getTileSize(k[0]),this.tmpSize_),z=r[0]+k[1]*D[0]*x;k=r[1]-(k[2]+1)*D[1]*x;return(0,u.createOrUpdate)(z,k,z+D[0]*x,k+D[1]*x,n)}getTileCoordForCoordAndResolution(k,n,r){return this.getTileCoordForXYAndResolution_(k[0],k[1],n,!1,r)}getTileCoordForXYAndResolution_(k,
n,r,x,D){const z=this.getZForResolution(r),w=r/this.getResolution(z),q=this.getOrigin(z),A=(0,l.toSize)(this.getTileSize(z),this.tmpSize_);k=w*(k-q[0])/r/A[0];n=w*(q[1]-n)/r/A[1];x?(k=(0,C.ceil)(k,5)-1,n=(0,C.ceil)(n,5)-1):(k=(0,C.floor)(k,5),n=(0,C.floor)(n,5));return(0,p.createOrUpdate)(z,k,n,D)}getTileCoordForXYAndZ_(k,n,r,x,D){const z=this.getOrigin(r),w=this.getResolution(r),q=(0,l.toSize)(this.getTileSize(r),this.tmpSize_);k=(k-z[0])/w/q[0];n=(z[1]-n)/w/q[1];x?(k=(0,C.ceil)(k,5)-1,n=(0,C.ceil)(n,
5)-1):(k=(0,C.floor)(k,5),n=(0,C.floor)(n,5));return(0,p.createOrUpdate)(r,k,n,D)}getTileCoordForCoordAndZ(k,n,r){return this.getTileCoordForXYAndZ_(k[0],k[1],n,!1,r)}getTileCoordResolution(k){return this.resolutions_[k[0]]}getTileSize(k){return this.tileSize_?this.tileSize_:this.tileSizes_[k]}getFullTileRange(k){return this.fullTileRanges_?this.fullTileRanges_[k]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,k):null}getZForResolution(k,n){k=(0,f.linearFindNearest)(this.resolutions_,k,
n||0);return(0,C.clamp)(k,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(k,n){return(0,m.intersectsLinearRing)(n,0,n.length,2,this.getTileCoordExtent(k))}calculateTileRanges_(k){const n=this.resolutions_.length,r=Array(n);for(let x=this.minZoom;x<n;++x)r[x]=this.getTileRangeForExtentAndZ(k,x);this.fullTileRanges_=r}}const h=g};
shadow$provide[240]=function(X,c,Z,N){function J(h){let k=h.getDefaultTileGrid();k||(k=p(h),h.setDefaultTileGrid(k));return k}function K(h,k,n){const r=k[0],x=h.getTileCoordCenter(k);n=m(n);return(0,e.containsCoordinate)(n,x)?k:(k=(0,e.getWidth)(n),x[0]+=k*Math.ceil((n[0]-x[0])/k),h.getTileCoordForCoordAndZ(x,r))}function E(h,k,n,r){r=void 0!==r?r:"top-left";k=u(h,k,n);return new g.default({extent:h,origin:(0,e.getCorner)(h,r),resolutions:k,tileSize:n})}function C(h){h=h||{};const k=h.extent||(0,l.get)("EPSG:3857").getExtent();
h={extent:k,minZoom:h.minZoom,tileSize:h.tileSize,resolutions:u(k,h.maxZoom,h.tileSize,h.maxResolution)};return new g.default(h)}function u(h,k,n,r){k=void 0!==k?k:f.DEFAULT_MAX_ZOOM;n=(0,d.toSize)(void 0!==n?n:f.DEFAULT_TILE_SIZE);var x=(0,e.getHeight)(h);h=(0,e.getWidth)(h);r=0<r?r:Math.max(h/n[0],x/n[1]);k+=1;n=Array(k);for(x=0;x<k;++x)n[x]=r/Math.pow(2,x);return n}function p(h,k,n,r){h=m(h);return E(h,k,n,r)}function m(h){h=(0,l.get)(h);let k=h.getExtent();k||(h=180*l.METERS_PER_UNIT.degrees/
h.getMetersPerUnit(),k=(0,e.createOrUpdate)(-h,-h,h,h));return k}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createForExtent:{enumerable:!0,get:function(){return E}},createForProjection:{enumerable:!0,get:function(){return p}},createXYZ:{enumerable:!0,get:function(){return C}},extentFromProjection:{enumerable:!0,get:function(){return m}},getForProjection:{enumerable:!0,get:function(){return J}},wrapX:{enumerable:!0,get:function(){return K}}});X=c(239);var f=c(81),l=c(40),e=c(28),
d=c(66),g=c.esmDefault(X)};
shadow$provide[241]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},TileSourceEvent:{enumerable:!0,get:function(){return d}},default:{enumerable:!0,get:function(){return g}}});Z=c(9);X=c(120);N=c(171);var J=c(129),K=c(19),E=c(23),C=c(40),u=c(170),p=c(240),m=c(66),f=c.esmDefault(N),l=c.esmDefault(J);Z=c.esmDefault(Z);c=c.esmDefault(X);class e extends c.default{constructor(h){super({attributions:h.attributions,attributionsCollapsible:h.attributionsCollapsible,projection:h.projection,
state:h.state,wrapX:h.wrapX,interpolate:h.interpolate});this.on;this.once;this.un;this.opaque_=void 0!==h.opaque?h.opaque:!1;this.tilePixelRatio_=void 0!==h.tilePixelRatio?h.tilePixelRatio:1;this.tileGrid=void 0!==h.tileGrid?h.tileGrid:null;const k=[256,256];this.tileGrid&&(0,m.toSize)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),k);this.tileCache=new f.default(h.cacheSize||0);this.tmpSize=[0,0];this.key_=h.key||"";this.tileOptions={transition:h.transition,interpolate:h.interpolate};this.zDirection=
h.zDirection?h.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(h,k){(h=this.getTileCacheForProjection(h))&&h.expireCache(k)}forEachLoadedTile(h,k,n,r){h=this.getTileCacheForProjection(h);if(!h)return!1;let x=!0;let D;for(let w=n.minX;w<=n.maxX;++w)for(let q=n.minY;q<=n.maxY;++q){var z=(0,u.getKeyZXY)(k,w,q);D=!1;h.containsKey(z)&&(z=h.get(z),(D=z.getState()===l.default.LOADED)&&(D=!1!==r(z)));D||(x=!1)}return x}getGutterForProjection(h){return 0}getKey(){return this.key_}setKey(h){this.key_!==
h&&(this.key_=h,this.changed())}getOpaque(h){return this.opaque_}getResolutions(h){return(h=h?this.getTileGridForProjection(h):this.tileGrid)?h.getResolutions():null}getTile(h,k,n,r,x){return(0,K.abstract)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(h){return this.tileGrid?this.tileGrid:(0,p.getForProjection)(h)}getTileCacheForProjection(h){const k=this.getProjection();(0,E.assert)(null===k||(0,C.equivalent)(k,h),"A VectorTile source can only be rendered if it has a projection compatible with the view projection.");
return this.tileCache}getTilePixelRatio(h){return this.tilePixelRatio_}getTilePixelSize(h,k,n){n=this.getTileGridForProjection(n);k=this.getTilePixelRatio(k);h=(0,m.toSize)(n.getTileSize(h),this.tmpSize);return 1==k?h:(0,m.scale)(h,k,this.tmpSize)}getTileCoordForTileUrlFunction(h,k){k=void 0!==k?k:this.getProjection();const n=this.getTileGridForProjection(k);this.getWrapX()&&k.isGlobal()&&(h=(0,p.wrapX)(n,h,k));return(0,u.withinExtentAndZ)(h,n)?h:null}clear(){this.tileCache.clear()}refresh(){this.clear();
super.refresh()}updateCacheSize(h,k){k=this.getTileCacheForProjection(k);h>k.highWaterMark&&(k.highWaterMark=h)}useTile(h,k,n,r){}}class d extends Z.default{constructor(h,k){super(h);this.tile=k}}const g=e};
shadow$provide[242]=function(X,c,Z,N){function J(l,e){const d=/\{z\}/g,g=/\{x\}/g,h=/\{y\}/g,k=/\{-y\}/g;return function(n,r,x){if(n)return l.replace(d,n[0].toString()).replace(g,n[1].toString()).replace(h,n[2].toString()).replace(k,function(){const D=e.getFullTileRange(n[0]);(0,p.assert)(D,"The {-y} placeholder requires a tile grid with extent");return(D.getHeight()-n[2]-1).toString()})}}function K(l,e){const d=l.length,g=Array(d);for(let h=0;h<d;++h)g[h]=J(l[h],e);return E(g)}function E(l){return 1===
l.length?l[0]:function(e,d,g){if(e){var h=(0,f.hash)(e);h=(0,m.modulo)(h,l.length);return l[h](e,d,g)}}}function C(l,e,d){}function u(l){const e=[];let d=/\{([a-z])-([a-z])\}/.exec(l);if(d){for(var g=d[1].charCodeAt(0),h=d[2].charCodeAt(0);g<=h;++g)e.push(l.replace(d[0],String.fromCharCode(g)));return e}if(d=/\{(\d+)-(\d+)\}/.exec(l)){h=parseInt(d[2],10);for(g=parseInt(d[1],10);g<=h;g++)e.push(l.replace(d[0],g.toString()));return e}e.push(l);return e}Object.defineProperties(N,{__esModule:{enumerable:!0,
value:!0},createFromTemplate:{enumerable:!0,get:function(){return J}},createFromTemplates:{enumerable:!0,get:function(){return K}},createFromTileUrlFunctions:{enumerable:!0,get:function(){return E}},expandUrl:{enumerable:!0,get:function(){return u}},nullTileUrlFunction:{enumerable:!0,get:function(){return C}}});var p=c(23),m=c(35),f=c(170)};
shadow$provide[243]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return f}}});X=c(238);var J=c(241);Z=c(129);var K=c(242),E=c(170),C=c(19),u=c.esmDefault(X),p=c.esmDefault(Z);c=c.esmDefault(J);class m extends c.default{constructor(l){super({attributions:l.attributions,cacheSize:l.cacheSize,opaque:l.opaque,projection:l.projection,state:l.state,tileGrid:l.tileGrid,tilePixelRatio:l.tilePixelRatio,wrapX:l.wrapX,transition:l.transition,
interpolate:l.interpolate,key:l.key,attributionsCollapsible:l.attributionsCollapsible,zDirection:l.zDirection});this.generateTileUrlFunction_=this.tileUrlFunction===m.prototype.tileUrlFunction;this.tileLoadFunction=l.tileLoadFunction;l.tileUrlFunction&&(this.tileUrlFunction=l.tileUrlFunction);this.urls=null;l.urls?this.setUrls(l.urls):l.url&&this.setUrl(l.url);this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===
this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(l){l=l.target;const e=(0,C.getUid)(l),d=l.getState();let g;d==p.default.LOADING?(this.tileLoadingKeys_[e]=!0,g=u.default.TILELOADSTART):e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],g=d==p.default.ERROR?u.default.TILELOADERROR:d==p.default.LOADED?u.default.TILELOADEND:void 0);void 0!=g&&this.dispatchEvent(new J.TileSourceEvent(g,l))}setTileLoadFunction(l){this.tileCache.clear();
this.tileLoadFunction=l;this.changed()}setTileUrlFunction(l,e){this.tileUrlFunction=l;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(l){this.urls=l=(0,K.expandUrl)(l);this.setUrls(l)}setUrls(l){this.urls=l;const e=l.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,K.createFromTemplates)(l,this.tileGrid),e):this.setKey(e)}tileUrlFunction(l,e,d){}useTile(l,e,d){l=(0,E.getKeyZXY)(l,e,d);this.tileCache.containsKey(l)&&this.tileCache.get(l)}}
const f=m};
shadow$provide[244]=function(X,c,Z,N){function J(r,x){r.getImage().src=x}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return n}}});X=c(16);Z=c(131);N=c(213);var K=c(171),E=c(129),C=c(243),u=c(40),p=c(170),m=c(240),f=c(19),l=c.esmDefault(Z),e=c.esmDefault(N),d=c.esmDefault(K),g=c.esmDefault(E);Z=c.esmDefault(C);var h=c.esmDefault(X);class k extends Z.default{constructor(r){super({attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,
projection:r.projection,state:r.state,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction?r.tileLoadFunction:J,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX,transition:r.transition,interpolate:void 0!==r.interpolate?r.interpolate:!0,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection});this.crossOrigin=void 0!==r.crossOrigin?r.crossOrigin:null;this.tileClass=void 0!==r.tileClass?r.tileClass:l.default;this.tileCacheForProjection=
{};this.tileGridForProjection={};this.reprojectionErrorThreshold_=r.reprojectionErrorThreshold;this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const r in this.tileCacheForProjection)if(this.tileCacheForProjection[r].canExpireCache())return!0;return!1}expireCache(r,x){r=this.getTileCacheForProjection(r);this.tileCache.expireCache(this.tileCache==r?x:{});for(const D in this.tileCacheForProjection){const z=this.tileCacheForProjection[D];z.expireCache(z==
r?x:{})}}getGutterForProjection(r){return this.getProjection()&&r&&!(0,u.equivalent)(this.getProjection(),r)?0:this.getGutter()}getGutter(){return 0}getKey(){let r=super.getKey();this.getInterpolate()||(r+=":disable-interpolation");return r}getOpaque(r){return this.getProjection()&&r&&!(0,u.equivalent)(this.getProjection(),r)?!1:super.getOpaque(r)}getTileGridForProjection(r){var x=this.getProjection();if(this.tileGrid&&(!x||(0,u.equivalent)(x,r)))return this.tileGrid;x=(0,f.getUid)(r);x in this.tileGridForProjection||
(this.tileGridForProjection[x]=(0,m.getForProjection)(r));return this.tileGridForProjection[x]}getTileCacheForProjection(r){const x=this.getProjection();if(!x||(0,u.equivalent)(x,r))return this.tileCache;r=(0,f.getUid)(r);r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new d.default(this.tileCache.highWaterMark));return this.tileCacheForProjection[r]}createTile_(r,x,D,z,w,q){r=[r,x,D];z=(x=this.getTileCoordForTileUrlFunction(r,w))?this.tileUrlFunction(x,z,w):void 0;z=new this.tileClass(r,
void 0!==z?g.default.IDLE:g.default.EMPTY,void 0!==z?z:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);z.key=q;z.addEventListener(h.default.CHANGE,this.handleTileChange.bind(this));return z}getTile(r,x,D,z,w){const q=this.getProjection();if(!q||!w||(0,u.equivalent)(q,w))return this.getTileInternal(r,x,D,z,q||w);const A=this.getTileCacheForProjection(w);D=[r,x,D];let L;r=(0,p.getKey)(D);A.containsKey(r)&&(L=A.get(r));x=this.getKey();if(L&&L.key==x)return L;const y=this.getTileGridForProjection(q),
F=this.getTileGridForProjection(w),M=this.getTileCoordForTileUrlFunction(D,w);z=new e.default(q,y,w,F,D,M,this.getTilePixelRatio(z),this.getGutter(),(T,Q,S,W)=>this.getTileInternal(T,Q,S,W,q),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());z.key=x;L?(z.interimTile=L,z.refreshInterimChain(),A.replace(r,z)):A.set(r,z);return z}getTileInternal(r,x,D,z,w){let q;const A=(0,p.getKeyZXY)(r,x,D),L=this.getKey();if(this.tileCache.containsKey(A)){if(q=this.tileCache.get(A),
q.key!=L){const y=q;q=this.createTile_(r,x,D,z,w,L);y.getState()==g.default.IDLE?q.interimTile=y.interimTile:q.interimTile=y;q.refreshInterimChain();this.tileCache.replace(A,q)}}else q=this.createTile_(r,x,D,z,w,L),this.tileCache.set(A,q);return q}setRenderReprojectionEdges(r){if(this.renderReprojectionEdges_!=r){this.renderReprojectionEdges_=r;for(const x in this.tileCacheForProjection)this.tileCacheForProjection[x].clear();this.changed()}}setTileGridForProjection(r,x){if(r=(0,u.get)(r))r=(0,f.getUid)(r),
r in this.tileGridForProjection||(this.tileGridForProjection[r]=x)}clear(){super.clear();for(const r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear()}}const n=k};
shadow$provide[245]=function(X,c,Z,N){function J(l){const e=l[0],d=Array(e);let g=1<<e-1,h,k;for(h=0;h<e;++h)k=48,l[1]&g&&(k+=1),l[2]&g&&(k+=2),d[h]=String.fromCharCode(k),g>>=1;return d.join("")}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return f}},quadKey:{enumerable:!0,get:function(){return J}}});X=c(244);var K=c(28),E=c(242),C=c(170),u=c(240),p=c(40);c=c.esmDefault(X);class m extends c.default{constructor(l){const e=void 0!==l.hidpi?l.hidpi:
!1;super({cacheSize:l.cacheSize,crossOrigin:"anonymous",interpolate:l.interpolate,opaque:!0,projection:(0,p.get)("EPSG:3857"),reprojectionErrorThreshold:l.reprojectionErrorThreshold,state:"loading",tileLoadFunction:l.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==l.wrapX?l.wrapX:!0,transition:l.transition,zDirection:l.zDirection});this.hidpi_=e;this.culture_=void 0!==l.culture?l.culture:"en-us";this.maxZoom_=void 0!==l.maxZoom?l.maxZoom:-1;this.apiKey_=l.key;this.imagerySet_=l.imagerySet;this.placeholderTiles_=
l.placeholderTiles;fetch("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+this.apiKey_+"\x26c\x3d"+this.culture_).then(d=>d.json()).then(d=>this.handleImageryMetadataResponse(d))}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(l){if(200!=l.statusCode||"OK"!=l.statusDescription||"ValidCredentials"!=l.authenticationResultCode||1!=l.resourceSets.length||1!=l.resourceSets[0].resources.length)this.setState("error");
else{var e=l.resourceSets[0].resources[0];l=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var d=this.getProjection();d=(0,u.extentFromProjection)(d);var g=this.hidpi_?2:1;this.tileGrid=(0,u.createXYZ)({extent:d,minZoom:e.zoomMin,maxZoom:l,tileSize:e.imageWidth==e.imageHeight?e.imageWidth/g:[e.imageWidth/g,e.imageHeight/g]});var h=this.culture_,k=this.hidpi_,n=this.placeholderTiles_;this.tileUrlFunction=(0,E.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(r){const x=[0,0,0],D=e.imageUrl.replace("{subdomain}",
r).replace("{culture}",h);return function(z,w,q){if(z)return(0,C.createOrUpdate)(z[0],z[1],z[2],x),z=new URL(D.replace("{quadkey}",J(x))),w=z.searchParams,k&&(w.set("dpi","d1"),w.set("device","mobile")),!0===n?w.delete("n"):!1===n&&w.set("n","z"),z.toString()}}));if(e.imageryProviders){const r=(0,p.getTransformFromProjections)((0,p.get)("EPSG:4326"),this.getProjection());this.setAttributions(x=>{const D=[],z=x.viewState,w=this.getTileGrid(),q=w.getZForResolution(z.resolution,this.zDirection),A=w.getTileCoordForCoordAndZ(z.center,
q)[0];e.imageryProviders.map(function(L){let y=!1;const F=L.coverageAreas;for(let T=0,Q=F.length;T<Q;++T){var M=F[T];if(A>=M.zoomMin&&A<=M.zoomMax&&(M=M.bbox,M=(0,K.applyTransform)([M[1],M[0],M[3],M[2]],r),(0,K.intersects)(M,x.extent))){y=!0;break}}y&&D.push(L.attribution)});D.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return D})}this.setState("ready")}}}const f=m};
shadow$provide[246]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return E}}});X=c(244);var J=c(240);c=c.esmDefault(X);class K extends c.default{constructor(C){C=C||{};const u=void 0!==C.projection?C.projection:"EPSG:3857",p=void 0!==C.tileGrid?C.tileGrid:(0,J.createXYZ)({extent:(0,J.extentFromProjection)(u),maxResolution:C.maxResolution,maxZoom:C.maxZoom,minZoom:C.minZoom,tileSize:C.tileSize});super({attributions:C.attributions,
cacheSize:C.cacheSize,crossOrigin:C.crossOrigin,interpolate:C.interpolate,opaque:C.opaque,projection:u,reprojectionErrorThreshold:C.reprojectionErrorThreshold,tileGrid:p,tileLoadFunction:C.tileLoadFunction,tilePixelRatio:C.tilePixelRatio,tileUrlFunction:C.tileUrlFunction,url:C.url,urls:C.urls,wrapX:void 0!==C.wrapX?C.wrapX:!0,transition:C.transition,attributionsCollapsible:C.attributionsCollapsible,zDirection:C.zDirection});this.gutter_=void 0!==C.gutter?C.gutter:0}getGutter(){return this.gutter_}}
const E=K};
shadow$provide[247]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return K}}});X=c(246);c=c.esmDefault(X);class J extends c.default{constructor(E){super({attributions:E.attributions,cacheSize:E.cacheSize,crossOrigin:E.crossOrigin,maxZoom:void 0!==E.maxZoom?E.maxZoom:18,minZoom:E.minZoom,projection:E.projection,transition:E.transition,wrapX:E.wrapX,zDirection:E.zDirection});this.account_=E.account;this.mapId_=E.map||"";this.config_=
E.config||{};this.templateCache_={};this.initializeMap_()}getConfig(){return this.config_}updateConfig(E){Object.assign(this.config_,E);this.initializeMap_()}setConfig(E){this.config_=E||{};this.initializeMap_()}initializeMap_(){const E=JSON.stringify(this.config_);if(this.templateCache_[E])this.applyTemplate_(this.templateCache_[E]);else{var C="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(C+="/named/"+this.mapId_);var u=new XMLHttpRequest;u.addEventListener("load",this.handleInitResponse_.bind(this,
E));u.addEventListener("error",this.handleInitError_.bind(this));u.open("POST",C);u.setRequestHeader("Content-type","application/json");u.send(JSON.stringify(this.config_))}}handleInitResponse_(E,C){C=C.target;if(!C.status||200<=C.status&&300>C.status){let u;try{u=JSON.parse(C.responseText)}catch(p){this.setState("error");return}this.applyTemplate_(u);this.templateCache_[E]=u;this.setState("ready")}else this.setState("error")}handleInitError_(E){this.setState("error")}applyTemplate_(E){this.setUrl("https://"+
E.cdn_url.https+"/"+this.account_+"/api/v1/map/"+E.layergroupid+"/{z}/{x}/{y}.png")}}const K=J};
shadow$provide[248]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return e}}});X=c(16);Z=c(24);N=c(50);var J=c(124),K=c(37),E=c(23),C=c(28),u=c(19);J=c.esmDefault(J);var p=c.esmDefault(X),m=c.esmDefault(N),f=c.esmDefault(Z);class l extends J.default{constructor(d){super({attributions:d.attributions,wrapX:d.wrapX});this.resolution=void 0;this.distance=void 0!==d.distance?d.distance:20;this.minDistance=d.minDistance||0;this.interpolationRatio=
0;this.features=[];this.geometryFunction=d.geometryFunction||function(g){g=g.getGeometry();(0,E.assert)(!g||"Point"===g.getType(),"The default `geometryFunction` can only handle `Point` or null geometries");return g};this.createCustomCluster_=d.createCluster;this.source=null;this.boundRefresh_=this.refresh.bind(this);this.updateDistance(this.distance,this.minDistance);this.setSource(d.source||null)}clear(d){this.features.length=0;super.clear(d)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(d,
g,h){this.source.loadFeatures(d,g,h);g!==this.resolution&&(this.resolution=g,this.refresh())}setDistance(d){this.updateDistance(d,this.minDistance)}setMinDistance(d){this.updateDistance(this.distance,d)}getMinDistance(){return this.minDistance}setSource(d){this.source&&this.source.removeEventListener(p.default.CHANGE,this.boundRefresh_);(this.source=d)&&d.addEventListener(p.default.CHANGE,this.boundRefresh_);this.refresh()}refresh(){this.clear();this.cluster();this.addFeatures(this.features)}updateDistance(d,
g){const h=0===d?0:Math.min(g,d)/d,k=d!==this.distance||this.interpolationRatio!==h;this.distance=d;this.minDistance=g;this.interpolationRatio=h;k&&this.refresh()}cluster(){if(void 0!==this.resolution&&this.source){var d=(0,C.createEmpty)(),g=this.distance*this.resolution,h=this.source.getFeatures(),k={};for(let r=0,x=h.length;r<x;r++){var n=h[r];(0,u.getUid)(n)in k||!(n=this.geometryFunction(n))||(n=n.getCoordinates(),(0,C.createOrUpdateFromCoordinate)(n,d),(0,C.buffer)(d,g,d),n=this.source.getFeaturesInExtent(d).filter(function(D){D=
(0,u.getUid)(D);return D in k?!1:k[D]=!0}),this.features.push(this.createCluster(n,d)))}}}createCluster(d,g){var h=[0,0];for(var k=d.length-1;0<=k;--k){const n=this.geometryFunction(d[k]);n?(0,K.add)(h,n.getCoordinates()):d.splice(k,1)}(0,K.scale)(h,1/d.length);g=(0,C.getCenter)(g);k=this.interpolationRatio;h=new m.default([h[0]*(1-k)+g[0]*k,h[1]*(1-k)+g[1]*k]);return this.createCustomCluster_?this.createCustomCluster_(h,d):new f.default({geometry:h,features:d})}}const e=l};
shadow$provide[249]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return D}}});X=c(209);Z=c(16);N=c(212);var J=c(171),K=c(238),E=c(241),C=c(129),u=c(240),p=c(40),m=c(170),f=c(19),l=c(13),e=c(66),d=c.esmDefault(N),g=c.esmDefault(K),h=c.esmDefault(J),k=c.esmDefault(C),n=c.esmDefault(X),r=c.esmDefault(Z);c=c.esmDefault(E);class x extends c.default{constructor(z){const w=void 0===z.projection?"EPSG:3857":z.projection;let q=z.tileGrid;
void 0===q&&w&&(q=(0,u.createXYZ)({extent:(0,u.extentFromProjection)(w),maxResolution:z.maxResolution,maxZoom:z.maxZoom,minZoom:z.minZoom,tileSize:z.tileSize}));super({cacheSize:.1,attributions:z.attributions,attributionsCollapsible:z.attributionsCollapsible,projection:w,tileGrid:q,opaque:z.opaque,state:z.state,wrapX:z.wrapX,transition:z.transition,interpolate:z.interpolate});this.gutter_=void 0!==z.gutter?z.gutter:0;this.tileSize_=z.tileSize?(0,e.toSize)(z.tileSize):null;this.tileSizes_=null;this.tileLoadingKeys_=
{};this.loader_=z.loader;this.handleTileChange_=this.handleTileChange_.bind(this);this.bandCount=void 0===z.bandCount?4:z.bandCount;this.tileGridForProjection_={};this.tileCacheForProjection_={}}setTileSizes(z){this.tileSizes_=z}getTileSize(z){if(this.tileSizes_)return this.tileSizes_[z];if(this.tileSize_)return this.tileSize_;const w=this.getTileGrid();return w?(0,e.toSize)(w.getTileSize(z)):[256,256]}getGutterForProjection(z){const w=this.getProjection();return!w||(0,p.equivalent)(w,z)?this.gutter_:
0}setLoader(z){this.loader_=z}getReprojTile_(z,w,q,A,L){var y=this.getTileCacheForProjection(A),F=(0,m.getKeyZXY)(z,w,q);if(y.containsKey(F)&&(y=y.get(F))&&y.key==this.getKey())return y;const M=this.getTileGrid();y=Math.max.apply(null,M.getResolutions().map((Q,S)=>{Q=(0,e.toSize)(M.getTileSize(S));S=this.getTileSize(S);return Math.max(S[0]/Q[0],S[1]/Q[1])}));F=this.getTileGridForProjection(L);const T=this.getTileGridForProjection(A);z=[z,w,q];w=this.getTileCoordForTileUrlFunction(z,A);A=Object.assign({sourceProj:L,
sourceTileGrid:F,targetProj:A,targetTileGrid:T,tileCoord:z,wrappedTileCoord:w,pixelRatio:y,gutter:this.getGutterForProjection(L),getTileFunction:(Q,S,W,ca)=>this.getTile(Q,S,W,ca,L)},this.tileOptions);A=new d.default(A);A.key=this.getKey();return A}getTile(z,w,q,A,L){if((A=this.getProjection())&&L&&!(0,p.equivalent)(A,L))return this.getReprojTile_(z,w,q,L,A);A=this.getTileSize(z);L=(0,m.getKeyZXY)(z,w,q);if(this.tileCache.containsKey(L))return this.tileCache.get(L);const y=this.loader_;A=Object.assign({tileCoord:[z,
w,q],loader:function(){return(0,l.toPromise)(function(){return y(z,w,q)})},size:A},this.tileOptions);A=new n.default(A);A.key=this.getKey();A.addEventListener(r.default.CHANGE,this.handleTileChange_);this.tileCache.set(L,A);return A}handleTileChange_(z){z=z.target;const w=(0,f.getUid)(z),q=z.getState();let A;q==k.default.LOADING?(this.tileLoadingKeys_[w]=!0,A=g.default.TILELOADSTART):w in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[w],A=q==k.default.ERROR?g.default.TILELOADERROR:q==k.default.LOADED?
g.default.TILELOADEND:void 0);A&&this.dispatchEvent(new E.TileSourceEvent(A,z))}getTileGridForProjection(z){var w=this.getProjection();if(this.tileGrid&&(!w||(0,p.equivalent)(w,z)))return this.tileGrid;w=(0,f.getUid)(z);w in this.tileGridForProjection_||(this.tileGridForProjection_[w]=(0,u.getForProjection)(z));return this.tileGridForProjection_[w]}setTileGridForProjection(z,w){if(z=(0,p.get)(z))z=(0,f.getUid)(z),z in this.tileGridForProjection_||(this.tileGridForProjection_[z]=w)}getTileCacheForProjection(z){const w=
this.getProjection();if(!w||(0,p.equivalent)(w,z))return this.tileCache;z=(0,f.getUid)(z);z in this.tileCacheForProjection_||(this.tileCacheForProjection_[z]=new h.default(.1));return this.tileCacheForProjection_[z]}expireCache(z,w){z=this.getTileCacheForProjection(z);this.tileCache.expireCache(this.tileCache==z?w:{});for(const q in this.tileCacheForProjection_){const A=this.tileCacheForProjection_[q];A.expireCache(A==z?w:{})}}clear(){super.clear();for(const z in this.tileCacheForProjection_)this.tileCacheForProjection_[z].clear()}}
const D=x};
shadow$provide[250]=function(X,c,Z,N){var J=c(204).Buffer;!function(K,E){"object"==typeof N&&"undefined"!=typeof Z?E(N):"function"==typeof define&&define.amd?define(["exports"],E):E((K="undefined"!=typeof globalThis?globalThis:K||self).GeoTIFF={})}(this,function(K){function E(ia,V,H){return V in ia?Object.defineProperty(ia,V,{value:H,enumerable:!0,configurable:!0,writable:!0}):ia[V]=H,ia}function C(ia){if(Array.isArray(ia))return ia}function u(ia,V){(null==V||V>ia.length)&&(V=ia.length);for(var H=
0,U=Array(V);H<V;H++)U[H]=ia[H];return U}function p(ia,V){if(ia){if("string"==typeof ia)return u(ia,V);var H=Object.prototype.toString.call(ia).slice(8,-1);return"Object"===H&&ia.constructor&&(H=ia.constructor.name),"Map"===H||"Set"===H?Array.from(ia):"Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?u(ia,V):void 0}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}function f(ia,V){var H;if(!(H=C(ia)))if(H=null==ia?null:"undefined"!=typeof Symbol&&ia[Symbol.iterator]||ia["@@iterator"],null!=H){var U,R=[],ha=!0,da=!1;try{for(H=H.call(ia);!(ha=(U=H.next()).done)&&(R.push(U.value),!V||R.length!==V);ha=!0);}catch(qa){da=!0;var ja=qa}finally{try{ha||null==H.return||H.return()}finally{if(da)throw ja;}}H=R}else H=void 0;return H||p(ia,V)||m()}function l(ia,V,H,U,R,ha,da){try{var ja=ia[ha](da),qa=ja.value}catch(pa){return void H(pa)}ja.done?V(qa):Promise.resolve(qa).then(U,
R)}function e(ia){return function(){var V=this,H=arguments;return new Promise(function(U,R){function ha(qa){l(ja,U,R,ha,da,"next",qa)}function da(qa){l(ja,U,R,ha,da,"throw",qa)}var ja=ia.apply(V,H);ha(void 0)})}}function d(ia,V){for(var H=0;H<V.length;H++){var U=V[H];U.enumerable=U.enumerable||!1;U.configurable=!0;"value"in U&&(U.writable=!0);Object.defineProperty(ia,U.key,U)}}function g(ia,V,H){return V&&d(ia.prototype,V),H&&d(ia,H),ia}function h(ia,V){return h=Object.setPrototypeOf||function(H,
U){return H.__proto__=U,H},h(ia,V)}function k(ia,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function");ia.prototype=Object.create(V&&V.prototype,{constructor:{value:ia,writable:!0,configurable:!0}});V&&h(ia,V)}function n(ia){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},n(ia)}function r(ia){if(void 0===
ia)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ia}function x(ia,V){if(V&&("object"===n(V)||"function"==typeof V))return V;if(void 0!==V)throw new TypeError("Derived constructors may only return object or undefined");return r(ia)}function D(ia){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},D(ia)}function z(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ia){return!1}}function w(ia,V,H){return w=z()?Reflect.construct:function(U,R,ha){var da=[null];da.push.apply(da,R);U=new (Function.bind.apply(U,da));return ha&&h(U,ha.prototype),U},w.apply(null,arguments)}function q(ia){var V="function"==typeof Map?new Map:void 0;return q=function(H){function U(){return w(H,arguments,D(this).constructor)}if(null===H||(R=H,-1===Function.toString.call(R).indexOf("[native code]")))return H;
var R;if("function"!=typeof H)throw new TypeError("Super expression must either be null or a function");if(void 0!==V){if(V.has(H))return V.get(H);V.set(H,U)}return U.prototype=Object.create(H.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),h(U,H)},q(ia)}function A(ia,V){if(!(ia instanceof V))throw new TypeError("Cannot call a class as a function");}function L(ia){if("undefined"!=typeof Symbol&&null!=ia[Symbol.iterator]||null!=ia["@@iterator"])return Array.from(ia)}function y(ia){var V=
Array.isArray(ia)?u(ia):void 0;if(!(ia=V||L(ia)||p(ia)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return ia}function F(ia,V){if(!ArrayBuffer.isView(ia)||void 0!==Xg.call(ia)||"[object DataView]"!==af.call(ia))throw new TypeError("First argument to getFloat16 function must be a DataView");for(var H=arguments.length,U=Array(2<H?H-2:0),R=2;R<H;R++)U[R-2]=arguments[R];H=ia.getUint16.apply(ia,
[V].concat(U));U=H>>10;return xi[0]=ve[Sb[U]+(1023&H)]+ud[U],Nf[0]}function M(ia,V){for(var H,U=new Uint8Array(ia.width*ia.height*3),R=0,ha=0;R<ia.length;++R,ha+=3)H=256-ia[R]/V*256,U[ha]=H,U[ha+1]=H,U[ha+2]=H;return U}function T(ia,V){for(var H,U=new Uint8Array(ia.width*ia.height*3),R=0,ha=0;R<ia.length;++R,ha+=3)H=ia[R]/V*256,U[ha]=H,U[ha+1]=H,U[ha+2]=H;return U}function Q(ia,V){for(var H=new Uint8Array(ia.width*ia.height*3),U=V.length/3,R=V.length/3*2,ha=0,da=0;ha<ia.length;++ha,da+=3){var ja=
ia[ha];H[da]=V[ja]/65536*256;H[da+1]=V[ja+U]/65536*256;H[da+2]=V[ja+R]/65536*256}return H}function S(ia){for(var V=new Uint8Array(ia.width*ia.height*3),H=0,U=0;H<ia.length;H+=4,U+=3){var R=ia[H+1],ha=ia[H+2],da=ia[H+3];V[U]=(255-ia[H])/256*255*((255-da)/256);V[U+1]=(255-R)/256*255*((255-da)/256);V[U+2]=(255-ha)/256*255*((255-da)/256)}return V}function W(ia){for(var V=new Uint8ClampedArray(ia.width*ia.height*3),H=0,U=0;H<ia.length;H+=3,U+=3){var R=ia[H],ha=ia[H+1],da=ia[H+2];V[U]=R+1.402*(da-128);
V[U+1]=R-.34414*(ha-128)-.71414*(da-128);V[U+2]=R+1.772*(ha-128)}return V}function ca(ia){for(var V=new Uint8Array(ia.width*ia.height*3),H=0,U=0;H<ia.length;H+=3,U+=3){var R=(ia[H+0]+16)/116,ha=(ia[H+1]<<24>>24)/500+R,da=R-(ia[H+2]<<24>>24)/200,ja=void 0;var qa=-.9689*(ha=.95047*(.008856<ha*ha*ha?ha*ha*ha:(ha-16/116)/7.787))+1.8758*(R=.008856<R*R*R?R*R*R:(R-16/116)/7.787)+.0415*(da=1.08883*(.008856<da*da*da?da*da*da:(da-16/116)/7.787));var pa=.0557*ha+-.204*R+1.057*da;ja=.0031308<(ja=3.2406*ha+-1.5372*
R+-.4986*da)?1.055*Math.pow(ja,1/2.4)-.055:12.92*ja;qa=.0031308<qa?1.055*Math.pow(qa,1/2.4)-.055:12.92*qa;pa=.0031308<pa?1.055*Math.pow(pa,1/2.4)-.055:12.92*pa;V[U]=255*Math.max(0,Math.min(1,ja));V[U+1]=255*Math.max(0,Math.min(1,qa));V[U+2]=255*Math.max(0,Math.min(1,pa))}return V}function B(ia,V){Array.isArray(ia)||(ia=[ia]);ia.forEach(function(H){return $g.set(H,V)})}function v(ia){return I.apply(this,arguments)}function I(){return(I=e(kb.mark(function H(V){var U,R;return kb.wrap(function(ha){for(;;)switch(ha.prev=
ha.next){case 0:if(U=$g.get(V.Compression)){ha.next=3;break}throw Error("Unknown compression method identifier: ".concat(V.Compression));case 3:return ha.next=5,U();case 5:return R=ha.sent,ha.abrupt("return",new R(V));case 7:case "end":return ha.stop()}},H)}))).apply(this,arguments)}function O(ia,V,H){var U=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return new (Object.getPrototypeOf(ia).constructor)(V*H*U)}function ea(ia,V,H,U,R){var ha=V/U,da=H/R;return ia.map(function(ja){for(var qa=
O(ja,U,R),pa=0;pa<R;++pa)for(var oa=Math.min(Math.round(da*pa),H-1),xa=0;xa<U;++xa)qa[pa*U+xa]=ja[oa*V+Math.min(Math.round(ha*xa),V-1)];return qa})}function la(ia,V,H,U,R){var ha=V/U,da=H/R;return ia.map(function(ja){for(var qa=O(ja,U,R),pa=0;pa<R;++pa)for(var oa=da*pa,xa=Math.floor(oa),Ba=Math.min(Math.ceil(oa),H-1),Na=0;Na<U;++Na){var ua=ha*Na,La=ua%1,Fa=Math.floor(ua);ua=Math.min(Math.ceil(ua),V-1);var sa=oa%1;qa[pa*U+Na]=(1-sa)*((1-La)*ja[xa*V+Fa]+La*ja[xa*V+ua])+sa*((1-La)*ja[Ba*V+Fa]+La*ja[Ba*
V+ua])}return qa})}function va(ia,V,H,U,R){var ha=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"nearest";switch(ha.toLowerCase()){case "nearest":return ea(ia,V,H,U,R);case "bilinear":case "linear":return la(ia,V,H,U,R);default:throw Error("Unsupported resampling method: '".concat(ha,"'"));}}function Da(ia,V,H,U,R,ha){var da=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"nearest";switch(da.toLowerCase()){case "nearest":da=V/U;for(var ja=H/R,qa=O(ia,U,R,ha),pa=0;pa<R;++pa)for(var oa=
Math.min(Math.round(ja*pa),H-1),xa=0;xa<U;++xa)for(var Ba=Math.min(Math.round(da*xa),V-1),Na=0;Na<ha;++Na)qa[pa*U*ha+xa*ha+Na]=ia[oa*V*ha+Ba*ha+Na];return qa;case "bilinear":case "linear":da=V/U;ja=H/R;qa=O(ia,U,R,ha);for(pa=0;pa<R;++pa)for(oa=ja*pa,xa=Math.floor(oa),Ba=Math.min(Math.ceil(oa),H-1),Na=0;Na<U;++Na){var ua=da*Na,La=ua%1,Fa=Math.floor(ua);ua=Math.min(Math.ceil(ua),V-1);for(var sa=0;sa<ha;++sa){var ba=oa%1;qa[pa*U*ha+Na*ha+sa]=(1-ba)*((1-La)*ia[xa*V*ha+Fa*ha+sa]+La*ia[xa*V*ha+ua*ha+sa])+
ba*((1-La)*ia[Ba*V*ha+Fa*ha+sa]+La*ia[Ba*V*ha+ua*ha+sa])}}return qa;default:throw Error("Unsupported resampling method: '".concat(da,"'"));}}function Ya(ia,V,H){for(var U=0;V<H;++V)U+=ia[V];return U}function Za(ia,V,H){switch(ia){case 1:if(8>=V)return new Uint8Array(H);if(16>=V)return new Uint16Array(H);if(32>=V)return new Uint32Array(H);break;case 2:if(8===V)return new Int8Array(H);if(16===V)return new Int16Array(H);if(32===V)return new Int32Array(H);break;case 3:switch(V){case 16:case 32:return new Float32Array(H);
case 64:return new Float64Array(H)}}throw Error("Unsupported data format/bitsPerSample");}function gb(ia,V){if(null==ia)return{};var H;if(null==ia)var U={};else{U={};var R=Object.keys(ia);for(H=0;H<R.length;H++){var ha=R[H];0<=V.indexOf(ha)||(U[ha]=ia[ha])}}if(Object.getOwnPropertySymbols)for(R=Object.getOwnPropertySymbols(ia),H=0;H<R.length;H++)ha=R[H],0<=V.indexOf(ha)||Object.prototype.propertyIsEnumerable.call(ia,ha)&&(U[ha]=ia[ha]);return U}function qb(ia,V){var H="undefined"!=typeof Symbol&&
ia[Symbol.iterator]||ia["@@iterator"];if(!H){if(Array.isArray(ia)||(H=function(ja,qa){if(ja){if("string"==typeof ja)return db(ja,qa);var pa=Object.prototype.toString.call(ja).slice(8,-1);"Object"===pa&&ja.constructor&&(pa=ja.constructor.name);if("Map"===pa||"Set"===pa)return Array.from(ja);if("Arguments"===pa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pa))return db(ja,qa)}}(ia))||V&&ia&&"number"==typeof ia.length){H&&(ia=H);var U=0;V=function(){};return{s:V,n:function(){return U>=ia.length?
{done:!0}:{done:!1,value:ia[U++]}},e:function(ja){throw ja;},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var R,ha=!0,da=!1;return{s:function(){H=H.call(ia)},n:function(){var ja=H.next();return ha=ja.done,ja},e:function(ja){da=!0;R=ja},f:function(){try{ha||null==H.return||H.return()}finally{if(da)throw R;}}}}function db(ia,V){(null==V||V>ia.length)&&(V=ia.length);for(var H=0,U=Array(V);H<
V;H++)U[H]=ia[H];return U}function sb(ia){if(void 0!==Object.fromEntries)return Object.fromEntries(ia);var V,H={};ia=qb(ia);try{for(ia.s();!(V=ia.n()).done;){var U=f(V.value,2),R=U[1];H[U[0].toLowerCase()]=R}}catch(ha){ia.e(ha)}finally{ia.f()}return H}function Ha(ia){return sb(ia.split("\r\n").map(function(V){V=V.split(":").map(function(H){return H.trim()});return V[0]=V[0].toLowerCase(),V}))}function ta(ia){ia=ia.split(";").map(function(V){return V.trim()});ia=C(ia)||L(ia)||p(ia)||m();return{type:ia[0],
params:sb(ia.slice(1).map(function(V){return V.split("\x3d")}))}}function Pa(ia){if(ia){ia=f(ia.match(/bytes (\d+)-(\d+)\/(\d+)/),4);var V=ia[1];var H=ia[2];var U=ia[3];V=parseInt(V,10);H=parseInt(H,10);U=parseInt(U,10)}return{start:V,end:H,total:U}}function fb(ia,V){var H=null,U=new TextDecoder("ascii"),R=[];V="--".concat(V);for(var ha="".concat(V,"--"),da=0;10>da;++da)U.decode(new Uint8Array(ia,da,V.length))===V&&(H=da);if(null===H)throw Error("Could not find initial boundary");for(;H<ia.byteLength;){da=
U.decode(new Uint8Array(ia,H,Math.min(V.length+1024,ia.byteLength-H)));if(0===da.length||da.startsWith(ha))break;if(!da.startsWith(V))throw Error("Part does not start with boundary");da=da.substr(V.length+2);if(0===da.length)break;var ja=da.indexOf("\r\n\r\n");da=Ha(da.substr(0,ja));var qa=Pa(da["content-range"]),pa=qa.start,oa=qa.total;H=H+V.length+ja+4;ja=parseInt(qa.end,10)+1-parseInt(pa,10);R.push({headers:da,data:ia.slice(H,H+ja),offset:pa,length:ja,fileSize:oa});H=H+ja+4}return R}function ka(ia,
V){var H="undefined"!=typeof Symbol&&ia[Symbol.iterator]||ia["@@iterator"];if(!H){if(Array.isArray(ia)||(H=function(ja,qa){if(ja){if("string"==typeof ja)return Ea(ja,qa);var pa=Object.prototype.toString.call(ja).slice(8,-1);"Object"===pa&&ja.constructor&&(pa=ja.constructor.name);if("Map"===pa||"Set"===pa)return Array.from(ja);if("Arguments"===pa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pa))return Ea(ja,qa)}}(ia))||V&&ia&&"number"==typeof ia.length){H&&(ia=H);var U=0;V=function(){};return{s:V,
n:function(){return U>=ia.length?{done:!0}:{done:!1,value:ia[U++]}},e:function(ja){throw ja;},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var R,ha=!0,da=!1;return{s:function(){H=H.call(ia)},n:function(){var ja=H.next();return ha=ja.done,ja},e:function(ja){da=!0;R=ja},f:function(){try{ha||null==H.return||H.return()}finally{if(da)throw R;}}}}function Ea(ia,V){(null==V||V>ia.length)&&
(V=ia.length);for(var H=0,U=Array(V);H<V;H++)U[H]=ia[H];return U}function Va(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function ib(ia){var V=function(){if("undefined"==
typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function wa(ia,V){for(var H in V)V.hasOwnProperty(H)&&(ia[H]=V[H])}function Ra(ia,V){return!(ia.length<V.length)&&ia.substr(ia.length-V.length)===
V}function $a(ia){var V={},H;for(H in ia)ia.hasOwnProperty(H)&&(V[ia[H]]=H);return V}function jb(ia,V){for(var H=[],U=0;U<ia;U++)H.push(V(U));return H}function rb(ia){return xb.apply(this,arguments)}function xb(){return(xb=e(kb.mark(function H(V){return kb.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",new Promise(function(R){return setTimeout(R,V)}));case 1:case "end":return U.stop()}},H)}))).apply(this,arguments)}function dc(ia,V){ia=Array.isArray(ia)?ia:Array.from(ia);
var H=Array.isArray(V)?V:Array.from(V);return ia.map(function(U,R){return[U,H[R]]})}function qc(ia,V){var H="undefined"!=typeof Symbol&&ia[Symbol.iterator]||ia["@@iterator"];if(!H){if(Array.isArray(ia)||(H=function(ja,qa){if(ja){if("string"==typeof ja)return xc(ja,qa);var pa=Object.prototype.toString.call(ja).slice(8,-1);"Object"===pa&&ja.constructor&&(pa=ja.constructor.name);if("Map"===pa||"Set"===pa)return Array.from(ja);if("Arguments"===pa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pa))return xc(ja,
qa)}}(ia))||V&&ia&&"number"==typeof ia.length){H&&(ia=H);var U=0;V=function(){};return{s:V,n:function(){return U>=ia.length?{done:!0}:{done:!1,value:ia[U++]}},e:function(ja){throw ja;},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var R,ha=!0,da=!1;return{s:function(){H=H.call(ia)},n:function(){var ja=H.next();return ha=ja.done,ja},e:function(ja){da=!0;R=ja},f:function(){try{ha||null==
H.return||H.return()}finally{if(da)throw R;}}}}function xc(ia,V){(null==V||V>ia.length)&&(V=ia.length);for(var H=0,U=Array(V);H<V;H++)U[H]=ia[H];return U}function jc(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,
arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function ec(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function fc(ia){var V=function(){if("undefined"==
typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function Hc(ia,V){var H=Object.keys(ia);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(ia);V&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(ia,
R).enumerable}));H.push.apply(H,U)}return H}function Ob(ia){for(var V=1;V<arguments.length;V++){var H=null!=arguments[V]?arguments[V]:{};V%2?Hc(Object(H),!0).forEach(function(U){E(ia,U,H[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ia,Object.getOwnPropertyDescriptors(H)):Hc(Object(H)).forEach(function(U){Object.defineProperty(ia,U,Object.getOwnPropertyDescriptor(H,U))})}return ia}function Xb(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function Tb(ia,V){var H=Object.keys(ia);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(ia);V&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(ia,R).enumerable}));H.push.apply(H,
U)}return H}function ne(ia){for(var V=1;V<arguments.length;V++){var H=null!=arguments[V]?arguments[V]:{};V%2?Tb(Object(H),!0).forEach(function(U){E(ia,U,H[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ia,Object.getOwnPropertyDescriptors(H)):Tb(Object(H)).forEach(function(U){Object.defineProperty(ia,U,Object.getOwnPropertyDescriptor(H,U))})}return ia}function oe(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==
typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function zf(ia,V){var H=V.blockSize;V=V.cacheSize;return null===H?ia:new gh(ia,{blockSize:H,cacheSize:V})}function Ig(ia){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=V.headers;H=void 0===H?{}:H;var U=
V.credentials,R=V.maxRanges;R=void 0===R?0:R;var ha=V.allowFullFile;ha=void 0!==ha&&ha;V=gb(V,md);U=new Vf(ia,U);H=new bd(U,H,R,ha);return zf(H,V)}function Se(ia){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=V.headers;H=void 0===H?{}:H;var U=V.maxRanges;U=void 0===U?0:U;var R=V.allowFullFile;R=void 0!==R&&R;V=gb(V,Zf);var ha=new ce(ia);H=new bd(ha,H,U,R);return zf(H,V)}function Jg(ia){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=V.headers;H=void 0===H?{}:
H;var U=V.maxRanges;U=void 0===U?0:U;var R=V.allowFullFile;R=void 0!==R&&R;V=gb(V,jh);var ha=new ih(ia);H=new bd(ha,H,U,R);return zf(H,V)}function Bf(ia){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=V.forceXHR;H=void 0!==H&&H;V=gb(V,nd);return"function"!=typeof fetch||H?"undefined"!=typeof XMLHttpRequest?Se(ia,V):Jg(ia,V):Ig(ia,V)}function pe(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function qe(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();
return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function ni(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,
U)}else H=H.apply(this,arguments);return x(this,H)}}function oi(ia){return new Promise(function(V,H){lc.close(ia,function(U){U?H(U):V()})})}function Cf(){for(var ia=arguments.length,V=Array(ia),H=0;H<ia;H++)V[H]=arguments[H];return new Promise(function(U,R){lc.read.apply(lc,V.concat([function(ha,da,ja){ha?R(ha):U({bytesRead:da,buffer:ja})}]))})}function Af(ia,V){var H="undefined"!=typeof Symbol&&ia[Symbol.iterator]||ia["@@iterator"];if(!H){if(Array.isArray(ia)||(H=function(ja,qa){if(ja){if("string"==
typeof ja)return Df(ja,qa);var pa=Object.prototype.toString.call(ja).slice(8,-1);"Object"===pa&&ja.constructor&&(pa=ja.constructor.name);if("Map"===pa||"Set"===pa)return Array.from(ja);if("Arguments"===pa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pa))return Df(ja,qa)}}(ia))||V&&ia&&"number"==typeof ia.length){H&&(ia=H);var U=0;V=function(){};return{s:V,n:function(){return U>=ia.length?{done:!0}:{done:!1,value:ia[U++]}},e:function(ja){throw ja;},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var R,ha=!0,da=!1;return{s:function(){H=H.call(ia)},n:function(){var ja=H.next();return ha=ja.done,ja},e:function(ja){da=!0;R=ja},f:function(){try{ha||null==H.return||H.return()}finally{if(da)throw R;}}}}function Df(ia,V){(null==V||V>ia.length)&&(V=ia.length);for(var H=0,U=Array(V);H<V;H++)U[H]=ia[H];return U}function Og(ia,V){var H,U,R,ha;"number"==typeof ia[0]?(H=V.height||V.ImageLength,R=V.width||V.ImageWidth,U=ia.length/(H*R),ha=ia):(U=ia.length,H=ia[0].length,R=ia[0][0].length,ha=[],jb(H,function(oa){jb(R,
function(xa){jb(U,function(Ba){ha.push(ia[Ba][oa][xa])})})}));V.ImageLength=H;delete V.height;V.ImageWidth=R;delete V.width;V.BitsPerSample||(V.BitsPerSample=jb(U,function(){return 8}));Ce.forEach(function(oa){var xa=oa[0];V[xa]||(V[xa]=oa[1])});V.PhotometricInterpretation||(V.PhotometricInterpretation=3===V.BitsPerSample.length?2:1);V.SamplesPerPixel||(V.SamplesPerPixel=[U]);V.StripByteCounts||(V.StripByteCounts=[U*H*R]);V.ModelPixelScale||(V.ModelPixelScale=[360/R,180/H,0]);V.SampleFormat||(V.SampleFormat=
jb(U,function(){return 1}));V.hasOwnProperty("GeographicTypeGeoKey")||V.hasOwnProperty("ProjectedCSTypeGeoKey")||(V.GeographicTypeGeoKey=4326,V.ModelTiepoint=[0,0,0,-180,90,0],V.GeogCitationGeoKey="WGS 84",V.GTModelTypeGeoKey=2);var da=Object.keys(V).filter(function(oa){return Ra(oa,"GeoKey")}).sort(function(oa,xa){return Vc[oa]-Vc[xa]});if(!V.GeoAsciiParams){var ja="";da.forEach(function(oa){"ASCII"===rd[Number(Vc[oa])]&&(ja+="".concat(V[oa].toString(),"\x00"))});0<ja.length&&(V.GeoAsciiParams=ja)}if(!V.GeoKeyDirectory){var qa=
[1,1,0,da.length];da.forEach(function(oa){var xa,Ba,Na,ua=Number(Vc[oa]);qa.push(ua);"SHORT"===rd[ua]?(xa=1,Ba=0,Na=V[oa]):"GeogCitationGeoKey"===oa?(xa=V.GeoAsciiParams.length,Ba=Number(Vc.GeoAsciiParams),Na=0):console.log("[geotiff.js] couldn't get TIFFTagLocation for ".concat(oa));qa.push(Ba);qa.push(xa);qa.push(Na)});V.GeoKeyDirectory=qa}for(var pa in da)da.hasOwnProperty(pa)&&delete V[pa];"Compression ExtraSamples GeographicTypeGeoKey GTModelTypeGeoKey GTRasterTypeGeoKey ImageLength ImageWidth Orientation PhotometricInterpretation ProjectedCSTypeGeoKey PlanarConfiguration ResolutionUnit SamplesPerPixel XPosition YPosition".split(" ").forEach(function(oa){var xa;
V[oa]&&(V[oa]=(xa=V[oa],Array.isArray(xa)?xa:[xa]))});da=function(oa){var xa={},Ba;for(Ba in oa)"StripOffsets"!==Ba&&(Vc[Ba]||console.error(Ba,"not in name2code:",Object.keys(Vc)),xa[Vc[Ba]]=oa[Ba]);return xa}(V);return function(oa,xa,Ba,Na){if(null==Ba)throw Error("you passed into encodeImage a width of type ".concat(Ba));if(null==xa)throw Error("you passed into encodeImage a width of type ".concat(xa));var ua={256:[xa],257:[Ba],273:[1E3],278:[Ba],305:"geotiff.js"};if(Na)for(var La in Na)Na.hasOwnProperty(La)&&
(ua[La]=Na[La]);var Fa=new Uint8Array(ag([ua]));oa=new Uint8Array(oa);var sa=new Uint8Array(1E3+xa*Ba*ua[277]);return jb(Fa.length,function(ba){sa[ba]=Fa[ba]}),function(ba,aa){for(var ma=ba.length,fa=0;fa<ma;fa++)aa(ba[fa],fa)}(oa,function(ba,aa){sa[1E3+aa]=ba}),sa.buffer}(ha,R,H,da)}function re(ia,V){var H=Object.keys(ia);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(ia);V&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(ia,R).enumerable}));H.push.apply(H,U)}return H}
function se(ia){for(var V=1;V<arguments.length;V++){var H=null!=arguments[V]?arguments[V]:{};V%2?re(Object(H),!0).forEach(function(U){E(ia,U,H[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ia,Object.getOwnPropertyDescriptors(H)):re(Object(H)).forEach(function(U){Object.defineProperty(ia,U,Object.getOwnPropertyDescriptor(H,U))})}return ia}function Ue(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function yc(ia){switch(ia){case Eb.BYTE:case Eb.ASCII:case Eb.SBYTE:case Eb.UNDEFINED:return 1;case Eb.SHORT:case Eb.SSHORT:return 2;case Eb.LONG:case Eb.SLONG:case Eb.FLOAT:case Eb.IFD:return 4;case Eb.RATIONAL:case Eb.SRATIONAL:case Eb.DOUBLE:case Eb.LONG8:case Eb.SLONG8:case Eb.IFD8:return 8;
default:throw new RangeError("Invalid field type: ".concat(ia));}}function Vd(ia,V,H,U){var R=yc(V);switch(V){case Eb.BYTE:case Eb.ASCII:case Eb.UNDEFINED:var ha=new Uint8Array(H);var da=ia.readUint8;break;case Eb.SBYTE:ha=new Int8Array(H);da=ia.readInt8;break;case Eb.SHORT:ha=new Uint16Array(H);da=ia.readUint16;break;case Eb.SSHORT:ha=new Int16Array(H);da=ia.readInt16;break;case Eb.LONG:case Eb.IFD:ha=new Uint32Array(H);da=ia.readUint32;break;case Eb.SLONG:ha=new Int32Array(H);da=ia.readInt32;break;
case Eb.LONG8:case Eb.IFD8:ha=Array(H);da=ia.readUint64;break;case Eb.SLONG8:ha=Array(H);da=ia.readInt64;break;case Eb.RATIONAL:ha=new Uint32Array(2*H);da=ia.readUint32;break;case Eb.SRATIONAL:ha=new Int32Array(2*H);da=ia.readInt32;break;case Eb.FLOAT:ha=new Float32Array(H);da=ia.readFloat32;break;case Eb.DOUBLE:ha=new Float64Array(H);da=ia.readFloat64;break;default:throw new RangeError("Invalid field type: ".concat(V));}if(V!==Eb.RATIONAL&&V!==Eb.SRATIONAL)for(var ja=0;ja<H;++ja)ha[ja]=da.call(ia,
U+ja*R);else for(ja=0;ja<H;ja+=2)ha[ja]=da.call(ia,U+ja*R),ha[ja+1]=da.call(ia,U+(ja*R+4));return V===Eb.ASCII?(new TextDecoder("utf-8")).decode(ha):ha}function te(){return te=e(kb.mark(function H(V){var U,R,ha=arguments;return kb.wrap(function(da){for(;;)switch(da.prev=da.next){case 0:return U=1<ha.length&&void 0!==ha[1]?ha[1]:{},R=2<ha.length?ha[2]:void 0,da.abrupt("return",Jc.fromSource(Bf(V,U),R));case 3:case "end":return da.stop()}},H)})),te.apply(this,arguments)}function Ef(){return(Ef=e(kb.mark(function U(V,
H){return kb.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",Jc.fromSource(new ff(V),H));case 1:case "end":return R.stop()}},U)}))).apply(this,arguments)}function Ff(){return(Ff=e(kb.mark(function U(V,H){return kb.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",Jc.fromSource(new gf(V),H));case 1:case "end":return R.stop()}},U)}))).apply(this,arguments)}function Qg(){return(Qg=e(kb.mark(function U(V,H){return kb.wrap(function(R){for(;;)switch(R.prev=
R.next){case 0:return R.abrupt("return",Jc.fromSource(new kh(V),H));case 1:case "end":return R.stop()}},U)}))).apply(this,arguments)}function Gf(){return Gf=e(kb.mark(function H(V){var U,R,ha,da,ja,qa=arguments;return kb.wrap(function(pa){for(;;)switch(pa.prev=pa.next){case 0:return U=1<qa.length&&void 0!==qa[1]?qa[1]:[],R=2<qa.length&&void 0!==qa[2]?qa[2]:{},ha=3<qa.length?qa[3]:void 0,pa.next=5,Jc.fromSource(Bf(V,R),ha);case 5:return da=pa.sent,pa.next=8,Promise.all(U.map(function(oa){return Jc.fromSource(Bf(oa,
R))}));case 8:return ja=pa.sent,pa.abrupt("return",new eg(da,ja));case 10:case "end":return pa.stop()}},H)})),Gf.apply(this,arguments)}function Rg(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=
H.apply(this,arguments);return x(this,H)}}function Sg(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function Hf(ia,V){for(var H=V.length-1;0<=H;H--)ia.push(V[H]);
return ia}function We(ia){function V(Na){var ua=pa,La=qa,Fa=ua%8,sa=Math.floor(ua/8),ba=8-Fa,aa=ua+La-8*(sa+1),ma=8*(sa+2)-(ua+La),fa=8*(sa+2)-ua;(ma=Math.max(0,ma),sa>=Na.length)?Na=(console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257):(Fa=(Na[sa]&Math.pow(2,8-Fa)-1)<<La-ba,sa+1<Na.length&&(Fa+=Na[sa+1]>>>ma<<Math.max(0,La-fa)),8<aa&&sa+2<Na.length&&(Fa+=Na[sa+2]>>>8*(sa+3)-(ua+La)),Na=Fa);return pa+=qa,Na}function H(Na,ua){return ha[ja]=ua,R[ja]=Na,++ja-
1}function U(Na){for(var ua=[];4096!==Na;Na=R[Na])ua.push(ha[Na]);return ua}for(var R=new Uint16Array(4093),ha=new Uint8Array(4093),da=0;257>=da;da++)R[da]=4096,ha[da]=da;var ja=258,qa=9,pa=0;da=[];ja=258;qa=9;ia=new Uint8Array(ia);for(var oa=V(ia);257!==oa;){if(256===oa){ja=258;qa=9;for(oa=V(ia);256===oa;)oa=V(ia);if(257===oa)break;if(256<oa)throw Error("corrupted code at scanline ".concat(oa));Hf(da,U(oa))}else if(oa<ja){var xa=U(oa);Hf(da,xa);H(Ba,xa[xa.length-1])}else{xa=U(Ba);if(!xa)throw Error("Bogus entry. Not in dictionary, ".concat(Ba,
" / ").concat(ja,", position: ").concat(pa));Hf(da,xa);da.push(xa[xa.length-1]);H(Ba,xa[xa.length-1])}var Ba=oa;ja+1>=Math.pow(2,qa)&&(12===qa?Ba=void 0:qa++);oa=V(ia)}return new Uint8Array(da)}function ti(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=
D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function If(ia,V){for(var H=0,U=[],R=16;0<R&&!ia[R-1];)--R;U.push({children:[],index:0});for(var ha,da=U[0],ja=0;ja<R;ja++){for(var qa=0;qa<ia[ja];qa++){for((da=U.pop()).children[da.index]=V[H];0<da.index;)da=U.pop();da.index++;for(U.push(da);U.length<=ja;)U.push(ha={children:[],index:0}),da.children[da.index]=ha.children,da=ha;H++}ja+1<R&&(U.push(ha={children:[],index:0}),da.children[da.index]=
ha.children,da=ha)}return U[0].children}function Tg(ia,V,H,U,R,ha,da,ja,qa){function pa(){if(0<Fa)return Fa--,La>>Fa&1;if(255===(La=ia[ua++])){var Ua=ia[ua++];if(Ua)throw Error("unexpected marker: ".concat((La<<8|Ua).toString(16)));}return Fa=7,La>>>7}function oa(Ua){for(var Ia=Ua;null!==(Ua=pa());){if("number"==typeof(Ia=Ia[Ua]))return Ia;if("object"!==n(Ia))throw Error("invalid huffman sequence");}return null}function xa(Ua){for(var Ia=0;0<Ua;){var za=pa();if(null===za)return;Ia=Ia<<1|za;--Ua}return Ia}
function Ba(Ua){var Ia=xa(Ua);return Ia>=1<<Ua-1?Ia:Ia+(-1<<Ua)+1}var Na=H.mcusPerLine,ua=V,La=0,Fa=0,sa=0,ba,aa=0,ma,fa,Ga,Aa=U.length;ja=H.progressive?0===ha?0===ja?function(Ua,Ia){var za=oa(Ua.huffmanTableDC);za=0===za?0:Ba(za)<<qa;Ua.pred+=za;Ia[0]=Ua.pred}:function(Ua,Ia){Ia[0]|=pa()<<qa}:0===ja?function(Ua,Ia){if(0<sa)sa--;else for(var za=ha;za<=da;){var Ka=oa(Ua.huffmanTableAC),Wa=15&Ka;Ka>>=4;if(0===Wa){if(15>Ka){sa=xa(Ka)+(1<<Ka)-1;break}za+=16}else Ia[Kd[za+=Ka]]=Ba(Wa)*(1<<qa),za++}}:function(Ua,
Ia){for(var za=ha,Ka=0;za<=da;){var Wa=Kd[za],hb=0>Ia[Wa]?-1:1;switch(aa){case 0:Ka=oa(Ua.huffmanTableAC);Wa=15&Ka;if(Ka>>=4,0===Wa)15>Ka?(sa=xa(Ka)+(1<<Ka),aa=4):(Ka=16,aa=1);else{if(1!==Wa)throw Error("invalid ACn encoding");ba=Ba(Wa);aa=Ka?2:3}continue;case 1:case 2:Ia[Wa]?Ia[Wa]+=(pa()<<qa)*hb:0==--Ka&&(aa=2===aa?3:0);break;case 3:Ia[Wa]?Ia[Wa]+=(pa()<<qa)*hb:(Ia[Wa]=ba<<qa,aa=0);break;case 4:Ia[Wa]&&(Ia[Wa]+=(pa()<<qa)*hb)}za++}4===aa&&0==--sa&&(aa=0)}:function(Ua,Ia){var za=oa(Ua.huffmanTableDC);
za=0===za?0:Ba(za);Ua.pred+=za;Ia[0]=Ua.pred;for(za=1;64>za;){var Ka=oa(Ua.huffmanTableAC),Wa=15&Ka;Ka>>=4;if(0===Wa){if(15>Ka)break;za+=16}else Ia[Kd[za+=Ka]]=Ba(Wa),za++}};var ya=0;H=1===Aa?U[0].blocksPerLine*U[0].blocksPerColumn:Na*H.mcusPerColumn;for(R=R||H;ya<H;){for(ma=0;ma<Aa;ma++)U[ma].pred=0;if(sa=0,1===Aa){var ra=U[0];for(Ga=0;Ga<R;Ga++)ja(ra,ra.blocks[ya/ra.blocksPerLine|0][ya%ra.blocksPerLine]),ya++}else for(Ga=0;Ga<R;Ga++){for(ma=0;ma<Aa;ma++){var Ca=ra=U[ma];var Ma=Ca.h,Oa=Ca.v;for(Ca=
0;Ca<Oa;Ca++)for(fa=0;fa<Ma;fa++)ja(ra,ra.blocks[(ya/Na|0)*ra.v+Ca][ya%Na*ra.h+fa])}if(++ya===H)break}if(Fa=0,65280>(ra=ia[ua]<<8|ia[ua+1]))throw Error("marker was not found");if(!(65488<=ra&&65495>=ra))break;ua+=2}return ua-V}function Wd(ia){for(var V=ia.length;0<=--V;)ia[V]=0}function ui(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=
this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function Xe(ia){var V=this.options=uh({chunkSize:65536,windowBits:15,to:""},ia||{});V.raw&&0<=V.windowBits&&16>V.windowBits&&(V.windowBits=-V.windowBits,0===V.windowBits&&(V.windowBits=-15));!(0<=V.windowBits&&16>V.windowBits)||ia&&ia.windowBits||
(V.windowBits+=32);15<V.windowBits&&48>V.windowBits&&0==(15&V.windowBits)&&(V.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new vh;this.strm.avail_out=0;ia=ed.inflateInit2(this.strm,V.windowBits);if(0!==ia)throw Error(He[ia]);this.header=new zh;ed.inflateGetHeader(this.strm,this.header);var H;if(H=V.dictionary){if("string"==typeof V.dictionary){H=V.dictionary;if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)var U=(new TextEncoder).encode(H);else{var R,
ha,da,ja=H.length,qa=0;for(ha=0;ha<ja;ha++)55296==(64512&(U=H.charCodeAt(ha)))&&ha+1<ja&&56320==(64512&(R=H.charCodeAt(ha+1)))&&(U=65536+(U-55296<<10)+(R-56320),ha++),qa+=128>U?1:2048>U?2:65536>U?3:4;var pa=new Uint8Array(qa);for(ha=da=0;da<qa;ha++)55296==(64512&(U=H.charCodeAt(ha)))&&ha+1<ja&&56320==(64512&(R=H.charCodeAt(ha+1)))&&(U=65536+(U-55296<<10)+(R-56320),ha++),128>U?pa[da++]=U:2048>U?(pa[da++]=192|U>>>6,pa[da++]=128|63&U):65536>U?(pa[da++]=224|U>>>12,pa[da++]=128|U>>>6&63,pa[da++]=128|63&
U):(pa[da++]=240|U>>>18,pa[da++]=128|U>>>12&63,pa[da++]=128|U>>>6&63,pa[da++]=128|63&U);U=pa}V.dictionary=U}else"[object ArrayBuffer]"===qg.call(V.dictionary)&&(V.dictionary=new Uint8Array(V.dictionary));H=V.raw&&0!==(ia=ed.inflateSetDictionary(this.strm,V.dictionary))}if(H)throw Error(He[ia]);}function vi(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,
[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function wi(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;
H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function ue(ia){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}function Ug(ia){var V=
function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H=D(ia);if(V){var U=D(this).constructor;H=Reflect.construct(H,arguments,U)}else H=H.apply(this,arguments);return x(this,H)}}var Lf={exports:{}};!function(ia){ia=function(V){function H(Ia,za,Ka){return Object.defineProperty(Ia,za,{value:Ka,
enumerable:!0,configurable:!0,writable:!0}),Ia[za]}function U(Ia,za,Ka,Wa){za=Object.create((za&&za.prototype instanceof ha?za:ha).prototype);Wa=new Na(Wa||[]);return za._invoke=function(hb,ob,Sa){var Xa=Aa;return function(bb,ub){if(Xa===ra)throw Error("Generator is already running");if(Xa===Ca){if("throw"===bb)throw ub;return La()}Sa.method=bb;for(Sa.arg=ub;;){if(bb=Sa.delegate)if(bb=oa(bb,Sa)){if(bb===Ma)continue;return bb}if("next"===Sa.method)Sa.sent=Sa._sent=Sa.arg;else if("throw"===Sa.method){if(Xa===
Aa)throw Xa=Ca,Sa.arg;Sa.dispatchException(Sa.arg)}else"return"===Sa.method&&Sa.abrupt("return",Sa.arg);Xa=ra;bb=R(hb,ob,Sa);if("normal"===bb.type){if(Xa=Sa.done?Ca:ya,bb.arg===Ma)continue;return{value:bb.arg,done:Sa.done}}"throw"===bb.type&&(Xa=Ca,Sa.method="throw",Sa.arg=bb.arg)}}}(Ia,Ka,Wa),za}function R(Ia,za,Ka){try{return{type:"normal",arg:Ia.call(za,Ka)}}catch(Wa){return{type:"throw",arg:Wa}}}function ha(){}function da(){}function ja(){}function qa(Ia){["next","throw","return"].forEach(function(za){H(Ia,
za,function(Ka){return this._invoke(za,Ka)})})}function pa(Ia,za){function Ka(hb,ob,Sa,Xa){hb=R(Ia[hb],Ia,ob);if("throw"!==hb.type){var bb=hb.arg;return(hb=bb.value)&&"object"===n(hb)&&ba.call(hb,"__await")?za.resolve(hb.__await).then(function(ub){Ka("next",ub,Sa,Xa)},function(ub){Ka("throw",ub,Sa,Xa)}):za.resolve(hb).then(function(ub){bb.value=ub;Sa(bb)},function(ub){return Ka("throw",ub,Sa,Xa)})}Xa(hb.arg)}var Wa;this._invoke=function(hb,ob){function Sa(){return new za(function(Xa,bb){Ka(hb,ob,
Xa,bb)})}return Wa=Wa?Wa.then(Sa,Sa):Sa()}}function oa(Ia,za){var Ka=Ia.iterator[za.method];if(Ka===Fa){if(za.delegate=null,"throw"===za.method){if(Ia.iterator.return&&(za.method="return",za.arg=Fa,oa(Ia,za),"throw"===za.method))return Ma;za.method="throw";za.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ma}Ka=R(Ka,Ia.iterator,za.arg);return"throw"===Ka.type?(za.method="throw",za.arg=Ka.arg,za.delegate=null,Ma):(Ka=Ka.arg)?Ka.done?(za[Ia.resultName]=Ka.value,za.next=Ia.nextLoc,
"return"!==za.method&&(za.method="next",za.arg=Fa),za.delegate=null,Ma):Ka:(za.method="throw",za.arg=new TypeError("iterator result is not an object"),za.delegate=null,Ma)}function xa(Ia){var za={tryLoc:Ia[0]};1 in Ia&&(za.catchLoc=Ia[1]);2 in Ia&&(za.finallyLoc=Ia[2],za.afterLoc=Ia[3]);this.tryEntries.push(za)}function Ba(Ia){var za=Ia.completion||{};za.type="normal";delete za.arg;Ia.completion=za}function Na(Ia){this.tryEntries=[{tryLoc:"root"}];Ia.forEach(xa,this);this.reset(!0)}function ua(Ia){if(Ia){var za=
Ia[ma];if(za)return za.call(Ia);if("function"==typeof Ia.next)return Ia;if(!isNaN(Ia.length)){var Ka=-1;za=function hb(){for(;++Ka<Ia.length;)if(ba.call(Ia,Ka))return hb.value=Ia[Ka],hb.done=!1,hb;return hb.value=Fa,hb.done=!0,hb};return za.next=za}}return{next:La}}function La(){return{value:Fa,done:!0}}var Fa,sa=Object.prototype,ba=sa.hasOwnProperty,aa="function"==typeof Symbol?Symbol:{},ma=aa.iterator||"@@iterator",fa=aa.asyncIterator||"@@asyncIterator",Ga=aa.toStringTag||"@@toStringTag";try{H({},
"")}catch(Ia){H=function(za,Ka,Wa){return za[Ka]=Wa}}V.wrap=U;var Aa="suspendedStart",ya="suspendedYield",ra="executing",Ca="completed",Ma={};aa={};H(aa,ma,function(){return this});var Oa=Object.getPrototypeOf;(Oa=Oa&&Oa(Oa(ua([]))))&&Oa!==sa&&ba.call(Oa,ma)&&(aa=Oa);var Ua=ja.prototype=ha.prototype=Object.create(aa);return da.prototype=ja,H(Ua,"constructor",ja),H(ja,"constructor",da),da.displayName=H(ja,Ga,"GeneratorFunction"),V.isGeneratorFunction=function(Ia){Ia="function"==typeof Ia&&Ia.constructor;
return!!Ia&&(Ia===da||"GeneratorFunction"===(Ia.displayName||Ia.name))},V.mark=function(Ia){return Object.setPrototypeOf?Object.setPrototypeOf(Ia,ja):(Ia.__proto__=ja,H(Ia,Ga,"GeneratorFunction")),Ia.prototype=Object.create(Ua),Ia},V.awrap=function(Ia){return{__await:Ia}},qa(pa.prototype),H(pa.prototype,fa,function(){return this}),V.AsyncIterator=pa,V.async=function(Ia,za,Ka,Wa,hb){void 0===hb&&(hb=Promise);var ob=new pa(U(Ia,za,Ka,Wa),hb);return V.isGeneratorFunction(za)?ob:ob.next().then(function(Sa){return Sa.done?
Sa.value:ob.next()})},qa(Ua),H(Ua,Ga,"Generator"),H(Ua,ma,function(){return this}),H(Ua,"toString",function(){return"[object Generator]"}),V.keys=function(Ia){var za=[],Ka;for(Ka in Ia)za.push(Ka);return za.reverse(),function hb(){for(;za.length;){var ob=za.pop();if(ob in Ia)return hb.value=ob,hb.done=!1,hb}return hb.done=!0,hb}},V.values=ua,Na.prototype={constructor:Na,reset:function(Ia){if(this.prev=0,this.next=0,this.sent=this._sent=Fa,this.done=!1,this.delegate=null,this.method="next",this.arg=
Fa,this.tryEntries.forEach(Ba),!Ia)for(var za in this)"t"===za.charAt(0)&&ba.call(this,za)&&!isNaN(+za.slice(1))&&(this[za]=Fa)},stop:function(){this.done=!0;var Ia=this.tryEntries[0].completion;if("throw"===Ia.type)throw Ia.arg;return this.rval},dispatchException:function(Ia){function za(bb,ub){return ob.type="throw",ob.arg=Ia,Ka.next=bb,ub&&(Ka.method="next",Ka.arg=Fa),!!ub}if(this.done)throw Ia;for(var Ka=this,Wa=this.tryEntries.length-1;0<=Wa;--Wa){var hb=this.tryEntries[Wa],ob=hb.completion;
if("root"===hb.tryLoc)return za("end");if(hb.tryLoc<=this.prev){var Sa=ba.call(hb,"catchLoc"),Xa=ba.call(hb,"finallyLoc");if(Sa&&Xa){if(this.prev<hb.catchLoc)return za(hb.catchLoc,!0);if(this.prev<hb.finallyLoc)return za(hb.finallyLoc)}else if(Sa){if(this.prev<hb.catchLoc)return za(hb.catchLoc,!0)}else{if(!Xa)throw Error("try statement without catch or finally");if(this.prev<hb.finallyLoc)return za(hb.finallyLoc)}}}},abrupt:function(Ia,za){for(var Ka=this.tryEntries.length-1;0<=Ka;--Ka){var Wa=this.tryEntries[Ka];
if(Wa.tryLoc<=this.prev&&ba.call(Wa,"finallyLoc")&&this.prev<Wa.finallyLoc){var hb=Wa;break}}hb&&("break"===Ia||"continue"===Ia)&&hb.tryLoc<=za&&za<=hb.finallyLoc&&(hb=null);Ka=hb?hb.completion:{};return Ka.type=Ia,Ka.arg=za,hb?(this.method="next",this.next=hb.finallyLoc,Ma):this.complete(Ka)},complete:function(Ia,za){if("throw"===Ia.type)throw Ia.arg;return"break"===Ia.type||"continue"===Ia.type?this.next=Ia.arg:"return"===Ia.type?(this.rval=this.arg=Ia.arg,this.method="return",this.next="end"):
"normal"===Ia.type&&za&&(this.next=za),Ma},finish:function(Ia){for(var za=this.tryEntries.length-1;0<=za;--za){var Ka=this.tryEntries[za];if(Ka.finallyLoc===Ia)return this.complete(Ka.completion,Ka.afterLoc),Ba(Ka),Ma}},catch:function(Ia){for(var za=this.tryEntries.length-1;0<=za;--za){var Ka=this.tryEntries[za];if(Ka.tryLoc===Ia){Ia=Ka.completion;if("throw"===Ia.type){var Wa=Ia.arg;Ba(Ka)}return Wa}}throw Error("illegal catch attempt");},delegateYield:function(Ia,za,Ka){return this.delegate={iterator:ua(Ia),
resultName:za,nextLoc:Ka},"next"===this.method&&(this.arg=Fa),Ma}},V}(ia.exports);try{regeneratorRuntime=ia}catch(V){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=ia:Function("r","regeneratorRuntime \x3d r")(ia)}}(Lf);for(var kb=Lf.exports,Mf=new ArrayBuffer(4),Nf=new Float32Array(Mf),xi=new Uint32Array(Mf),Rc=new Uint32Array(512),Ic=new Uint32Array(512),Ub=0;256>Ub;++Ub){var kc=Ub-127;-27>kc?(Rc[Ub]=0,Rc[256|Ub]=32768,Ic[Ub]=24,Ic[256|Ub]=24):
-14>kc?(Rc[Ub]=1024>>-kc-14,Rc[256|Ub]=1024>>-kc-14|32768,Ic[Ub]=-kc-1,Ic[256|Ub]=-kc-1):15>=kc?(Rc[Ub]=kc+15<<10,Rc[256|Ub]=kc+15<<10|32768,Ic[Ub]=13,Ic[256|Ub]=13):128>kc?(Rc[Ub]=31744,Rc[256|Ub]=64512,Ic[Ub]=24,Ic[256|Ub]=24):(Rc[Ub]=31744,Rc[256|Ub]=64512,Ic[Ub]=13,Ic[256|Ub]=13)}var ve=new Uint32Array(2048),ud=new Uint32Array(64),Sb=new Uint32Array(64);ve[0]=0;for(var Xd=1;1024>Xd;++Xd){for(var vd=Xd<<13,$e=0;0==(8388608&vd);)$e-=8388608,vd<<=1;vd&=-8388609;$e+=947912704;ve[Xd]=vd|$e}for(var Td=
1024;2048>Td;++Td)ve[Td]=939524096+(Td-1024<<13);ud[0]=0;for(var wd=1;31>wd;++wd)ud[wd]=wd<<23;ud[31]=1199570944;ud[32]=2147483648;for(var zd=33;63>zd;++zd)ud[zd]=2147483648+(zd-32<<23);ud[63]=3347054592;Sb[0]=0;for(var jd=1;64>jd;++jd)Sb[jd]=32===jd?0:1024;var Wg=Reflect.getPrototypeOf(Uint8Array).prototype,Xg=Reflect.getOwnPropertyDescriptor(Wg,Symbol.toStringTag).get,af=Object.prototype.toString,Yd=function(ia,V,H){(H=H&&H.debug||!1)&&console.log("getting "+V+" in "+ia);ia="object"===n(ia)?ia.outer:
ia;V="".concat(V,'\\\x3d"([^"]*)"');H&&console.log("pattern:",V);V=(new RegExp(V)).exec(ia);if(H&&console.log("match:",V),V)return V[1]},we=function(ia,V,H){return(ia=(new RegExp(V)).exec(ia.slice(H)))?H+ia.index:-1},Ei=function(ia,V,H){var U=H&&H.debug||!1,R=H&&H.startIndex||0;U&&console.log("starting findTagByName with",V," and ",H);H=we(ia,"\x3c".concat(V,"[ \x3e]"),R);if(U&&console.log("start:",H),-1!==H){var ha=ia.slice(H+V.length),da=we(ha,"[ /]"+V+"\x3e",0);(R=-1===da)&&(da=we(ha,"[ /]\x3e",
0));V=H+V.length+da+1+(R?0:V.length)+1;if(U&&console.log("end:",V),-1!==V)return ia=ia.slice(H,V),{inner:R?null:ia.slice(ia.indexOf("\x3e")+1,ia.lastIndexOf("\x3c")),outer:ia,start:H,end:V}}},Pf=function(ia,V,H){for(var U=[],R=H&&H.debug||!1,ha=H&&H.startIndex||0;H=Ei(ia,V,{debug:R,startIndex:ha});)ha=H.end,U.push(H);return R&&console.log("findTagsByName found",U.length,"tags"),U},Dc={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",
306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",
263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",
323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",
37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Lc={},Xc;for(Xc in Dc)Dc.hasOwnProperty(Xc)&&(Lc[Dc[Xc]]=parseInt(Xc,10));var rd={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",
279:"LONG",282:"RATIONAL",283:"RATIONAL",284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"},Ad=[Lc.BitsPerSample,Lc.ExtraSamples,Lc.SampleFormat,Lc.StripByteCounts,Lc.StripOffsets,Lc.StripRowCounts,Lc.TileByteCounts,Lc.TileOffsets,Lc.SubIFDs],sd={1:"BYTE",
2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},Eb={},Pb;for(Pb in sd)sd.hasOwnProperty(Pb)&&(Eb[sd[Pb]]=parseInt(Pb,10));var Jb={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},Cd={Unspecified:0,Assocalpha:1,Unassalpha:2},zc={Version:0,AddCompression:1},$d={None:0,Deflate:1},Dd={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",
1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",
3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",
3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},Rf={},Ed;for(Ed in Dd)Dd.hasOwnProperty(Ed)&&(Rf[Dd[Ed]]=parseInt(Ed,10));var Yg=Object.freeze({__proto__:null,fieldTagNames:Dc,fieldTags:Lc,fieldTagTypes:rd,
arrayFields:Ad,fieldTypeNames:sd,fieldTypes:Eb,photometricInterpretations:Jb,ExtraSamplesValues:Cd,LercParameters:zc,LercAddCompression:$d,geoKeyNames:Dd,geoKeys:Rf}),Zg=Object.freeze({__proto__:null,fromWhiteIsZero:M,fromBlackIsZero:T,fromPalette:Q,fromCMYK:S,fromYCbCr:W,fromCIELab:ca}),$g=new Map;B([void 0,1],function(){return Promise.resolve().then(function(){return jf}).then(function(ia){return ia.default})});B(5,function(){return Promise.resolve().then(function(){return sc}).then(function(ia){return ia.default})});
B(6,function(){throw Error("old style JPEG compression is not supported.");});B(7,function(){return Promise.resolve().then(function(){return dd}).then(function(ia){return ia.default})});B([8,32946],function(){return Promise.resolve().then(function(){return Mi}).then(function(ia){return ia.default})});B(32773,function(){return Promise.resolve().then(function(){return Ch}).then(function(ia){return ia.default})});B(34887,function(){return Promise.resolve().then(function(){return sg}).then(function(ia){return ia.default})});
B(50001,function(){return Promise.resolve().then(function(){return Eh}).then(function(ia){return ia.default})});var Yc=function(){function ia(ha,da,ja,qa,pa,oa){A(this,ia);this.fileDirectory=ha;this.geoKeys=da;this.dataView=ja;this.littleEndian=qa;this.tiles=pa?{}:null;this.isTiled=!ha.StripOffsets;ha=ha.PlanarConfiguration;if(this.planarConfiguration=void 0===ha?1:ha,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw Error("Invalid planar configuration.");this.source=oa}var V,H,U,R;
return g(ia,[{key:"getFileDirectory",value:function(){return this.fileDirectory}},{key:"getGeoKeys",value:function(){return this.geoKeys}},{key:"getWidth",value:function(){return this.fileDirectory.ImageWidth}},{key:"getHeight",value:function(){return this.fileDirectory.ImageLength}},{key:"getSamplesPerPixel",value:function(){return void 0!==this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}},{key:"getTileWidth",value:function(){return this.isTiled?this.fileDirectory.TileWidth:
this.getWidth()}},{key:"getTileHeight",value:function(){return this.isTiled?this.fileDirectory.TileLength:void 0!==this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}},{key:"getBlockWidth",value:function(){return this.getTileWidth()}},{key:"getBlockHeight",value:function(ha){return this.isTiled||(ha+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-ha*this.getTileHeight()}},{key:"getBytesPerPixel",value:function(){for(var ha=
0,da=0;da<this.fileDirectory.BitsPerSample.length;++da)ha+=this.getSampleByteSize(da);return ha}},{key:"getSampleByteSize",value:function(ha){if(ha>=this.fileDirectory.BitsPerSample.length)throw new RangeError("Sample index ".concat(ha," is out of range."));return Math.ceil(this.fileDirectory.BitsPerSample[ha]/8)}},{key:"getReaderForSample",value:function(ha){var da=this.fileDirectory.BitsPerSample[ha];switch(this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[ha]:1){case 1:if(8>=da)return DataView.prototype.getUint8;
if(16>=da)return DataView.prototype.getUint16;if(32>=da)return DataView.prototype.getUint32;break;case 2:if(8>=da)return DataView.prototype.getInt8;if(16>=da)return DataView.prototype.getInt16;if(32>=da)return DataView.prototype.getInt32;break;case 3:switch(da){case 16:return function(ja,qa){return F(this,ja,qa)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample");}},{key:"getSampleFormat",value:function(){var ha=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[ha]:1}},{key:"getBitsPerSample",value:function(){return this.fileDirectory.BitsPerSample[0<arguments.length&&void 0!==arguments[0]?arguments[0]:0]}},{key:"getArrayForSample",value:function(ha,da){return Za(this.getSampleFormat(ha),this.getBitsPerSample(ha),da)}},{key:"getTileOrStrip",value:(R=e(kb.mark(function xa(da,ja,qa,pa,oa){var Ba,Na,ua,La,Fa,sa,ba,aa,ma=this;return kb.wrap(function(fa){for(;;)switch(fa.prev=
fa.next){case 0:return Ba=Math.ceil(this.getWidth()/this.getTileWidth()),Na=Math.ceil(this.getHeight()/this.getTileHeight()),La=this.tiles,1===this.planarConfiguration?ua=ja*Ba+da:2===this.planarConfiguration&&(ua=qa*Ba*Na+ja*Ba+da),this.isTiled?(Fa=this.fileDirectory.TileOffsets[ua],sa=this.fileDirectory.TileByteCounts[ua]):(Fa=this.fileDirectory.StripOffsets[ua],sa=this.fileDirectory.StripByteCounts[ua]),fa.next=7,this.source.fetch([{offset:Fa,length:sa}],oa);case 7:return ba=fa.sent[0],null!==
La&&La[ua]?aa=La[ua]:(aa=e(kb.mark(function Aa(){var ya,ra,Ca;return kb.wrap(function(Ma){for(;;)switch(Ma.prev=Ma.next){case 0:return Ma.next=2,pa.decode(ma.fileDirectory,ba);case 2:ya=Ma.sent;ra=ma.getSampleFormat();Ca=ma.getBitsPerSample();if((1!==ra&&2!==ra||!(32>=Ca)||0!=Ca%8)&&(3!==ra||16!==Ca&&32!==Ca&&64!==Ca)){var Oa=ra,Ua=ma.planarConfiguration,Ia=ma.getSamplesPerPixel(),za=Ca,Ka=ma.getTileWidth(),Wa=ma.getBlockHeight(ja),hb=new DataView(ya),ob=2===Ua?1:Ia,Sa=Za(Oa,za,2===Ua?Wa*Ka:Wa*Ka*
Ia),Xa=parseInt("1".repeat(za),2);if(1===Oa)for(Oa=Ka*(1===Ua?Ia*za:za),0!=(7&Oa)&&(Oa=Oa+7&-8),Ua=0;Ua<Wa;++Ua){Ia=Ua*Oa;for(var bb=0;bb<Ka;++bb)for(var ub=Ia+bb*ob*za,Fb=0;Fb<ob;++Fb){var Ab=ub+Fb*za,Lb=(Ua*Ka+bb)*ob+Fb,Hb=Math.floor(Ab/8);Ab%=8;8>=Ab+za?Sa[Lb]=hb.getUint8(Hb)>>8-za-Ab&Xa:16>=Ab+za?Sa[Lb]=hb.getUint16(Hb)>>16-za-Ab&Xa:24>=Ab+za?(Hb=hb.getUint16(Hb)<<8|hb.getUint8(Hb+2),Sa[Lb]=Hb>>24-za-Ab&Xa):Sa[Lb]=hb.getUint32(Hb)>>32-za-Ab&Xa}}ya=Sa.buffer}return Ma.abrupt("return",ya);case 7:case "end":return Ma.stop()}},
Aa)}))(),null!==La&&(La[ua]=aa)),fa.t0=da,fa.t1=ja,fa.t2=qa,fa.next=14,aa;case 14:return fa.t3=fa.sent,fa.abrupt("return",{x:fa.t0,y:fa.t1,sample:fa.t2,data:fa.t3});case 16:case "end":return fa.stop()}},xa,this)})),function(da,ja,qa,pa,oa){return R.apply(this,arguments)})},{key:"_readRaster",value:(U=e(kb.mark(function Fa(ja,qa,pa,oa,xa,Ba,Na,ua,La){var sa,ba,aa,ma,fa,Ga,Aa,ya,ra,Ca,Ma,Oa,Ua,Ia,za,Ka,Wa,hb,ob,Sa,Xa=this;return kb.wrap(function(bb){for(;;)switch(bb.prev=bb.next){case 0:sa=this.getTileWidth();
ba=this.getTileHeight();aa=this.getWidth();ma=this.getHeight();fa=Math.max(Math.floor(ja[0]/sa),0);Ga=Math.min(Math.ceil(ja[2]/sa),Math.ceil(aa/sa));Aa=Math.max(Math.floor(ja[1]/ba),0);ya=Math.min(Math.ceil(ja[3]/ba),Math.ceil(ma/ba));ra=ja[2]-ja[0];Ca=this.getBytesPerPixel();Ma=[];Oa=[];for(Ua=0;Ua<qa.length;++Ua)1===this.planarConfiguration?Ma.push(Ya(this.fileDirectory.BitsPerSample,0,qa[Ua])/8):Ma.push(0),Oa.push(this.getReaderForSample(qa[Ua]));Ia=[];za=this.littleEndian;for(Ka=Aa;Ka<ya;++Ka)for(Wa=
fa;Wa<Ga;++Wa)for(hb=function(ub){var Fb=qa[ub];2===Xa.planarConfiguration&&(Ca=Xa.getSampleByteSize(ub));Fb=Xa.getTileOrStrip(Wa,Ka,Fb,xa,La).then(function(Ab){var Lb=new DataView(Ab.data),Hb=Xa.getBlockHeight(Ab.y),Qb=Ab.y*ba,pc=Ab.x*sa,Db=Oa[ub];Hb=Math.min(Hb,Hb-(Qb+Hb-ja[3]),ma-Qb);Ab=Math.min(sa,sa-((Ab.x+1)*sa-ja[2]),aa-pc);for(var Gb=Math.max(0,ja[1]-Qb);Gb<Hb;++Gb)for(var fd=Math.max(0,ja[0]-pc);fd<Ab;++fd){var hc=Db.call(Lb,(Gb*sa+fd)*Ca+Ma[ub],za),vc=void 0;oa?(vc=(Gb+Qb-ja[1])*ra*qa.length+
(fd+pc-ja[0])*qa.length+ub,pa[vc]=hc):(vc=(Gb+Qb-ja[1])*ra+fd+pc-ja[0],pa[ub][vc]=hc)}});Ia.push(Fb)},ob=0;ob<qa.length;++ob)hb(ob);return bb.next=18,Promise.all(Ia);case 18:if(!(Ba&&ja[2]-ja[0]!==Ba||Na&&ja[3]-ja[1]!==Na)){bb.next=23;break}return(Sa=oa?Da(pa,ja[2]-ja[0],ja[3]-ja[1],Ba,Na,qa.length,ua):va(pa,ja[2]-ja[0],ja[3]-ja[1],Ba,Na,ua)).width=Ba,Sa.height=Na,bb.abrupt("return",Sa);case 23:return pa.width=Ba||ja[2]-ja[0],pa.height=Na||ja[3]-ja[1],bb.abrupt("return",pa);case 26:case "end":return bb.stop()}},
Fa,this)})),function(ja,qa,pa,oa,xa,Ba,Na,ua,La){return U.apply(this,arguments)})},{key:"readRasters",value:(H=e(kb.mark(function qa(){var pa,oa,xa,Ba,Na,ua,La,Fa,sa,ba,aa,ma,fa,Ga,Aa,ya,ra,Ca,Ma,Oa,Ua,Ia,za,Ka,Wa,hb,ob=arguments;return kb.wrap(function(Sa){for(;;)switch(Sa.prev=Sa.next){case 0:if(pa=0<ob.length&&void 0!==ob[0]?ob[0]:{},oa=pa.window,xa=pa.samples,Ba=void 0===xa?[]:xa,Na=pa.interleave,ua=pa.pool,La=void 0===ua?null:ua,Fa=pa.width,sa=pa.height,ba=pa.resampleMethod,aa=pa.fillValue,ma=
pa.signal,!((fa=oa||[0,0,this.getWidth(),this.getHeight()])[0]>fa[2]||fa[1]>fa[3])){Sa.next=4;break}throw Error("Invalid subsets");case 4:if(Ga=fa[2]-fa[0],Aa=fa[3]-fa[1],ya=Ga*Aa,ra=this.getSamplesPerPixel(),Ba&&Ba.length){Sa.next=12;break}for(Ca=0;Ca<ra;++Ca)Ba.push(Ca);Sa.next=19;break;case 12:Ma=0;case 13:if(!(Ma<Ba.length)){Sa.next=19;break}if(!(Ba[Ma]>=ra)){Sa.next=16;break}return Sa.abrupt("return",Promise.reject(new RangeError("Invalid sample index '".concat(Ba[Ma],"'."))));case 16:++Ma;Sa.next=
13;break;case 19:if(Na)Ua=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Ia=Math.max.apply(null,this.fileDirectory.BitsPerSample),Oa=Za(Ua,Ia,ya*Ba.length),aa&&Oa.fill(aa);else for(Oa=[],za=0;za<Ba.length;++za)Ka=this.getArrayForSample(Ba[za],ya),Array.isArray(aa)&&za<aa.length?Ka.fill(aa[za]):aa&&!Array.isArray(aa)&&Ka.fill(aa),Oa.push(Ka);if(Sa.t0=La,Sa.t0){Sa.next=25;break}return Sa.next=24,v(this.fileDirectory);case 24:Sa.t0=Sa.sent;case 25:return Wa=Sa.t0,
Sa.next=28,this._readRaster(fa,Ba,Oa,Na,Wa,Fa,sa,ba,ma);case 28:return hb=Sa.sent,Sa.abrupt("return",hb);case 30:case "end":return Sa.stop()}},qa,this)})),function(){return H.apply(this,arguments)})},{key:"readRGB",value:(V=e(kb.mark(function pa(){var oa,xa,Ba,Na,ua,La,Fa,sa,ba,aa,ma,fa,Ga,Aa,ya,ra,Ca,Ma,Oa,Ua,Ia,za,Ka,Wa,hb,ob,Sa,Xa=arguments;return kb.wrap(function(bb){for(;;)switch(bb.prev=bb.next){case 0:if(oa=0<Xa.length&&void 0!==Xa[0]?Xa[0]:{},xa=oa.window,Ba=oa.interleave,Na=void 0===Ba||
Ba,ua=oa.pool,La=void 0===ua?null:ua,Fa=oa.width,sa=oa.height,ba=oa.resampleMethod,aa=oa.enableAlpha,ma=void 0!==aa&&aa,fa=oa.signal,!((Ga=xa||[0,0,this.getWidth(),this.getHeight()])[0]>Ga[2]||Ga[1]>Ga[3])){bb.next=4;break}throw Error("Invalid subsets");case 4:if((Aa=this.fileDirectory.PhotometricInterpretation)!==Jb.RGB){bb.next=9;break}if(ya=[0,1,2],this.fileDirectory.ExtraSamples!==Cd.Unspecified&&ma)for(ya=[],ra=0;ra<this.fileDirectory.BitsPerSample.length;ra+=1)ya.push(ra);return bb.abrupt("return",
this.readRasters({window:xa,interleave:Na,samples:ya,pool:La,width:Fa,height:sa,resampleMethod:ba,signal:fa}));case 9:bb.t0=Aa;bb.next=bb.t0===Jb.WhiteIsZero||bb.t0===Jb.BlackIsZero||bb.t0===Jb.Palette?12:bb.t0===Jb.CMYK?14:bb.t0===Jb.YCbCr||bb.t0===Jb.CIELab?16:18;break;case 12:return Ca=[0],bb.abrupt("break",19);case 14:return Ca=[0,1,2,3],bb.abrupt("break",19);case 16:return Ca=[0,1,2],bb.abrupt("break",19);case 18:throw Error("Invalid or unsupported photometric interpretation.");case 19:return Ma=
{window:Ga,interleave:!0,samples:Ca,pool:La,width:Fa,height:sa,resampleMethod:ba,signal:fa},Oa=this.fileDirectory,bb.next=23,this.readRasters(Ma);case 23:Ua=bb.sent;Ia=Math.pow(2,this.fileDirectory.BitsPerSample[0]);bb.t1=Aa;bb.next=bb.t1===Jb.WhiteIsZero?28:bb.t1===Jb.BlackIsZero?30:bb.t1===Jb.Palette?32:bb.t1===Jb.CMYK?34:bb.t1===Jb.YCbCr?36:bb.t1===Jb.CIELab?38:40;break;case 28:return za=M(Ua,Ia),bb.abrupt("break",41);case 30:return za=T(Ua,Ia),bb.abrupt("break",41);case 32:return za=Q(Ua,Oa.ColorMap),
bb.abrupt("break",41);case 34:return za=S(Ua),bb.abrupt("break",41);case 36:return za=W(Ua),bb.abrupt("break",41);case 38:return za=ca(Ua),bb.abrupt("break",41);case 40:throw Error("Unsupported photometric interpretation.");case 41:if(!Na){Ka=new Uint8Array(za.length/3);Wa=new Uint8Array(za.length/3);hb=new Uint8Array(za.length/3);for(Sa=ob=0;ob<za.length;ob+=3,++Sa)Ka[Sa]=za[ob],Wa[Sa]=za[ob+1],hb[Sa]=za[ob+2];za=[Ka,Wa,hb]}return za.width=Ua.width,za.height=Ua.height,bb.abrupt("return",za);case 45:case "end":return bb.stop()}},
pa,this)})),function(){return V.apply(this,arguments)})},{key:"getTiePoints",value:function(){if(!this.fileDirectory.ModelTiepoint)return[];for(var pa=[],oa=0;oa<this.fileDirectory.ModelTiepoint.length;oa+=6)pa.push({i:this.fileDirectory.ModelTiepoint[oa],j:this.fileDirectory.ModelTiepoint[oa+1],k:this.fileDirectory.ModelTiepoint[oa+2],x:this.fileDirectory.ModelTiepoint[oa+3],y:this.fileDirectory.ModelTiepoint[oa+4],z:this.fileDirectory.ModelTiepoint[oa+5]});return pa}},{key:"getGDALMetadata",value:function(){var pa=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,oa={};if(!this.fileDirectory.GDAL_METADATA)return null;var xa=Pf(this.fileDirectory.GDAL_METADATA,"Item");xa=null===pa?xa.filter(function(ua){return void 0===Yd(ua,"sample")}):xa.filter(function(ua){return Number(Yd(ua,"sample"))===pa});for(var Ba=0;Ba<xa.length;++Ba){var Na=xa[Ba];oa[Yd(Na,"name")]=Na.inner}return oa}},{key:"getGDALNoData",value:function(){if(!this.fileDirectory.GDAL_NODATA)return null;var pa=this.fileDirectory.GDAL_NODATA;
return Number(pa.substring(0,pa.length-1))}},{key:"getOrigin",value:function(){var pa=this.fileDirectory.ModelTiepoint,oa=this.fileDirectory.ModelTransformation;if(pa&&6===pa.length)return[pa[3],pa[4],pa[5]];if(oa)return[oa[3],oa[7],oa[11]];throw Error("The image does not have an affine transformation.");}},{key:"getResolution",value:function(){var pa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,oa=this.fileDirectory.ModelPixelScale,xa=this.fileDirectory.ModelTransformation;if(oa)return[oa[0],
-oa[1],oa[2]];if(xa)return[xa[0],xa[5],xa[10]];if(pa){oa=pa.getResolution();oa=f(oa,3);xa=oa[1];var Ba=oa[2];return[oa[0]*pa.getWidth()/this.getWidth(),xa*pa.getHeight()/this.getHeight(),Ba*pa.getWidth()/this.getWidth()]}throw Error("The image does not have an affine transformation.");}},{key:"pixelIsArea",value:function(){return 1===this.geoKeys.GTRasterTypeGeoKey}},{key:"getBoundingBox",value:function(){var pa=this.getOrigin(),oa=this.getResolution(),xa=pa[0];pa=pa[1];var Ba=xa+oa[0]*this.getWidth();
oa=pa+oa[1]*this.getHeight();return[Math.min(xa,Ba),Math.min(pa,oa),Math.max(xa,Ba),Math.max(pa,oa)]}}]),ia}(),Gd=function(){function ia(V){A(this,ia);this._dataView=new DataView(V)}return g(ia,[{key:"buffer",get:function(){return this._dataView.buffer}},{key:"getUint64",value:function(V,H){var U,R=this.getUint32(V,H);V=this.getUint32(V+4,H);if(H){if(U=R+Math.pow(2,32)*V,!Number.isSafeInteger(U))throw Error("".concat(U," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");
return U}if(U=Math.pow(2,32)*R+V,!Number.isSafeInteger(U))throw Error("".concat(U," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return U}},{key:"getInt64",value:function(V,H){for(var U=0,R=0<(128&this._dataView.getUint8(V+(H?7:0))),ha=!0,da=0;8>da;da++){var ja=this._dataView.getUint8(V+(H?da:7-da));R&&(ha?0!==ja&&(ja=255&~(ja-1),ha=!1):ja=255&~ja);U+=ja*Math.pow(256,da)}return R&&(U=-U),U}},{key:"getUint8",
value:function(V,H){return this._dataView.getUint8(V,H)}},{key:"getInt8",value:function(V,H){return this._dataView.getInt8(V,H)}},{key:"getUint16",value:function(V,H){return this._dataView.getUint16(V,H)}},{key:"getInt16",value:function(V,H){return this._dataView.getInt16(V,H)}},{key:"getUint32",value:function(V,H){return this._dataView.getUint32(V,H)}},{key:"getInt32",value:function(V,H){return this._dataView.getInt32(V,H)}},{key:"getFloat16",value:function(V,H){return F(this._dataView,V,H)}},{key:"getFloat32",
value:function(V,H){return this._dataView.getFloat32(V,H)}},{key:"getFloat64",value:function(V,H){return this._dataView.getFloat64(V,H)}}]),ia}(),dh=function(){function ia(V,H,U,R){A(this,ia);this._dataView=new DataView(V);this._sliceOffset=H;this._littleEndian=U;this._bigTiff=R}return g(ia,[{key:"sliceOffset",get:function(){return this._sliceOffset}},{key:"sliceTop",get:function(){return this._sliceOffset+this.buffer.byteLength}},{key:"littleEndian",get:function(){return this._littleEndian}},{key:"bigTiff",
get:function(){return this._bigTiff}},{key:"buffer",get:function(){return this._dataView.buffer}},{key:"covers",value:function(V,H){return this.sliceOffset<=V&&this.sliceTop>=V+H}},{key:"readUint8",value:function(V){return this._dataView.getUint8(V-this._sliceOffset,this._littleEndian)}},{key:"readInt8",value:function(V){return this._dataView.getInt8(V-this._sliceOffset,this._littleEndian)}},{key:"readUint16",value:function(V){return this._dataView.getUint16(V-this._sliceOffset,this._littleEndian)}},
{key:"readInt16",value:function(V){return this._dataView.getInt16(V-this._sliceOffset,this._littleEndian)}},{key:"readUint32",value:function(V){return this._dataView.getUint32(V-this._sliceOffset,this._littleEndian)}},{key:"readInt32",value:function(V){return this._dataView.getInt32(V-this._sliceOffset,this._littleEndian)}},{key:"readFloat32",value:function(V){return this._dataView.getFloat32(V-this._sliceOffset,this._littleEndian)}},{key:"readFloat64",value:function(V){return this._dataView.getFloat64(V-
this._sliceOffset,this._littleEndian)}},{key:"readUint64",value:function(V){var H,U=this.readUint32(V);V=this.readUint32(V+4);if(this._littleEndian){if(H=U+Math.pow(2,32)*V,!Number.isSafeInteger(H))throw Error("".concat(H," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return H}if(H=Math.pow(2,32)*U+V,!Number.isSafeInteger(H))throw Error("".concat(H," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");
return H}},{key:"readInt64",value:function(V){for(var H=0,U=0<(128&this._dataView.getUint8(V+(this._littleEndian?7:0))),R=!0,ha=0;8>ha;ha++){var da=this._dataView.getUint8(V+(this._littleEndian?ha:7-ha));U&&(R?0!==da&&(da=255&~(da-1),R=!1):da=255&~da);H+=da*Math.pow(256,ha)}return U&&(H=-H),H}},{key:"readOffset",value:function(V){return this._bigTiff?this.readUint64(V):this.readUint32(V)}}]),ia}(),Sf="undefined"!=typeof navigator&&navigator.hardwareConcurrency||2,Tf=function(){function ia(){var H=
this,U=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Sf,R=1<arguments.length?arguments[1]:void 0;A(this,ia);this._awaitingDecoder=this.workers=null;this.size=U;this.messageId=0;U&&(this._awaitingDecoder=R?Promise.resolve(R):new Promise(function(ha){Promise.resolve().then(function(){return Hh}).then(function(da){ha(da.create)})}),this._awaitingDecoder.then(function(ha){H._awaitingDecoder=null;H.workers=[];for(var da=0;da<U;da++)H.workers.push({worker:ha(),idle:!0})}))}var V;return g(ia,[{key:"decode",
value:(V=e(kb.mark(function ha(U,R){var da=this;return kb.wrap(function(ja){for(;;)switch(ja.prev=ja.next){case 0:if(!this._awaitingDecoder){ja.next=3;break}return ja.next=3,this._awaitingDecoder;case 3:return ja.abrupt("return",0===this.size?v(U).then(function(qa){return qa.decode(U,R)}):new Promise(function(qa){var pa=da.workers.find(function(xa){return xa.idle})||da.workers[Math.floor(Math.random()*da.size)];pa.idle=!1;var oa=da.messageId++;pa.worker.addEventListener("message",function Na(Ba){Ba.data.id===
oa&&(pa.idle=!0,qa(Ba.data.decoded),pa.worker.removeEventListener("message",Na))});pa.worker.postMessage({fileDirectory:U,buffer:R,id:oa},[R])}));case 4:case "end":return ja.stop()}},ha,this)})),function(U,R){return V.apply(this,arguments)})},{key:"destroy",value:function(){this.workers&&(this.workers.forEach(function(U){U.worker.terminate()}),this.workers=null)}}]),ia}(),ae=function(){function ia(){A(this,ia)}var V,H,U;return g(ia,[{key:"fetch",value:(U=e(kb.mark(function da(ha){var ja,qa=this,pa=
arguments;return kb.wrap(function(oa){for(;;)switch(oa.prev=oa.next){case 0:return ja=1<pa.length&&void 0!==pa[1]?pa[1]:void 0,oa.abrupt("return",Promise.all(ha.map(function(xa){return qa.fetchSlice(xa,ja)})));case 2:case "end":return oa.stop()}},da)})),function(ha){return U.apply(this,arguments)})},{key:"fetchSlice",value:(H=e(kb.mark(function ja(da){return kb.wrap(function(qa){for(;;)switch(qa.prev=qa.next){case 0:throw Error("fetching of slice ".concat(da," not possible, not implemented"));case 1:case "end":return qa.stop()}},
ja)})),function(da){return H.apply(this,arguments)})},{key:"fileSize",get:function(){return null}},{key:"close",value:(V=e(kb.mark(function ja(){return kb.wrap(function(qa){for(;;)switch(qa.prev=qa.next){case 0:case "end":return qa.stop()}},ja)})),function(){return V.apply(this,arguments)})}]),ia}(),eh=function(ia,V,H){function U(){var ha,da=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(A(this,U),ha=R.call(this),!(da.maxSize&&0<da.maxSize))throw new TypeError("`maxSize` must be a number greater than 0");
if("number"==typeof da.maxAge&&0===da.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");return ha.maxSize=da.maxSize,ha.maxAge=da.maxAge||Number.POSITIVE_INFINITY,ha.onEviction=da.onEviction,ha.cache=new Map,ha.oldCache=new Map,ha._size=0,ha}k(U,ia);var R=Va(U);return g(U,[{key:"_emitEvictions",value:function(ha){if("function"==typeof this.onEviction){var da;ha=ka(ha);try{for(ha.s();!(da=ha.n()).done;){var ja=f(da.value,2);this.onEviction(ja[0],ja[1].value)}}catch(qa){ha.e(qa)}finally{ha.f()}}}},
{key:"_deleteIfExpired",value:function(ha,da){return"number"==typeof da.expiry&&da.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(ha,da.value),this.delete(ha))}},{key:"_getOrDeleteIfExpired",value:function(ha,da){if(!1===this._deleteIfExpired(ha,da))return da.value}},{key:"_getItemValue",value:function(ha,da){return da.expiry?this._getOrDeleteIfExpired(ha,da):da.value}},{key:"_peek",value:function(ha,da){da=da.get(ha);return this._getItemValue(ha,da)}},{key:"_set",value:function(ha,
da){this.cache.set(ha,da);this._size++;this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}},{key:"_moveToRecent",value:function(ha,da){this.oldCache.delete(ha);this._set(ha,da)}},{key:"_entriesAscending",value:kb.mark(function da(){var ja,qa,pa,oa,xa,Ba,Na,ua,La,Fa,sa,ba;return kb.wrap(function(aa){for(;;)switch(aa.prev=aa.next){case 0:ja=ka(this.oldCache),aa.prev=1,ja.s();case 3:if((qa=ja.n()).done){aa.next=13;break}if(pa=qa.value,
oa=f(pa,2),xa=oa[0],Ba=oa[1],this.cache.has(xa)){aa.next=11;break}if(!1!==this._deleteIfExpired(xa,Ba)){aa.next=11;break}return aa.next=11,pa;case 11:aa.next=3;break;case 13:aa.next=18;break;case 15:aa.prev=15,aa.t0=aa.catch(1),ja.e(aa.t0);case 18:return aa.prev=18,ja.f(),aa.finish(18);case 21:Na=ka(this.cache),aa.prev=22,Na.s();case 24:if((ua=Na.n()).done){aa.next=33;break}if(La=ua.value,Fa=f(La,2),sa=Fa[0],ba=Fa[1],!1!==this._deleteIfExpired(sa,ba)){aa.next=31;break}return aa.next=31,La;case 31:aa.next=
24;break;case 33:aa.next=38;break;case 35:aa.prev=35,aa.t1=aa.catch(22),Na.e(aa.t1);case 38:return aa.prev=38,Na.f(),aa.finish(38);case 41:case "end":return aa.stop()}},da,this,[[1,15,18,21],[22,35,38,41]])})},{key:"get",value:function(da){if(this.cache.has(da)){var ja=this.cache.get(da);return this._getItemValue(da,ja)}if(this.oldCache.has(da)&&(ja=this.oldCache.get(da),!1===this._deleteIfExpired(da,ja)))return this._moveToRecent(da,ja),ja.value}},{key:"set",value:function(da,ja){var qa=(2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{}).maxAge;qa=void 0===qa?this.maxAge:qa;qa="number"==typeof qa&&qa!==Number.POSITIVE_INFINITY?Date.now()+qa:void 0;this.cache.has(da)?this.cache.set(da,{value:ja,expiry:qa}):this._set(da,{value:ja,expiry:qa})}},{key:"has",value:function(da){return this.cache.has(da)?!this._deleteIfExpired(da,this.cache.get(da)):!!this.oldCache.has(da)&&!this._deleteIfExpired(da,this.oldCache.get(da))}},{key:"peek",value:function(da){return this.cache.has(da)?this._peek(da,this.cache):
this.oldCache.has(da)?this._peek(da,this.oldCache):void 0}},{key:"delete",value:function(da){var ja=this.cache.delete(da);return ja&&this._size--,this.oldCache.delete(da)||ja}},{key:"clear",value:function(){this.cache.clear();this.oldCache.clear();this._size=0}},{key:"resize",value:function(da){if(!(da&&0<da))throw new TypeError("`maxSize` must be a number greater than 0");var ja=y(this._entriesAscending()),qa=ja.length-da;0>qa?(this.cache=new Map(ja),this.oldCache=new Map,this._size=ja.length):(0<
qa&&this._emitEvictions(ja.slice(0,qa)),this.oldCache=new Map(ja.slice(qa)),this.cache=new Map,this._size=0);this.maxSize=da}},{key:"keys",value:kb.mark(function ja(){var qa,pa,oa,xa;return kb.wrap(function(Ba){for(;;)switch(Ba.prev=Ba.next){case 0:qa=ka(this),Ba.prev=1,qa.s();case 3:if((pa=qa.n()).done){Ba.next=9;break}return oa=f(pa.value,1),xa=oa[0],Ba.next=7,xa;case 7:Ba.next=3;break;case 9:Ba.next=14;break;case 11:Ba.prev=11,Ba.t0=Ba.catch(1),qa.e(Ba.t0);case 14:return Ba.prev=14,qa.f(),Ba.finish(14);
case 17:case "end":return Ba.stop()}},ja,this,[[1,11,14,17]])})},{key:"values",value:kb.mark(function qa(){var pa,oa,xa,Ba;return kb.wrap(function(Na){for(;;)switch(Na.prev=Na.next){case 0:pa=ka(this),Na.prev=1,pa.s();case 3:if((oa=pa.n()).done){Na.next=9;break}return xa=f(oa.value,2),Ba=xa[1],Na.next=7,Ba;case 7:Na.next=3;break;case 9:Na.next=14;break;case 11:Na.prev=11,Na.t0=Na.catch(1),pa.e(Na.t0);case 14:return Na.prev=14,pa.f(),Na.finish(14);case 17:case "end":return Na.stop()}},qa,this,[[1,
11,14,17]])})},{key:V,value:kb.mark(function(){var qa,pa,oa,xa,Ba,Na,ua,La,Fa,sa,ba,aa;return kb.wrap(function(ma){for(;;)switch(ma.prev=ma.next){case 0:qa=ka(this.cache),ma.prev=1,qa.s();case 3:if((pa=qa.n()).done){ma.next=12;break}if(oa=pa.value,xa=f(oa,2),Ba=xa[0],Na=xa[1],!1!==this._deleteIfExpired(Ba,Na)){ma.next=10;break}return ma.next=10,[Ba,Na.value];case 10:ma.next=3;break;case 12:ma.next=17;break;case 14:ma.prev=14,ma.t0=ma.catch(1),qa.e(ma.t0);case 17:return ma.prev=17,qa.f(),ma.finish(17);
case 20:ua=ka(this.oldCache),ma.prev=21,ua.s();case 23:if((La=ua.n()).done){ma.next=33;break}if(Fa=La.value,sa=f(Fa,2),ba=sa[0],aa=sa[1],this.cache.has(ba)){ma.next=31;break}if(!1!==this._deleteIfExpired(ba,aa)){ma.next=31;break}return ma.next=31,[ba,aa.value];case 31:ma.next=23;break;case 33:ma.next=38;break;case 35:ma.prev=35,ma.t1=ma.catch(21),ua.e(ma.t1);case 38:return ma.prev=38,ua.f(),ma.finish(38);case 41:case "end":return ma.stop()}},Na,this,[[1,14,17,20],[21,35,38,41]])})},{key:"entriesDescending",
value:kb.mark(function pa(){var oa,xa,Ba,Na,ua,La,Fa,sa,ba,aa,ma;return kb.wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:oa=y(this.cache),xa=oa.length-1;case 2:if(!(0<=xa)){fa.next=12;break}if(Ba=oa[xa],Na=f(Ba,2),ua=Na[0],La=Na[1],!1!==this._deleteIfExpired(ua,La)){fa.next=9;break}return fa.next=9,[ua,La.value];case 9:--xa;fa.next=2;break;case 12:oa=y(this.oldCache),Fa=oa.length-1;case 14:if(!(0<=Fa)){fa.next=25;break}if(sa=oa[Fa],ba=f(sa,2),aa=ba[0],ma=ba[1],this.cache.has(aa)){fa.next=
22;break}if(!1!==this._deleteIfExpired(aa,ma)){fa.next=22;break}return fa.next=22,[aa,ma.value];case 22:--Fa;fa.next=14;break;case 25:case "end":return fa.stop()}},pa,this)})},{key:"entriesAscending",value:kb.mark(function oa(){var xa,Ba,Na,ua,La;return kb.wrap(function(Fa){for(;;)switch(Fa.prev=Fa.next){case 0:xa=ka(this._entriesAscending()),Fa.prev=1,xa.s();case 3:if((Ba=xa.n()).done){Fa.next=9;break}return Na=f(Ba.value,2),ua=Na[0],La=Na[1],Fa.next=7,[ua,La.value];case 7:Fa.next=3;break;case 9:Fa.next=
14;break;case 11:Fa.prev=11,Fa.t0=Fa.catch(1),xa.e(Fa.t0);case 14:return Fa.prev=14,xa.f(),Fa.finish(14);case 17:case "end":return Fa.stop()}},oa,this,[[1,11,14,17]])})},{key:"size",get:function(){if(!this._size)return this.oldCache.size;var oa,xa=0,Ba=ka(this.oldCache.keys());try{for(Ba.s();!(oa=Ba.n()).done;)this.cache.has(oa.value)||xa++}catch(Na){Ba.e(Na)}finally{Ba.f()}return Math.min(this._size+xa,this.maxSize)}},{key:"entries",value:function(){return this.entriesAscending()}},{key:"forEach",
value:function(oa){var xa,Ba=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this,Na=ka(this.entriesAscending());try{for(Na.s();!(xa=Na.n()).done;){var ua=f(xa.value,2);oa.call(Ba,ua[1],ua[0],this)}}catch(La){Na.e(La)}finally{Na.f()}}},{key:H,get:function(){return JSON.stringify(y(this.entriesAscending()))}}]),U}(q(Map),Symbol.iterator,Symbol.toStringTag),Jd=function(ia){function V(U){var R;return A(this,V),R=H.call(this,U),Error.captureStackTrace&&Error.captureStackTrace(r(R),V),R.name="AbortError",
R}k(V,ia);var H=ib(V);return V}(q(Error)),Uf=function(ia){function V(U,R){var ha;return A(this,V),(ha=H.call(this,R)).errors=U,ha.message=R,ha.name="AggregateError",ha}k(V,ia);var H=ib(V);return V}(q(Error)),fh=function(){function ia(V,H){var U=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;A(this,ia);this.offset=V;this.length=H;this.data=U}return g(ia,[{key:"top",get:function(){return this.offset+this.length}}]),ia}(),ze=function R(V,H,U){A(this,R);this.offset=V;this.length=H;this.blockIds=
U},gh=function(V){function H(ha){var da,ja=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},qa=ja.blockSize;qa=void 0===qa?65536:qa;ja=ja.cacheSize;ja=void 0===ja?100:ja;return A(this,H),(da=R.call(this)).source=ha,da.blockSize=qa,da.blockCache=new eh({maxSize:ja,onEviction:function(pa,oa){da.evictedBlocks.set(pa,oa)}}),da.evictedBlocks=new Map,da.blockRequests=new Map,da.blockIdsToFetch=new Set,da.abortedBlockIds=new Set,da}k(H,V);var U,R=jc(H);return g(H,[{key:"fileSize",get:function(){return this.source.fileSize}},
{key:"fetch",value:(U=e(kb.mark(function qa(da,ja){var pa,oa,xa,Ba,Na,ua,La,Fa,sa,ba,aa,ma,fa,Ga,Aa,ya,ra,Ca,Ma,Oa,Ua,Ia,za,Ka,Wa,hb,ob=this;return kb.wrap(function(Sa){for(;;)switch(Sa.prev=Sa.next){case 0:pa=[];oa=[];xa=[];this.evictedBlocks.clear();Ba=qc(da);try{for(Ba.s();!(Na=Ba.n()).done;)for(ua=Na.value,La=ua.offset,Fa=ua.length,sa=La+Fa,null!==(ba=this.fileSize)&&(sa=Math.min(sa,ba)),ma=aa=Math.floor(La/this.blockSize)*this.blockSize;ma<sa;ma+=this.blockSize)fa=Math.floor(ma/this.blockSize),
this.blockCache.has(fa)||this.blockRequests.has(fa)||(this.blockIdsToFetch.add(fa),oa.push(fa)),this.blockRequests.has(fa)&&pa.push(this.blockRequests.get(fa)),xa.push(fa)}catch(Xa){Ba.e(Xa)}finally{Ba.f()}return Sa.next=8,rb();case 8:this.fetchBlocks(ja);Ga=[];Aa=0;for(ya=oa;Aa<ya.length;Aa++)ra=ya[Aa],this.blockRequests.has(ra)&&Ga.push(this.blockRequests.get(ra));return Sa.next=13,Promise.allSettled(pa);case 13:return Sa.next=15,Promise.allSettled(Ga);case 15:if(Ca=[],(Ma=xa.filter(function(Xa){return ob.abortedBlockIds.has(Xa)||
!ob.blockCache.has(Xa)})).forEach(function(Xa){return ob.blockIdsToFetch.add(Xa)}),!(0<Ma.length&&ja)||ja.aborted){Sa.next=41;break}this.fetchBlocks(null);Oa=qc(Ma);Sa.prev=21;Oa.s();case 23:if((Ua=Oa.n()).done){Sa.next=31;break}if(Ia=Ua.value,za=this.blockRequests.get(Ia)){Sa.next=28;break}throw Error("Block ".concat(Ia," is not in the block requests"));case 28:Ca.push(za);case 29:Sa.next=23;break;case 31:Sa.next=36;break;case 33:Sa.prev=33,Sa.t0=Sa.catch(21),Oa.e(Sa.t0);case 36:return Sa.prev=36,
Oa.f(),Sa.finish(36);case 39:return Sa.next=41,Promise.allSettled(Ca);case 41:if(!ja||!ja.aborted){Sa.next=43;break}throw new Jd("Request was aborted");case 43:if(Ka=xa.map(function(Xa){return ob.blockCache.get(Xa)||ob.evictedBlocks.get(Xa)}),Wa=Ka.filter(function(Xa){return!Xa}),!Wa.length){Sa.next=47;break}throw new Uf(Wa,"Request failed");case 47:return hb=new Map(dc(xa,Ka)),Sa.abrupt("return",this.readSliceData(da,hb));case 49:case "end":return Sa.stop()}},qa,this,[[21,33,36,39]])})),function(da,
ja){return U.apply(this,arguments)})},{key:"fetchBlocks",value:function(da){var ja=this;0<this.blockIdsToFetch.size&&function(){for(var qa=ja.groupBlocks(ja.blockIdsToFetch),pa=ja.source.fetch(qa,da),oa=function(Ba){var Na,ua=qc(qa[Ba].blockIds);try{var La=function(){var Fa=Na.value;ja.blockRequests.set(Fa,e(kb.mark(function ba(){var aa,ma,fa,Ga,Aa,ya;return kb.wrap(function(ra){for(;;)switch(ra.prev=ra.next){case 0:return ra.prev=0,ra.next=3,pa;case 3:ra.t0=Ba;aa=ra.sent[ra.t0];ma=Fa*ja.blockSize;
fa=ma-aa.offset;Ga=Math.min(fa+ja.blockSize,aa.data.byteLength);Aa=aa.data.slice(fa,Ga);ya=new fh(ma,Aa.byteLength,Aa,Fa);ja.blockCache.set(Fa,ya);ja.abortedBlockIds.delete(Fa);ra.next=23;break;case 14:if(ra.prev=14,ra.t1=ra.catch(0),"AbortError"!==ra.t1.name){ra.next=22;break}ra.t1.signal=da;ja.blockCache.delete(Fa);ja.abortedBlockIds.add(Fa);ra.next=23;break;case 22:throw ra.t1;case 23:return ra.prev=23,ja.blockRequests.delete(Fa),ra.finish(23);case 26:case "end":return ra.stop()}},ba,null,[[0,
14,23,26]])}))())};for(ua.s();!(Na=ua.n()).done;)La()}catch(Fa){ua.e(Fa)}finally{ua.f()}},xa=0;xa<qa.length;++xa)oa(xa);ja.blockIdsToFetch.clear()}()}},{key:"groupBlocks",value:function(da){var ja=Array.from(da).sort(function(Ba,Na){return Ba-Na});if(0===ja.length)return[];var qa;da=[];var pa=null,oa=[];ja=qc(ja);try{for(ja.s();!(qa=ja.n()).done;){var xa=qa.value;null===pa||pa+1===xa?(da.push(xa),pa=xa):(oa.push(new ze(da[0]*this.blockSize,da.length*this.blockSize,da)),da=[xa],pa=xa)}}catch(Ba){ja.e(Ba)}finally{ja.f()}return oa.push(new ze(da[0]*
this.blockSize,da.length*this.blockSize,da)),oa}},{key:"readSliceData",value:function(da,ja){var qa=this;return da.map(function(pa){var oa=pa.offset+pa.length;null!==qa.fileSize&&(oa=Math.min(qa.fileSize,oa));for(var xa=Math.floor(pa.offset/qa.blockSize),Ba=Math.floor(oa/qa.blockSize),Na=new ArrayBuffer(pa.length),ua=new Uint8Array(Na);xa<=Ba;++xa){var La=ja.get(xa),Fa=La.offset-pa.offset,sa=0,ba=0;0>Fa?sa=-Fa:0<Fa&&(ba=Fa);La=new Uint8Array(La.data,sa,0>La.top-oa?La.length-sa:oa-La.offset-sa);ua.set(La,
ba)}return Na})}}]),H}(ae),kd=function(){function V(){A(this,V)}var H;return g(V,[{key:"ok",get:function(){return 200<=this.status&&299>=this.status}},{key:"status",get:function(){throw Error("not implemented");}},{key:"getHeader",value:function(U){throw Error("not implemented");}},{key:"getData",value:(H=e(kb.mark(function R(){return kb.wrap(function(ha){for(;;)switch(ha.prev=ha.next){case 0:throw Error("not implemented");case 1:case "end":return ha.stop()}},R)})),function(){return H.apply(this,
arguments)})}]),V}(),be=function(){function V(U){A(this,V);this.url=U}var H;return g(V,[{key:"request",value:(H=e(kb.mark(function R(){return kb.wrap(function(ha){for(;;)switch(ha.prev=ha.next){case 0:throw Error("request is not implemented");case 2:case "end":return ha.stop()}},R)})),function(){return H.apply(this,arguments)})}]),V}(),Uc=function(V){function H(ha){var da;return A(this,H),(da=R.call(this)).response=ha,da}k(H,V);var U,R=ec(H);return g(H,[{key:"status",get:function(){return this.response.status}},
{key:"getHeader",value:function(ha){return this.response.headers.get(ha)}},{key:"getData",value:(U=e(kb.mark(function da(){var ja;return kb.wrap(function(qa){for(;;)switch(qa.prev=qa.next){case 0:if(!this.response.arrayBuffer){qa.next=6;break}return qa.next=3,this.response.arrayBuffer();case 3:qa.t0=qa.sent;qa.next=9;break;case 6:return qa.next=8,this.response.buffer();case 8:qa.t0=qa.sent.buffer;case 9:return ja=qa.t0,qa.abrupt("return",ja);case 11:case "end":return qa.stop()}},da,this)})),function(){return U.apply(this,
arguments)})}]),H}(kd),Vf=function(V){function H(ha,da){var ja;return A(this,H),(ja=R.call(this,ha)).credentials=da,ja}k(H,V);var U,R=ec(H);return g(H,[{key:"request",value:(U=e(kb.mark(function da(){var ja,qa,pa,oa,xa,Ba=arguments;return kb.wrap(function(Na){for(;;)switch(Na.prev=Na.next){case 0:return ja=0<Ba.length&&void 0!==Ba[0]?Ba[0]:{},qa=ja.headers,pa=ja.credentials,oa=ja.signal,Na.next=3,fetch(this.url,{headers:qa,credentials:pa,signal:oa});case 3:return xa=Na.sent,Na.abrupt("return",new Uc(xa));
case 5:case "end":return Na.stop()}},da,this)})),function(){return U.apply(this,arguments)})}]),H}(be),Wf=function(V){function H(ha,da){var ja;return A(this,H),(ja=R.call(this)).xhr=ha,ja.data=da,ja}k(H,V);var U,R=fc(H);return g(H,[{key:"status",get:function(){return this.xhr.status}},{key:"getHeader",value:function(ha){return this.xhr.getResponseHeader(ha)}},{key:"getData",value:(U=e(kb.mark(function da(){return kb.wrap(function(ja){for(;;)switch(ja.prev=ja.next){case 0:return ja.abrupt("return",
this.data);case 1:case "end":return ja.stop()}},da,this)})),function(){return U.apply(this,arguments)})}]),H}(kd),ce=function(V){function H(){return A(this,H),R.apply(this,arguments)}k(H,V);var U,R=fc(H);return g(H,[{key:"constructRequest",value:function(ha,da){var ja=this;return new Promise(function(qa,pa){var oa=new XMLHttpRequest;oa.open("GET",ja.url);oa.responseType="arraybuffer";for(var xa=0,Ba=Object.entries(ha);xa<Ba.length;xa++){var Na=f(Ba[xa],2);oa.setRequestHeader(Na[0],Na[1])}oa.onload=
function(){qa(new Wf(oa,oa.response))};oa.onerror=pa;oa.onabort=function(){return pa(new Jd("Request aborted"))};oa.send();da&&(da.aborted&&oa.abort(),da.addEventListener("abort",function(){return oa.abort()}))})}},{key:"request",value:(U=e(kb.mark(function da(){var ja,qa,pa,oa,xa=arguments;return kb.wrap(function(Ba){for(;;)switch(Ba.prev=Ba.next){case 0:return ja=0<xa.length&&void 0!==xa[0]?xa[0]:{},qa=ja.headers,pa=ja.signal,Ba.next=3,this.constructRequest(qa,pa);case 3:return oa=Ba.sent,Ba.abrupt("return",
oa);case 5:case "end":return Ba.stop()}},da,this)})),function(){return U.apply(this,arguments)})}]),H}(be),lc={},Yf=function(V){function H(ha,da){var ja;return A(this,H),(ja=R.call(this)).response=ha,ja.dataPromise=da,ja}k(H,V);var U,R=Xb(H);return g(H,[{key:"status",get:function(){return this.response.statusCode}},{key:"getHeader",value:function(ha){return this.response.headers[ha]}},{key:"getData",value:(U=e(kb.mark(function da(){var ja;return kb.wrap(function(qa){for(;;)switch(qa.prev=qa.next){case 0:return qa.next=
2,this.dataPromise;case 2:return ja=qa.sent,qa.abrupt("return",ja);case 4:case "end":return qa.stop()}},da,this)})),function(){return U.apply(this,arguments)})}]),H}(kd),ih=function(V){function H(ha){var da;return A(this,H),(da=R.call(this,ha)).parsedUrl=lc.parse(da.url),da.httpApi=(da.parsedUrl.protocol,lc),da}k(H,V);var U,R=Xb(H);return g(H,[{key:"constructRequest",value:function(ha,da){var ja=this;return new Promise(function(qa,pa){var oa=ja.httpApi.get(Ob(Ob({},ja.parsedUrl),{},{headers:ha}),
function(xa){var Ba=new Promise(function(Na){var ua=[];xa.on("data",function(La){ua.push(La)});xa.on("end",function(){var La=J.concat(ua).buffer;Na(La)});xa.on("error",pa)});qa(new Yf(xa,Ba))});oa.on("error",pa);da&&(da.aborted&&oa.destroy(new Jd("Request aborted")),da.addEventListener("abort",function(){return oa.destroy(new Jd("Request aborted"))}))})}},{key:"request",value:(U=e(kb.mark(function da(){var ja,qa,pa,oa,xa=arguments;return kb.wrap(function(Ba){for(;;)switch(Ba.prev=Ba.next){case 0:return ja=
0<xa.length&&void 0!==xa[0]?xa[0]:{},qa=ja.headers,pa=ja.signal,Ba.next=3,this.constructRequest(qa,pa);case 3:return oa=Ba.sent,Ba.abrupt("return",oa);case 5:case "end":return Ba.stop()}},da,this)})),function(){return U.apply(this,arguments)})}]),H}(be),md=["headers","credentials","maxRanges","allowFullFile"],Zf=["headers","maxRanges","allowFullFile"],jh=["headers","maxRanges","allowFullFile"],nd=["forceXHR"],bd=function(V){function H(ja,qa,pa,oa){var xa;return A(this,H),(xa=da.call(this)).client=
ja,xa.headers=qa,xa.maxRanges=pa,xa.allowFullFile=oa,xa._fileSize=null,xa}k(H,V);var U,R,ha,da=oe(H);return g(H,[{key:"fetch",value:(ha=e(kb.mark(function oa(qa,pa){var xa=this;return kb.wrap(function(Ba){for(;;)switch(Ba.prev=Ba.next){case 0:if(!(this.maxRanges>=qa.length)){Ba.next=4;break}return Ba.abrupt("return",this.fetchSlices(qa,pa));case 4:0<this.maxRanges&&qa.length;case 5:return Ba.abrupt("return",Promise.all(qa.map(function(Na){return xa.fetchSlice(Na,pa)})));case 6:case "end":return Ba.stop()}},
oa,this)})),function(qa,pa){return ha.apply(this,arguments)})},{key:"fetchSlices",value:(R=e(kb.mark(function xa(pa,oa){var Ba,Na,ua,La,Fa,sa,ba,aa,ma,fa,Ga,Aa,ya,ra=this;return kb.wrap(function(Ca){for(;;)switch(Ca.prev=Ca.next){case 0:return Ca.next=2,this.client.request({headers:ne(ne({},this.headers),{},{Range:"bytes\x3d".concat(pa.map(function(Ma){var Oa=Ma.offset;Ma=Ma.length;return"".concat(Oa,"-").concat(Oa+Ma)}).join(","))}),signal:oa});case 2:if((Ba=Ca.sent).ok){Ca.next=7;break}throw Error("Error fetching data.");
case 7:if(206!==Ba.status){Ca.next=32;break}if(Na=ta(Ba.getHeader("content-type")),ua=Na.type,La=Na.params,"multipart/byteranges"!==ua){Ca.next=18;break}return Ca.t0=fb,Ca.next=13,Ba.getData();case 13:return Ca.t1=Ca.sent,Ca.t2=La.boundary,Fa=(0,Ca.t0)(Ca.t1,Ca.t2),this._fileSize=Fa[0].fileSize||null,Ca.abrupt("return",Fa);case 18:return Ca.next=20,Ba.getData();case 20:if(sa=Ca.sent,ba=Pa(Ba.getHeader("content-range")),aa=ba.start,ma=ba.end,fa=ba.total,this._fileSize=fa||null,Ga=[{data:sa,offset:aa,
length:ma-aa}],!(1<pa.length)){Ca.next=29;break}return Ca.next=27,Promise.all(pa.slice(1).map(function(Ma){return ra.fetchSlice(Ma,oa)}));case 27:return Aa=Ca.sent,Ca.abrupt("return",Ga.concat(Aa));case 29:return Ca.abrupt("return",Ga);case 32:if(this.allowFullFile){Ca.next=34;break}throw Error("Server responded with full file");case 34:return Ca.next=36,Ba.getData();case 36:return ya=Ca.sent,this._fileSize=ya.byteLength,Ca.abrupt("return",[{data:ya,offset:0,length:ya.byteLength}]);case 39:case "end":return Ca.stop()}},
xa,this)})),function(pa,oa){return R.apply(this,arguments)})},{key:"fetchSlice",value:(U=e(kb.mark(function Ba(oa,xa){var Na,ua,La,Fa,sa,ba,aa;return kb.wrap(function(ma){for(;;)switch(ma.prev=ma.next){case 0:return Na=oa.offset,ua=oa.length,ma.next=3,this.client.request({headers:ne(ne({},this.headers),{},{Range:"bytes\x3d".concat(Na,"-").concat(Na+ua)}),signal:xa});case 3:if((La=ma.sent).ok){ma.next=8;break}throw Error("Error fetching data.");case 8:if(206!==La.status){ma.next=17;break}return ma.next=
11,La.getData();case 11:return Fa=ma.sent,sa=Pa(La.getHeader("content-range")),ba=sa.total,this._fileSize=ba||null,ma.abrupt("return",{data:Fa,offset:Na,length:ua});case 17:if(this.allowFullFile){ma.next=19;break}throw Error("Server responded with full file");case 19:return ma.next=21,La.getData();case 21:return aa=ma.sent,this._fileSize=aa.byteLength,ma.abrupt("return",{data:aa,offset:0,length:aa.byteLength});case 24:case "end":return ma.stop()}},Ba,this)})),function(oa,xa){return U.apply(this,arguments)})},
{key:"fileSize",get:function(){return this._fileSize}}]),H}(ae),ff=function(V){function H(R){var ha;return A(this,H),(ha=U.call(this)).arrayBuffer=R,ha}k(H,V);var U=pe(H);return g(H,[{key:"fetchSlice",value:function(R,ha){if(ha&&ha.aborted)throw new Jd("Request aborted");return this.arrayBuffer.slice(R.offset,R.offset+R.length)}}]),H}(ae),kh=function(V){function H(ha){var da;return A(this,H),(da=R.call(this)).file=ha,da}k(H,V);var U,R=qe(H);return g(H,[{key:"fetchSlice",value:(U=e(kb.mark(function qa(da,
ja){var pa=this;return kb.wrap(function(oa){for(;;)switch(oa.prev=oa.next){case 0:return oa.abrupt("return",new Promise(function(xa,Ba){var Na=pa.file.slice(da.offset,da.offset+da.length),ua=new FileReader;ua.onload=function(La){return xa(La.target.result)};ua.onerror=Ba;ua.onabort=Ba;ua.readAsArrayBuffer(Na);ja&&ja.addEventListener("abort",function(){return ua.abort()})}));case 1:case "end":return oa.stop()}},qa)})),function(da,ja){return U.apply(this,arguments)})}]),H}(ae),gf=function(V){function H(da){var ja;
return A(this,H),(ja=ha.call(this)).path=da,ja.openRequest=function(qa,pa){var oa=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;return new Promise(function(xa,Ba){lc.open(qa,pa,oa,function(Na,ua){Na?Ba(Na):xa(ua)})})}(da,"r"),ja}k(H,V);var U,R,ha=ni(H);return g(H,[{key:"fetchSlice",value:(R=e(kb.mark(function qa(ja){var pa,oa,xa;return kb.wrap(function(Ba){for(;;)switch(Ba.prev=Ba.next){case 0:return Ba.next=2,this.openRequest;case 2:return pa=Ba.sent,Ba.next=5,Cf(pa,J.alloc(ja.length),
0,ja.length,ja.offset);case 5:return oa=Ba.sent,xa=oa.buffer,Ba.abrupt("return",xa.buffer);case 8:case "end":return Ba.stop()}},qa,this)})),function(ja){return R.apply(this,arguments)})},{key:"close",value:(U=e(kb.mark(function qa(){var pa;return kb.wrap(function(oa){for(;;)switch(oa.prev=oa.next){case 0:return oa.next=2,this.openRequest;case 2:return pa=oa.sent,oa.next=5,oi(pa);case 5:case "end":return oa.stop()}},qa,this)})),function(){return U.apply(this,arguments)})}]),H}(ae),lh=$a(Dc),$f=$a(Dd),
Vc={};wa(Vc,lh);wa(Vc,$f);var mh=$a(sd),mc={nextZero:function(V,H){for(;0!==V[H];)H++;return H},readUshort:function(V,H){return V[H]<<8|V[H+1]},readShort:function(V,H){var U=mc.ui8;return U[0]=V[H+1],U[1]=V[H+0],mc.i16[0]},readInt:function(V,H){var U=mc.ui8;return U[0]=V[H+3],U[1]=V[H+2],U[2]=V[H+1],U[3]=V[H+0],mc.i32[0]},readUint:function(V,H){var U=mc.ui8;return U[0]=V[H+3],U[1]=V[H+2],U[2]=V[H+1],U[3]=V[H+0],mc.ui32[0]},readASCII:function(V,H,U){return U.map(function(R){return String.fromCharCode(V[H+
R])}).join("")},readFloat:function(V,H){var U=mc.ui8;return jb(4,function(R){U[R]=V[H+3-R]}),mc.fl32[0]},readDouble:function(V,H){var U=mc.ui8;return jb(8,function(R){U[R]=V[H+7-R]}),mc.fl64[0]},writeUshort:function(V,H,U){V[H]=U>>8&255;V[H+1]=255&U},writeUint:function(V,H,U){V[H]=U>>24&255;V[H+1]=U>>16&255;V[H+2]=U>>8&255;V[H+3]=U>>0&255},writeASCII:function(V,H,U){jb(U.length,function(R){V[H+R]=U.charCodeAt(R)})},ui8:new Uint8Array(8)};mc.fl64=new Float64Array(mc.ui8.buffer);mc.writeDouble=function(V,
H,U){mc.fl64[0]=U;jb(8,function(R){V[H+R]=mc.ui8[7-R]})};var ag=function(V){var H=new Uint8Array(1E3),U=4,R=mc;H[0]=77;H[1]=77;H[3]=42;var ha=8;if(R.writeUint(H,U,ha),U+=4,V.forEach(function(ja,qa){ja=function(pa,oa,xa,Ba){var Na=xa;xa=Object.keys(Ba).filter(function(sa){return null!=sa&&"undefined"!==sa});pa.writeUshort(oa,Na,xa.length);var ua,La=(Na+=2)+12*xa.length+4;xa=Af(xa);try{var Fa=function(){var sa=ua.value,ba=null;"number"==typeof sa?ba=sa:"string"==typeof sa&&(ba=parseInt(sa,10));var aa=
rd[ba],ma=mh[aa];if(null==aa||void 0===aa||void 0===aa)throw Error("unknown type of tag: ".concat(ba));var fa=Ba[sa];if(void 0===fa)throw Error("failed to get value for key ".concat(sa));"ASCII"===aa&&"string"==typeof fa&&!1===Ra(fa,"\x00")&&(fa+="\x00");sa=fa.length;pa.writeUshort(oa,Na,ba);Na+=2;pa.writeUshort(oa,Na,ma);Na+=2;pa.writeUint(oa,Na,sa);ba=[-1,1,1,2,4,8,0,0,0,0,0,0,8][ma]*sa;var Ga=Na+=4;4<ba&&(pa.writeUint(oa,Na,La),Ga=La);"ASCII"===aa?pa.writeASCII(oa,Ga,fa):"SHORT"===aa?jb(sa,function(Aa){pa.writeUshort(oa,
Ga+2*Aa,fa[Aa])}):"LONG"===aa?jb(sa,function(Aa){pa.writeUint(oa,Ga+4*Aa,fa[Aa])}):"RATIONAL"===aa?jb(sa,function(Aa){pa.writeUint(oa,Ga+8*Aa,Math.round(1E4*fa[Aa]));pa.writeUint(oa,Ga+8*Aa+4,1E4)}):"DOUBLE"===aa&&jb(sa,function(Aa){pa.writeDouble(oa,Ga+8*Aa,fa[Aa])});4<ba&&(La+=ba+=1&ba);Na+=4};for(xa.s();!(ua=xa.n()).done;)Fa()}catch(sa){xa.e(sa)}finally{xa.f()}return[Na,La]}(R,H,ha,ja);ha=ja[1];qa<V.length-1&&R.writeUint(H,ja[0],ha)}),H.slice)return H.slice(0,ha).buffer;U=new Uint8Array(ha);for(var da=
0;da<ha;da++)U[da]=H[da];return U.buffer},Ce=[["Compression",1],["PlanarConfiguration",1],["ExtraSamples",0]],De=function(){function V(){A(this,V)}return g(V,[{key:"log",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}},{key:"time",value:function(){}},{key:"timeEnd",value:function(){}}]),V}();new De;var od=function(){function V(){A(this,V)}var H;return g(V,[{key:"decode",value:(H=e(kb.mark(function da(R,
ha){var ja,qa,pa,oa,xa;return kb.wrap(function(Ba){for(;;)switch(Ba.prev=Ba.next){case 0:return Ba.next=2,this.decodeBlock(ha);case 2:if(ja=Ba.sent,1===(qa=R.Predictor||1)){Ba.next=9;break}oa=(pa=!R.StripOffsets)?R.TileWidth:R.ImageWidth;xa=pa?R.TileLength:R.RowsPerStrip||R.ImageLength;var Na=Ba.abrupt;var ua=ja;var La=qa,Fa=oa,sa=xa,ba=R.BitsPerSample;if(La&&1!==La){for(var aa=0;aa<ba.length;++aa){if(0!=ba[aa]%8)throw Error("When decoding with predictor, only multiple of 8 bits are supported.");
if(ba[aa]!==ba[0])throw Error("When decoding with predictor, all samples must have the same size.");}aa=ba[0]/8;for(var ma=2===R.PlanarConfiguration?1:ba.length,fa=0;fa<sa&&!(fa*ma*Fa*aa>=ua.byteLength);++fa)if(2===La){switch(ba[0]){case 8:var Ga=new Uint8Array(ua,fa*ma*Fa*aa,ma*Fa*aa);break;case 16:Ga=new Uint16Array(ua,fa*ma*Fa*aa,ma*Fa*aa/2);break;case 32:Ga=new Uint32Array(ua,fa*ma*Fa*aa,ma*Fa*aa/4);break;default:throw Error("Predictor 2 not allowed with ".concat(ba[0]," bits per sample."));}var Aa=
ma,ya=Ga.length-Aa,ra=0;do{for(var Ca=Aa;0<Ca;Ca--)Ga[ra+Aa]+=Ga[ra],ra++;ya-=Aa}while(0<ya)}else if(3===La){Ga=new Uint8Array(ua,fa*ma*Fa*aa,ma*Fa*aa);ra=ma;Aa=aa;Ca=0;var Ma=Ga.length;for(ya=Ma/Aa;Ma>ra;){for(var Oa=ra;0<Oa;--Oa)Ga[Ca+ra]+=Ga[Ca],++Ca;Ma-=ra}ra=Ga.slice();for(Ca=0;Ca<ya;++Ca)for(Ma=0;Ma<Aa;++Ma)Ga[Aa*Ca+Ma]=ra[(Aa-Ma-1)*ya+Ca]}}return Na.call(Ba,"return",ua);case 9:return Ba.abrupt("return",ja);case 10:case "end":return Ba.stop()}},da,this)})),function(R,ha){return H.apply(this,
arguments)})}]),V}(),oh=function ha(H,U,R){A(this,ha);this.fileDirectory=H;this.geoKeyDirectory=U;this.nextIFDByteOffset=R},cd=function(H){function U(ha){var da;return A(this,U),(da=R.call(this,"No image at index ".concat(ha))).index=ha,da}k(U,H);var R=Ue(U);return U}(q(Error)),hf=function(){function H(){A(this,H)}var U;return g(H,[{key:"readRasters",value:(U=e(kb.mark(function ha(){var da,ja,qa,pa,oa,xa,Ba,Na,ua,La,Fa,sa,ba,aa,ma,fa,Ga,Aa,ya,ra,Ca,Ma,Oa,Ua,Ia,za,Ka,Wa,hb,ob,Sa,Xa,bb,ub,Fb,Ab,Lb,
Hb,Qb,pc=arguments;return kb.wrap(function(Db){for(;;)switch(Db.prev=Db.next){case 0:return da=0<pc.length&&void 0!==pc[0]?pc[0]:{},ja=da.window,qa=da.width,pa=da.height,oa=da.resX,xa=da.resY,Ba=da.bbox,Db.next=5,this.getImage();case 5:return Na=Db.sent,ua=Na,Db.next=9,this.getImageCount();case 9:if(La=Db.sent,Fa=Na.getBoundingBox(),!ja||!Ba){Db.next=13;break}throw Error('Both "bbox" and "window" passed.');case 13:if(!qa&&!pa){Db.next=24;break}if(ja&&(sa=Na.getOrigin(),ba=f(sa,2),aa=ba[0],ma=ba[1],
fa=Na.getResolution(),Ga=f(fa,2),Aa=Ga[0],ya=Ga[1],Ba=[aa+ja[0]*Aa,ma+ja[1]*ya,aa+ja[2]*Aa,ma+ja[3]*ya]),ra=Ba||Fa,!qa){Db.next=20;break}if(!oa){Db.next=19;break}throw Error("Both width and resX passed");case 19:oa=(ra[2]-ra[0])/qa;case 20:if(!pa){Db.next=24;break}if(!xa){Db.next=23;break}throw Error("Both width and resY passed");case 23:xa=(ra[3]-ra[1])/pa;case 24:if(!oa&&!xa){Db.next=48;break}Ca=[];Ma=0;case 27:if(!(Ma<La)){Db.next=36;break}return Db.next=30,this.getImage(Ma);case 30:Oa=Db.sent,
Ua=Oa.fileDirectory,Ia=Ua.SubfileType,za=Ua.NewSubfileType,(0===Ma||2===Ia||1&za)&&Ca.push(Oa);case 33:++Ma;Db.next=27;break;case 36:Ca.sort(function(Gb,fd){return Gb.getWidth()-fd.getWidth()}),Ka=0;case 38:if(!(Ka<Ca.length)){Db.next=48;break}if(Wa=Ca[Ka],hb=(Fa[2]-Fa[0])/Wa.getWidth(),ob=(Fa[3]-Fa[1])/Wa.getHeight(),ua=Wa,!(oa&&oa>hb||xa&&xa>ob)){Db.next=45;break}return Db.abrupt("break",48);case 45:++Ka;Db.next=38;break;case 48:return Sa=ja,Ba&&(Xa=Na.getOrigin(),bb=f(Xa,2),ub=bb[0],Fb=bb[1],Ab=
ua.getResolution(Na),Lb=f(Ab,2),Hb=Lb[0],Qb=Lb[1],Sa=[Math.round((Ba[0]-ub)/Hb),Math.round((Ba[1]-Fb)/Qb),Math.round((Ba[2]-ub)/Hb),Math.round((Ba[3]-Fb)/Qb)],Sa=[Math.min(Sa[0],Sa[2]),Math.min(Sa[1],Sa[3]),Math.max(Sa[0],Sa[2]),Math.max(Sa[1],Sa[3])]),Db.abrupt("return",ua.readRasters(se(se({},da),{},{window:Sa})));case 51:case "end":return Db.stop()}},ha,this)})),function(){return U.apply(this,arguments)})}]),H}(),Jc=function(H){function U(Ba,Na,ua,La){var Fa,sa=4<arguments.length&&void 0!==arguments[4]?
arguments[4]:{};return A(this,U),(Fa=xa.call(this)).source=Ba,Fa.littleEndian=Na,Fa.bigTiff=ua,Fa.firstIFDOffset=La,Fa.cache=sa.cache||!1,Fa.ifdRequests=[],Fa.ghostValues=null,Fa}k(U,H);var R,ha,da,ja,qa,pa,oa,xa=Ue(U);return g(U,[{key:"getSlice",value:(oa=e(kb.mark(function La(Na,ua){var Fa;return kb.wrap(function(sa){for(;;)switch(sa.prev=sa.next){case 0:return Fa=this.bigTiff?4048:1024,sa.t0=dh,sa.next=4,this.source.fetch([{offset:Na,length:void 0!==ua?ua:Fa}]);case 4:return sa.t1=sa.sent[0],sa.t2=
Na,sa.t3=this.littleEndian,sa.t4=this.bigTiff,sa.abrupt("return",new sa.t0(sa.t1,sa.t2,sa.t3,sa.t4));case 9:case "end":return sa.stop()}},La,this)})),function(Na,ua){return oa.apply(this,arguments)})},{key:"parseFileDirectoryAt",value:(pa=e(kb.mark(function La(ua){var Fa,sa,ba,aa,ma,fa,Ga,Aa,ya,ra,Ca,Ma,Oa,Ua,Ia,za,Ka,Wa,hb,ob;return kb.wrap(function(Sa){for(;;)switch(Sa.prev=Sa.next){case 0:return Fa=this.bigTiff?20:12,sa=this.bigTiff?8:2,Sa.next=4,this.getSlice(ua);case 4:if(ba=Sa.sent,aa=this.bigTiff?
ba.readUint64(ua):ba.readUint16(ua),ma=aa*Fa+(this.bigTiff?16:6),ba.covers(ua,ma)){Sa.next=11;break}return Sa.next=10,this.getSlice(ua,ma);case 10:ba=Sa.sent;case 11:fa={},Ga=ua+(this.bigTiff?8:2),Aa=0;case 14:if(!(Aa<aa)){Sa.next=41;break}if(ya=ba.readUint16(Ga),ra=ba.readUint16(Ga+2),Ca=this.bigTiff?ba.readUint64(Ga+4):ba.readUint32(Ga+4),Ma=void 0,Oa=void 0,Ua=yc(ra),Ia=Ga+(this.bigTiff?12:8),!(Ua*Ca<=(this.bigTiff?8:4))){Sa.next=26;break}Ma=Vd(ba,ra,Ca,Ia);Sa.next=36;break;case 26:if(za=ba.readOffset(Ia),
Ka=yc(ra)*Ca,!ba.covers(za,Ka)){Sa.next=32;break}Ma=Vd(ba,ra,Ca,za);Sa.next=36;break;case 32:return Sa.next=34,this.getSlice(za,Ka);case 34:Wa=Sa.sent,Ma=Vd(Wa,ra,Ca,za);case 36:Oa=1===Ca&&-1===Ad.indexOf(ya)&&ra!==Eb.RATIONAL&&ra!==Eb.SRATIONAL?Ma[0]:Ma,fa[Dc[ya]]=Oa;case 38:Ga+=Fa;++Aa;Sa.next=14;break;case 41:var Xa=fa;var bb=Xa.GeoKeyDirectory;if(bb){for(var ub={},Fb=4;Fb<=4*bb[3];Fb+=4){var Ab=Dd[bb[Fb]],Lb=bb[Fb+1]?Dc[bb[Fb+1]]:null,Hb=bb[Fb+2],Qb=bb[Fb+3];if(Lb){if(null==(Lb=Xa[Lb]))throw Error("Could not get value of geoKey '".concat(Ab,
"'."));"string"==typeof Lb?Lb=Lb.substring(Qb,Qb+Hb-1):Lb.subarray&&(Lb=Lb.subarray(Qb,Qb+Hb),1===Hb&&(Lb=Lb[0]))}else Lb=Qb;ub[Ab]=Lb}Xa=ub}else Xa=null;return hb=Xa,ob=ba.readOffset(ua+sa+Fa*aa),Sa.abrupt("return",new oh(fa,hb,ob));case 44:case "end":return Sa.stop()}},La,this)})),function(ua){return pa.apply(this,arguments)})},{key:"requestIFD",value:(qa=e(kb.mark(function Fa(La){var sa=this;return kb.wrap(function(ba){for(;;)switch(ba.prev=ba.next){case 0:if(!this.ifdRequests[La]){ba.next=4;break}return ba.abrupt("return",
this.ifdRequests[La]);case 4:if(0!==La){ba.next=9;break}return this.ifdRequests[La]=this.parseFileDirectoryAt(this.firstIFDOffset),ba.abrupt("return",this.ifdRequests[La]);case 9:if(this.ifdRequests[La-1]){ba.next=19;break}ba.prev=10;this.ifdRequests[La-1]=this.requestIFD(La-1);ba.next=19;break;case 14:if(ba.prev=14,ba.t0=ba.catch(10),!(ba.t0 instanceof cd)){ba.next=18;break}throw new cd(La);case 18:throw ba.t0;case 19:return this.ifdRequests[La]=e(kb.mark(function ma(){var fa;return kb.wrap(function(Ga){for(;;)switch(Ga.prev=
Ga.next){case 0:return Ga.next=2,sa.ifdRequests[La-1];case 2:if(0!==(fa=Ga.sent).nextIFDByteOffset){Ga.next=5;break}throw new cd(La);case 5:return Ga.abrupt("return",sa.parseFileDirectoryAt(fa.nextIFDByteOffset));case 6:case "end":return Ga.stop()}},ma)}))(),ba.abrupt("return",this.ifdRequests[La]);case 21:case "end":return ba.stop()}},Fa,this,[[10,14]])})),function(La){return qa.apply(this,arguments)})},{key:"getImage",value:(ja=e(kb.mark(function Fa(){var sa,ba,aa=arguments;return kb.wrap(function(ma){for(;;)switch(ma.prev=
ma.next){case 0:return sa=0<aa.length&&void 0!==aa[0]?aa[0]:0,ma.next=3,this.requestIFD(sa);case 3:return ba=ma.sent,ma.abrupt("return",new Yc(ba.fileDirectory,ba.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source));case 5:case "end":return ma.stop()}},Fa,this)})),function(){return ja.apply(this,arguments)})},{key:"getImageCount",value:(da=e(kb.mark(function sa(){var ba,aa;return kb.wrap(function(ma){for(;;)switch(ma.prev=ma.next){case 0:ba=0,aa=!0;case 2:if(!aa){ma.next=18;break}return ma.prev=
3,ma.next=6,this.requestIFD(ba);case 6:++ba;ma.next=16;break;case 9:if(ma.prev=9,ma.t0=ma.catch(3),!(ma.t0 instanceof cd)){ma.next=15;break}aa=!1;ma.next=16;break;case 15:throw ma.t0;case 16:ma.next=2;break;case 18:return ma.abrupt("return",ba);case 19:case "end":return ma.stop()}},sa,this,[[3,9]])})),function(){return da.apply(this,arguments)})},{key:"getGhostValues",value:(ha=e(kb.mark(function ba(){var aa,ma,fa,Ga,Aa,ya,ra,Ca,Ma=this;return kb.wrap(function(Oa){for(;;)switch(Oa.prev=Oa.next){case 0:if(aa=
this.bigTiff?16:8,!this.ghostValues){Oa.next=3;break}return Oa.abrupt("return",this.ghostValues);case 3:return fa=(ma="GDAL_STRUCTURAL_METADATA_SIZE\x3d").length+100,Oa.next=7,this.getSlice(aa,fa);case 7:if(Ga=Oa.sent,ma!==Vd(Ga,Eb.ASCII,ma.length,aa)){Oa.next=19;break}if(Aa=Vd(Ga,Eb.ASCII,fa,aa),ya=Aa.split("\n")[0],!((ra=Number(ya.split("\x3d")[1].split(" ")[0])+ya.length)>fa)){Oa.next=16;break}return Oa.next=15,this.getSlice(aa,ra);case 15:Ga=Oa.sent;case 16:Ca=Vd(Ga,Eb.ASCII,ra,aa),this.ghostValues=
{},Ca.split("\n").filter(function(Ua){return 0<Ua.length}).map(function(Ua){return Ua.split("\x3d")}).forEach(function(Ua){Ua=f(Ua,2);Ma.ghostValues[Ua[0]]=Ua[1]});case 19:return Oa.abrupt("return",this.ghostValues);case 20:case "end":return Oa.stop()}},ba,this)})),function(){return ha.apply(this,arguments)})},{key:"close",value:function(){return"function"==typeof this.source.close&&this.source.close()}}],[{key:"fromSource",value:(R=e(kb.mark(function Ga(aa,ma,fa){var Aa,ya,ra,Ca,Ma,Oa,Ua;return kb.wrap(function(Ia){for(;;)switch(Ia.prev=
Ia.next){case 0:return Ia.next=2,aa.fetch([{offset:0,length:1024}],fa);case 2:if(Aa=Ia.sent[0],ya=new Gd(Aa),18761!==(ra=ya.getUint16(0,0))){Ia.next=9;break}Ca=!0;Ia.next=14;break;case 9:if(19789!==ra){Ia.next=13;break}Ca=!1;Ia.next=14;break;case 13:throw new TypeError("Invalid byte order value.");case 14:if(42!==(Ma=ya.getUint16(2,Ca))){Ia.next=19;break}Oa=!1;Ia.next=27;break;case 19:if(43!==Ma){Ia.next=26;break}if(Oa=!0,8===ya.getUint16(4,Ca)){Ia.next=24;break}throw Error("Unsupported offset byte-size.");
case 24:Ia.next=27;break;case 26:throw new TypeError("Invalid magic number.");case 27:return Ua=Oa?ya.getUint64(8,Ca):ya.getUint32(4,Ca),Ia.abrupt("return",new U(aa,Ca,Oa,Ua,ma));case 29:case "end":return Ia.stop()}},Ga)})),function(aa,ma,fa){return R.apply(this,arguments)})}]),U}(hf),eg=function(H){function U(qa,pa){var oa;return A(this,U),(oa=ja.call(this)).mainFile=qa,oa.overviewFiles=pa,oa.imageFiles=[qa].concat(pa),oa.fileDirectoriesPerFile=null,oa.fileDirectoriesPerFileParsing=null,oa.imageCount=
null,oa}k(U,H);var R,ha,da,ja=Ue(U);return g(U,[{key:"parseFileDirectoriesPerFile",value:(da=e(kb.mark(function pa(){var oa;return kb.wrap(function(xa){for(;;)switch(xa.prev=xa.next){case 0:return oa=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(function(Ba){return Ba.parseFileDirectoryAt(Ba.firstIFDOffset)})),xa.next=3,Promise.all(oa);case 3:return this.fileDirectoriesPerFile=xa.sent,xa.abrupt("return",this.fileDirectoriesPerFile);case 5:case "end":return xa.stop()}},
pa,this)})),function(){return da.apply(this,arguments)})},{key:"getImage",value:(ha=e(kb.mark(function oa(){var xa,Ba,Na,ua,La,Fa,sa,ba=arguments;return kb.wrap(function(aa){for(;;)switch(aa.prev=aa.next){case 0:return xa=0<ba.length&&void 0!==ba[0]?ba[0]:0,aa.next=3,this.getImageCount();case 3:return aa.next=5,this.parseFileDirectoriesPerFile();case 5:ua=Na=Ba=0;case 8:if(!(ua<this.imageFiles.length)){aa.next=26;break}La=this.imageFiles[ua];Fa=0;case 11:if(!(Fa<this.imageCounts[ua])){aa.next=22;
break}if(xa!==Ba){aa.next=17;break}return aa.next=15,La.requestIFD(Na);case 15:return sa=aa.sent,aa.abrupt("return",new Yc(sa.fileDirectory,sa.geoKeyDirectory,La.dataView,La.littleEndian,La.cache,La.source));case 17:Ba++,Na++;case 19:Fa++;aa.next=11;break;case 22:Na=0;case 23:ua++;aa.next=8;break;case 26:throw new RangeError("Invalid image index");case 27:case "end":return aa.stop()}},oa,this)})),function(){return ha.apply(this,arguments)})},{key:"getImageCount",value:(R=e(kb.mark(function xa(){var Ba;
return kb.wrap(function(Na){for(;;)switch(Na.prev=Na.next){case 0:if(null===this.imageCount){Na.next=2;break}return Na.abrupt("return",this.imageCount);case 2:return Ba=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(function(ua){return ua.getImageCount()})),Na.next=5,Promise.all(Ba);case 5:return this.imageCounts=Na.sent,this.imageCount=this.imageCounts.reduce(function(ua,La){return ua+La},0),Na.abrupt("return",this.imageCount);case 8:case "end":return Na.stop()}},xa,this)})),function(){return R.apply(this,
arguments)})}]),U}(hf),fg=function(H){function U(){return A(this,U),R.apply(this,arguments)}k(U,H);var R=Rg(U);return g(U,[{key:"decodeBlock",value:function(ha){return ha}}]),U}(od),jf=Object.freeze({__proto__:null,default:fg}),gg=function(H){function U(){return A(this,U),R.apply(this,arguments)}k(U,H);var R=Sg(U);return g(U,[{key:"decodeBlock",value:function(ha){return We(ha).buffer}}]),U}(od),sc=Object.freeze({__proto__:null,default:gg}),Kd=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,
5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),hg=function(){function H(){A(this,H);this.adobe=this.jfif=null;this.quantizationTables=[];this.huffmanTablesAC=[];this.huffmanTablesDC=[];this.resetFrames()}return g(H,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(U){function R(){var Fa=U[da]<<8|U[da+1];return da+=2,Fa}function ha(Fa){var sa,ba,aa=0,ma=0;for(ba in Fa.components)Fa.components.hasOwnProperty(ba)&&
(aa<(sa=Fa.components[ba]).h&&(aa=sa.h),ma<sa.v&&(ma=sa.v));var fa=Math.ceil(Fa.samplesPerLine/8/aa),Ga=Math.ceil(Fa.scanLines/8/ma);for(ba in Fa.components)if(Fa.components.hasOwnProperty(ba)){sa=Fa.components[ba];for(var Aa=Math.ceil(Math.ceil(Fa.samplesPerLine/8)*sa.h/aa),ya=Math.ceil(Math.ceil(Fa.scanLines/8)*sa.v/ma),ra=fa*sa.h,Ca=Ga*sa.v,Ma=[],Oa=0;Oa<Ca;Oa++){for(var Ua=[],Ia=0;Ia<ra;Ia++)Ua.push(new Int32Array(64));Ma.push(Ua)}sa.blocksPerLine=Aa;sa.blocksPerColumn=ya;sa.blocks=Ma}Fa.maxH=
aa;Fa.maxV=ma;Fa.mcusPerLine=fa;Fa.mcusPerColumn=Ga}var da=0,ja,qa,pa=R();if(65496!==pa)throw Error("SOI not found");for(pa=R();65497!==pa;){switch(pa){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var oa=(ja=void 0,qa=void 0,ja=R(),qa=U.subarray(da,da+ja-2),da+=qa.length,qa);65504===pa&&74===oa[0]&&70===oa[1]&&73===oa[2]&&70===oa[3]&&0===oa[4]&&
(this.jfif={version:{major:oa[5],minor:oa[6]},densityUnits:oa[7],xDensity:oa[8]<<8|oa[9],yDensity:oa[10]<<8|oa[11],thumbWidth:oa[12],thumbHeight:oa[13],thumbData:oa.subarray(14,14+3*oa[12]*oa[13])});65518===pa&&65===oa[0]&&100===oa[1]&&111===oa[2]&&98===oa[3]&&101===oa[4]&&0===oa[5]&&(this.adobe={version:oa[6],flags0:oa[7]<<8|oa[8],flags1:oa[9]<<8|oa[10],transformCode:oa[11]});break;case 65499:for(pa=R()+da-2;da<pa;){oa=U[da++];var xa=new Int32Array(64);if(0==oa>>4)for(var Ba=0;64>Ba;Ba++)xa[Kd[Ba]]=
U[da++];else{if(1!=oa>>4)throw Error("DQT: invalid table spec");for(Ba=0;64>Ba;Ba++)xa[Kd[Ba]]=R()}this.quantizationTables[15&oa]=xa}break;case 65472:case 65473:case 65474:R();pa={extended:65473===pa,progressive:65474===pa,precision:U[da++],scanLines:R(),samplesPerLine:R(),components:{},componentsOrder:[]};oa=U[da++];xa=void 0;for(Ba=0;Ba<oa;Ba++){xa=U[da];var Na=U[da+1]>>4,ua=15&U[da+1],La=U[da+2];pa.componentsOrder.push(xa);pa.components[xa]={h:Na,v:ua,quantizationIdx:La};da+=3}ha(pa);this.frames.push(pa);
break;case 65476:pa=R();for(oa=2;oa<pa;){xa=U[da++];Ba=new Uint8Array(16);for(ua=Na=0;16>ua;ua++,da++)Ba[ua]=U[da],Na+=Ba[ua];ua=new Uint8Array(Na);for(La=0;La<Na;La++,da++)ua[La]=U[da];oa+=17+Na;0==xa>>4?this.huffmanTablesDC[15&xa]=If(Ba,ua):this.huffmanTablesAC[15&xa]=If(Ba,ua)}break;case 65501:R();this.resetInterval=R();break;case 65498:R();xa=U[da++];pa=[];oa=this.frames[0];for(Ba=0;Ba<xa;Ba++)Na=oa.components[U[da++]],ua=U[da++],Na.huffmanTableDC=this.huffmanTablesDC[ua>>4],Na.huffmanTableAC=
this.huffmanTablesAC[15&ua],pa.push(Na);xa=U[da++];Ba=U[da++];Na=U[da++];pa=Tg(U,da,oa,pa,this.resetInterval,xa,Ba,Na>>4,15&Na);da+=pa;break;case 65535:255!==U[da]&&da--;break;default:if(255===U[da-3]&&192<=U[da-2]&&254>=U[da-2])da-=3;else throw Error("unknown JPEG marker ".concat(pa.toString(16)));}pa=R()}}},{key:"getResult",value:function(){var U=this.frames;if(0===this.frames.length)throw Error("no frames were decoded");1<this.frames.length&&console.warn("more than one frame is not supported");
for(var R=0;R<this.frames.length;R++)for(var ha=this.frames[R].components,da=0,ja=Object.keys(ha);da<ja.length;da++){var qa=ja[da];ha[qa].quantizationTable=this.quantizationTables[ha[qa].quantizationIdx];delete ha[qa].quantizationIdx}da=U[0];ja=da.components;qa=da.componentsOrder;U=[];R=da.samplesPerLine;ha=da.scanLines;for(var pa=0;pa<qa.length;pa++){for(var oa=ja[qa[pa]],xa=U,Ba=xa.push,Na=oa,ua=[],La=Na.blocksPerLine,Fa=Na.blocksPerColumn,sa=La<<3,ba=new Int32Array(64),aa=new Uint8Array(64),ma=
0;ma<Fa;ma++){for(var fa=ma<<3,Ga=0;8>Ga;Ga++)ua.push(new Uint8Array(sa));for(Ga=0;Ga<La;Ga++){var Aa,ya=void 0,ra=void 0,Ca=void 0,Ma=void 0,Oa=void 0,Ua=void 0,Ia=void 0,za=void 0,Ka=void 0,Wa=Na.blocks[ma][Ga],hb=aa,ob=ba,Sa=Na.quantizationTable,Xa=ob;for(Aa=0;64>Aa;Aa++)Xa[Aa]=Wa[Aa]*Sa[Aa];for(Aa=0;8>Aa;++Aa)Wa=8*Aa,0!==Xa[1+Wa]||0!==Xa[2+Wa]||0!==Xa[3+Wa]||0!==Xa[4+Wa]||0!==Xa[5+Wa]||0!==Xa[6+Wa]||0!==Xa[7+Wa]?(Ka=5793*Xa[0+Wa]+128>>8,za=5793*Xa[4+Wa]+128>>8,Ia=Xa[2+Wa],Ua=Xa[6+Wa],Oa=2896*
(Xa[1+Wa]-Xa[7+Wa])+128>>8,ra=2896*(Xa[1+Wa]+Xa[7+Wa])+128>>8,Ma=Xa[3+Wa]<<4,Ca=Xa[5+Wa]<<4,ya=Ka-za+1>>1,Ka=Ka+za+1>>1,za=ya,ya=3784*Ia+1567*Ua+128>>8,Ia=1567*Ia-3784*Ua+128>>8,Ua=ya,ya=Oa-Ca+1>>1,Oa=Oa+Ca+1>>1,Ca=ya,ya=ra+Ma+1>>1,Ma=ra-Ma+1>>1,ra=ya,ya=Ka-Ua+1>>1,Ka=Ka+Ua+1>>1,Ua=ya,ya=za-Ia+1>>1,za=za+Ia+1>>1,Ia=ya,ya=2276*Oa+3406*ra+2048>>12,Oa=3406*Oa-2276*ra+2048>>12,ra=ya,ya=799*Ma+4017*Ca+2048>>12,Ma=4017*Ma-799*Ca+2048>>12,Ca=ya,Xa[0+Wa]=Ka+ra,Xa[7+Wa]=Ka-ra,Xa[1+Wa]=za+Ca,Xa[6+Wa]=za-Ca,
Xa[2+Wa]=Ia+Ma,Xa[5+Wa]=Ia-Ma,Xa[3+Wa]=Ua+Oa,Xa[4+Wa]=Ua-Oa):(ya=5793*Xa[0+Wa]+512>>10,Xa[0+Wa]=ya,Xa[1+Wa]=ya,Xa[2+Wa]=ya,Xa[3+Wa]=ya,Xa[4+Wa]=ya,Xa[5+Wa]=ya,Xa[6+Wa]=ya,Xa[7+Wa]=ya);for(Aa=0;8>Aa;++Aa)Wa=Aa,0!==Xa[8+Wa]||0!==Xa[16+Wa]||0!==Xa[24+Wa]||0!==Xa[32+Wa]||0!==Xa[40+Wa]||0!==Xa[48+Wa]||0!==Xa[56+Wa]?(Ka=5793*Xa[0+Wa]+2048>>12,za=5793*Xa[32+Wa]+2048>>12,Ia=Xa[16+Wa],Ua=Xa[48+Wa],Oa=2896*(Xa[8+Wa]-Xa[56+Wa])+2048>>12,ra=2896*(Xa[8+Wa]+Xa[56+Wa])+2048>>12,Ma=Xa[24+Wa],Ca=Xa[40+Wa],ya=Ka-za+
1>>1,Ka=Ka+za+1>>1,za=ya,ya=3784*Ia+1567*Ua+2048>>12,Ia=1567*Ia-3784*Ua+2048>>12,Ua=ya,ya=Oa-Ca+1>>1,Oa=Oa+Ca+1>>1,Ca=ya,ya=ra+Ma+1>>1,Ma=ra-Ma+1>>1,ra=ya,ya=Ka-Ua+1>>1,Ka=Ka+Ua+1>>1,Ua=ya,ya=za-Ia+1>>1,za=za+Ia+1>>1,Ia=ya,ya=2276*Oa+3406*ra+2048>>12,Oa=3406*Oa-2276*ra+2048>>12,ra=ya,ya=799*Ma+4017*Ca+2048>>12,Ma=4017*Ma-799*Ca+2048>>12,Ca=ya,Xa[0+Wa]=Ka+ra,Xa[56+Wa]=Ka-ra,Xa[8+Wa]=za+Ca,Xa[48+Wa]=za-Ca,Xa[16+Wa]=Ia+Ma,Xa[40+Wa]=Ia-Ma,Xa[24+Wa]=Ua+Oa,Xa[32+Wa]=Ua-Oa):(ya=5793*ob[Aa+0]+8192>>14,Xa[0+
Wa]=ya,Xa[8+Wa]=ya,Xa[16+Wa]=ya,Xa[24+Wa]=ya,Xa[32+Wa]=ya,Xa[40+Wa]=ya,Xa[48+Wa]=ya,Xa[56+Wa]=ya);for(Aa=0;64>Aa;++Aa)ya=128+(Xa[Aa]+8>>4),hb[Aa]=0>ya?0:255<ya?255:ya;Aa=0;hb=Ga<<3;for(Xa=0;8>Xa;Xa++)for(ya=ua[fa+Xa],ra=0;8>ra;ra++)ya[hb+ra]=aa[Aa++]}}Ba.call(xa,{lines:ua,scaleX:oa.h/da.maxH,scaleY:oa.v/da.maxV})}da=new Uint8Array(R*ha*U.length);for(qa=ja=0;qa<ha;++qa)for(pa=0;pa<R;++pa)for(oa=0;oa<U.length;++oa)xa=U[oa],da[ja]=xa.lines[0|qa*xa.scaleY][0|pa*xa.scaleX],++ja;return da}}]),H}(),kg=function(H){function U(ha){var da;
return A(this,U),(da=R.call(this)).reader=new hg,ha.JPEGTables&&da.reader.parse(ha.JPEGTables),da}k(U,H);var R=ti(U);return g(U,[{key:"decodeBlock",value:function(ha){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(ha)),this.reader.getResult().buffer}}]),U}(od),dd=Object.freeze({__proto__:null,default:kg});Wd(Array(576));Wd(Array(60));Wd(Array(512));Wd(Array(256));Wd(Array(29));Wd(Array(30));var Fc=function(H,U,R,ha){var da=65535&H|0;H=H>>>16&65535|0;for(var ja;0!==R;){R-=ja=2E3<
R?2E3:R;do H=H+(da=da+U[ha++]|0)|0;while(--ja);da%=65521;H%=65521}return da|H<<16|0},Ge=new Uint32Array(function(){for(var H,U=[],R=0;256>R;R++){H=R;for(var ha=0;8>ha;ha++)H=1&H?3988292384^H>>>1:H>>>1;U[R]=H}return U}()),Oc=function(H,U,R,ha){R=ha+R;for(H^=-1;ha<R;ha++)H=H>>>8^Ge[255&(H^U[ha])];return-1^H},He={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},uh=function(H){for(var U=
Array.prototype.slice.call(arguments,1);U.length;){var R=U.shift();if(R){if("object"!==n(R))throw new TypeError(R+"must be non-object");for(var ha in R)Object.prototype.hasOwnProperty.call(R,ha)&&(H[ha]=R[ha])}}return H},lg=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(H){lg=!1}for(var he=new Uint8Array(256),pd=0;256>pd;pd++)he[pd]=252<=pd?6:248<=pd?5:240<=pd?4:224<=pd?3:192<=pd?2:1;he[254]=he[254]=1;var vh=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=
null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},wh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),xh=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yh=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ie=new Uint8Array([16,16,16,
16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie=function(H,U,R,ha,da,ja,qa,pa){var oa,xa,Ba,Na,ua,La,Fa=pa.bits,sa,ba,aa,ma,fa,Ga=0,Aa,ya=null,ra=0,Ca=new Uint16Array(16);var Ma=new Uint16Array(16);var Oa=null,Ua=0;for(sa=0;15>=sa;sa++)Ca[sa]=0;for(ba=0;ba<ha;ba++)Ca[U[R+ba]]++;var Ia=Fa;for(aa=15;1<=aa&&0===Ca[aa];aa--);if(Ia>aa&&(Ia=aa),0===aa)return da[ja++]=20971520,da[ja++]=20971520,pa.bits=1,0;for(Fa=1;Fa<aa&&0===Ca[Fa];Fa++);Ia<Fa&&(Ia=Fa);for(sa=
oa=1;15>=sa;sa++)if(oa<<=1,0>(oa-=Ca[sa]))return-1;if(0<oa&&(0===H||1!==aa))return-1;Ma[1]=0;for(sa=1;15>sa;sa++)Ma[sa+1]=Ma[sa]+Ca[sa];for(ba=0;ba<ha;ba++)0!==U[R+ba]&&(qa[Ma[U[R+ba]]++]=ba);if(0===H?(ya=Oa=qa,Na=19):1===H?(ya=wh,ra-=257,Oa=xh,Ua-=257,Na=256):(ya=yh,Oa=Ie,Na=-1),Aa=0,ba=0,sa=Fa,Ma=ja,ma=Ia,fa=0,Ba=-1,ha=(Ga=1<<Ia)-1,1===H&&852<Ga||2===H&&592<Ga)return 1;for(;;){var za=sa-fa;qa[ba]<Na?(ua=0,La=qa[ba]):qa[ba]>Na?(ua=Oa[Ua+qa[ba]],La=ya[ra+qa[ba]]):(ua=96,La=0);oa=1<<sa-fa;Fa=xa=1<<
ma;do da[Ma+(Aa>>fa)+(xa-=oa)]=za<<24|ua<<16|La|0;while(0!==xa);for(oa=1<<sa-1;Aa&oa;)oa>>=1;if(0!==oa?(Aa&=oa-1,Aa+=oa):Aa=0,ba++,0==--Ca[sa]){if(sa===aa)break;sa=U[R+qa[ba]]}if(sa>Ia&&(Aa&ha)!==Ba){0===fa&&(fa=Ia);Ma+=Fa;for(oa=1<<(ma=sa-fa);ma+fa<aa&&!(0>=(oa-=Ca[ma+fa]));)ma++,oa<<=1;if(Ga+=1<<ma,1===H&&852<Ga||2===H&&592<Ga)return 1;da[Ba=Aa&ha]=Ia<<24|ma<<16|Ma-ja|0}}return 0!==Aa&&(da[Ma+Aa]=sa-fa<<24|4194304),pa.bits=Ia,0},Je=function(H){return(H>>>24&255)+(H>>>8&65280)+((65280&H)<<8)+((255&
H)<<24)},je,lf,kf=function(H){if(!H||!H.state)return-2;var U=H.state;return H.total_in=H.total_out=U.total=0,H.msg="",U.wrap&&(H.adler=1&U.wrap),U.mode=1,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new Int32Array(852),U.distcode=U.distdyn=new Int32Array(592),U.sane=1,U.back=-1,0},mg=function(H){if(!H||!H.state)return-2;var U=H.state;return U.wsize=0,U.whave=0,U.wnext=0,kf(H)},ng=function(H,U){var R;if(!H||!H.state)return-2;var ha=H.state;return 0>U?(R=0,U=-U):
(R=1+(U>>4),48>U&&(U&=15)),U&&(8>U||15<U)?-2:(null!==ha.window&&ha.wbits!==U&&(ha.window=null),ha.wrap=R,ha.wbits=U,mg(H))},og=function(H,U){if(!H)return-2;var R=new ui;H.state=R;R.window=null;U=ng(H,U);return 0!==U&&(H.state=null),U},pg=!0,mf=function(H,U,R,ha){var da;H=H.state;return null===H.window&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new Uint8Array(H.wsize)),ha>=H.wsize?(H.window.set(U.subarray(R-H.wsize,R),0),H.wnext=0,H.whave=H.wsize):((da=H.wsize-H.wnext)>ha&&(da=ha),H.window.set(U.subarray(R-
ha,R-ha+da),H.wnext),(ha-=da)?(H.window.set(U.subarray(R-ha,R),0),H.wnext=ha,H.whave=H.wsize):(H.wnext+=da,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=da))),0},ed={inflateReset:mg,inflateReset2:ng,inflateResetKeep:kf,inflateInit:function(H){return og(H,15)},inflateInit2:og,inflate:function(H,U){var R,ha,da,ja,qa,pa,oa,xa=0,Ba=new Uint8Array(4),Na=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!H||!H.state||!H.output||!H.input&&0!==H.avail_in)return-2;12===(R=H.state).mode&&
(R.mode=13);var ua=H.next_out;var La=H.output;var Fa=H.avail_out;var sa=H.next_in;var ba=H.input;var aa=H.avail_in;var ma=R.hold;var fa=R.bits;var Ga=aa;var Aa=Fa;var ya=0;a:for(;;)switch(R.mode){case 1:if(0===R.wrap){R.mode=13;break}for(;16>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(2&R.wrap&&35615===ma){R.check=0;Ba[0]=255&ma;Ba[1]=ma>>>8&255;R.check=Oc(R.check,Ba,2,0);fa=ma=0;R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&ma)<<8)+(ma>>8))%31){H.msg="incorrect header check";
R.mode=30;break}if(8!==(15&ma)){H.msg="unknown compression method";R.mode=30;break}if(fa-=4,pa=8+(15&(ma>>>=4)),0===R.wbits)R.wbits=pa;else if(pa>R.wbits){H.msg="invalid window size";R.mode=30;break}R.dmax=1<<R.wbits;H.adler=R.check=1;R.mode=512&ma?10:12;fa=ma=0;break;case 2:for(;16>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(R.flags=ma,8!==(255&R.flags)){H.msg="unknown compression method";R.mode=30;break}if(57344&R.flags){H.msg="unknown header flags set";R.mode=30;break}R.head&&(R.head.text=
ma>>8&1);512&R.flags&&(Ba[0]=255&ma,Ba[1]=ma>>>8&255,R.check=Oc(R.check,Ba,2,0));fa=ma=0;R.mode=3;case 3:for(;32>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}R.head&&(R.head.time=ma);512&R.flags&&(Ba[0]=255&ma,Ba[1]=ma>>>8&255,Ba[2]=ma>>>16&255,Ba[3]=ma>>>24&255,R.check=Oc(R.check,Ba,4,0));fa=ma=0;R.mode=4;case 4:for(;16>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}R.head&&(R.head.xflags=255&ma,R.head.os=ma>>8);512&R.flags&&(Ba[0]=255&ma,Ba[1]=ma>>>8&255,R.check=Oc(R.check,Ba,2,0));fa=
ma=0;R.mode=5;case 5:if(1024&R.flags){for(;16>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}R.length=ma;R.head&&(R.head.extra_len=ma);512&R.flags&&(Ba[0]=255&ma,Ba[1]=ma>>>8&255,R.check=Oc(R.check,Ba,2,0));fa=ma=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&((ha=R.length)>aa&&(ha=aa),ha&&(R.head&&(pa=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Uint8Array(R.head.extra_len)),R.head.extra.set(ba.subarray(sa,sa+ha),pa)),512&R.flags&&(R.check=Oc(R.check,ba,ha,sa)),
aa-=ha,sa+=ha,R.length-=ha),R.length))break a;R.length=0;R.mode=7;case 7:if(2048&R.flags){if(0===aa)break a;ha=0;do pa=ba[sa+ha++],R.head&&pa&&65536>R.length&&(R.head.name+=String.fromCharCode(pa));while(pa&&ha<aa);if(512&R.flags&&(R.check=Oc(R.check,ba,ha,sa)),aa-=ha,sa+=ha,pa)break a}else R.head&&(R.head.name=null);R.length=0;R.mode=8;case 8:if(4096&R.flags){if(0===aa)break a;ha=0;do pa=ba[sa+ha++],R.head&&pa&&65536>R.length&&(R.head.comment+=String.fromCharCode(pa));while(pa&&ha<aa);if(512&R.flags&&
(R.check=Oc(R.check,ba,ha,sa)),aa-=ha,sa+=ha,pa)break a}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;16>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(ma!==(65535&R.check)){H.msg="header crc mismatch";R.mode=30;break}fa=ma=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0);H.adler=R.check=0;R.mode=12;break;case 10:for(;32>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}H.adler=R.check=Je(ma);fa=ma=0;R.mode=11;case 11:if(0===R.havedict)return H.next_out=ua,H.avail_out=
Fa,H.next_in=sa,H.avail_in=aa,R.hold=ma,R.bits=fa,2;H.adler=R.check=1;R.mode=12;case 12:if(5===U||6===U)break a;case 13:if(R.last){ma>>>=7&fa;fa-=7&fa;R.mode=27;break}for(;3>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}switch(R.last=1&ma,--fa,3&(ma>>>=1)){case 0:R.mode=14;break;case 1:var ra=R;if(pg){je=new Int32Array(512);lf=new Int32Array(32);for(ja=0;144>ja;)ra.lens[ja++]=8;for(;256>ja;)ra.lens[ja++]=9;for(;280>ja;)ra.lens[ja++]=7;for(;288>ja;)ra.lens[ja++]=8;ie(1,ra.lens,0,288,je,0,ra.work,
{bits:9});for(ja=0;32>ja;)ra.lens[ja++]=5;ie(2,ra.lens,0,32,lf,0,ra.work,{bits:5});pg=!1}ra.lencode=je;ra.lenbits=9;ra.distcode=lf;ra.distbits=5;if(R.mode=20,6===U){ma>>>=2;fa-=2;break a}break;case 2:R.mode=17;break;case 3:H.msg="invalid block type",R.mode=30}ma>>>=2;fa-=2;break;case 14:ma>>>=7&fa;for(fa-=7&fa;32>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if((65535&ma)!=(ma>>>16^65535)){H.msg="invalid stored block lengths";R.mode=30;break}if(R.length=65535&ma,ma=0,fa=0,R.mode=15,6===U)break a;
case 15:R.mode=16;case 16:if(ha=R.length){if(ha>aa&&(ha=aa),ha>Fa&&(ha=Fa),0===ha)break a;La.set(ba.subarray(sa,sa+ha),ua);aa-=ha;sa+=ha;Fa-=ha;ua+=ha;R.length-=ha;break}R.mode=12;break;case 17:for(;14>fa;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(R.nlen=257+(31&ma),ma>>>=5,fa-=5,R.ndist=1+(31&ma),ma>>>=5,fa-=5,R.ncode=4+(15&ma),ma>>>=4,fa-=4,286<R.nlen||30<R.ndist){H.msg="too many length or distance symbols";R.mode=30;break}R.have=0;R.mode=18;case 18:for(;R.have<R.ncode;){for(;3>fa;){if(0===
aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}R.lens[Na[R.have++]]=7&ma;ma>>>=3;fa-=3}for(;19>R.have;)R.lens[Na[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,oa={bits:R.lenbits},ya=ie(0,R.lens,0,19,R.lencode,0,R.work,oa),R.lenbits=oa.bits,ya){H.msg="invalid code lengths set";R.mode=30;break}R.have=0;R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;xa=R.lencode[ma&(1<<R.lenbits)-1],qa=65535&xa,!((ra=xa>>>24)<=fa);){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(16>qa)ma>>>=ra,fa-=ra,R.lens[R.have++]=
qa;else{if(16===qa){for(ja=ra+2;fa<ja;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(ma>>>=ra,fa-=ra,0===R.have){H.msg="invalid bit length repeat";R.mode=30;break}pa=R.lens[R.have-1];ha=3+(3&ma);ma>>>=2;fa-=2}else if(17===qa){for(ja=ra+3;fa<ja;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}fa-=ra;pa=0;ha=3+(7&(ma>>>=ra));ma>>>=3;fa-=3}else{for(ja=ra+7;fa<ja;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}fa-=ra;pa=0;ha=11+(127&(ma>>>=ra));ma>>>=7;fa-=7}if(R.have+ha>R.nlen+R.ndist){H.msg="invalid bit length repeat";
R.mode=30;break}for(;ha--;)R.lens[R.have++]=pa}}if(30===R.mode)break;if(0===R.lens[256]){H.msg="invalid code -- missing end-of-block";R.mode=30;break}if(R.lenbits=9,oa={bits:R.lenbits},ya=ie(1,R.lens,0,R.nlen,R.lencode,0,R.work,oa),R.lenbits=oa.bits,ya){H.msg="invalid literal/lengths set";R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,oa={bits:R.distbits},ya=ie(2,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,oa),R.distbits=oa.bits,ya){H.msg="invalid distances set";R.mode=30;break}if(R.mode=20,6===
U)break a;case 20:R.mode=21;case 21:if(6<=aa&&258<=Fa){H.next_out=ua;H.avail_out=Fa;H.next_in=sa;H.avail_in=aa;R.hold=ma;R.bits=fa;var Ca;aa=sa=void 0;var Ma=H,Oa=Ma.state;var Ua=Ma.next_in;La=Ma.input;var Ia=Ua+(Ma.avail_in-5);var za=Ma.next_out;ba=Ma.output;var Ka=za-(Aa-Ma.avail_out);var Wa=za+(Ma.avail_out-257);var hb=Oa.dmax;var ob=Oa.wsize;var Sa=Oa.whave;var Xa=Oa.wnext;var bb=Oa.window;qa=Oa.hold;ja=Oa.bits;ra=Oa.lencode;fa=Oa.distcode;ma=(1<<Oa.lenbits)-1;Fa=(1<<Oa.distbits)-1;b:do{15>ja&&
(qa+=La[Ua++]<<ja,ja+=8,qa+=La[Ua++]<<ja,ja+=8);var ub=ra[qa&ma];c:for(;;){if(qa>>>=aa=ub>>>24,ja-=aa,0===(aa=ub>>>16&255))ba[za++]=65535&ub;else{if(!(16&aa)){if(0==(64&aa)){ub=ra[(65535&ub)+(qa&(1<<aa)-1)];continue c}if(32&aa){Oa.mode=12;break b}Ma.msg="invalid literal/length code";Oa.mode=30;break b}ua=65535&ub;(aa&=15)&&(ja<aa&&(qa+=La[Ua++]<<ja,ja+=8),ua+=qa&(1<<aa)-1,qa>>>=aa,ja-=aa);15>ja&&(qa+=La[Ua++]<<ja,ja+=8,qa+=La[Ua++]<<ja,ja+=8);ub=fa[qa&Fa];d:for(;;){if(qa>>>=aa=ub>>>24,ja-=aa,!(16&
(aa=ub>>>16&255))){if(0==(64&aa)){ub=fa[(65535&ub)+(qa&(1<<aa)-1)];continue d}Ma.msg="invalid distance code";Oa.mode=30;break b}if(sa=65535&ub,ja<(aa&=15)&&(qa+=La[Ua++]<<ja,(ja+=8)<aa&&(qa+=La[Ua++]<<ja,ja+=8)),(sa+=qa&(1<<aa)-1)>hb){Ma.msg="invalid distance too far back";Oa.mode=30;break b}if(qa>>>=aa,ja-=aa,sa>(aa=za-Ka)){if((aa=sa-aa)>Sa&&Oa.sane){Ma.msg="invalid distance too far back";Oa.mode=30;break b}if(Ca=0,ub=bb,0===Xa){if(Ca+=ob-aa,aa<ua){ua-=aa;do ba[za++]=bb[Ca++];while(--aa);Ca=za-sa;
ub=ba}}else if(Xa<aa){if(Ca+=ob+Xa-aa,(aa-=Xa)<ua){ua-=aa;do ba[za++]=bb[Ca++];while(--aa);if(Ca=0,Xa<ua){ua-=aa=Xa;do ba[za++]=bb[Ca++];while(--aa);Ca=za-sa;ub=ba}}}else if(Ca+=Xa-aa,aa<ua){ua-=aa;do ba[za++]=bb[Ca++];while(--aa);Ca=za-sa;ub=ba}for(;2<ua;)ba[za++]=ub[Ca++],ba[za++]=ub[Ca++],ba[za++]=ub[Ca++],ua-=3;ua&&(ba[za++]=ub[Ca++],1<ua&&(ba[za++]=ub[Ca++]))}else{Ca=za-sa;do ba[za++]=ba[Ca++],ba[za++]=ba[Ca++],ba[za++]=ba[Ca++],ua-=3;while(2<ua);ua&&(ba[za++]=ba[Ca++],1<ua&&(ba[za++]=ba[Ca++]))}break}}break}}while(Ua<
Ia&&za<Wa);Ua-=ua=ja>>3;qa&=(1<<(ja-=ua<<3))-1;Ma.next_in=Ua;Ma.next_out=za;Ma.avail_in=Ua<Ia?Ia-Ua+5:5-(Ua-Ia);Ma.avail_out=za<Wa?Wa-za+257:257-(za-Wa);Oa.hold=qa;Oa.bits=ja;ua=H.next_out;La=H.output;Fa=H.avail_out;sa=H.next_in;ba=H.input;aa=H.avail_in;ma=R.hold;fa=R.bits;12===R.mode&&(R.back=-1);break}for(R.back=0;ja=(xa=R.lencode[ma&(1<<R.lenbits)-1])>>>16&255,qa=65535&xa,!((ra=xa>>>24)<=fa);){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(ja&&0==(240&ja)){bb=ra;Xa=ja;for(Sa=qa;ja=(xa=R.lencode[Sa+
((ma&(1<<bb+Xa)-1)>>bb)])>>>16&255,qa=65535&xa,!(bb+(ra=xa>>>24)<=fa);){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}ma>>>=bb;fa-=bb;R.back+=bb}if(ma>>>=ra,fa-=ra,R.back+=ra,R.length=qa,0===ja){R.mode=26;break}if(32&ja){R.back=-1;R.mode=12;break}if(64&ja){H.msg="invalid literal/length code";R.mode=30;break}R.extra=15&ja;R.mode=22;case 22:if(R.extra){for(ja=R.extra;fa<ja;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}R.length+=ma&(1<<R.extra)-1;ma>>>=R.extra;fa-=R.extra;R.back+=R.extra}R.was=R.length;
R.mode=23;case 23:for(;ja=(xa=R.distcode[ma&(1<<R.distbits)-1])>>>16&255,qa=65535&xa,!((ra=xa>>>24)<=fa);){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}if(0==(240&ja)){bb=ra;Xa=ja;for(Sa=qa;ja=(xa=R.distcode[Sa+((ma&(1<<bb+Xa)-1)>>bb)])>>>16&255,qa=65535&xa,!(bb+(ra=xa>>>24)<=fa);){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}ma>>>=bb;fa-=bb;R.back+=bb}if(ma>>>=ra,fa-=ra,R.back+=ra,64&ja){H.msg="invalid distance code";R.mode=30;break}R.offset=qa;R.extra=15&ja;R.mode=24;case 24:if(R.extra){for(ja=
R.extra;fa<ja;){if(0===aa)break a;aa--;ma+=ba[sa++]<<fa;fa+=8}R.offset+=ma&(1<<R.extra)-1;ma>>>=R.extra;fa-=R.extra;R.back+=R.extra}if(R.offset>R.dmax){H.msg="invalid distance too far back";R.mode=30;break}R.mode=25;case 25:if(0===Fa)break a;if(ha=Aa-Fa,R.offset>ha){if((ha=R.offset-ha)>R.whave&&R.sane){H.msg="invalid distance too far back";R.mode=30;break}ha>R.wnext?(ha-=R.wnext,da=R.wsize-ha):da=R.wnext-ha;ha>R.length&&(ha=R.length);ra=R.window}else ra=La,da=ua-R.offset,ha=R.length;ha>Fa&&(ha=Fa);
Fa-=ha;R.length-=ha;do La[ua++]=ra[da++];while(--ha);0===R.length&&(R.mode=21);break;case 26:if(0===Fa)break a;La[ua++]=R.length;Fa--;R.mode=21;break;case 27:if(R.wrap){for(;32>fa;){if(0===aa)break a;aa--;ma|=ba[sa++]<<fa;fa+=8}if(Aa-=Fa,H.total_out+=Aa,R.total+=Aa,Aa&&(H.adler=R.check=R.flags?Oc(R.check,La,Aa,ua-Aa):Fc(R.check,La,Aa,ua-Aa)),Aa=Fa,(R.flags?ma:Je(ma))!==R.check){H.msg="incorrect data check";R.mode=30;break}fa=ma=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;32>fa;){if(0===aa)break a;
aa--;ma+=ba[sa++]<<fa;fa+=8}if(ma!==(4294967295&R.total)){H.msg="incorrect length check";R.mode=30;break}fa=ma=0}R.mode=29;case 29:ya=1;break a;case 30:ya=-3;break a;case 31:return-4;default:return-2}return H.next_out=ua,H.avail_out=Fa,H.next_in=sa,H.avail_in=aa,R.hold=ma,R.bits=fa,(R.wsize||Aa!==H.avail_out&&30>R.mode&&(27>R.mode||4!==U))&&mf(H,H.output,H.next_out,Aa-H.avail_out),Ga-=H.avail_in,Aa-=H.avail_out,H.total_in+=Ga,H.total_out+=Aa,R.total+=Aa,R.wrap&&Aa&&(H.adler=R.check=R.flags?Oc(R.check,
La,Aa,H.next_out-Aa):Fc(R.check,La,Aa,H.next_out-Aa)),H.data_type=R.bits+(R.last?64:0)+(12===R.mode?128:0)+(20===R.mode||15===R.mode?256:0),(0===Ga&&0===Aa||4===U)&&0===ya&&(ya=-5),ya},inflateEnd:function(H){if(!H||!H.state)return-2;var U=H.state;return U.window&&(U.window=null),H.state=null,0},inflateGetHeader:function(H,U){if(!H||!H.state)return-2;H=H.state;return 0==(2&H.wrap)?-2:(H.head=U,U.done=!1,0)},inflateSetDictionary:function(H,U){var R,ha=U.length;return H&&H.state?0!==(R=H.state).wrap&&
11!==R.mode?-2:11===R.mode&&Fc(1,U,ha,0)!==R.check?-3:mf(H,U,ha,ha)?(R.mode=31,-4):(R.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},zh=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},qg=Object.prototype.toString;Xe.prototype.push=function(H,U){var R,ha,da=this.strm,ja=this.options.chunkSize,qa=this.options.dictionary;if(this.ended)return!1;U=U===~~U?U:!0===U?4:0;"[object ArrayBuffer]"===
qg.call(H)?da.input=new Uint8Array(H):da.input=H;da.next_in=0;for(da.avail_in=da.input.length;;){0===da.avail_out&&(da.output=new Uint8Array(ja),da.next_out=0,da.avail_out=ja);for(2===(R=ed.inflate(da,U))&&qa&&(0===(R=ed.inflateSetDictionary(da,qa))?R=ed.inflate(da,U):-3===R&&(R=2));0<da.avail_in&&1===R&&0<da.state.wrap&&0!==H[da.next_in];)ed.inflateReset(da),R=ed.inflate(da,U);switch(R){case -2:case -3:case 2:case -4:return this.onEnd(R),this.ended=!0,!1}if(ha=da.avail_out,da.next_out&&(0===da.avail_out||
1===R))if("string"===this.options.to){var pa=da.output;var oa=da.next_out;(oa=oa||pa.length)>pa.length&&(oa=pa.length);for(var xa=oa-1;0<=xa&&128==(192&pa[xa]);)xa--;pa=0>xa||0===xa?oa:xa+he[pa[xa]]>oa?xa:oa;oa=da.next_out-pa;var Ba,Na,ua=da.output,La=(xa=pa)||ua.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)xa=(new TextDecoder).decode(ua.subarray(0,xa));else{xa=Array(2*La);for(Na=Ba=0;Na<La;){var Fa=ua[Na++];if(128>Fa)xa[Ba++]=Fa;else{var sa=he[Fa];if(4<sa)xa[Ba++]=65533,
Na+=sa-1;else{for(Fa&=2===sa?31:3===sa?15:7;1<sa&&Na<La;)Fa=Fa<<6|63&ua[Na++],sa--;1<sa?xa[Ba++]=65533:65536>Fa?xa[Ba++]=Fa:(Fa-=65536,xa[Ba++]=55296|Fa>>10&1023,xa[Ba++]=56320|1023&Fa)}}}ua=Ba;if(65534>ua&&xa.subarray&&lg)xa=String.fromCharCode.apply(null,xa.length===ua?xa:xa.subarray(0,ua));else{La="";for(Ba=0;Ba<ua;Ba++)La+=String.fromCharCode(xa[Ba]);xa=La}}da.next_out=oa;da.avail_out=ja-oa;oa&&da.output.set(da.output.subarray(pa,pa+oa),0);this.onData(xa)}else this.onData(da.output.length===da.next_out?
da.output:da.output.subarray(0,da.next_out));if(0!==R||0!==ha){if(1===R)return R=ed.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,!0;if(0===da.avail_in)break}}return!0};Xe.prototype.onData=function(H){this.chunks.push(H)};Xe.prototype.onEnd=function(H){if(0===H)if("string"===this.options.to)this.result=this.chunks.join("");else{for(var U=this.chunks,R=0,ha=0,da=U.length;ha<da;ha++)R+=U[ha].length;R=new Uint8Array(R);da=ha=0;for(var ja=U.length;ha<ja;ha++){var qa=U[ha];R.set(qa,da);da+=qa.length}this.result=
R}this.chunks=[];this.err=H;this.msg=this.strm.msg};var Ah=function(H,U){U=new Xe(U);if(U.push(H),U.err)throw U.msg||He[U.err];return U.result},Bh=function(H){function U(){return A(this,U),R.apply(this,arguments)}k(U,H);var R=vi(U);return g(U,[{key:"decodeBlock",value:function(ha){return Ah(new Uint8Array(ha)).buffer}}]),U}(od),Mi=Object.freeze({__proto__:null,default:Bh}),Ki=function(H){function U(){return A(this,U),R.apply(this,arguments)}k(U,H);var R=wi(U);return g(U,[{key:"decodeBlock",value:function(ha){for(var da=
new DataView(ha),ja=[],qa=0;qa<ha.byteLength;++qa){var pa=da.getInt8(qa);if(0>pa){var oa=da.getUint8(qa+1);pa=-pa;for(var xa=0;xa<=pa;++xa)ja.push(oa);qa+=1}else{for(oa=0;oa<=pa;++oa)ja.push(da.getUint8(qa+oa+1));qa+=pa+1}}return(new Uint8Array(ja)).buffer}}]),U}(od),Ch=Object.freeze({__proto__:null,default:Ki}),rg={exports:{}};!function(H){!function(){var U,R,ha,da,ja,qa,pa,oa,xa=(U={defaultNoDataValue:-3.4027999387901484E38,decode:function(ua,La){var Fa=(La=La||{}).encodedMaskData||null===La.encodedMaskData;
ua=ja(ua,La.inputOffset||0,Fa);var sa=null!==La.noDataValue?La.noDataValue:U.defaultNoDataValue;Fa=R(ua,La.pixelType||Float32Array,La.encodedMaskData,sa,La.returnMask);sa={width:ua.width,height:ua.height,pixelData:Fa.resultPixels,minValue:Fa.minValue,maxValue:ua.pixels.maxValue,noDataValue:sa};return Fa.resultMask&&(sa.maskData=Fa.resultMask),La.returnEncodedMask&&ua.mask&&(sa.encodedMaskData=ua.mask.bitset?ua.mask.bitset:null),La.returnFileInfo&&(sa.fileInfo=ha(ua),La.computeUsedBitDepths&&(sa.fileInfo.bitDepths=
da(ua))),sa}},R=function(ua,La,Fa,sa,ba){var aa,ma,fa=0,Ga=ua.pixels.numBlocksX,Aa=ua.pixels.numBlocksY,ya=Math.floor(ua.width/Ga),ra=Math.floor(ua.height/Aa),Ca=2*ua.maxZError,Ma=Number.MAX_VALUE;Fa=Fa||(ua.mask?ua.mask.bitset:null);La=new La(ua.width*ua.height);ba&&Fa&&(ma=new Uint8Array(ua.width*ua.height));for(var Oa,Ua=new Float32Array(ya*ra),Ia=0;Ia<=Aa;Ia++){var za=Ia!==Aa?ra:ua.height%Aa;if(0!==za)for(var Ka=0;Ka<=Ga;Ka++){var Wa=Ka!==Ga?ya:ua.width%Ga;if(0!==Wa){var hb,ob,Sa,Xa,bb=Ia*ua.width*
ra+Ka*ya,ub=ua.width-Wa,Fb=ua.pixels.blocks[fa];if(2>Fb.encoding?(0===Fb.encoding?hb=Fb.rawData:(qa(Fb.stuffedData,Fb.bitsPerPixel,Fb.numValidPixels,Fb.offset,Ca,Ua,ua.pixels.maxValue),hb=Ua),ob=0):Sa=2===Fb.encoding?0:Fb.offset,Fa)for(Oa=0;Oa<za;Oa++){7&bb&&(Xa=Fa[bb>>3],Xa<<=7&bb);for(ba=0;ba<Wa;ba++)7&bb||(Xa=Fa[bb>>3]),128&Xa?(ma&&(ma[bb]=1),Ma=Ma>(aa=2>Fb.encoding?hb[ob++]:Sa)?aa:Ma,La[bb++]=aa):(ma&&(ma[bb]=0),La[bb++]=sa),Xa<<=1;bb+=ub}else if(2>Fb.encoding)for(Oa=0;Oa<za;Oa++){for(ba=0;ba<
Wa;ba++)Ma=Ma>(aa=hb[ob++])?aa:Ma,La[bb++]=aa;bb+=ub}else for(Ma=Ma>Sa?Sa:Ma,Oa=0;Oa<za;Oa++){for(ba=0;ba<Wa;ba++)La[bb++]=Sa;bb+=ub}if(1===Fb.encoding&&ob!==Fb.numValidPixels)throw"Block and Mask do not match";fa++}}}return{resultPixels:La,resultMask:ma,minValue:Ma}},ha=function(ua){return{fileIdentifierString:ua.fileIdentifierString,fileVersion:ua.fileVersion,imageType:ua.imageType,height:ua.height,width:ua.width,maxZError:ua.maxZError,eofOffset:ua.eofOffset,mask:ua.mask?{numBlocksX:ua.mask.numBlocksX,
numBlocksY:ua.mask.numBlocksY,numBytes:ua.mask.numBytes,maxValue:ua.mask.maxValue}:null,pixels:{numBlocksX:ua.pixels.numBlocksX,numBlocksY:ua.pixels.numBlocksY,numBytes:ua.pixels.numBytes,maxValue:ua.pixels.maxValue,noDataValue:ua.noDataValue}}},da=function(ua){for(var La=ua.pixels.numBlocksX*ua.pixels.numBlocksY,Fa={},sa=0;sa<La;sa++){var ba=ua.pixels.blocks[sa];0===ba.encoding?Fa.float32=!0:1===ba.encoding?Fa[ba.bitsPerPixel]=!0:Fa[0]=!0}return Object.keys(Fa)},ja=function(ua,La,Fa){var sa={},ba=
new Uint8Array(ua,La,10);if(sa.fileIdentifierString=String.fromCharCode.apply(null,ba),"CntZImage"!==sa.fileIdentifierString.trim())throw"Unexpected file identifier string: "+sa.fileIdentifierString;La+=10;ba=new DataView(ua,La,24);if(sa.fileVersion=ba.getInt32(0,!0),sa.imageType=ba.getInt32(4,!0),sa.height=ba.getUint32(8,!0),sa.width=ba.getUint32(12,!0),sa.maxZError=ba.getFloat64(16,!0),La+=24,!Fa)if(ba=new DataView(ua,La,16),sa.mask={},sa.mask.numBlocksY=ba.getUint32(0,!0),sa.mask.numBlocksX=ba.getUint32(4,
!0),sa.mask.numBytes=ba.getUint32(8,!0),sa.mask.maxValue=ba.getFloat32(12,!0),La+=16,0<sa.mask.numBytes){Fa=new Uint8Array(Math.ceil(sa.width*sa.height/8));var aa=(ba=new DataView(ua,La,sa.mask.numBytes)).getInt16(0,!0),ma=2,fa=0;do{if(0<aa)for(;aa--;)Fa[fa++]=ba.getUint8(ma++);else{var Ga=ba.getUint8(ma++);for(aa=-aa;aa--;)Fa[fa++]=Ga}aa=ba.getInt16(ma,!0);ma+=2}while(ma<sa.mask.numBytes);if(-32768!==aa||fa<Fa.length)throw"Unexpected end of mask RLE encoding";sa.mask.bitset=Fa;La+=sa.mask.numBytes}else 0==
(sa.mask.numBytes|sa.mask.numBlocksY|sa.mask.maxValue)&&(sa.mask.bitset=new Uint8Array(Math.ceil(sa.width*sa.height/8)));ba=new DataView(ua,La,16);sa.pixels={};sa.pixels.numBlocksY=ba.getUint32(0,!0);sa.pixels.numBlocksX=ba.getUint32(4,!0);sa.pixels.numBytes=ba.getUint32(8,!0);sa.pixels.maxValue=ba.getFloat32(12,!0);La+=16;Fa=sa.pixels.numBlocksX;ba=sa.pixels.numBlocksY;Fa+=0<sa.width%Fa?1:0;aa=ba+(0<sa.height%ba?1:0);sa.pixels.blocks=Array(Fa*aa);for(fa=ma=0;fa<aa;fa++)for(Ga=0;Ga<Fa;Ga++){var Aa=
0;ba=new DataView(ua,La,Math.min(10,ua.byteLength-La));var ya={};sa.pixels.blocks[ma++]=ya;var ra=ba.getUint8(0);if(Aa++,ya.encoding=63&ra,3<ya.encoding)throw"Invalid block encoding ("+ya.encoding+")";if(2!==ya.encoding){if(0!==ra&&2!==ra){if(ra>>=6,ya.offsetType=ra,2===ra)ya.offset=ba.getInt8(1),Aa++;else if(1===ra)ya.offset=ba.getInt16(1,!0),Aa+=2;else{if(0!==ra)throw"Invalid block offset type";ya.offset=ba.getFloat32(1,!0);Aa+=4}if(1===ya.encoding)if(ra=ba.getUint8(Aa),Aa++,ya.bitsPerPixel=63&
ra,ra>>=6,ya.numValidPixelsType=ra,2===ra)ya.numValidPixels=ba.getUint8(Aa),Aa++;else if(1===ra)ya.numValidPixels=ba.getUint16(Aa,!0),Aa+=2;else{if(0!==ra)throw"Invalid valid pixel count type";ya.numValidPixels=ba.getUint32(Aa,!0);Aa+=4}}if(La+=Aa,3!==ya.encoding)if(0===ya.encoding){Aa=(sa.pixels.numBytes-1)/4;if(Aa!==Math.floor(Aa))throw"uncompressed block has invalid length";ba=new ArrayBuffer(4*Aa);(new Uint8Array(ba)).set(new Uint8Array(ua,La,4*Aa));ba=new Float32Array(ba);ya.rawData=ba;La+=4*
Aa}else 1===ya.encoding&&(Aa=Math.ceil(ya.numValidPixels*ya.bitsPerPixel/8),ba=new ArrayBuffer(4*Math.ceil(Aa/4)),(new Uint8Array(ba)).set(new Uint8Array(ua,La,Aa)),ya.stuffedData=new Uint32Array(ba),La+=Aa)}else La++}return sa.eofOffset=La,sa},qa=function(ua,La,Fa,sa,ba,aa,ma){var fa,Ga,Aa=(1<<La)-1,ya=0,ra=0,Ca=Math.ceil((ma-sa)/ba);ua[ua.length-1]<<=8*(4*ua.length-Math.ceil(La*Fa/8));for(fa=0;fa<Fa;fa++){if(0===ra&&(Ga=ua[ya++],ra=32),ra>=La){var Ma=Ga>>>ra-La&Aa;ra-=La}else{var Oa=La-ra;Ma=(Ga&
Aa)<<Oa&Aa;Ma+=(Ga=ua[ya++])>>>(ra=32-Oa)}aa[fa]=Ma<Ca?sa+Ma*ba:ma}return aa},U),Ba=function(){var ua=function(ba,aa,ma,fa,Ga,Aa,ya,ra){var Ca,Ma,Oa,Ua,Ia=(1<<ma)-1,za=0,Ka=0;if(ba[ba.length-1]<<=8*(4*ba.length-Math.ceil(ma*fa/8)),Ga)for(Ca=0;Ca<fa;Ca++)0===Ka&&(Oa=ba[za++],Ka=32),Ka>=ma?(Ma=Oa>>>Ka-ma&Ia,Ka-=ma):(Ma=(Oa&Ia)<<(Ua=ma-Ka)&Ia,Ma+=(Oa=ba[za++])>>>(Ka=32-Ua)),aa[Ca]=Ga[Ma];else for(Ga=Math.ceil((ra-Aa)/ya),Ca=0;Ca<fa;Ca++)0===Ka&&(Oa=ba[za++],Ka=32),Ka>=ma?(Ma=Oa>>>Ka-ma&Ia,Ka-=ma):(Ma=
(Oa&Ia)<<(Ua=ma-Ka)&Ia,Ma+=(Oa=ba[za++])>>>(Ka=32-Ua)),aa[Ca]=Ma<Ga?Aa+Ma*ya:ra},La=function(ba,aa,ma,fa,Ga,Aa,ya,ra){var Ca,Ma,Oa,Ua,Ia=(1<<ma)-1,za=0,Ka=0,Wa=0;if(Ga)for(Ca=0;Ca<fa;Ca++)0===Ka&&(Oa=ba[za++],Ka=32,Wa=0),Ka>=ma?(Ma=Oa>>>Wa&Ia,Ka-=ma,Wa+=ma):(Ma=Oa>>>Wa&Ia,Ka=32-(Ua=ma-Ka),Ma|=((Oa=ba[za++])&(1<<Ua)-1)<<ma-Ua,Wa=Ua),aa[Ca]=Ga[Ma];else for(Ga=Math.ceil((ra-Aa)/ya),Ca=0;Ca<fa;Ca++)0===Ka&&(Oa=ba[za++],Ka=32,Wa=0),Ka>=ma?(Ma=Oa>>>Wa&Ia,Ka-=ma,Wa+=ma):(Ma=Oa>>>Wa&Ia,Ka=32-(Ua=ma-Ka),Ma|=
((Oa=ba[za++])&(1<<Ua)-1)<<ma-Ua,Wa=Ua),aa[Ca]=Ma<Ga?Aa+Ma*ya:ra;return aa},Fa={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(ba){for(var aa=65535,ma=65535,fa=ba.length,Ga=Math.floor(fa/2),Aa=0;Ga;){var ya=359<=Ga?359:Ga;Ga-=ya;do aa+=ba[Aa++]<<8,ma+=aa+=ba[Aa++];while(--ya);aa=(65535&aa)+(aa>>>16);ma=(65535&ma)+(ma>>>16)}return 1&fa&&(ma+=aa+=ba[Aa]<<8),((65535&ma)+(ma>>>16)<<16|(65535&aa)+(aa>>>16))>>>0},readHeaderInfo:function(ba,aa){var ma=aa.ptr,fa=new Uint8Array(ba,ma,6),Ga={};
if(Ga.fileIdentifierString=String.fromCharCode.apply(null,fa),0!==Ga.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+Ga.fileIdentifierString;ma+=6;var Aa;fa=new DataView(ba,ma,8);var ya=fa.getInt32(0,!0);if(Ga.fileVersion=ya,ma+=4,3<=ya&&(Ga.checksum=fa.getUint32(4,!0),ma+=4),fa=new DataView(ba,ma,12),Ga.height=fa.getUint32(0,!0),Ga.width=fa.getUint32(4,!0),ma+=8,4<=ya?(Ga.numDims=fa.getUint32(8,!0),ma+=4):Ga.numDims=1,fa=new DataView(ba,ma,40),
Ga.numValidPixel=fa.getUint32(0,!0),Ga.microBlockSize=fa.getInt32(4,!0),Ga.blobSize=fa.getInt32(8,!0),Ga.imageType=fa.getInt32(12,!0),Ga.maxZError=fa.getFloat64(16,!0),Ga.zMin=fa.getFloat64(24,!0),Ga.zMax=fa.getFloat64(32,!0),ma+=40,aa.headerInfo=Ga,aa.ptr=ma,3<=ya&&(Aa=4<=ya?52:48,this.computeChecksumFletcher32(new Uint8Array(ba,ma-Aa,Ga.blobSize-14))!==Ga.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(ba,aa){var ma=aa.headerInfo,fa=this.getDataTypeArray(ma.imageType),Ga=
ma.numDims*this.getDataTypeSize(ma.imageType),Aa=this.readSubArray(ba,aa.ptr,fa,Ga);ba=this.readSubArray(ba,aa.ptr+Ga,fa,Ga);aa.ptr+=2*Ga;Ga=!0;for(aa=0;aa<ma.numDims;aa++)if(Aa[aa]!==ba[aa]){Ga=!1;break}return ma.minValues=Aa,ma.maxValues=ba,Ga},readSubArray:function(ba,aa,ma,fa){if(ma===Uint8Array)ba=new Uint8Array(ba,aa,fa);else{var Ga=new ArrayBuffer(fa);(new Uint8Array(Ga)).set(new Uint8Array(ba,aa,fa));ba=new ma(Ga)}return ba},readMask:function(ba,aa){var ma=aa.ptr,fa=aa.headerInfo,Ga=fa.width*
fa.height;var Aa=fa.numValidPixel;var ya=new DataView(ba,ma,4);fa={};if(fa.numBytes=ya.getUint32(0,!0),ma+=4,(0===Aa||Ga===Aa)&&0!==fa.numBytes)throw"invalid mask";if(0===Aa)Aa=new Uint8Array(Math.ceil(Ga/8)),fa.bitset=Aa,ya=new Uint8Array(Ga),aa.pixels.resultMask=ya,ma+=fa.numBytes;else if(0<fa.numBytes){Aa=new Uint8Array(Math.ceil(Ga/8));ba=(ya=new DataView(ba,ma,fa.numBytes)).getInt16(0,!0);var ra=2,Ca=0;do{if(0<ba)for(;ba--;)Aa[Ca++]=ya.getUint8(ra++);else{var Ma=ya.getUint8(ra++);for(ba=-ba;ba--;)Aa[Ca++]=
Ma}ba=ya.getInt16(ra,!0);ra+=2}while(ra<fa.numBytes);if(-32768!==ba||Ca<Aa.length)throw"Unexpected end of mask RLE encoding";ya=new Uint8Array(Ga);for(ra=ba=0;ra<Ga;ra++)7&ra?(ba=Aa[ra>>3],ba<<=7&ra):ba=Aa[ra>>3],128&ba&&(ya[ra]=1);aa.pixels.resultMask=ya;fa.bitset=Aa;ma+=fa.numBytes}return aa.ptr=ma,aa.mask=fa,!0},readDataOneSweep:function(ba,aa,ma,fa){var Ga=aa.ptr,Aa=aa.headerInfo,ya=Aa.numDims,ra=Aa.width*Aa.height;Aa=Aa.numValidPixel*Fa.getDataTypeSize(Aa.imageType)*ya;var Ca=aa.pixels.resultMask;
if(ma===Uint8Array)ba=new Uint8Array(ba,Ga,Aa);else{var Ma=new ArrayBuffer(Aa);(new Uint8Array(Ma)).set(new Uint8Array(ba,Ga,Aa));ba=new ma(Ma)}if(ba.length===ra*ya)aa.pixels.resultPixels=fa?Fa.swapDimensionOrder(ba,ra,ya,ma,!0):ba;else if(aa.pixels.resultPixels=new ma(ra*ya),ma=0,1<ya)if(fa)for(fa=0;fa<ra;fa++){if(Ca[fa]){var Oa=fa;for(Ma=0;Ma<ya;Ma++,Oa+=ra)aa.pixels.resultPixels[Oa]=ba[ma++]}}else for(fa=0;fa<ra;fa++){if(Ca[fa])for(Oa=fa*ya,Ma=0;Ma<ya;Ma++)aa.pixels.resultPixels[Oa+Ma]=ba[ma++]}else for(fa=
0;fa<ra;fa++)Ca[fa]&&(aa.pixels.resultPixels[fa]=ba[ma++]);return Ga+=Aa,aa.ptr=Ga,!0},readHuffmanTree:function(ba,aa){var ma=this.HUFFMAN_LUT_BITS_MAX,fa=new DataView(ba,aa.ptr,16);if(aa.ptr+=16,2>fa.getInt32(0,!0))throw"unsupported Huffman version";var Ga=fa.getInt32(4,!0),Aa=fa.getInt32(8,!0);fa=fa.getInt32(12,!0);if(Aa>=fa)return!1;var ya=new Uint32Array(fa-Aa);Fa.decodeBits(ba,aa,ya);var ra,Ca,Ma,Oa=[];for(ra=Aa;ra<fa;ra++)Oa[Ca=ra-(ra<Ga?0:Ga)]={first:ya[ra-Aa],second:null};ra=ba.byteLength-
aa.ptr;ya=new ArrayBuffer(4*Math.ceil(ra/4));(new Uint8Array(ya)).set(new Uint8Array(ba,aa.ptr,ra));ba=new Uint32Array(ya);ya=aa=0;var Ua=ba[0];for(ra=Aa;ra<fa;ra++)0<(Ma=Oa[Ca=ra-(ra<Ga?0:Ga)].first)&&(Oa[Ca].second=Ua<<aa>>>32-Ma,32-aa>=Ma?32===(aa+=Ma)&&(aa=0,Ua=ba[++ya]):(aa+=Ma-32,Ua=ba[++ya],Oa[Ca].second|=Ua>>>32-aa));Ua=0;var Ia=new sa;for(ra=0;ra<Oa.length;ra++)void 0!==Oa[ra]&&(Ua=Math.max(Ua,Oa[ra].first));ma=Ua>=ma?ma:Ua;var za=[];for(ra=Aa;ra<fa;ra++)if(0<(Ma=Oa[Ca=ra-(ra<Ga?0:Ga)].first))if(Aa=
[Ma,Ca],Ma<=ma){Ca=Oa[Ca].second<<ma-Ma;var Ka=1<<ma-Ma;for(Ma=0;Ma<Ka;Ma++)za[Ca|Ma]=Aa}else for(Ca=Oa[Ca].second,Ka=Ia,--Ma;0<=Ma;Ma--)Ca>>>Ma&1?(Ka.right||(Ka.right=new sa),Ka=Ka.right):(Ka.left||(Ka.left=new sa),Ka=Ka.left),0!==Ma||Ka.val||(Ka.val=Aa[1]);return{decodeLut:za,numBitsLUTQick:ma,numBitsLUT:Ua,tree:Ia,stuffedData:ba,srcPtr:ya,bitPos:aa}},readHuffman:function(ba,aa,ma,fa){var Ga,Aa,ya,ra,Ca,Ma,Oa=aa.headerInfo.numDims,Ua=aa.headerInfo.height,Ia=aa.headerInfo.width,za=Ia*Ua;var Ka=this.readHuffmanTree(ba,
aa);ba=Ka.decodeLut;var Wa=Ka.tree,hb=Ka.stuffedData,ob=Ka.srcPtr,Sa=Ka.bitPos,Xa=Ka.numBitsLUTQick,bb=Ka.numBitsLUT,ub=0===aa.headerInfo.imageType?128:0,Fb=aa.pixels.resultMask,Ab=0;0<Sa&&(ob++,Sa=0);var Lb,Hb=hb[ob],Qb=1===aa.encodeMode,pc=new ma(za*Oa),Db=pc;if(2>Oa||Qb)for(Lb=0;Lb<Oa;Lb++)if(1<Oa&&(Db=new ma(pc.buffer,za*Lb,za),Ab=0),aa.headerInfo.numValidPixel===Ia*Ua)for(Ka=Ca=0;Ka<Ua;Ka++)for(ra=0;ra<Ia;ra++,Ca++){if(Ga=0,ya=Aa=Hb<<Sa>>>32-Xa,32-Sa<Xa&&(ya=Aa|=hb[ob+1]>>>64-Sa-Xa),ba[ya])Ga=
ba[ya][1],Sa+=ba[ya][0];else{ya=Aa=Hb<<Sa>>>32-bb;32-Sa<bb&&(ya=Aa|=hb[ob+1]>>>64-Sa-bb);var Gb=Wa;for(Ma=0;Ma<bb;Ma++)if(!(Gb=Aa>>>bb-Ma-1&1?Gb.right:Gb.left).left&&!Gb.right){Ga=Gb.val;Sa=Sa+Ma+1;break}}32<=Sa&&(Sa-=32,Hb=hb[++ob]);Gb=Ga-ub;Qb?(Gb+=0<ra?Ab:0<Ka?Db[Ca-Ia]:Ab,Gb&=255,Db[Ca]=Gb,Ab=Gb):Db[Ca]=Gb}else for(Ka=Ca=0;Ka<Ua;Ka++)for(ra=0;ra<Ia;ra++,Ca++){if(Fb[Ca]){if(Ga=0,ya=Aa=Hb<<Sa>>>32-Xa,32-Sa<Xa&&(ya=Aa|=hb[ob+1]>>>64-Sa-Xa),ba[ya])Ga=ba[ya][1],Sa+=ba[ya][0];else for(ya=Aa=Hb<<Sa>>>
32-bb,32-Sa<bb&&(ya=Aa|=hb[ob+1]>>>64-Sa-bb),Gb=Wa,Ma=0;Ma<bb;Ma++)if(!(Gb=Aa>>>bb-Ma-1&1?Gb.right:Gb.left).left&&!Gb.right){Ga=Gb.val;Sa=Sa+Ma+1;break}32<=Sa&&(Sa-=32,Hb=hb[++ob]);Gb=Ga-ub;Qb?(0<ra&&Fb[Ca-1]?Gb+=Ab:0<Ka&&Fb[Ca-Ia]?Gb+=Db[Ca-Ia]:Gb+=Ab,Gb&=255,Db[Ca]=Gb,Ab=Gb):Db[Ca]=Gb}}else for(Ka=Ca=0;Ka<Ua;Ka++)for(ra=0;ra<Ia;ra++)if(Ca=Ka*Ia+ra,!Fb||Fb[Ca])for(Lb=0;Lb<Oa;Lb++,Ca+=za){if(Ga=0,ya=Aa=Hb<<Sa>>>32-Xa,32-Sa<Xa&&(ya=Aa|=hb[ob+1]>>>64-Sa-Xa),ba[ya])Ga=ba[ya][1],Sa+=ba[ya][0];else for(ya=
Aa=Hb<<Sa>>>32-bb,32-Sa<bb&&(ya=Aa|=hb[ob+1]>>>64-Sa-bb),Gb=Wa,Ma=0;Ma<bb;Ma++)if(!(Gb=Aa>>>bb-Ma-1&1?Gb.right:Gb.left).left&&!Gb.right){Ga=Gb.val;Sa=Sa+Ma+1;break}32<=Sa&&(Sa-=32,Hb=hb[++ob]);Gb=Ga-ub;Db[Ca]=Gb}aa.ptr=aa.ptr+4*(ob+1)+(0<Sa?4:0);aa.pixels.resultPixels=pc;1<Oa&&!fa&&(aa.pixels.resultPixels=Fa.swapDimensionOrder(pc,za,Oa,ma))},decodeBits:function(ba,aa,ma,fa,Ga){var Aa=aa.headerInfo,ya=Aa.fileVersion,ra=0,Ca=new DataView(ba,aa.ptr,5<=ba.byteLength-aa.ptr?5:ba.byteLength-aa.ptr),Ma=
Ca.getUint8(0);ra++;var Oa=Ma>>6,Ua=0===Oa?4:3-Oa,Ia=0<(32&Ma);Oa=31&Ma;if(1===Ua)Ma=Ca.getUint8(ra),ra++;else if(2===Ua)Ma=Ca.getUint16(ra,!0),ra+=2;else{if(4!==Ua)throw"Invalid valid pixel count type";Ma=Ca.getUint32(ra,!0);ra+=4}Ua=2*Aa.maxZError;Ga=1<Aa.numDims?Aa.maxValues[Ga]:Aa.zMax;if(Ia){aa.counter.lut++;var za=Ca.getUint8(ra);ra++;Aa=Math.ceil((za-1)*Oa/8);Ia=Math.ceil(Aa/4);Ia=new ArrayBuffer(4*Ia);Ca=new Uint8Array(Ia);aa.ptr+=ra;Ca.set(new Uint8Array(ba,aa.ptr,Aa));var Ka=new Uint32Array(Ia);
aa.ptr+=Aa;for(Ca=0;za-1>>>Ca;)Ca++;Aa=Math.ceil(Ma*Ca/8);Ia=Math.ceil(Aa/4);Ia=new ArrayBuffer(4*Ia);(new Uint8Array(Ia)).set(new Uint8Array(ba,aa.ptr,Aa));ba=new Uint32Array(Ia);aa.ptr+=Aa;if(3<=ya){var Wa=za-1,hb;za=(1<<Oa)-1;var ob=0,Sa,Xa=0,bb=0;ra=aa=0;Aa=[];Ia=Math.ceil((Ga-fa)/Ua);for(Sa=0;Sa<Wa;Sa++)0===bb&&(hb=Ka[ob++],bb=32,ra=0),bb>=Oa?(aa=hb>>>ra&za,bb-=Oa,ra+=Oa):(aa=hb>>>ra&za,bb=32-(Xa=Oa-bb),aa|=((hb=Ka[ob++])&(1<<Xa)-1)<<Oa-Xa,ra=Xa),Aa[Sa]=aa<Ia?fa+aa*Ua:Ga;fa=(Aa.unshift(fa),Aa)}else{hb=
za-1;za=(1<<Oa)-1;aa=bb=Xa=ob=0;ra=[];Ka[Ka.length-1]<<=8*(4*Ka.length-Math.ceil(Oa*hb/8));Aa=Math.ceil((Ga-fa)/Ua);for(Sa=0;Sa<hb;Sa++)0===bb&&(Wa=Ka[ob++],bb=32),bb>=Oa?(aa=Wa>>>bb-Oa&za,bb-=Oa):(aa=(Wa&za)<<(Xa=Oa-bb)&za,aa+=(Wa=Ka[ob++])>>>(bb=32-Xa)),ra[Sa]=aa<Aa?fa+aa*Ua:Ga;fa=(ra.unshift(fa),ra)}3<=ya?La(ba,ma,Ca,Ma,fa):ua(ba,ma,Ca,Ma,fa)}else if(aa.counter.bitstuffer++,Ca=Oa,aa.ptr+=ra,0<Ca)if(Aa=Math.ceil(Ma*Ca/8),Ia=Math.ceil(Aa/4),Ia=new ArrayBuffer(4*Ia),(new Uint8Array(Ia)).set(new Uint8Array(ba,
aa.ptr,Aa)),ba=new Uint32Array(Ia),aa.ptr+=Aa,3<=ya)if(null==fa)for(ya=ba,fa=Ca,Ua=(1<<fa)-1,Oa=hb=Ga=Ca=0;Oa<Ma;Oa++)0===Ga&&(za=ya[Ca++],Ga=32,hb=0),Ga>=fa?(Ka=za>>>hb&Ua,Ga-=fa,hb+=fa):(Ka=za>>>hb&Ua,Ga=32-(ob=fa-Ga),Ka|=((za=ya[Ca++])&(1<<ob)-1)<<fa-ob,hb=ob),ma[Oa]=Ka;else La(ba,ma,Ca,Ma,!1,fa,Ua,Ga);else if(null==fa)for(ya=ba,fa=Ca,Ua=(1<<fa)-1,Ga=Ca=0,ya[ya.length-1]<<=8*(4*ya.length-Math.ceil(fa*Ma/8)),Oa=0;Oa<Ma;Oa++)0===Ga&&(Xa=ya[Ca++],Ga=32),Ga>=fa?(Sa=Xa>>>Ga-fa&Ua,Ga-=fa):(Sa=(Xa&Ua)<<
(bb=fa-Ga)&Ua,Sa+=(Xa=ya[Ca++])>>>(Ga=32-bb)),ma[Oa]=Sa;else ua(ba,ma,Ca,Ma,!1,fa,Ua,Ga)},readTiles:function(ba,aa,ma,fa){var Ga=aa.headerInfo,Aa=Ga.width,ya=Ga.height,ra=Aa*ya,Ca=Ga.microBlockSize,Ma=Ga.imageType,Oa=Fa.getDataTypeSize(Ma),Ua=Math.ceil(Aa/Ca),Ia=Math.ceil(ya/Ca);aa.pixels.numBlocksY=Ia;aa.pixels.numBlocksX=Ua;aa.pixels.ptr=0;var za,Ka,Wa,hb,ob,Sa,Xa,bb,ub,Fb,Ab,Lb=0,Hb=0,Qb=0,pc=0,Db=0,Gb=new ma(Ca*Ca),fd=ya%Ca||Ca,hc=Aa%Ca||Ca,vc=Ga.numDims,bc=aa.pixels.resultMask,Wb=aa.pixels.resultPixels,
wg=5<=Ga.fileVersion?14:15,Le=Ga.zMax;for(ub=0;ub<Ia;ub++){var Kc=ub!==Ia-1?Ca:fd;for(Fb=0;Fb<Ua;Fb++){var Kb=ub*Aa*Ca+Fb*Ca;var Cc=Aa-(Ab=Fb!==Ua-1?Ca:hc);for(ya=0;ya<vc;ya++){if(1<vc?(bb=Wb,Kb=ub*Aa*Ca+Fb*Ca,Wb=new ma(aa.pixels.resultPixels.buffer,ra*ya*Oa,ra),Le=Ga.maxValues[ya]):bb=null,Lb=ba.byteLength-aa.ptr,Ka={},Db=0,Hb=(za=new DataView(ba,aa.ptr,Math.min(10,Lb))).getUint8(0),Db++,hb=5<=Ga.fileVersion?4&Hb:0,Xa=Hb>>6&255,(Hb>>2&wg)!==(Fb*Ca>>3&wg))throw"integrity issue";if(hb&&0===ya)throw"integrity issue";
if(3<(ob=3&Hb))throw aa.ptr+=Db,"Invalid block encoding ("+ob+")";if(2!==ob)if(0===ob){if(hb)throw"integrity issue";if(aa.counter.uncompressed++,aa.ptr+=Db,Qb=(Qb=Kc*Ab*Oa)<(pc=ba.byteLength-aa.ptr)?Qb:pc,Wa=new ArrayBuffer(0==Qb%Oa?Qb:Qb+Oa-Qb%Oa),(new Uint8Array(Wa)).set(new Uint8Array(ba,aa.ptr,Qb)),hb=new ma(Wa),Xa=0,bc)for(za=0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)bc[Kb]&&(Wb[Kb]=hb[Xa++]),Kb++;Kb+=Cc}else for(za=0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)Wb[Kb++]=hb[Xa++];Kb+=Cc}aa.ptr+=Xa*Oa}else if(Sa=
Fa.getDataTypeUsed(hb&&6>Ma?4:Ma,Xa),Xa=Fa.getOnePixel(Ka,Db,Sa,za),Db+=Fa.getDataTypeSize(Sa),3===ob)if(aa.ptr+=Db,aa.counter.constantoffset++,bc)for(za=0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)bc[Kb]&&(Wb[Kb]=hb?Math.min(Le,bb[Kb]+Xa):Xa),Kb++;Kb+=Cc}else for(za=0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)Wb[Kb]=hb?Math.min(Le,bb[Kb]+Xa):Xa,Kb++;Kb+=Cc}else if(aa.ptr+=Db,Fa.decodeBits(ba,aa,Gb,Xa,ya),Db=0,hb)if(bc)for(za=0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)bc[Kb]&&(Wb[Kb]=Gb[Db++]+bb[Kb]),Kb++;Kb+=Cc}else for(za=
0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)Wb[Kb]=Gb[Db++]+bb[Kb],Kb++;Kb+=Cc}else if(bc)for(za=0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)bc[Kb]&&(Wb[Kb]=Gb[Db++]),Kb++;Kb+=Cc}else for(za=0;za<Kc;za++){for(Ka=0;Ka<Ab;Ka++)Wb[Kb++]=Gb[Db++];Kb+=Cc}else{if(hb)if(bc)for(za=0;za<Kc;za++)for(Ka=0;Ka<Ab;Ka++)bc[Kb]&&(Wb[Kb]=bb[Kb]),Kb++;else for(za=0;za<Kc;za++)for(Ka=0;Ka<Ab;Ka++)Wb[Kb]=bb[Kb],Kb++;aa.counter.constant++;aa.ptr+=Db}}}}1<vc&&!fa&&(aa.pixels.resultPixels=Fa.swapDimensionOrder(aa.pixels.resultPixels,ra,vc,
ma))},formatFileInfo:function(ba){return{fileIdentifierString:ba.headerInfo.fileIdentifierString,fileVersion:ba.headerInfo.fileVersion,imageType:ba.headerInfo.imageType,height:ba.headerInfo.height,width:ba.headerInfo.width,numValidPixel:ba.headerInfo.numValidPixel,microBlockSize:ba.headerInfo.microBlockSize,blobSize:ba.headerInfo.blobSize,maxZError:ba.headerInfo.maxZError,pixelType:Fa.getPixelType(ba.headerInfo.imageType),eofOffset:ba.eofOffset,mask:ba.mask?{numBytes:ba.mask.numBytes}:null,pixels:{numBlocksX:ba.pixels.numBlocksX,
numBlocksY:ba.pixels.numBlocksY,maxValue:ba.headerInfo.zMax,minValue:ba.headerInfo.zMin,noDataValue:ba.noDataValue}}},constructConstantSurface:function(ba,aa){var ma=ba.headerInfo.zMax,fa=ba.headerInfo.zMin,Ga=ba.headerInfo.maxValues,Aa=ba.headerInfo.numDims,ya=ba.headerInfo.height*ba.headerInfo.width,ra=ba.pixels.resultMask;ba=ba.pixels.resultPixels;if(ra)if(1<Aa)if(aa)for(aa=0;aa<Aa;aa++){var Ca=aa*ya;ma=Ga[aa];for(fa=0;fa<ya;fa++)ra[fa]&&(ba[Ca+fa]=ma)}else for(fa=0;fa<ya;fa++){if(ra[fa])for(Ca=
fa*Aa,aa=0;aa<Aa;aa++)ba[Ca+Aa]=Ga[aa]}else for(fa=0;fa<ya;fa++)ra[fa]&&(ba[fa]=ma);else if(1<Aa&&fa!==ma)if(aa)for(aa=0;aa<Aa;aa++)for(Ca=aa*ya,ma=Ga[aa],fa=0;fa<ya;fa++)ba[Ca+fa]=ma;else for(fa=0;fa<ya;fa++)for(Ca=fa*Aa,aa=0;aa<Aa;aa++)ba[Ca+aa]=Ga[aa];else for(fa=0;fa<ya*Aa;fa++)ba[fa]=ma},getDataTypeArray:function(ba){switch(ba){case 0:ba=Int8Array;break;case 1:ba=Uint8Array;break;case 2:ba=Int16Array;break;case 3:ba=Uint16Array;break;case 4:ba=Int32Array;break;case 5:ba=Uint32Array;break;default:ba=
Float32Array;break;case 7:ba=Float64Array}return ba},getPixelType:function(ba){switch(ba){case 0:ba="S8";break;case 1:ba="U8";break;case 2:ba="S16";break;case 3:ba="U16";break;case 4:ba="S32";break;case 5:ba="U32";break;default:ba="F32";break;case 7:ba="F64"}return ba},isValidPixelValue:function(ba,aa){if(null==aa)return!1;switch(ba){case 0:ba=-128<=aa&&127>=aa;break;case 1:ba=0<=aa&&255>=aa;break;case 2:ba=-32768<=aa&&32767>=aa;break;case 3:ba=0<=aa&&65536>=aa;break;case 4:ba=-2147483648<=aa&&2147483647>=
aa;break;case 5:ba=0<=aa&&4294967296>=aa;break;case 6:ba=-3.4027999387901484E38<=aa&&3.4027999387901484E38>=aa;break;case 7:ba=-1.7976931348623157E308<=aa&&1.7976931348623157E308>=aa;break;default:ba=!1}return ba},getDataTypeSize:function(ba){switch(ba){case 0:case 1:ba=1;break;case 2:case 3:ba=2;break;case 4:case 5:case 6:ba=4;break;case 7:ba=8}return ba},getDataTypeUsed:function(ba,aa){switch(ba){case 2:case 4:ba-=aa;break;case 3:case 5:ba-=2*aa;break;case 6:ba=0===aa?ba:1===aa?2:1;break;case 7:ba=
0===aa?ba:ba-2*aa+1}return ba},getOnePixel:function(ba,aa,ma,fa){switch(ma){case 0:ba=fa.getInt8(aa);break;case 1:ba=fa.getUint8(aa);break;case 2:ba=fa.getInt16(aa,!0);break;case 3:ba=fa.getUint16(aa,!0);break;case 4:ba=fa.getInt32(aa,!0);break;case 5:ba=fa.getUInt32(aa,!0);break;case 6:ba=fa.getFloat32(aa,!0);break;case 7:ba=fa.getFloat64(aa,!0);break;default:throw"the decoder does not understand this pixel type";}return ba},swapDimensionOrder:function(ba,aa,ma,fa,Ga){var Aa=0,ya=ba;if(1<ma)if(ya=
new fa(aa*ma),Ga)for(fa=0;fa<aa;fa++){var ra=fa;for(Ga=0;Ga<ma;Ga++,ra+=aa)ya[ra]=ba[Aa++]}else for(fa=0;fa<aa;fa++)for(ra=fa,Ga=0;Ga<ma;Ga++,ra+=aa)ya[Aa++]=ba[ra];return ya}},sa=function(ba,aa,ma){this.val=ba;this.left=aa;this.right=ma};return{decode:function(ba,aa){var ma=(aa=aa||{}).noDataValue,fa={};fa.ptr=aa.inputOffset||0;fa.pixels={};Fa.readHeaderInfo(ba,fa);var Ga=fa.headerInfo;var Aa=Ga.fileVersion,ya=Fa.getDataTypeArray(Ga.imageType);if(5<Aa)throw"unsupported lerc version 2."+Aa;Fa.readMask(ba,
fa);Ga.numValidPixel===Ga.width*Ga.height||fa.pixels.resultMask||(fa.pixels.resultMask=aa.maskData);var ra=Ga.width*Ga.height;fa.pixels.resultPixels=new ya(ra*Ga.numDims);fa.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var Ca,Ma=!aa.returnPixelInterleavedDims;if(0!==Ga.numValidPixel)if(Ga.zMax===Ga.zMin)Fa.constructConstantSurface(fa,Ma);else if(4<=Aa&&Fa.checkMinMaxRanges(ba,fa))Fa.constructConstantSurface(fa,Ma);else{var Oa=new DataView(ba,fa.ptr,2),Ua=Oa.getUint8(0);
if(fa.ptr++,Ua)Fa.readDataOneSweep(ba,fa,ya,Ma);else if(1<Aa&&1>=Ga.imageType&&1E-5>Math.abs(Ga.maxZError-.5)){Oa=Oa.getUint8(1);if(fa.ptr++,fa.encodeMode=Oa,2<Oa||4>Aa&&1<Oa)throw"Invalid Huffman flag "+Oa;Oa?Fa.readHuffman(ba,fa,ya,Ma):Fa.readTiles(ba,fa,ya,Ma)}else Fa.readTiles(ba,fa,ya,Ma)}fa.eofOffset=fa.ptr;aa.inputOffset?(Ca=fa.headerInfo.blobSize+aa.inputOffset-fa.ptr,1<=Math.abs(Ca)&&(fa.eofOffset=aa.inputOffset+fa.headerInfo.blobSize)):(Ca=fa.headerInfo.blobSize-fa.ptr,1<=Math.abs(Ca)&&
(fa.eofOffset=fa.headerInfo.blobSize));ba={width:Ga.width,height:Ga.height,pixelData:fa.pixels.resultPixels,minValue:Ga.zMin,maxValue:Ga.zMax,validPixelCount:Ga.numValidPixel,dimCount:Ga.numDims,dimStats:{minValues:Ga.minValues,maxValues:Ga.maxValues},maskData:fa.pixels.resultMask};if(fa.pixels.resultMask&&Fa.isValidPixelValue(Ga.imageType,ma)){Aa=fa.pixels.resultMask;for(Ga=0;Ga<ra;Ga++)Aa[Ga]||(ba.pixelData[Ga]=ma);ba.noDataValue=ma}return fa.noDataValue=ma,aa.returnFileInfo&&(ba.fileInfo=Fa.formatFileInfo(fa)),
ba},getBandCount:function(ba){for(var aa=0,ma=0,fa={ptr:0,pixels:{}};ma<ba.byteLength-58;)Fa.readHeaderInfo(ba,fa),ma+=fa.headerInfo.blobSize,aa++,fa.ptr=ma;return aa}}}(),Na=(pa=new ArrayBuffer(4),oa=new Uint8Array(pa),(new Uint32Array(pa))[0]=1,1===oa[0]);pa={decode:function(ua,La){if(!Na)throw"Big endian system is not supported.";var Fa=(La=La||{}).inputOffset||0,sa=new Uint8Array(ua,Fa,10);sa=String.fromCharCode.apply(null,sa);if("CntZImage"===sa.trim()){var ba=xa;var aa=1}else{if("Lerc2"!==sa.substring(0,
5))throw"Unexpected file identifier string: "+sa;ba=Ba;aa=2}var ma,fa=0,Ga=ua.byteLength-10;sa=[];for(var Aa={width:0,height:0,pixels:[],pixelType:La.pixelType,mask:null,statistics:[]},ya=0;Fa<Ga;){var ra=ba.decode(ua,{inputOffset:Fa,encodedMaskData:ma,maskData:Ca,returnMask:0===fa,returnEncodedMask:0===fa,returnFileInfo:!0,returnPixelInterleavedDims:La.returnPixelInterleavedDims,pixelType:La.pixelType||null,noDataValue:La.noDataValue||null});Fa=ra.fileInfo.eofOffset;var Ca=ra.maskData;0===fa&&(ma=
ra.encodedMaskData,Aa.width=ra.width,Aa.height=ra.height,Aa.dimCount=ra.dimCount||1,Aa.pixelType=ra.pixelType||ra.fileInfo.pixelType,Aa.mask=Ca);1<aa&&(Ca&&sa.push(Ca),ra.fileInfo.mask&&0<ra.fileInfo.mask.numBytes&&ya++);fa++;Aa.pixels.push(ra.pixelData);Aa.statistics.push({minValue:ra.minValue,maxValue:ra.maxValue,noDataValue:ra.noDataValue,dimStats:ra.dimStats})}if(1<aa&&1<ya){ma=Aa.width*Aa.height;Aa.bandMasks=sa;(Ca=new Uint8Array(ma)).set(sa[0]);for(La=1;La<sa.length;La++)for(ua=sa[La],Fa=0;Fa<
ma;Fa++)Ca[Fa]&=ua[Fa];Aa.maskData=Ca}return Aa}};H.exports?H.exports=pa:this.Lerc=pa}()}(rg);var Dh=rg.exports,ke=function(H){function U(ha){var da;return A(this,U),(da=R.call(this)).planarConfiguration=void 0!==ha.PlanarConfiguration?ha.PlanarConfiguration:1,da.samplesPerPixel=void 0!==ha.SamplesPerPixel?ha.SamplesPerPixel:1,da.addCompression=ha.LercParameters[zc.AddCompression],da}k(U,H);var R=ue(U);return g(U,[{key:"decodeBlock",value:function(ha){switch(this.addCompression){case $d.None:break;
case $d.Deflate:ha=Ah(new Uint8Array(ha)).buffer;break;default:throw Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression));}return Dh.decode(ha,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),U}(od),sg=Object.freeze({__proto__:null,default:ke}),tg=function(H){function U(){var da;if(A(this,U),da=ha.call(this),"undefined"==typeof createImageBitmap)throw Error("Cannot decode WebImage as `createImageBitmap` is not available");
if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return da}k(U,H);var R,ha=Ug(U);return g(U,[{key:"decode",value:(R=e(kb.mark(function pa(ja,qa){var oa,xa,Ba,Na;return kb.wrap(function(ua){for(;;)switch(ua.prev=ua.next){case 0:return oa=new Blob([qa]),ua.next=3,createImageBitmap(oa);case 3:return xa=ua.sent,"undefined"!=typeof document?((Ba=document.createElement("canvas")).width=
xa.width,Ba.height=xa.height):Ba=new OffscreenCanvas(xa.width,xa.height),(Na=Ba.getContext("2d")).drawImage(xa,0,0),ua.abrupt("return",Na.getImageData(0,0,xa.width,xa.height).data.buffer);case 8:case "end":return ua.stop()}},pa)})),function(ja,qa){return R.apply(this,arguments)})}]),U}(od),Eh=Object.freeze({__proto__:null,default:tg}),Gh=Worker,Hh=Object.freeze({__proto__:null,create:function(){return new Gh("undefined"==typeof Blob?"data:application/javascript;base64,"+J.from('function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});',
"binary").toString("base64"):URL.createObjectURL(new Blob(['function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});'],
{type:"application/javascript"})))}});K.BaseDecoder=od;K.GeoTIFF=Jc;K.GeoTIFFImage=Yc;K.MultiGeoTIFF=eg;K.Pool=Tf;K.addDecoder=B;K.default=Jc;K.fromArrayBuffer=function(H,U){return Ef.apply(this,arguments)};K.fromBlob=function(H,U){return Qg.apply(this,arguments)};K.fromFile=function(H,U){return Ff.apply(this,arguments)};K.fromUrl=function(H){return te.apply(this,arguments)};K.fromUrls=function(H){return Gf.apply(this,arguments)};K.getDecoder=v;K.globals=Yg;K.rgb=Zg;K.setLogger=function(){0<arguments.length&&
void 0!==arguments[0]||new De};K.writeArrayBuffer=function(H,U){return Og(H,U)};Object.defineProperty(K,"__esModule",{value:!0})})};
shadow$provide[251]=function(X,c,Z,N){function J(z,w){if(!z)return!1;if(!0===z)return!0;if(3!==w.getSamplesPerPixel())return!1;z=w.fileDirectory.PhotometricInterpretation;w=l.globals.photometricInterpretations;return z===w.CMYK||z===w.YCbCr||z===w.CIELab||z===w.ICCLab}function K(z){try{return z.getBoundingBox()}catch(w){return[0,0,z.getWidth(),z.getHeight()]}}function E(z){try{return z.getOrigin().slice(0,2)}catch(w){return[0,z.getHeight()]}}function C(z,w){try{return z.getResolution(w)}catch(q){return[w.getWidth()/
z.getWidth(),w.getHeight()/z.getHeight()]}}function u(z){z=z.geoKeys;if(!z)return null;if(z.ProjectedCSTypeGeoKey&&32767!==z.ProjectedCSTypeGeoKey){var w="EPSG:"+z.ProjectedCSTypeGeoKey,q=(0,e.get)(w);q||(z=(0,k.fromCode)(z.ProjLinearUnitsGeoKey))&&(q=new e.Projection({code:w,units:z}));return q}return z.GeographicTypeGeoKey&&32767!==z.GeographicTypeGeoKey?(w="EPSG:"+z.GeographicTypeGeoKey,q=(0,e.get)(w),q||(z=(0,k.fromCode)(z.GeogAngularUnitsGeoKey))&&(q=new e.Projection({code:w,units:z})),q):null}
function p(z){return z.getImageCount().then(function(w){const q=Array(w);for(let A=0;A<w;++A)q[A]=z.getImage(A);return Promise.all(q)})}function m(z,w){return(z.blob?(0,l.fromBlob)(z.blob):z.overviews?(0,l.fromUrls)(z.url,z.overviews,w):(0,l.fromUrl)(z.url,w)).then(p)}function f(z,w,q,A,L){if(Array.isArray(z)){const y=z.length;if(!Array.isArray(w)||y!=w.length)throw z=Error(A),L(z),z;for(let F=0;F<y;++F)f(z[F],w[F],q,A,L)}else if(Math.abs(z-w)>q*z)throw Error(A);}Object.defineProperties(N,{__esModule:{enumerable:!0,
value:!0},default:{enumerable:!0,get:function(){return D}}});X=c(249);Z=c(239);var l=c(250),e=c(40),d=c(35),g=c(28),h=c(39),k=c(29),n=c.esmDefault(Z);c=c.esmDefault(X);let r;class x extends c.default{constructor(z){super({state:"loading",tileGrid:null,projection:z.projection||null,opaque:z.opaque,transition:z.transition,interpolate:!1!==z.interpolate,wrapX:z.wrapX});this.sourceInfo_=z.sources;const w=this.sourceInfo_.length;this.sourceOptions_=z.sourceOptions;this.sourceImagery_=Array(w);this.sourceMasks_=
Array(w);this.resolutionFactors_=Array(w);this.samplesPerPixel_;this.nodataValues_;this.metadata_;this.normalize_=!1!==z.normalize;this.addAlpha_=!1;this.error_=null;this.convertToRGB_=z.convertToRGB||!1;this.setKey(this.sourceInfo_.map(A=>A.url).join(","));const q=this;z=Array(w);for(let A=0;A<w;++A)z[A]=m(this.sourceInfo_[A],this.sourceOptions_);Promise.all(z).then(function(A){q.configure_(A)}).catch(function(A){(0,h.error)(A);q.error_=A;q.setState("error")})}getError(){return this.error_}determineProjection(z){z=
z[0];for(let w=z.length-1;0<=w;--w){const q=u(z[w]);if(q){this.projection=q;break}}}configure_(z){let w,q,A,L,y;const F=Array(z.length);var M=Array(z.length),T=Array(z.length);let Q=0;const S=z.length;for(var W=0;W<S;++W){const ea=[],la=[];z[W].forEach(Za=>{4===((Za.fileDirectory.NewSubfileType||0)&4)?la.push(Za):ea.push(Za)});var ca=ea.length;if(0<la.length&&la.length!==ca)throw Error(`Expected one mask per image found ${la.length} masks and ${ca} images`);var B=void 0;let va;const Da=Array(ca),
Ya=Array(ca);var v=Array(ca);M[W]=Array(ca);T[W]=Array(ca);for(let Za=0;Za<ca;++Za){var I=ea[Za],O=I.getGDALNoData();T[W][Za]=I.getGDALMetadata(0);M[W][Za]=O;O=this.sourceInfo_[W].bands;F[W]=O?O.length:I.getSamplesPerPixel();O=ca-(Za+1);B||(B=K(I));va||(va=E(I));const gb=C(I,ea[0]);v[O]=gb[0];I=[I.getTileWidth(),I.getTileHeight()];I[0]!==I[1]&&256>I[1]&&(I[0]=256,I[1]=256);Da[O]=I;Ya[O]=[I[0],I[1]/(gb[0]/Math.abs(gb[1]))]}w?(0,g.getIntersection)(w,B,w):w=B;q?f(q,va,0,`Origin mismatch for source ${W}, got [${va}] but expected [${q}]`,
this.viewRejector):q=va;if(y){y.length-Q>v.length&&(Q=y.length-v.length);const Za=y[y.length-1]/v[v.length-1];this.resolutionFactors_[W]=Za;ca=v.map(gb=>gb*Za);v=`Resolution mismatch for source ${W}, got [${ca}] but expected [${y}]`;f(y.slice(Q,y.length),ca,.02,v,this.viewRejector)}else y=v,this.resolutionFactors_[W]=1;A?f(A.slice(Q,A.length),Ya,.01,`Tile size mismatch for source ${W}`,this.viewRejector):A=Ya;L?f(L.slice(Q,L.length),Da,0,`Tile size mismatch for source ${W}`,this.viewRejector):L=Da;
this.sourceImagery_[W]=ea.reverse();this.sourceMasks_[W]=la.reverse()}for(let ea=0,la=this.sourceImagery_.length;ea<la;++ea)for(W=this.sourceImagery_[ea];W.length<y.length;)W.unshift(void 0);this.getProjection()||this.determineProjection(z);this.samplesPerPixel_=F;this.nodataValues_=M;this.metadata_=T;a:for(z=0;z<S;++z){if(void 0!==this.sourceInfo_[z].nodata){this.addAlpha_=!0;break}if(this.sourceMasks_[z].length){this.addAlpha_=!0;break}T=M[z];if(W=this.sourceInfo_[z].bands)for(B=0;B<W.length;++B){if(null!==
T[W[B]-1]){this.addAlpha_=!0;break a}}else for(W=0;W<T.length;++W)if(null!==T[W]){this.addAlpha_=!0;break a}}M=this.addAlpha_?1:0;for(z=0;z<S;++z)M+=F[z];this.bandCount=M;this.tileGrid=new n.default({extent:w,minZoom:Q,origin:q,resolutions:y,tileSizes:A});this.setTileSizes(L);this.setLoader(this.loadTile_.bind(this));this.setState("ready");2===y.length?y=[y[0],y[1],y[1]/2]:1===y.length&&(y=[2*y[0],y[0],y[0]/2]);this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:y,center:(0,e.toUserCoordinate)((0,g.getCenter)(w),
this.projection),extent:(0,e.toUserExtent)(w,this.projection),zoom:1})}loadTile_(z,w,q){const A=this.getTileSize(z),L=this.sourceImagery_.length,y=Array(2*L),F=this.nodataValues_,M=this.sourceInfo_;r||(r=new l.Pool);var T=r;for(let ca=0;ca<L;++ca){var Q=M[ca],S=this.resolutionFactors_[ca];S=[Math.round(w*A[0]*S),Math.round(q*A[1]*S),Math.round((w+1)*A[0]*S),Math.round((q+1)*A[1]*S)];var W=this.sourceImagery_[ca][z];let B;Q.bands&&(B=Q.bands.map(function(v){return v-1}));Q="nodata"in Q&&null!==Q.nodata?
Q.nodata:B?B.map(function(v){return F[ca][v]}):F[ca];Q={window:S,width:A[0],height:A[1],samples:B,fillValue:Q,pool:T,interleave:!1};J(this.convertToRGB_,W)?y[ca]=W.readRGB(Q):y[ca]=W.readRasters(Q);W=this.sourceMasks_[ca][z];y[L+ca]=W?W.readRasters({window:S,width:A[0],height:A[1],samples:[0],pool:T,interleave:!1}):Promise.resolve(null)}return Promise.all(y).then(this.composeTile_.bind(this,A)).catch(function(ca){(0,h.error)(ca);throw ca;})}composeTile_(z,w){const q=this.metadata_,A=this.sourceInfo_,
L=this.sourceImagery_.length,y=this.samplesPerPixel_,F=this.nodataValues_,M=this.normalize_,T=this.addAlpha_;z=z[0]*z[1];var Q=z*this.bandCount;Q=M?new Uint8Array(Q):new Float32Array(Q);let S=0;for(let O=0;O<z;++O){let ea=T;for(let la=0;la<L;++la){var W=A[la],ca=W.min,B=W.max,v=void 0,I=void 0;M&&(v=q[la][0],void 0===ca&&(v&&"STATISTICS_MINIMUM"in v?I=parseFloat(v.STATISTICS_MINIMUM):(I=w[la][0],I=I instanceof Int8Array?-128:I instanceof Int16Array?-32768:I instanceof Int32Array?-2147483648:I instanceof
Float32Array?1.2E-38:0),ca=I),void 0===B&&(v&&"STATISTICS_MAXIMUM"in v?v=parseFloat(v.STATISTICS_MAXIMUM):(v=w[la][0],v=v instanceof Int8Array?127:v instanceof Uint8Array||v instanceof Uint8ClampedArray?255:v instanceof Int16Array?32767:v instanceof Uint16Array?65535:v instanceof Int32Array?2147483647:v instanceof Uint32Array?4294967295:v instanceof Float32Array?3.4E38:255),B=v),v=255/(B-ca),I=-ca*v);for(ca=0;ca<y[la];++ca){B=w[la][ca][O];let va;va=M?(0,d.clamp)(v*B+I,0,255):B;if(T){let Da=W.nodata;
void 0===Da&&(Da=F[la][W.bands?W.bands[ca]-1:ca]);const Ya=isNaN(Da);if(!Ya&&B!==Da||Ya&&!isNaN(B))ea=!1,Q[S]=va}else Q[S]=va;S++}ea||(W=w[L+la])&&!W[0][O]&&(ea=!0)}T&&(ea||(Q[S]=255),S++)}return Q}}x.prototype.getView;const D=x};
shadow$provide[252]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},CustomTile:{enumerable:!0,get:function(){return l}},default:{enumerable:!0,get:function(){return d}}});var J=c(81),K=c(131);X=c(239);Z=c(244);N=c(129);var E=c(70),C=c(242),u=c(28),p=c(66);K=c.esmDefault(K);var m=c.esmDefault(N),f=c.esmDefault(X);c=c.esmDefault(Z);class l extends K.default{constructor(g,h,k,n,r,x,D){super(h,k,n,r,x,D);this.zoomifyImage_=null;this.tileSize_=g}getImage(){if(this.zoomifyImage_)return this.zoomifyImage_;
const g=super.getImage();if(this.state==m.default.LOADED){var h=this.tileSize_;if(g.width==h[0]&&g.height==h[1])return this.zoomifyImage_=g;h=(0,E.createCanvasContext2D)(h[0],h[1]);h.drawImage(g,0,0);return this.zoomifyImage_=h.canvas}return g}}class e extends c.default{constructor(g){var h=g.size,k=g.tilePixelRatio||1,n=h[0],r=h[1];const x=[],D=g.tileSize||J.DEFAULT_TILE_SIZE;h=D*k;switch(void 0!==g.tierSizeCalculation?g.tierSizeCalculation:"default"){case "default":for(;n>h||r>h;)x.push([Math.ceil(n/
h),Math.ceil(r/h)]),h+=h;break;case "truncated":var z=n;let A=r;for(;z>h||A>h;)x.push([Math.ceil(z/h),Math.ceil(A/h)]),z>>=1,A>>=1;break;default:throw Error("Unknown `tierSizeCalculation` configured");}x.push([1,1]);x.reverse();h=[k];const w=[0];for(let A=1,L=x.length;A<L;A++)h.push(k<<A),w.push(x[A-1][0]*x[A-1][1]+w[A-1]);h.reverse();n=new f.default({tileSize:D,extent:g.extent||[0,-r,n,0],resolutions:h});r=g.url;!r||r.includes("{TileGroup}")||r.includes("{tileIndex}")||(r+="{TileGroup}/{z}-{x}-{y}.jpg");
r=(0,C.expandUrl)(r);let q=D*k;r=(0,C.createFromTileUrlFunctions)(r.map(function(A){return function(L,y,F){if(L){y=L[0];F=L[1];L=L[2];var M=F+L*x[y][0],T={z:y,x:F,y:L,tileIndex:M,TileGroup:"TileGroup"+((M+w[y])/q|0)};return A.replace(/\{(\w+?)\}/g,function(Q,S){return T[S]})}}}));z=l.bind(null,(0,p.toSize)(D*k));super({attributions:g.attributions,cacheSize:g.cacheSize,crossOrigin:g.crossOrigin,interpolate:g.interpolate,projection:g.projection,tilePixelRatio:k,reprojectionErrorThreshold:g.reprojectionErrorThreshold,
tileClass:z,tileGrid:n,tileUrlFunction:r,transition:g.transition});this.zDirection=g.zDirection;g=n.getTileCoordForCoordAndResolution((0,u.getCenter)(n.getExtent()),h[h.length-1]);g=r(g,1,null);k=new Image;k.addEventListener("error",()=>{q=D;this.changed()});k.src=g}}const d=e};
shadow$provide[253]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Versions:{enumerable:!0,get:function(){return K}},default:{enumerable:!0,get:function(){return l}}});var J=c(23);const K={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},E={};E[K.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};E[K.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default","bitonal"]}};E[K.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx",
"regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};E.none={none:{supports:[],formats:[],qualities:[]}};const C=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,u=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,p=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,
m={};m[K.VERSION1]=function(e){let d=e.getComplianceLevelSupportedFeatures();void 0===d&&(d=E[K.VERSION1].level0);return{url:void 0===e.imageInfo["@id"]?void 0:e.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:d.supports,formats:[...d.formats,void 0===e.imageInfo.formats?[]:e.imageInfo.formats],qualities:[...d.qualities,void 0===e.imageInfo.qualities?[]:e.imageInfo.qualities],resolutions:e.imageInfo.scale_factors,tileSize:void 0!==e.imageInfo.tile_width?void 0!==e.imageInfo.tile_height?
[e.imageInfo.tile_width,e.imageInfo.tile_height]:[e.imageInfo.tile_width,e.imageInfo.tile_width]:void 0!=e.imageInfo.tile_height?[e.imageInfo.tile_height,e.imageInfo.tile_height]:void 0}};m[K.VERSION2]=function(e){const d=e.getComplianceLevelSupportedFeatures();var g=Array.isArray(e.imageInfo.profile)&&1<e.imageInfo.profile.length;const h=g&&e.imageInfo.profile[1].supports?e.imageInfo.profile[1].supports:[],k=g&&e.imageInfo.profile[1].formats?e.imageInfo.profile[1].formats:[];g=g&&e.imageInfo.profile[1].qualities?
e.imageInfo.profile[1].qualities:[];return{url:e.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(n){return[n.width,n.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(n){return n.width})[0],e.imageInfo.tiles.map(function(n){return void 0===n.height?n.width:n.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(n){return n.scaleFactors})[0],supports:[...d.supports,
...h],formats:[...d.formats,...k],qualities:[...d.qualities,...g]}};m[K.VERSION3]=function(e){const d=e.getComplianceLevelSupportedFeatures(),g=void 0===e.imageInfo.extraFormats?d.formats:[...d.formats,...e.imageInfo.extraFormats],h=void 0!==e.imageInfo.preferredFormats&&Array.isArray(e.imageInfo.preferredFormats)&&0<e.imageInfo.preferredFormats.length?e.imageInfo.preferredFormats.filter(function(k){return["jpg","png","gif"].includes(k)}).reduce(function(k,n){return void 0===k&&g.includes(n)?n:k},
void 0):void 0;return{url:e.imageInfo.id,sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(k){return[k.width,k.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(k){return k.width})[0],e.imageInfo.tiles.map(function(k){return k.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(k){return k.scaleFactors})[0],supports:void 0===e.imageInfo.extraFeatures?d.supports:[...d.supports,...e.imageInfo.extraFeatures],
formats:g,qualities:void 0===e.imageInfo.extraQualities?d.qualities:[...d.qualities,...e.imageInfo.extraQualities],preferredFormat:h}};class f{constructor(e){this.setImageInfo(e)}setImageInfo(e){this.imageInfo="string"==typeof e?JSON.parse(e):e}getImageApiVersion(){if(void 0!==this.imageInfo){var e=this.imageInfo["@context"]||"ol-no-context";"string"==typeof e&&(e=[e]);for(let d=0;d<e.length;d++)switch(e[d]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return K.VERSION1;
case "http://iiif.io/api/image/2/context.json":return K.VERSION2;case "http://iiif.io/api/image/3/context.json":return K.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(K.VERSION1)&&this.imageInfo.identifier)return K.VERSION1}(0,J.assert)(!1,"Cannot determine IIIF Image API version from provided image information JSON")}}getComplianceLevelEntryFromProfile(e){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===e&&(e=this.getImageApiVersion()),e){case K.VERSION1:if(C.test(this.imageInfo.profile))return this.imageInfo.profile;
break;case K.VERSION3:if(p.test(this.imageInfo.profile))return this.imageInfo.profile;break;case K.VERSION2:if("string"===typeof this.imageInfo.profile&&u.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&u.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}}getComplianceLevelFromProfile(e){e=this.getComplianceLevelEntryFromProfile(e);if(void 0!==e)return e=
e.match(/level[0-2](?:\.json)?$/g),Array.isArray(e)?e[0].replace(".json",""):void 0}getComplianceLevelSupportedFeatures(){if(void 0!==this.imageInfo){var e=this.getImageApiVersion(),d=this.getComplianceLevelFromProfile(e);return void 0===d?E.none.none:E[e][d]}}getTileSourceOptions(e){e=e||{};const d=this.getImageApiVersion();if(void 0!==d){var g=void 0===d?void 0:m[d](this);if(void 0!==g)return{url:g.url,version:d,size:[this.imageInfo.width,this.imageInfo.height],sizes:g.sizes,format:void 0!==e.format&&
g.formats.includes(e.format)?e.format:void 0!==g.preferredFormat?g.preferredFormat:"jpg",supports:g.supports,quality:e.quality&&g.qualities.includes(e.quality)?e.quality:g.qualities.includes("native")?"native":"default",resolutions:Array.isArray(g.resolutions)?g.resolutions.sort(function(h,k){return k-h}):void 0,tileSize:g.tileSize}}}}const l=f};
shadow$provide[254]=function(X,c,Z,N){function J(d){return d.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return e}}});X=c(239);Z=c(244);var K=c(252),E=c(81),C=c(253),u=c(23),p=c(28),m=c(66),f=c.esmDefault(X);c=c.esmDefault(Z);class l extends c.default{constructor(d){d=d||{};let g=d.url||"";g+=g.lastIndexOf("/")===g.length-1||""===g?"":"/";const h=d.version||C.Versions.VERSION2,k=d.sizes||[];var n=
d.size;(0,u.assert)(void 0!=n&&Array.isArray(n)&&2==n.length&&!isNaN(n[0])&&0<n[0]&&!isNaN(n[1])&&0<n[1],"Missing or invalid `size`");const r=n[0],x=n[1];n=d.tileSize;const D=d.tilePixelRatio||1,z=d.format||"jpg",w=d.quality||(d.version==C.Versions.VERSION1?"native":"default");let q=d.resolutions||[];const A=d.supports||[];var L=d.extent||[0,-x,r,0];const y=void 0!=k&&Array.isArray(k)&&0<k.length,F=void 0!==n&&("number"===typeof n&&Number.isInteger(n)&&0<n||Array.isArray(n)&&0<n.length),M=void 0!=
A&&Array.isArray(A)&&(A.includes("regionByPx")||A.includes("regionByPct"))&&(A.includes("sizeByWh")||A.includes("sizeByH")||A.includes("sizeByW")||A.includes("sizeByPct"));let T,Q,S;q.sort(function(B,v){return v-B});if(F||M){if(void 0!=n)if("number"===typeof n&&Number.isInteger(n)&&0<n)Q=T=n;else if(Array.isArray(n)&&0<n.length){if(1==n.length||void 0==n[1]&&Number.isInteger(n[0]))T=n[0],Q=n[0];2==n.length&&(Number.isInteger(n[0])&&Number.isInteger(n[1])?(T=n[0],Q=n[1]):void 0==n[0]&&Number.isInteger(n[1])&&
(T=n[1],Q=n[1]))}if(void 0===T||void 0===Q)Q=T=E.DEFAULT_TILE_SIZE;if(0==q.length){S=Math.max(Math.ceil(Math.log(r/T)/Math.LN2),Math.ceil(Math.log(x/Q)/Math.LN2));for(var W=S;0<=W;W--)q.push(Math.pow(2,W))}else W=Math.max(...q),S=Math.round(Math.log(W)/Math.LN2)}else if(T=r,Q=x,q=[],y){k.sort(function(B,v){return B[0]-v[0]});S=-1;W=[];for(var ca=0;ca<k.length;ca++){const B=r/k[ca][0];0<q.length&&q[q.length-1]==B?W.push(ca):(q.push(B),S++)}if(0<W.length)for(ca=0;ca<W.length;ca++)k.splice(W[ca]-ca,
1)}else q.push(1),k.push([r,x]),S=0;L=new f.default({tileSize:[T,Q],extent:L,origin:(0,p.getTopLeft)(L),resolutions:q});n=K.CustomTile.bind(null,(0,m.toSize)(n||256).map(function(B){return B*D}));super({attributions:d.attributions,attributionsCollapsible:d.attributionsCollapsible,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,interpolate:d.interpolate,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,state:d.state,tileClass:n,tileGrid:L,tilePixelRatio:d.tilePixelRatio,
tileUrlFunction:function(B,v,I){var O;v=B[0];if(!(v>S)){I=B[1];var ea=B[2];B=q[v];if(!(void 0===I||void 0===ea||void 0===B||0>I||Math.ceil(r/B/T)<=I||0>ea||Math.ceil(x/B/Q)<=ea)){if(M||F){var la=I*T*B;const Ya=ea*Q*B;var va=T*B;ea=Q*B;v=T;I=Q;la+va>r&&(va=r-la);Ya+ea>x&&(ea=x-Ya);la+T*B>r&&(v=Math.floor((r-la+B-1)/B));Ya+Q*B>x&&(I=Math.floor((x-Ya+B-1)/B));if(0==la&&va==r&&0==Ya&&ea==x)var Da="full";else!M||A.includes("regionByPx")?Da=la+","+Ya+","+va+","+ea:A.includes("regionByPct")&&(Da=J(la/r*
100),la=J(Ya/x*100),va=J(va/r*100),ea=J(ea/x*100),Da="pct:"+Da+","+la+","+va+","+ea);h!=C.Versions.VERSION3||M&&!A.includes("sizeByWh")?!M||A.includes("sizeByW")?O=v+",":A.includes("sizeByH")?O=","+I:A.includes("sizeByWh")?O=v+","+I:A.includes("sizeByPct")&&(O="pct:"+J(100/B)):O=v+","+I}else Da="full",y?(O=k[v][0],B=k[v][1],O=h==C.Versions.VERSION3?O==r&&B==x?"max":O+","+B:O==r?"full":O+","):O=h==C.Versions.VERSION3?"max":"full";return g+Da+"/"+O+"/0/"+w+"."+z}}},transition:d.transition});this.zDirection=
d.zDirection}}const e=l};
shadow$provide[255]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return d}}});var J=c(208);X=c(16);N=c(65);var K=c(89);Z=c(210);var E=c(211),C=c(229),u=c(28),p=c(17),m=c.esmDefault(N);N=c.esmDefault(K);var f=c.esmDefault(Z),l=c.esmDefault(X);class e extends N.default{constructor(g,h,k,n,r,x,D){let z=g.getExtent();z&&g.canWrapX()&&(z=z.slice(),z[0]=-Infinity,z[2]=Infinity);var w=h.getExtent();w&&h.canWrapX()&&(w=w.slice(),w[0]=
-Infinity,w[2]=Infinity);var q=w?(0,u.getIntersection)(k,w):k;w=(0,u.getCenter)(q);w=(0,E.calculateSourceResolution)(g,h,w,n);g=new f.default(g,h,q,z,w*J.ERROR_THRESHOLD,n);q=g.calculateSourceExtent();x=(r=(0,u.isEmpty)(q)?null:x(q,w,r))?m.default.IDLE:m.default.EMPTY;w=r?r.getPixelRatio():1;super(k,n,w,x);this.targetProj_=h;this.maxSourceExtent_=z;this.triangulation_=g;this.targetResolution_=n;this.targetExtent_=k;this.sourceImage_=r;this.sourcePixelRatio_=w;this.interpolate_=D;this.sourceListenerKey_=
this.canvas_=null}disposeInternal(){this.state==m.default.LOADING&&this.unlistenSource_();super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const g=this.sourceImage_.getState();if(g==m.default.LOADED){const h=(0,u.getWidth)(this.targetExtent_)/this.targetResolution_,k=(0,u.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,E.render)(h,k,this.sourcePixelRatio_,(0,C.fromResolutionLike)(this.sourceImage_.getResolution()),this.maxSourceExtent_,
this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=g;this.changed()}load(){if(this.state==m.default.IDLE){this.state=m.default.LOADING;this.changed();const g=this.sourceImage_.getState();g==m.default.LOADED||g==m.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,p.listen)(this.sourceImage_,l.default.CHANGE,function(h){h=this.sourceImage_.getState();if(h==m.default.LOADED||
h==m.default.ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}}unlistenSource_(){(0,p.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null}}const d=e};
shadow$provide[256]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},DECIMALS:{enumerable:!0,get:function(){return 4}},DEFAULT_WMS_VERSION:{enumerable:!0,get:function(){return"1.3.0"}}})};
shadow$provide[257]=function(X,c,Z,N){function J(w,q){w.getImage().src=q}function K(w,q,A,L){q/=A;A=(0,f.getCenter)(w);var y=(0,m.ceil)((0,f.getWidth)(w)/q,p.DECIMALS);w=(0,m.ceil)((0,f.getHeight)(w)/q,p.DECIMALS);const F=(0,m.ceil)((L-1)*y/2,p.DECIMALS);y+=2*F;L=(0,m.ceil)((L-1)*w/2,p.DECIMALS);return(0,f.getForViewAndSize)(A,q,0,[y,w+2*L])}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ImageSourceEvent:{enumerable:!0,get:function(){return x}},ImageSourceEventType:{enumerable:!0,
get:function(){return r}},default:{enumerable:!0,get:function(){return z}},defaultImageLoadFunction:{enumerable:!0,get:function(){return J}},getRequestExtent:{enumerable:!0,get:function(){return K}}});N=c(9);X=c(16);var E=c(65),C=c(89),u=c(255);Z=c(120);var p=c(256),m=c(35),f=c(28),l=c(40),e=c(229),d=c(12),g=c.esmDefault(E),h=c.esmDefault(C),k=c.esmDefault(u);N=c.esmDefault(N);Z=c.esmDefault(Z);var n=c.esmDefault(X);const r={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};
class x extends N.default{constructor(w,q){super(w);this.image=q}}class D extends Z.default{constructor(w){super({attributions:w.attributions,projection:w.projection,state:w.state,interpolate:void 0!==w.interpolate?w.interpolate:!0});this.on;this.once;this.un;this.loader=w.loader||null;this.resolutions_=void 0!==w.resolutions?w.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0;this.image=null;this.wantedExtent_;this.wantedResolution_;this.static_=w.loader?0===w.loader.length:
!1}getResolutions(){return this.resolutions_}setResolutions(w){this.resolutions_=w}findNearestResolution(w){const q=this.getResolutions();q&&(w=(0,d.linearFindNearest)(q,w,0),w=q[w]);return w}getImage(w,q,A,L){const y=this.getProjection();if(!y||!L||(0,l.equivalent)(y,L))return y&&(L=y),this.getImageInternal(w,q,A,L);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,l.equivalent)(this.reprojectedImage_.getProjection(),L)&&this.reprojectedImage_.getResolution()==q&&(0,f.equals)(this.reprojectedImage_.getExtent(),
w))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new k.default(y,L,w,q,A,(F,M,T)=>this.getImageInternal(F,M,T,y),this.getInterpolate());this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}getImageInternal(w,q,A,L){if(this.loader){w=K(w,q,A,1);q=this.findNearestResolution(q);if(this.image&&(this.static_||(this.wantedExtent_&&(0,f.containsExtent)(this.wantedExtent_,w)||(0,f.containsExtent)(this.image.getExtent(),
w))&&(this.wantedResolution_&&(0,e.fromResolutionLike)(this.wantedResolution_)===q||(0,e.fromResolutionLike)(this.image.getResolution())===q)))return this.image;this.wantedExtent_=w;this.wantedResolution_=q;this.image=new h.default(w,q,A,this.loader);this.image.addEventListener(n.default.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(w){w=w.target;let q;switch(w.getState()){case g.default.LOADING:this.loading=!0;q=r.IMAGELOADSTART;break;case g.default.LOADED:this.loading=
!1;q=r.IMAGELOADEND;break;case g.default.ERROR:this.loading=!1;q=r.IMAGELOADERROR;break;default:return}this.hasListener(q)&&this.dispatchEvent(new x(q,w))}}const z=D};
shadow$provide[258]=function(X,c,Z,N){function J(K,E){const C=[];Object.keys(E).forEach(function(p){null!==E[p]&&void 0!==E[p]&&C.push(p+"\x3d"+encodeURIComponent(E[p]))});const u=C.join("\x26");K=K.replace(/[?&]$/,"");K+=K.includes("?")?"\x26":"?";return K+u}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},appendParams:{enumerable:!0,get:function(){return J}}})};
shadow$provide[259]=function(X,c,Z,N){function J(e,d,g,h,k,n){k=k.getCode().split(/:(?=\d+$)/).pop();g/=h;g=[(0,l.round)((0,p.getWidth)(d)/g,E.DECIMALS),(0,l.round)((0,p.getHeight)(d)/g,E.DECIMALS)];n.SIZE=g[0]+","+g[1];n.BBOX=d.join(",");n.BBOXSR=k;n.IMAGESR=k;n.DPI=Math.round(n.DPI?n.DPI*h:90*h);d=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");if(d==e)throw Error("`options.featureTypes` should be an Array");return(0,C.appendParams)(d,n)}function K(e){const d=
e.load?e.load:u.decode,g=(0,m.get)(e.projection||"EPSG:3857");return function(h,k,n){n=e.hidpi?n:1;var r={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(r,e.params);h=(0,f.getRequestExtent)(h,k,n,e.ratio);k=J(e.url,h,k,n,g,r);r=new Image;null!==e.crossOrigin&&(r.crossOrigin=e.crossOrigin);return d(r,k).then(x=>{const D=(0,p.getWidth)(h)/x.width*n;return{image:x,extent:h,resolution:D,pixelRatio:n}})}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createLoader:{enumerable:!0,
get:function(){return K}},getRequestUrl:{enumerable:!0,get:function(){return J}}});var E=c(256),C=c(258),u=c(89),p=c(28),m=c(40),f=c(257),l=c(35)};
shadow$provide[260]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});var J=c(257),K=c(259),E=c(89);X=c.esmDefault(J);class C extends X.default{constructor(p){p=p?p:{};super({attributions:p.attributions,interpolate:p.interpolate,projection:p.projection,resolutions:p.resolutions});this.crossOrigin_=void 0!==p.crossOrigin?p.crossOrigin:null;this.hidpi_=void 0!==p.hidpi?p.hidpi:!0;this.url_=p.url;this.imageLoadFunction_=
void 0!==p.imageLoadFunction?p.imageLoadFunction:J.defaultImageLoadFunction;this.params_=p.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=void 0!==p.ratio?p.ratio:1.5}getParams(){return this.params_}getImageInternal(p,m,f,l){if(void 0===this.url_)return null;this.loader||(this.loader=(0,K.createLoader)({crossOrigin:this.crossOrigin_,params:this.params_,projection:l,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(e,d)=>{this.image.setImage(e);this.imageLoadFunction_(this.image,
d);return(0,E.decode)(e)}}));return super.getImageInternal(p,m,f,l)}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(p){this.image_=null;this.imageLoadFunction_=p;this.changed()}setUrl(p){p!=this.url_&&(this.url_=p,this.image_=null,this.changed())}updateParams(p){Object.assign(this.params_,p);this.image_=null;this.changed()}}const u=C};
shadow$provide[261]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});X=c(128);Z=c(257);var J=c(28),K=c.esmDefault(X);c=c.esmDefault(Z);class E extends c.default{constructor(u){u=u?u:{};super({attributions:u.attributions,interpolate:u.interpolate,projection:u.projection,resolutions:u.resolutions,state:u.state});this.canvasFunction_=u.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=void 0!==u.ratio?
u.ratio:1.5}getImageInternal(u,p,m,f){p=this.findNearestResolution(p);let l=this.canvas_;if(l&&this.renderedRevision_==this.getRevision()&&l.getResolution()==p&&l.getPixelRatio()==m&&(0,J.containsExtent)(l.getExtent(),u))return l;u=u.slice();(0,J.scaleFromCenter)(u,this.ratio_);const e=(0,J.getWidth)(u)/p,d=(0,J.getHeight)(u)/p;(f=this.canvasFunction_.call(this,u,p,m,[e*m,d*m],f))&&(l=new K.default(u,p,m,f));this.canvas_=l;this.renderedRevision_=this.getRevision();return l}}const C=E};
shadow$provide[262]=function(X,c,Z,N){function J(m,f,l,e,d,g,h){{const k=(0,u.getWidth)(l),n=(0,u.getHeight)(l),r=e[0],x=e[1],D=.0254/h;g=x*k>r*n?k*g/(r*D):n*g/(x*D)}l=(0,u.getCenter)(l);e={OPERATION:d?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:h,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),SETVIEWSCALE:g,SETVIEWCENTERX:l[0],SETVIEWCENTERY:l[1]};Object.assign(e,f);return(0,E.appendParams)(m,
e)}function K(m){const f=m.load||C.decode;return function(l,e,d){const g=new Image;null!==m.crossOrigin&&(g.crossOrigin=m.crossOrigin);l=(0,p.getRequestExtent)(l,e,d,m.ratio);var h=(0,u.getWidth)(l)/e;e=(0,u.getHeight)(l)/e;h=J(m.url,m.params,l,[h*d,e*d],m.useOverlay,m.metersPerUnit||1,m.displayDpi||96);return f(g,h).then(k=>({image:k,extent:l,pixelRatio:d}))}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createLoader:{enumerable:!0,get:function(){return K}}});var E=c(258),C=c(89),
u=c(28),p=c(257)};
shadow$provide[263]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});var J=c(257),K=c(262),E=c(89);X=c.esmDefault(J);class C extends X.default{constructor(p){super({interpolate:p.interpolate,projection:p.projection,resolutions:p.resolutions});this.crossOrigin_=void 0!==p.crossOrigin?p.crossOrigin:null;this.displayDpi_=void 0!==p.displayDpi?p.displayDpi:96;this.params_=p.params||{};this.url_=p.url;this.imageLoadFunction_=
void 0!==p.imageLoadFunction?p.imageLoadFunction:J.defaultImageLoadFunction;this.hidpi_=void 0!==p.hidpi?p.hidpi:!0;this.metersPerUnit_=void 0!==p.metersPerUnit?p.metersPerUnit:1;this.ratio_=void 0!==p.ratio?p.ratio:1;this.useOverlay_=void 0!==p.useOverlay?p.useOverlay:!1;this.image_=null;this.renderedRevision_=0}getParams(){return this.params_}getImageInternal(p,m,f,l){if(void 0===this.url_)return null;this.loader||(this.loader=(0,K.createLoader)({crossOrigin:this.crossOrigin_,params:this.params_,
hidpi:this.hidpi_,metersPerUnit:this.metersPerUnit_,url:this.url_,useOverlay:this.useOverlay_,ratio:this.ratio_,load:(e,d)=>{this.image.setImage(e);this.imageLoadFunction_(this.image,d);return(0,E.decode)(e)}}));return super.getImageInternal(p,m,f,l)}getImageLoadFunction(){return this.imageLoadFunction_}updateParams(p){Object.assign(this.params_,p);this.changed()}setImageLoadFunction(p){this.image_=null;this.imageLoadFunction_=p;this.changed()}}const u=C};
shadow$provide[264]=function(X,c,Z,N){function J(C){const u=C.load||K.decode,p=C.imageExtent,m=new Image;null!==C.crossOrigin&&(m.crossOrigin=C.crossOrigin);return()=>u(m,C.url).then(f=>{const l=(0,E.getWidth)(p)/f.width,e=(0,E.getHeight)(p)/f.height;return{image:f,extent:p,resolution:l!==e?[l,e]:e,pixelRatio:1}})}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createLoader:{enumerable:!0,get:function(){return J}}});var K=c(89),E=c(28)};
shadow$provide[265]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return l}}});X=c(16);var J=c(257),K=c(89),E=c(264),C=c(40),u=c(28);Z=c.esmDefault(J);var p=c.esmDefault(K),m=c.esmDefault(X);class f extends Z.default{constructor(e){const d=void 0!==e.crossOrigin?e.crossOrigin:null,g=void 0!==e.imageLoadFunction?e.imageLoadFunction:J.defaultImageLoadFunction;super({attributions:e.attributions,interpolate:e.interpolate,projection:(0,C.get)(e.projection)});
this.url_=e.url;this.imageExtent_=e.imageExtent;this.image=null;this.image=new p.default(this.imageExtent_,void 0,1,(0,E.createLoader)({url:e.url,imageExtent:e.imageExtent,crossOrigin:d,load:(h,k)=>{this.image.setImage(h);g(this.image,k);return(0,K.decode)(h)}}));this.image.addEventListener(m.default.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,d,g,h){return(0,u.intersects)(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}
const l=f};
shadow$provide[266]=function(X,c,Z,N){function J(h,k,n,r,x){x.WIDTH=n[0];x.HEIGHT=n[1];n=r.getAxisOrientation();const D=0<=(0,m.compareVersions)(x.VERSION,"1.3");x[D?"CRS":"SRS"]=r.getCode();k=D&&"ne"==n.substr(0,2)?[k[1],k[0],k[3],k[2]]:k;x.BBOX=k.join(",");return(0,p.appendParams)(h,x)}function K(h,k,n,r,x,D,z){D=Object.assign({REQUEST:"GetMap"},D);k/=n;k=[(0,g.round)((0,l.getWidth)(h)/k,u.DECIMALS),(0,g.round)((0,l.getHeight)(h)/k,u.DECIMALS)];if(1!=n)switch(z){case "geoserver":n=90*n+.5|0;D.FORMAT_OPTIONS=
"FORMAT_OPTIONS"in D?D.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case "mapserver":D.MAP_RESOLUTION=90*n;break;case "carmentaserver":case "qgis":D.DPI=90*n;break;default:throw Error("Unknown `serverType` configured");}return J(x,h,k,r,D)}function E(h,k){return Object.assign({REQUEST:k,SERVICE:"WMS",VERSION:"1.3.0",FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},h)}function C(h){const k=void 0===h.hidpi?!0:h.hidpi,n=(0,e.get)(h.projection||"EPSG:3857"),r=h.ratio||1.5,x=h.load||f.decode;return(D,z,w)=>
{D=(0,d.getRequestExtent)(D,z,w,r);1==w||k&&void 0!==h.serverType||(w=1);z=K(D,z,w,n,h.url,E(h.params,"GetMap"),h.serverType);const q=new Image;null!==h.crossOrigin&&(q.crossOrigin=h.crossOrigin);return x(q,z).then(A=>({image:A,extent:D,pixelRatio:w}))}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},DEFAULT_VERSION:{enumerable:!0,get:function(){return"1.3.0"}},createLoader:{enumerable:!0,get:function(){return C}},getImageSrc:{enumerable:!0,get:function(){return K}},getRequestParams:{enumerable:!0,
get:function(){return E}},getRequestUrl:{enumerable:!0,get:function(){return J}}});var u=c(256),p=c(258),m=c(36),f=c(89),l=c(28),e=c(40),d=c(257),g=c(35)};
shadow$provide[267]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return h}}});var J=c(257),K=c(256),E=c(266),C=c(258),u=c(211),p=c(36),m=c(89),f=c(35),l=c(28),e=c(40);X=c.esmDefault(J);const d=[101,101];class g extends X.default{constructor(k){k=k?k:{};super({attributions:k.attributions,interpolate:k.interpolate,projection:k.projection,resolutions:k.resolutions});this.crossOrigin_=void 0!==k.crossOrigin?k.crossOrigin:null;this.url_=
k.url;this.imageLoadFunction_=void 0!==k.imageLoadFunction?k.imageLoadFunction:J.defaultImageLoadFunction;this.params_=k.params;this.serverType_=k.serverType;this.hidpi_=void 0!==k.hidpi?k.hidpi:!0;this.renderedRevision_=0;this.ratio_=void 0!==k.ratio?k.ratio:1.5}getFeatureInfoUrl(k,n,r,x){if(void 0!==this.url_){r=(0,e.get)(r);var D=this.getProjection();D&&D!==r&&(n=(0,u.calculateSourceResolution)(D,r,k,n),k=(0,e.transform)(k,r,D));var z=(0,l.getForViewAndSize)(k,n,0,d),w={QUERY_LAYERS:this.params_.LAYERS};
Object.assign(w,(0,E.getRequestParams)(this.params_,"GetFeatureInfo"),x);x=(0,f.floor)((k[0]-z[0])/n,K.DECIMALS);k=(0,f.floor)((z[3]-k[1])/n,K.DECIMALS);n=0<=(0,p.compareVersions)(w.VERSION,"1.3");w[n?"I":"X"]=x;w[n?"J":"Y"]=k;return(0,E.getRequestUrl)(this.url_,z,d,D||r,w)}}getLegendUrl(k,n){if(void 0!==this.url_){var r={SERVICE:"WMS",VERSION:E.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===n||void 0===n.LAYER){var x=this.params_.LAYERS;if(Array.isArray(x)&&1!==x.length)return;
r.LAYER=x}void 0!==k&&(x=this.getProjection()?this.getProjection().getMetersPerUnit():1,r.SCALE=k*x/2.8E-4);Object.assign(r,n);return(0,C.appendParams)(this.url_,r)}}getParams(){return this.params_}getImageInternal(k,n,r,x){if(void 0===this.url_)return null;this.loader||(this.loader=(0,E.createLoader)({crossOrigin:this.crossOrigin_,params:this.params_,projection:x,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(D,z)=>{this.image.setImage(D);this.imageLoadFunction_(this.image,
z);return(0,m.decode)(D)}}));return super.getImageInternal(k,n,r,x)}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(k){this.imageLoadFunction_=k;this.changed()}setUrl(k){k!=this.url_&&(this.url_=k,this.loader=null,this.changed())}updateParams(k){Object.assign(this.params_,k);this.changed()}changed(){this.image=null;super.changed()}}const h=g};
shadow$provide[268]=function(X,c,Z,N){function J(e,d,g,h){function k(){delete window[r];n.parentNode.removeChild(n)}const n=document.createElement("script"),r="olc_"+(0,p.getUid)(d);n.async=!0;n.src=e+(e.includes("?")?"\x26":"?")+(h||"callback")+"\x3d"+r;const x=setTimeout(function(){k();g&&g()},1E4);window[r]=function(D){clearTimeout(x);k();d(D)};document.head.appendChild(n)}function K(e){return new Promise(function(d,g){const h=new XMLHttpRequest;h.addEventListener("load",function(k){k=k.target;
if(!k.status||200<=k.status&&300>k.status){let n;try{n=JSON.parse(k.responseText)}catch(r){g(Error("Error parsing response text as JSON: "+r.message));return}d(n)}else g(new m(k))});h.addEventListener("error",function(k){g(new f(k.target))});h.open("GET",e);h.setRequestHeader("Accept","application/json");h.send()})}function E(e,d){return d.includes("://")?d:(new URL(d,e)).href}function C(e){"undefined"!==typeof XMLHttpRequest&&(l=XMLHttpRequest);X.XMLHttpRequest=e}function u(){X.XMLHttpRequest=l}
Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ClientError:{enumerable:!0,get:function(){return f}},ResponseError:{enumerable:!0,get:function(){return m}},getJSON:{enumerable:!0,get:function(){return K}},jsonp:{enumerable:!0,get:function(){return J}},overrideXHR:{enumerable:!0,get:function(){return C}},resolveUrl:{enumerable:!0,get:function(){return E}},restoreXHR:{enumerable:!0,get:function(){return u}}});var p=c(19);class m extends Error{constructor(e){super("Unexpected response status: "+
e.status);this.name="ResponseError";this.response=e}}class f extends Error{constructor(e){super("Failed to issue request");this.name="ClientError";this.client=e}}let l};
shadow$provide[269]=function(X,c,Z,N){function J(g,h){let k,n;for(let r=0;r<g.length;++r){const x=g[r];if("item"===x.rel){if(x.type===h){k=x.href;break}e[x.type]?n=x.href:!n&&x.type.startsWith("image/")&&(n=x.href)}}if(!k)if(n)k=n;else throw Error('Could not find "item" link');return k}function K(g,h,k){let n,r;const x={};for(let D=0;D<g.length;++D){const z=g[D];x[z.type]=z.href;if("item"===z.rel){if(z.type===h){n=z.href;break}d[z.type]&&(r=z.href)}}if(!n&&k)for(g=0;g<k.length;++g)if(h=k[g],x[h]){n=
x[h];break}if(!n)if(r)n=r;else throw Error('Could not find "item" link');return n}function E(g,h,k,n){var r=g.projection;if(!r&&(r=(0,m.get)(h.crs),!r))throw Error(`Unsupported CRS: ${h.crs}`);r="en"!==r.getAxisOrientation().substr(0,2);h=h.tileMatrices;const x={};for(var D=0;D<h.length;++D){var z=h[D];x[z.id]=z}const w={},q=[];if(n)for(h=0;h<n.length;++h)D=n[h],z=D.tileMatrix,q.push(z),w[z]=D;else for(D=0;D<h.length;++D)q.push(h[D].id);h=q.length;D=Array(h);z=Array(h);const A=Array(h),L=Array(h),
y=[-Infinity,-Infinity,Infinity,Infinity];for(let ca=0;ca<h;++ca){var F=q[ca],M=x[F],T=M.pointOfOrigin;D[ca]=r?[T[1],T[0]]:T;z[ca]=M.cellSize;A[ca]=[M.matrixWidth,M.matrixHeight];L[ca]=[M.tileWidth,M.tileHeight];if(T=w[F]){var Q=M.cellSize*M.tileWidth;F=D[ca][0]+T.minTileCol*Q;Q=D[ca][0]+(T.maxTileCol+1)*Q;const B=M.cellSize*M.tileHeight;"bottomLeft"===M.cornerOfOrigin?(M=D[ca][1]+T.minTileRow*B,T=D[ca][1]+(T.maxTileRow+1)*B):(M=D[ca][1]-(T.maxTileRow+1)*B,T=D[ca][1]-T.minTileRow*B);(0,f.getIntersection)(y,
[F,M,Q,T],y)}}r=new l.default({origins:D,resolutions:z,sizes:A,tileSizes:L,extent:n?y:void 0});const S=g.context,W=g.url;return{grid:r,urlTemplate:k,urlFunction:function(ca,B,v){if(ca){B=q[ca[0]];v=x[B];var I={tileMatrix:B,tileCol:ca[1],tileRow:"bottomLeft"===v.cornerOfOrigin?-ca[2]-1:ca[2]};if(n&&(ca=w[v.id],I.tileCol<ca.minTileCol||I.tileCol>ca.maxTileCol||I.tileRow<ca.minTileRow||I.tileRow>ca.maxTileRow))return;Object.assign(I,S);ca=k.replace(/\{(\w+?)\}/g,function(O,ea){return I[ea]});return(0,p.resolveUrl)(W,
ca)}}}}function C(g,h){const k=h.tileMatrixSetLimits;let n;if("map"===h.dataType)n=J(h.links,g.mediaType);else if("vector"===h.dataType)n=K(h.links,g.mediaType,g.supportedMediaTypes);else throw Error('Expected tileset data type to be "map" or "vector"');if(h.tileMatrixSet)return E(g,h.tileMatrixSet,n,k);h=h.links.find(r=>"http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme"===r.rel);if(!h)throw Error("Expected http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme link or tileMatrixSet");h=(0,p.resolveUrl)(g.url,
h.href);return(0,p.getJSON)(h).then(function(r){return E(g,r,n,k)})}function u(g){return(0,p.getJSON)(g.url).then(function(h){return C(g,h)})}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},getMapTileUrlTemplate:{enumerable:!0,get:function(){return J}},getTileSetInfo:{enumerable:!0,get:function(){return u}},getVectorTileUrlTemplate:{enumerable:!0,get:function(){return K}}});X=c(239);var p=c(268),m=c(40),f=c(28),l=c.esmDefault(X);const e={"image/png":!0,"image/jpeg":!0,"image/gif":!0,
"image/webp":!0},d={"application/vnd.mapbox-vector-tile":!0,"application/geo+json":!0}};
shadow$provide[270]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});X=c(244);var J=c(269),K=c(39);c=c.esmDefault(X);class E extends c.default{constructor(u){super({attributions:u.attributions,cacheSize:u.cacheSize,crossOrigin:u.crossOrigin,interpolate:u.interpolate,projection:u.projection,reprojectionErrorThreshold:u.reprojectionErrorThreshold,state:"loading",tileLoadFunction:u.tileLoadFunction,wrapX:void 0!==u.wrapX?
u.wrapX:!0,transition:u.transition});u={url:u.url,projection:this.getProjection(),mediaType:u.mediaType,context:u.context||null};(0,J.getTileSetInfo)(u).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this))}handleTileSetInfo_(u){this.tileGrid=u.grid;this.setTileUrlFunction(u.urlFunction,u.urlTemplate);this.setState("ready")}handleError_(u){(0,K.error)(u);this.setState("error")}}const C=E};
shadow$provide[271]=function(X,c,Z,N){function J(q,A){q.setLoader(function(L,y,F){(0,d.loadFeaturesXhr)(A,q.getFormat(),L,y,F,q.onLoad.bind(q),q.onError.bind(q))})}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return w}},defaultLoadFunction:{enumerable:!0,get:function(){return J}}});X=c(16);Z=c(174);var K=c(171);N=c(239);var E=c(129),C=c(243),u=c(173),p=c(81),m=c(28),f=c(240),l=c(170),e=c(14),d=c(123),g=c(66),h=c.esmDefault(K),k=c.esmDefault(E),
n=c.esmDefault(u);K=c.esmDefault(C);var r=c.esmDefault(Z),x=c.esmDefault(X),D=c.esmDefault(N);class z extends K.default{constructor(q){const A=q.projection||"EPSG:3857";var L=q.extent||(0,f.extentFromProjection)(A);L=q.tileGrid||(0,f.createXYZ)({extent:L,maxResolution:q.maxResolution,maxZoom:void 0!==q.maxZoom?q.maxZoom:22,minZoom:q.minZoom,tileSize:q.tileSize||512});super({attributions:q.attributions,attributionsCollapsible:q.attributionsCollapsible,cacheSize:q.cacheSize,interpolate:!0,opaque:!1,
projection:A,state:q.state,tileGrid:L,tileLoadFunction:q.tileLoadFunction?q.tileLoadFunction:J,tileUrlFunction:q.tileUrlFunction,url:q.url,urls:q.urls,wrapX:void 0===q.wrapX?!0:q.wrapX,transition:q.transition,zDirection:void 0===q.zDirection?1:q.zDirection});this.format_=q.format?q.format:null;this.sourceTileCache=new h.default(this.tileCache.highWaterMark);this.overlaps_=void 0==q.overlaps?!0:q.overlaps;this.tileClass=q.tileClass?q.tileClass:r.default;this.tileGrids_={}}getFeaturesInExtent(q){const A=
[],L=this.tileCache;if(0===L.getCount())return A;const y=(0,l.fromKey)(L.peekFirstKey())[0],F=this.tileGrid;L.forEach(function(M){if(M.tileCoord[0]===y&&M.getState()===k.default.LOADED){M=M.getSourceTiles();for(let Q=0,S=M.length;Q<S;++Q){var T=M[Q];if((0,m.intersects)(q,F.getTileCoordExtent(T.tileCoord))&&(T=T.getFeatures()))for(let W=0,ca=T.length;W<ca;++W){const B=T[W],v=B.getGeometry();(0,m.intersects)(q,v.getExtent())&&A.push(B)}}}});return A}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear();
this.sourceTileCache.clear()}expireCache(q,A){const L=this.getTileCacheForProjection(q),y=Object.keys(A).reduce((F,M)=>{M=(0,l.getCacheKeyForTileKey)(M);if(M=L.peek(M)){M=M.sourceTiles;for(let T=0,Q=M.length;T<Q;++T)F[M[T].getKey()]=!0}return F},{});super.expireCache(q,A);this.sourceTileCache.expireCache(y)}getSourceTiles(q,A,L){if(L.getState()===k.default.IDLE){L.setState(k.default.LOADING);var y=L.wrappedTileCoord,F=this.getTileGridForProjection(A);const M=F.getTileCoordExtent(y);y=F.getResolution(y[0]);
(0,m.buffer)(M,-y,M);const T=this.tileGrid;(F=T.getExtent())&&(0,m.getIntersection)(M,F,M);y=T.getZForResolution(y,this.zDirection);T.forEachTileCoord(M,y,Q=>{const S=this.tileUrlFunction(Q,q,A),W=this.sourceTileCache.containsKey(S)?this.sourceTileCache.get(S):new this.tileClass(Q,S?k.default.IDLE:k.default.EMPTY,S,this.format_,this.tileLoadFunction);L.sourceTiles.push(W);const ca=W.getState();if(ca<k.default.LOADED){const B=v=>{this.handleTileChange(v);v=W.getState();if(v===k.default.LOADED||v===
k.default.ERROR){const I=W.getKey();I in L.errorTileKeys?W.getState()===k.default.LOADED&&delete L.errorTileKeys[I]:L.loadingSourceTiles--;v===k.default.ERROR?L.errorTileKeys[I]=!0:W.removeEventListener(x.default.CHANGE,B);0===L.loadingSourceTiles&&L.setState((0,e.isEmpty)(L.errorTileKeys)?k.default.LOADED:k.default.ERROR)}};W.addEventListener(x.default.CHANGE,B);L.loadingSourceTiles++}ca===k.default.IDLE&&(W.extent=T.getTileCoordExtent(Q),W.projection=A,W.resolution=T.getResolution(Q[0]),this.sourceTileCache.set(S,
W),W.load())});L.loadingSourceTiles||L.setState(L.sourceTiles.some(Q=>Q.getState()===k.default.ERROR)?k.default.ERROR:k.default.LOADED)}return L.sourceTiles}getTile(q,A,L,y,F){const M=(0,l.getKeyZXY)(q,A,L),T=this.getKey();let Q;if(this.tileCache.containsKey(M)&&(Q=this.tileCache.get(M),Q.key===T))return Q;A=[q,A,L];L=this.getTileCoordForTileUrlFunction(A,F);var S=this.getTileGrid().getExtent(),W=this.getTileGridForProjection(F);if(L&&S){var ca=W.getTileCoordExtent(L);(0,m.buffer)(ca,-W.getResolution(q),
ca);(0,m.intersects)(S,ca)||(L=null)}let B=!0;null!==L&&(S=this.tileGrid,q=W.getResolution(q),ca=S.getZForResolution(q,1),W=W.getTileCoordExtent(L),(0,m.buffer)(W,-q,W),S.forEachTileCoord(W,ca,v=>{B=B&&!this.tileUrlFunction(v,y,F)}));A=new n.default(A,B?k.default.EMPTY:k.default.IDLE,L,this.getSourceTiles.bind(this,y,F));A.key=T;Q?(A.interimTile=Q,A.refreshInterimChain(),this.tileCache.replace(M,A)):this.tileCache.set(M,A);return A}getTileGridForProjection(q){q=q.getCode();var A=this.tileGrids_[q];
if(!A){const L=this.tileGrid;A=L.getResolutions().slice();const y=A.map(function(T,Q){return L.getOrigin(Q)}),F=A.map(function(T,Q){return L.getTileSize(Q)}),M=p.DEFAULT_MAX_ZOOM+1;for(let T=A.length;T<M;++T)A.push(A[T-1]/2),y.push(y[T-1]),F.push(F[T-1]);A=new D.default({extent:L.getExtent(),origins:y,resolutions:A,tileSizes:F});this.tileGrids_[q]=A}return A}getTilePixelRatio(q){return q}getTilePixelSize(q,A,L){L=this.getTileGridForProjection(L);q=(0,g.toSize)(L.getTileSize(q),this.tmpSize);return[Math.round(q[0]*
A),Math.round(q[1]*A)]}updateCacheSize(q,A){super.updateCacheSize(2*q,A);this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(A).highWaterMark}}const w=z};
shadow$provide[272]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});X=c(271);var J=c(269),K=c(39);c=c.esmDefault(X);class E extends c.default{constructor(u){super({attributions:u.attributions,attributionsCollapsible:u.attributionsCollapsible,cacheSize:u.cacheSize,format:u.format,overlaps:u.overlaps,projection:u.projection,tileClass:u.tileClass,transition:u.transition,wrapX:u.wrapX,zDirection:u.zDirection,state:"loading"});
u={url:u.url,projection:this.getProjection(),mediaType:u.mediaType,supportedMediaTypes:u.format.supportedMediaTypes,context:u.context||null};(0,J.getTileSetInfo)(u).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this))}handleTileSetInfo_(u){this.tileGrid=u.grid;this.setTileUrlFunction(u.urlFunction,u.urlTemplate);this.setState("ready")}handleError_(u){(0,K.error)(u);this.setState("error")}}const C=E};
shadow$provide[273]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},ATTRIBUTION:{enumerable:!0,get:function(){return'\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'}},default:{enumerable:!0,get:function(){return K}}});X=c(246);c=c.esmDefault(X);class J extends c.default{constructor(E){E=E||{};super({attributions:void 0!==E.attributions?E.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],
attributionsCollapsible:!1,cacheSize:E.cacheSize,crossOrigin:void 0!==E.crossOrigin?E.crossOrigin:"anonymous",interpolate:E.interpolate,maxZoom:void 0!==E.maxZoom?E.maxZoom:19,opaque:void 0!==E.opaque?E.opaque:!0,reprojectionErrorThreshold:E.reprojectionErrorThreshold,tileLoadFunction:E.tileLoadFunction,transition:E.transition,url:void 0!==E.url?E.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:E.wrapX,zDirection:E.zDirection})}}const K=J};
shadow$provide[274]=function(X,c,Z,N){function J(O,ea,la){if(Q)return new ImageData(O,ea,la);S||(S=document.createElement("canvas").getContext("2d"));ea=S.createImageData(ea,la);ea.data.set(O);return ea}function K(O){let ea=!0;try{new ImageData(10,10)}catch(la){ea=!1}return function(la){var va=la.buffers;const Da=la.meta;var Ya=la.width,Za=la.height;const gb=va.length;var qb=va[0].byteLength;if(la.imageOps){la=Array(gb);for(var db=0;db<gb;++db){qb=db;var sb=new Uint8ClampedArray(va[db]);var Ha=Ya,
ta=Za;sb=ea?new ImageData(sb,Ha,ta):{data:sb,width:Ha,height:ta};la[qb]=sb}return O(la,Da).data.buffer}Ya=new Uint8ClampedArray(qb);Za=Array(gb);la=Array(gb);for(db=0;db<gb;++db)Za[db]=new Uint8ClampedArray(va[db]),la[db]=[0,0,0,0];for(va=0;va<qb;va+=4){for(db=0;db<gb;++db)sb=Za[db],la[db][0]=sb[va],la[db][1]=sb[va+1],la[db][2]=sb[va+2],la[db][3]=sb[va+3];db=O(la,Da);Ya[va]=db[0];Ya[va+1]=db[1];Ya[va+2]=db[2];Ya[va+3]=db[3]}return Ya.buffer}}function E(O,ea){var la=Object.keys(O.lib||{}).map(function(va){return"const "+
va+" \x3d "+O.lib[va].toString()+";"}).concat(["const __minion__ \x3d ("+K.toString()+")(",O.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);la=new Worker("undefined"===typeof Blob?"data:text/javascript;base64,"+f.from(la.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(la,{type:"text/javascript"})));la.addEventListener("message",
ea);return la}function C(O,ea){const la=K(O.operation);let va=!1;return{postMessage:function(Da){setTimeout(function(){va||ea({data:{buffer:la(Da),meta:Da.meta}})},0)},terminate:function(){va=!0}}}function u(O,ea){const la=O.getRenderer();if(!la)throw Error("Unsupported layer type: "+O);if(!la.prepareFrame(ea))return null;O=ea.size[0];const va=ea.size[1];if(0===O||0===va)return null;ea=la.renderFrame(ea,null);let Da;if(ea instanceof HTMLCanvasElement)Da=ea;else{ea&&(Da=ea.firstElementChild);if(!(Da instanceof
HTMLCanvasElement))throw Error("Unsupported rendered element: "+Da);if(Da.width===O&&Da.height===va)return Da.getContext("2d").getImageData(0,0,O,va)}v?(ea=v.canvas,ea.width!==O||ea.height!==va?v=(0,r.createCanvasContext2D)(O,va,void 0,{willReadFrequently:!0}):v.clearRect(0,0,O,va)):v=(0,r.createCanvasContext2D)(O,va,void 0,{willReadFrequently:!0});v.drawImage(Da,0,0,O,va);return v.getImageData(0,0,O,va)}function p(O){return O.map(function(ea){return ea.getLayerState()})}function m(O){const ea=O.length,
la=Array(ea);for(let Ya=0;Ya<ea;++Ya){var va=Ya;let Za=void 0;var Da=O[Ya];Da instanceof y.default?Da instanceof T.default?Za=new q.default({source:Da}):Da instanceof A.default&&(Za=new M.default({source:Da})):Za=Da;la[va]=Za}return la}var f=c(204).Buffer;Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},Processor:{enumerable:!0,get:function(){return W}},RasterSourceEvent:{enumerable:!0,get:function(){return ca}},default:{enumerable:!0,get:function(){return I}},newImageData:{enumerable:!0,
get:function(){return J}}});var l=c(11),e=c(9);X=c(16);var d=c(128);Z=c(224);var g=c(257);N=c(120);var h=c(228),k=c(144),n=c(241),r=c(70),x=c(26),D=c(28),z=c(19),w=c.esmDefault(d),q=c.esmDefault(h),A=c.esmDefault(g);l=c.esmDefault(l);e=c.esmDefault(e);var L=c.esmDefault(k),y=c.esmDefault(N),F=c.esmDefault(X),M=c.esmDefault(Z),T=c.esmDefault(n);let Q=!0;try{new ImageData(10,10)}catch(O){Q=!1}let S;class W extends l.default{constructor(O){super();this._imageOps=!!O.imageOps;let ea;ea=0===O.threads?
0:this._imageOps?1:O.threads||1;const la=Array(ea);if(ea)for(let va=0;va<ea;++va)la[va]=E(O,this._onWorkerMessage.bind(this,va));else la[0]=C(O,this._onWorkerMessage.bind(this,0));this._workers=la;this._queue=[];this._maxQueueLength=O.queue||Infinity;this._running=0;this._dataLookup={};this._job=null}process(O,ea,la){this._enqueue({inputs:O,meta:ea,callback:la});this._dispatch()}_enqueue(O){for(this._queue.push(O);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)}_dispatch(){if(!this._running&&
0!==this._queue.length){var O=this._queue.shift();this._job=O;var ea=O.inputs[0].width,la=O.inputs[0].height,va=O.inputs.map(function(Za){return Za.data.buffer}),Da=this._workers.length;this._running=Da;if(1===Da)this._workers[0].postMessage({buffers:va,meta:O.meta,imageOps:this._imageOps,width:ea,height:la},va);else{var Ya=4*Math.ceil(O.inputs[0].data.length/4/Da);for(let Za=0;Za<Da;++Za){const gb=Za*Ya,qb=[];for(let db=0,sb=va.length;db<sb;++db)qb.push(va[db].slice(gb,gb+Ya));this._workers[Za].postMessage({buffers:qb,
meta:O.meta,imageOps:this._imageOps,width:ea,height:la},qb)}}}}_onWorkerMessage(O,ea){this.disposed||(this._dataLookup[O]=ea.data,--this._running,0===this._running&&this._resolveJob())}_resolveJob(){const O=this._job,ea=this._workers.length;let la,va;if(1===ea)la=new Uint8ClampedArray(this._dataLookup[0].buffer),va=this._dataLookup[0].meta;else{var Da=O.inputs[0].data.length;la=new Uint8ClampedArray(Da);va=Array(ea);Da=4*Math.ceil(Da/4/ea);for(let Ya=0;Ya<ea;++Ya){const Za=Ya*Da;la.set(new Uint8ClampedArray(this._dataLookup[Ya].buffer),
Za);va[Ya]=this._dataLookup[Ya].meta}}this._job=null;this._dataLookup={};O.callback(null,J(la,O.inputs[0].width,O.inputs[0].height),va);this._dispatch()}disposeInternal(){for(let O=0;O<this._workers.length;++O)this._workers[O].terminate();this._workers.length=0}}class ca extends e.default{constructor(O,ea,la){super(O);this.extent=ea.extent;this.resolution=ea.viewState.resolution/ea.pixelRatio;this.data=la}}class B extends A.default{constructor(O){super({projection:null});this.on;this.once;this.un;
this.processor_=null;this.operationType_=void 0!==O.operationType?O.operationType:"pixel";this.threads_=void 0!==O.threads?O.threads:1;this.layers_=m(O.sources);const ea=this.changed.bind(this);for(let la=0,va=this.layers_.length;la<va;++la)this.layers_[la].addEventListener(F.default.CHANGE,ea);this.useResolutions_=null!==O.resolutions;this.tileQueue_=new L.default(function(){return 1},this.processSources_.bind(this));this.requestedFrameState_;this.renderedImageCanvas_=null;this.renderedRevision_;
this.frameState_={animate:!1,coordinateToPixelTransform:(0,x.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:p(this.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,x.create)(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:(0,z.getUid)(this),renderTargets:{}};this.setAttributions(function(la){const va=[];for(let Ya=0,Za=O.sources.length;Ya<Za;++Ya){var Da=O.sources[Ya];
if(Da=Da instanceof y.default?Da:Da.getSource())Da=Da.getAttributions(),"function"===typeof Da&&(Da=Da(la),va.push.apply(va,Da))}return 0!==va.length?va:null});void 0!==O.operation&&this.setOperation(O.operation,O.lib)}setOperation(O,ea){this.processor_&&this.processor_.dispose();this.processor_=new W({operation:O,imageOps:"image"===this.operationType_,queue:1,lib:ea,threads:this.threads_});this.changed()}updateFrameState_(O,ea,la){const va=Object.assign({},this.frameState_);va.viewState=Object.assign({},
va.viewState);const Da=(0,D.getCenter)(O);va.size[0]=Math.ceil((0,D.getWidth)(O)/ea);va.size[1]=Math.ceil((0,D.getHeight)(O)/ea);va.extent=[Da[0]-va.size[0]*ea/2,Da[1]-va.size[1]*ea/2,Da[0]+va.size[0]*ea/2,Da[1]+va.size[1]*ea/2];va.time=Date.now();O=va.viewState;O.center=Da;O.projection=la;O.resolution=ea;return va}allSourcesReady_(){let O=!0,ea;for(let la=0,va=this.layers_.length;la<va;++la)if(ea=this.layers_[la].getSource(),!ea||"ready"!==ea.getState()){O=!1;break}return O}getImage(O,ea,la,va){if(!this.allSourcesReady_())return null;
this.tileQueue_.loadMoreTiles(16,16);ea=this.findNearestResolution(ea);this.requestedFrameState_=O=this.updateFrameState_(O,ea,va);this.renderedImageCanvas_&&(la=this.renderedImageCanvas_.getResolution(),va=this.renderedImageCanvas_.getExtent(),ea===la&&(0,D.equals)(O.extent,va)||(this.renderedImageCanvas_=null));this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();O.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_}processSources_(){const O=
this.requestedFrameState_;var ea=this.layers_.length;const la=Array(ea);for(let va=0;va<ea;++va){O.layerIndex=va;O.renderTargets={};const Da=u(this.layers_[va],O);if(Da)la[va]=Da;else return}ea={};this.dispatchEvent(new ca("beforeoperations",O,ea));this.processor_.process(la,ea,this.onWorkerComplete_.bind(this,O))}onWorkerComplete_(O,ea,la,va){if(!ea&&la){ea=O.extent;var Da=O.viewState.resolution;if(Da===this.requestedFrameState_.viewState.resolution&&(0,D.equals)(ea,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var Ya=
this.renderedImageCanvas_.getImage().getContext("2d");else{Ya=Math.round((0,D.getWidth)(ea)/Da);const Za=Math.round((0,D.getHeight)(ea)/Da);Ya=(0,r.createCanvasContext2D)(Ya,Za);this.renderedImageCanvas_=new w.default(ea,Da,1,Ya.canvas)}Ya.putImageData(la,0,0);O.animate?requestAnimationFrame(this.changed.bind(this)):this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ca("afteroperations",O,va))}}}getResolutions(O){if(!this.useResolutions_)return null;let ea=super.getResolutions();
if(!ea)for(let la=0,va=this.layers_.length;la<va&&!(ea=this.layers_[la].getSource().getResolutions(O));++la);return ea}disposeInternal(){this.processor_&&this.processor_.dispose();super.disposeInternal()}}B.prototype.dispose;let v=null;const I=B};
shadow$provide[275]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return u}}});X=c(246);var J=c(273);c=c.esmDefault(X);const K={stamen_terrain:{extension:"png",opaque:!0},stamen_terrain_background:{extension:"png",opaque:!0},stamen_terrain_labels:{extension:"png",opaque:!1},stamen_terrain_lines:{extension:"png",opaque:!1},stamen_toner_background:{extension:"png",opaque:!0},stamen_toner:{extension:"png",opaque:!0},stamen_toner_labels:{extension:"png",
opaque:!1},stamen_toner_lines:{extension:"png",opaque:!1},stamen_toner_lite:{extension:"png",opaque:!0},stamen_watercolor:{extension:"jpg",opaque:!0},alidade_smooth:{extension:"png",opaque:!0},alidade_smooth_dark:{extension:"png",opaque:!0},outdoors:{extension:"png",opaque:!0},osm_bright:{extension:"png",opaque:!0}},E={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class C extends c.default{constructor(p){var m=
p.layer.indexOf("-");m=-1==m?p.layer:p.layer.slice(0,m);m=E[m]||{minZoom:0,maxZoom:20,retina:!0};const f=K[p.layer];var l=p.apiKey?"?api_key\x3d"+p.apiKey:"";const e=m.retina&&p.retina?"@2x":"";l=void 0!==p.url?p.url:"https://tiles.stadiamaps.com/tiles/"+p.layer+"/{z}/{x}/{y}"+e+"."+f.extension+l;const d=['\x26copy; \x3ca href\x3d"https://www.stadiamaps.com/" target\x3d"_blank"\x3eStadia Maps\x3c/a\x3e','\x26copy; \x3ca href\x3d"https://openmaptiles.org/" target\x3d"_blank"\x3eOpenMapTiles\x3c/a\x3e',
J.ATTRIBUTION];p.layer.startsWith("stamen_")&&d.splice(1,0,'\x26copy; \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e');super({attributions:d,cacheSize:p.cacheSize,crossOrigin:"anonymous",interpolate:p.interpolate,maxZoom:void 0!==p.maxZoom?p.maxZoom:m.maxZoom,minZoom:void 0!==p.minZoom?p.minZoom:m.minZoom,opaque:f.opaque,reprojectionErrorThreshold:p.reprojectionErrorThreshold,tileLoadFunction:p.tileLoadFunction,transition:p.transition,url:l,tilePixelRatio:e?2:1,
wrapX:p.wrapX,zDirection:p.zDirection})}}const u=C};
shadow$provide[276]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});X=c(244);var J=c(28),K=c(259),E=c(35),C=c(66),u=c(170);c=c.esmDefault(X);class p extends c.default{constructor(f){f=f?f:{};super({attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,interpolate:f.interpolate,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileGrid:f.tileGrid,tileLoadFunction:f.tileLoadFunction,
url:f.url,urls:f.urls,wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition,zDirection:f.zDirection});this.params_=f.params||{};this.hidpi_=void 0!==f.hidpi?f.hidpi:!0;this.tmpExtent_=(0,J.createEmpty)();this.setKey(this.getKeyForParams_())}getKeyForParams_(){let f=0;const l=[];for(const e in this.params_)l[f++]=e+"-"+this.params_[e];return l.join("/")}getParams(){return this.params_}getRequestUrl_(f,l,e,d,g,h){if(l=this.urls){if(1==l.length)l=l[0];else{const k=(0,E.modulo)((0,u.hash)(f),l.length);
l=l[k]}return(0,K.getRequestUrl)(l,e,(this.tileGrid||this.getTileGridForProjection(g)).getResolution(f[0]),d,g,h)}}getTilePixelRatio(f){return this.hidpi_?f:1}updateParams(f){Object.assign(this.params_,f);this.setKey(this.getKeyForParams_())}tileUrlFunction(f,l,e){var d=this.getTileGrid();d||(d=this.getTileGridForProjection(e));if(!(d.getResolutions().length<=f[0])){1==l||this.hidpi_||(l=1);var g=d.getTileCoordExtent(f,this.tmpExtent_);d=(0,C.toSize)(d.getTileSize(f[0]),this.tmpSize);1!=l&&(d=(0,C.scale)(d,
l,this.tmpSize));var h={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(h,this.params_);return this.getRequestUrl_(f,d,g,l,e,h)}}}const m=p};
shadow$provide[277]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return C}}});X=c(246);var J=c(70),K=c(66);c=c.esmDefault(X);class E extends c.default{constructor(u){u=u||{};super({opaque:!1,projection:u.projection,tileGrid:u.tileGrid,wrapX:void 0!==u.wrapX?u.wrapX:!0,zDirection:u.zDirection,url:u.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(p,m)=>{var f=p.getTileCoord()[0];f=(0,K.toSize)(this.tileGrid.getTileSize(f));const l=
(0,J.createCanvasContext2D)(f[0],f[1]);l.strokeStyle="grey";l.strokeRect(.5,.5,f[0]+.5,f[1]+.5);l.fillStyle="grey";l.strokeStyle="white";l.textAlign="center";l.textBaseline="middle";l.font="24px sans-serif";l.lineWidth=4;l.strokeText(m,f[0]/2,f[1]/2,f[0]);l.fillText(m,f[0]/2,f[1]/2,f[0]);p.setImage(l.canvas)}})}}const C=E};
shadow$provide[278]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return m}}});X=c(244);var J=c(28),K=c(242),E=c(240),C=c(40),u=c(268);c=c.esmDefault(X);class p extends c.default{constructor(f){super({attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,interpolate:f.interpolate,projection:(0,C.get)("EPSG:3857"),reprojectionErrorThreshold:f.reprojectionErrorThreshold,state:"loading",tileLoadFunction:f.tileLoadFunction,
wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition,zDirection:f.zDirection});this.tileJSON_=null;this.tileSize_=f.tileSize;if(f.url)if(f.jsonp)(0,u.jsonp)(f.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const l=new XMLHttpRequest;l.addEventListener("load",this.onXHRLoad_.bind(this));l.addEventListener("error",this.onXHRError_.bind(this));l.open("GET",f.url);l.send()}else if(f.tileJSON)this.handleTileJSONResponse(f.tileJSON);else throw Error("Either `url` or `tileJSON` options must be provided");
}onXHRLoad_(f){f=f.target;if(!f.status||200<=f.status&&300>f.status){let l;try{l=JSON.parse(f.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(l)}else this.handleTileJSONError()}onXHRError_(f){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(f){var l=(0,C.get)("EPSG:4326"),e=this.getProjection();if(void 0!==f.bounds){var d=(0,C.getTransformFromProjections)(l,e);d=(0,J.applyTransform)(f.bounds,d)}e=(0,E.extentFromProjection)(e);
this.tileGrid=l=(0,E.createXYZ)({extent:e,maxZoom:f.maxzoom||22,minZoom:f.minzoom||0,tileSize:this.tileSize_});this.tileUrlFunction=(0,K.createFromTemplates)(f.tiles,l);if(f.attribution&&!this.getAttributions()){const g=void 0!==d?d:e;this.setAttributions(function(h){return(0,J.intersects)(g,h.extent)?[f.attribution]:null})}this.tileJSON_=f;this.setState("ready")}handleTileJSONError(){this.setState("error")}}const m=p};
shadow$provide[279]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return e}}});X=c(244);var J=c(266),K=c(258),E=c(28),C=c(211),u=c(36),p=c(40),m=c(35),f=c(170);c=c.esmDefault(X);class l extends c.default{constructor(d){d=d?d:{};const g=Object.assign({},d.params);super({attributions:d.attributions,attributionsCollapsible:d.attributionsCollapsible,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,interpolate:d.interpolate,opaque:!("TRANSPARENT"in
g?g.TRANSPARENT:1),projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,tileClass:d.tileClass,tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition,zDirection:d.zDirection});this.gutter_=void 0!==d.gutter?d.gutter:0;this.params_=g;this.v13_=!0;this.serverType_=d.serverType;this.hidpi_=void 0!==d.hidpi?d.hidpi:!0;this.tmpExtent_=(0,E.createEmpty)();this.updateV13_();this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(d,
g,h,k){h=(0,p.get)(h);const n=this.getProjection()||h;var r=this.getTileGrid();r||(r=this.getTileGridForProjection(n));const x=(0,p.transform)(d,h,n);d=(0,C.calculateSourceResolution)(n,h,d,g);g=r.getZForResolution(d,this.zDirection);d=r.getResolution(g);g=r.getTileCoordForCoordAndZ(x,g);if(!(r.getResolutions().length<=g[0])){r=r.getTileCoordExtent(g,this.tmpExtent_);var D=this.gutter_;0!==D&&(r=(0,E.buffer)(r,d*D,r));D={QUERY_LAYERS:this.params_.LAYERS};Object.assign(D,(0,J.getRequestParams)(this.params_,
"GetFeatureInfo"),k);k=Math.floor((r[3]-x[1])/d);D[this.v13_?"I":"X"]=Math.floor((x[0]-r[0])/d);D[this.v13_?"J":"Y"]=k;return this.getRequestUrl_(g,r,1,n||h,D)}}getLegendUrl(d,g){if(void 0!==this.urls[0]){var h={SERVICE:"WMS",VERSION:J.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===g||void 0===g.LAYER){var k=this.params_.LAYERS;if(Array.isArray(k)&&1!==k.length)return;h.LAYER=k}void 0!==d&&(k=this.getProjection()?this.getProjection().getMetersPerUnit():1,h.SCALE=d*k/2.8E-4);
Object.assign(h,g);return(0,K.appendParams)(this.urls[0],h)}}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(d,g,h,k,n){var r=this.urls;if(r){if(1==r.length)r=r[0];else{const x=(0,m.modulo)((0,f.hash)(d),r.length);r=r[x]}return(0,J.getImageSrc)(g,(this.tileGrid||this.getTileGridForProjection(k)).getResolution(d[0]),h,k,r,n,this.serverType_)}}getTilePixelRatio(d){return this.hidpi_&&void 0!==this.serverType_?d:1}getKeyForParams_(){let d=0;const g=[];for(const h in this.params_)g[d++]=
h+"-"+this.params_[h];return g.join("/")}updateParams(d){Object.assign(this.params_,d);this.updateV13_();this.setKey(this.getKeyForParams_())}updateV13_(){this.v13_=0<=(0,u.compareVersions)(this.params_.VERSION||J.DEFAULT_VERSION,"1.3")}tileUrlFunction(d,g,h){var k=this.getTileGrid();k||(k=this.getTileGridForProjection(h));if(!(k.getResolutions().length<=d[0])){1==g||this.hidpi_&&void 0!==this.serverType_||(g=1);var n=k.getResolution(d[0]);k=k.getTileCoordExtent(d,this.tmpExtent_);var r=this.gutter_;
0!==r&&(k=(0,E.buffer)(k,n*r,k));n=Object.assign({},(0,J.getRequestParams)(this.params_,"GetMap"));return this.getRequestUrl_(d,k,g,h,n)}}}const e=l};
shadow$provide[280]=function(X,c,Z,N){Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},CustomTile:{enumerable:!0,get:function(){return d}},default:{enumerable:!0,get:function(){return h}}});Z=c(16);N=c(130);X=c(241);var J=c(129),K=c(28),E=c(242),C=c(240),u=c(170),p=c(40),m=c(17),f=c(268),l=c.esmDefault(J),e=c.esmDefault(Z);Z=c.esmDefault(N);c=c.esmDefault(X);class d extends Z.default{constructor(k,n,r,x,D,z){super(k,n);this.src_=r;this.extent_=x;this.preemptive_=D;this.data_=this.keys_=
this.grid_=null;this.jsonp_=z}getImage(){return null}getData(k){if(!this.grid_||!this.keys_)return null;var n=this.grid_[Math.floor((1-(k[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!==typeof n)return null;k=n.charCodeAt(Math.floor((k[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*n.length));93<=k&&k--;35<=k&&k--;k-=32;n=null;k in this.keys_&&(k=this.keys_[k],n=this.data_&&k in this.data_?this.data_[k]:k);return n}forDataAtCoordinate(k,n,r){this.state==
l.default.EMPTY&&!0===r?(this.state=l.default.IDLE,(0,m.listenOnce)(this,e.default.CHANGE,function(x){n(this.getData(k))},this),this.loadInternal_()):!0===r?setTimeout(()=>{n(this.getData(k))},0):n(this.getData(k))}getKey(){return this.src_}handleError_(){this.state=l.default.ERROR;this.changed()}handleLoad_(k){this.grid_=k.grid;this.keys_=k.keys;this.data_=k.data;this.state=l.default.LOADED;this.changed()}loadInternal_(){if(this.state==l.default.IDLE)if(this.state=l.default.LOADING,this.jsonp_)(0,f.jsonp)(this.src_,
this.handleLoad_.bind(this),this.handleError_.bind(this));else{const k=new XMLHttpRequest;k.addEventListener("load",this.onXHRLoad_.bind(this));k.addEventListener("error",this.onXHRError_.bind(this));k.open("GET",this.src_);k.send()}}onXHRLoad_(k){k=k.target;if(!k.status||200<=k.status&&300>k.status){let n;try{n=JSON.parse(k.responseText)}catch(r){this.handleError_();return}this.handleLoad_(n)}else this.handleError_()}onXHRError_(k){this.handleError_()}load(){this.preemptive_?this.loadInternal_():
this.setState(l.default.EMPTY)}}class g extends c.default{constructor(k){super({projection:(0,p.get)("EPSG:3857"),state:"loading",zDirection:k.zDirection});this.preemptive_=void 0!==k.preemptive?k.preemptive:!0;this.tileUrlFunction_=E.nullTileUrlFunction;this.template_=void 0;this.jsonp_=k.jsonp||!1;if(k.url)if(this.jsonp_)(0,f.jsonp)(k.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const n=new XMLHttpRequest;n.addEventListener("load",this.onXHRLoad_.bind(this));
n.addEventListener("error",this.onXHRError_.bind(this));n.open("GET",k.url);n.send()}else if(k.tileJSON)this.handleTileJSONResponse(k.tileJSON);else throw Error("Either `url` or `tileJSON` options must be provided");}onXHRLoad_(k){k=k.target;if(!k.status||200<=k.status&&300>k.status){let n;try{n=JSON.parse(k.responseText)}catch(r){this.handleTileJSONError();return}this.handleTileJSONResponse(n)}else this.handleTileJSONError()}onXHRError_(k){this.handleTileJSONError()}getTemplate(){return this.template_}forDataAtCoordinateAndResolution(k,
n,r,x){this.tileGrid?(n=this.tileGrid.getZForResolution(n,this.zDirection),n=this.tileGrid.getTileCoordForCoordAndZ(k,n),this.getTile(n[0],n[1],n[2],1,this.getProjection()).forDataAtCoordinate(k,r,x)):!0===x?setTimeout(function(){r(null)},0):r(null)}handleTileJSONError(){this.setState("error")}handleTileJSONResponse(k){var n=(0,p.get)("EPSG:4326"),r=this.getProjection();if(void 0!==k.bounds){var x=(0,p.getTransformFromProjections)(n,r);x=(0,K.applyTransform)(k.bounds,x)}r=(0,C.extentFromProjection)(r);
this.tileGrid=n=(0,C.createXYZ)({extent:r,maxZoom:k.maxzoom||22,minZoom:k.minzoom||0});this.template_=k.template;const D=k.grids;if(D){this.tileUrlFunction_=(0,E.createFromTemplates)(D,n);if(void 0!==k.attribution){const z=void 0!==x?x:r;this.setAttributions(function(w){return(0,K.intersects)(z,w.extent)?[k.attribution]:null})}this.setState("ready")}else this.setState("error")}getTile(k,n,r,x,D){const z=(0,u.getKeyZXY)(k,n,r);if(this.tileCache.containsKey(z))return this.tileCache.get(z);k=[k,n,r];
n=this.getTileCoordForTileUrlFunction(k,D);x=this.tileUrlFunction_(n,x,D);x=new d(k,void 0!==x?l.default.IDLE:l.default.EMPTY,void 0!==x?x:"",this.tileGrid.getTileCoordExtent(k),this.preemptive_,this.jsonp_);this.tileCache.set(z,x);return x}useTile(k,n,r){k=(0,u.getKeyZXY)(k,n,r);this.tileCache.containsKey(k)&&this.tileCache.get(k)}}const h=g};
shadow$provide[281]=function(X,c,Z,N){function J(u,p,m){const f=[],l=[],e=[],d=[],g=[];m=void 0!==m?m:[];const h=(0,K.get)(u.SupportedCRS),k=h.getMetersPerUnit(),n="ne"==h.getAxisOrientation().substr(0,2);u.TileMatrix.sort(function(r,x){return x.ScaleDenominator-r.ScaleDenominator});u.TileMatrix.forEach(function(r){if(0<m.length?m.find(function(x){return r.Identifier==x.TileMatrix?!0:r.Identifier.includes(":")?!1:u.Identifier+":"+r.Identifier===x.TileMatrix}):1){l.push(r.Identifier);const x=2.8E-4*
r.ScaleDenominator/k,D=r.TileWidth,z=r.TileHeight;n?e.push([r.TopLeftCorner[1],r.TopLeftCorner[0]]):e.push(r.TopLeftCorner);f.push(x);d.push(D==z?D:[D,z]);g.push([r.MatrixWidth,r.MatrixHeight])}});return new E({extent:p,origins:e,resolutions:f,matrixIds:l,tileSizes:d,sizes:g})}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},createFromCapabilitiesMatrixSet:{enumerable:!0,get:function(){return J}},default:{enumerable:!0,get:function(){return C}}});X=c(239);var K=c(40);c=c.esmDefault(X);
class E extends c.default{constructor(u){super({extent:u.extent,origin:u.origin,origins:u.origins,resolutions:u.resolutions,tileSize:u.tileSize,tileSizes:u.tileSizes,sizes:u.sizes});this.matrixIds_=u.matrixIds}getMatrixId(u){return this.matrixIds_[u]}getMatrixIds(){return this.matrixIds_}}const C=E};
shadow$provide[282]=function(X,c,Z,N){function J(l,e){const d=l.Contents.Layer.find(function(Q){return Q.Identifier==e.layer});if(!d)return null;const g=l.Contents.TileMatrixSet;var h=1<d.TileMatrixSetLink.length?"projection"in e?d.TileMatrixSetLink.findIndex(function(Q){const S=g.find(function(B){return B.Identifier==Q.TileMatrixSet}).SupportedCRS,W=(0,p.get)(S),ca=(0,p.get)(e.projection);return W&&ca?(0,p.equivalent)(W,ca):S==e.projection}):d.TileMatrixSetLink.findIndex(function(Q){return Q.TileMatrixSet==
e.matrixSet}):0;0>h&&(h=0);const k=d.TileMatrixSetLink[h].TileMatrixSet;var n=d.TileMatrixSetLink[h].TileMatrixSetLimits;let r=d.Format[0];"format"in e&&(r=e.format);h=d.Style.findIndex(function(Q){return"style"in e?Q.Title==e.style:Q.isDefault});0>h&&(h=0);h=d.Style[h].Identifier;const x={};"Dimension"in d&&d.Dimension.forEach(function(Q,S,W){S=Q.Identifier;W=Q.Default;void 0===W&&(W=Q.Value[0]);x[S]=W});const D=l.Contents.TileMatrixSet.find(function(Q){return Q.Identifier==k});let z;var w=D.SupportedCRS;
w&&(z=(0,p.get)(w));"projection"in e&&(w=(0,p.get)(e.projection),!w||z&&!(0,p.equivalent)(w,z)||(z=w));w=!1;var q="ne"==z.getAxisOrientation().substr(0,2),A=D.TileMatrix[0];let L={MinTileCol:0,MinTileRow:0,MaxTileCol:A.MatrixWidth-1,MaxTileRow:A.MatrixHeight-1};if(n){L=n[n.length-1];var y=D.TileMatrix.find(Q=>Q.Identifier===L.TileMatrix||D.Identifier+":"+Q.Identifier===L.TileMatrix);y&&(A=y)}var F=2.8E-4*A.ScaleDenominator/z.getMetersPerUnit();y=q?[A.TopLeftCorner[1],A.TopLeftCorner[0]]:A.TopLeftCorner;
const M=A.TileWidth*F;F*=A.TileHeight;(A=D.BoundingBox)&&q&&(A=[A[1],A[0],A[3],A[2]]);q=[y[0]+M*L.MinTileCol,y[1]-F*(1+L.MaxTileRow),y[0]+M*(1+L.MaxTileCol),y[1]-F*L.MinTileRow];void 0===A||(0,E.containsExtent)(A,q)||(y=d.WGS84BoundingBox,w=(0,p.get)("EPSG:4326").getExtent(),q=A,y?w=y[0]===w[0]&&y[2]===w[2]:(A=(0,p.transformExtent)(A,D.SupportedCRS,"EPSG:4326"),w=A[0]-1E-10<=w[0]&&A[2]+1E-10>=w[2]));n=(0,C.createFromCapabilitiesMatrixSet)(D,q,n);const T=[];q=e.requestEncoding;q=void 0!==q?q:"";if("OperationsMetadata"in
l&&"GetTile"in l.OperationsMetadata){l=l.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let Q=0,S=l.length;Q<S;++Q)if(l[Q].Constraint)if(A=l[Q].Constraint.find(function(W){return"GetEncoding"==W.name}).AllowedValues.Value,""===q&&(q=A[0]),"KVP"===q)A.includes("KVP")&&T.push(l[Q].href);else break;else l[Q].href&&(q="KVP",T.push(l[Q].href))}0===T.length&&(q="REST",d.ResourceURL.forEach(function(Q){"tile"===Q.resourceType&&(r=Q.format,T.push(Q.template))}));return{urls:T,layer:e.layer,matrixSet:k,format:r,
projection:z,requestEncoding:q,tileGrid:n,style:h,dimensions:x,wrapX:w,crossOrigin:e.crossOrigin}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},default:{enumerable:!0,get:function(){return f}},optionsFromCapabilities:{enumerable:!0,get:function(){return J}}});X=c(244);var K=c(258),E=c(28),C=c(281),u=c(242),p=c(40);c=c.esmDefault(X);class m extends c.default{constructor(l){const e=void 0!==l.requestEncoding?l.requestEncoding:"KVP",d=l.tileGrid;let g=l.urls;void 0===g&&void 0!==l.url&&
(g=(0,u.expandUrl)(l.url));super({attributions:l.attributions,attributionsCollapsible:l.attributionsCollapsible,cacheSize:l.cacheSize,crossOrigin:l.crossOrigin,interpolate:l.interpolate,projection:l.projection,reprojectionErrorThreshold:l.reprojectionErrorThreshold,tileClass:l.tileClass,tileGrid:d,tileLoadFunction:l.tileLoadFunction,tilePixelRatio:l.tilePixelRatio,urls:g,wrapX:void 0!==l.wrapX?l.wrapX:!1,transition:l.transition,zDirection:l.zDirection});this.version_=void 0!==l.version?l.version:
"1.0.0";this.format_=void 0!==l.format?l.format:"image/jpeg";this.dimensions_=void 0!==l.dimensions?l.dimensions:{};this.layer_=l.layer;this.matrixSet_=l.matrixSet;this.style_=l.style;this.requestEncoding_=e;this.setKey(this.getKeyForDimensions_());g&&0<g.length&&(this.tileUrlFunction=(0,u.createFromTileUrlFunctions)(g.map(this.createFromWMTSTemplate.bind(this))))}setUrls(l){this.urls=l;const e=l.join("\n");this.setTileUrlFunction((0,u.createFromTileUrlFunctions)(l.map(this.createFromWMTSTemplate.bind(this))),
e)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const l=this.urls?this.urls.slice(0):[];for(const e in this.dimensions_)l.push(e+"-"+this.dimensions_[e]);return l.join("/")}updateDimensions(l){Object.assign(this.dimensions_,l);this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(l){const e=
this.requestEncoding_,d={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==e&&Object.assign(d,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});l="KVP"==e?(0,K.appendParams)(l,d):l.replace(/\{(\w+?)\}/g,function(k,n){return n.toLowerCase()in d?d[n.toLowerCase()]:k});const g=this.tileGrid,h=this.dimensions_;return function(k,n,r){if(k){var x={TileMatrix:g.getMatrixId(k[0]),TileCol:k[1],TileRow:k[2]};Object.assign(x,h);k=l;return k="KVP"==e?(0,K.appendParams)(k,
x):k.replace(/\{(\w+?)\}/g,function(D,z){return x[z]})}}}}const f=m};
shadow$provide[283]=function(X,c,Z,N){function J(Da,Ya){const Za=new va.default(32),gb=Da.getExtent();return function(qb,db){Za.expireCache();gb&&(qb=(0,K.getIntersection)(gb,qb));db=Da.getZForResolution(db);const sb=[];Da.forEachTileCoord(qb,db,Ha=>{const ta=Ha.toString();Za.containsKey(ta)||(Ha=Ya(Ha),Za.set(ta,Ha));sb.push(Za.get(ta))});return sb}}Object.defineProperties(N,{__esModule:{enumerable:!0,value:!0},BingMaps:{enumerable:!0,get:function(){return E.default}},CartoDB:{enumerable:!0,get:function(){return C.default}},
Cluster:{enumerable:!0,get:function(){return u.default}},DataTile:{enumerable:!0,get:function(){return p.default}},GeoTIFF:{enumerable:!0,get:function(){return m.default}},IIIF:{enumerable:!0,get:function(){return f.default}},Image:{enumerable:!0,get:function(){return l.default}},ImageArcGISRest:{enumerable:!0,get:function(){return e.default}},ImageCanvas:{enumerable:!0,get:function(){return d.default}},ImageMapGuide:{enumerable:!0,get:function(){return g.default}},ImageStatic:{enumerable:!0,get:function(){return h.default}},
ImageWMS:{enumerable:!0,get:function(){return k.default}},OGCMapTile:{enumerable:!0,get:function(){return n.default}},OGCVectorTile:{enumerable:!0,get:function(){return r.default}},OSM:{enumerable:!0,get:function(){return x.default}},Raster:{enumerable:!0,get:function(){return D.default}},Source:{enumerable:!0,get:function(){return z.default}},StadiaMaps:{enumerable:!0,get:function(){return w.default}},Tile:{enumerable:!0,get:function(){return q.default}},TileArcGISRest:{enumerable:!0,get:function(){return A.default}},
TileDebug:{enumerable:!0,get:function(){return L.default}},TileImage:{enumerable:!0,get:function(){return y.default}},TileJSON:{enumerable:!0,get:function(){return F.default}},TileWMS:{enumerable:!0,get:function(){return M.default}},UTFGrid:{enumerable:!0,get:function(){return Q.default}},UrlTile:{enumerable:!0,get:function(){return T.default}},Vector:{enumerable:!0,get:function(){return S.default}},VectorTile:{enumerable:!0,get:function(){return W.default}},WMTS:{enumerable:!0,get:function(){return ca.default}},
XYZ:{enumerable:!0,get:function(){return B.default}},Zoomify:{enumerable:!0,get:function(){return v.default}},createArcGISRestLoader:{enumerable:!0,get:function(){return O.createLoader}},createMapGuideLoader:{enumerable:!0,get:function(){return la.createLoader}},createStaticLoader:{enumerable:!0,get:function(){return ea.createLoader}},createWMSLoader:{enumerable:!0,get:function(){return I.createLoader}},sourcesFromTileGrid:{enumerable:!0,get:function(){return J}}});X=c(169);var K=c(28),E=c(245),C=
c(247),u=c(248),p=c(249),m=c(251),f=c(254),l=c(257),e=c(260),d=c(261),g=c(263),h=c(265),k=c(267),n=c(270),r=c(272),x=c(273),D=c(274),z=c(120),w=c(275),q=c(241),A=c(276),L=c(277),y=c(244),F=c(278),M=c(279),T=c(243),Q=c(280),S=c(124),W=c(271),ca=c(282),B=c(246),v=c(252),I=c(266),O=c(259),ea=c(264),la=c(262),va=c.esmDefault(X)};
'use strict';var f;/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var aa=this||self;function q(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++da)}var ca="closure_uid_"+(1E9*Math.random()>>>0),da=0;function ea(a,b){for(const c in a)b.call(void 0,a[c],c,a)}function fa(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ha(a,b){return null!==a&&b in a?a[b]:void 0}const ia="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ja(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let g=0;g<ia.length;g++)c=ia[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function ka(){var a=aa.navigator;return a&&(a=a.userAgent)?a:""}function la(a){return-1!=ka().indexOf(a)};function ma(a,b){a.sort(b||pa)}function qa(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||pa;ma(c,function(e,g){return d(e.value,g.value)||e.index-g.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function pa(a,b){return a>b?1:a<b?-1:0};var ra=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function sa(a,b){null!=a&&this.append.apply(this,arguments)}f=sa.prototype;f.bb="";f.set=function(a){this.bb=""+a};f.append=function(a,b,c){this.bb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.bb+=arguments[d];return this};f.clear=function(){this.bb=""};f.getLength=function(){return this.bb.length};f.toString=function(){return this.bb};var t={},ta=null;function ua(){return new u(null,5,[va,!0,wa,!0,xa,!1,ya,!1,za,null],null)}function w(a){return null!=a&&!1!==a}function Aa(a){return a instanceof Array}function Ba(a){return null==a?!0:!1===a?!0:!1}function Ca(a){return"string"===q(a)}function x(a,b){return a[q(null==b?null:b)]?!0:a._?!0:!1}function y(a,b){var c=null==b?null:b.constructor;return Error(["No protocol method ",a," defined for type ",w(w(c)?c.Nc:c)?c.fc:q(b),": ",b].join(""))}
function Da(a){var b=a.fc;return w(b)?b:z.g(a)}var Fa="undefined"!==typeof Symbol&&"function"===q(Symbol)?Symbol.iterator:"@@iterator",Ga={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Ha=null;
function Ia(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ja(a){function b(d,e){d.push(e);return d}var c=[];return Ka?Ka(b,c,a):La.call(null,b,c,a)}function Ma(){}function Na(){}function Oa(){}function Pa(a){if(null!=a&&null!=a.X)a=a.X(a);else{var b=Pa[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("ICounted.-count",a);}return a}function Ra(){}
function Sa(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Sa[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Sa._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IEmptyableCollection.-empty",a);}return a}function Ta(){}function Ua(a,b){if(null!=a&&null!=a.aa)a=a.aa(a,b);else{var c=Ua[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=Ua._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("ICollection.-conj",a);}return a}function Va(){}
var Wa=function(){function a(d,e,g){var h=B[q(null==d?null:d)];if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);h=B._;if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);throw y("IIndexed.-nth",d);}function b(d,e){var g=B[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e):g.call(null,d,e);g=B._;if(null!=g)return g.l?g.l(d,e):g.call(null,d,e);throw y("IIndexed.-nth",d);}var c=null;c=function(d,e,g){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,g)}throw Error("Invalid arity: "+
arguments.length);};c.l=b;c.m=a;return c}(),B=function B(a){switch(arguments.length){case 2:return B.l(arguments[0],arguments[1]);case 3:return B.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};B.l=function(a,b){return null!=a&&null!=a.ga?a.ga(a,b):Wa(a,b)};B.m=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Wa(a,b,c)};B.O=3;function Xa(){}
function Ya(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=Ya[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("ISeq.-first",a);}return a}function Za(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=Za[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Za._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("ISeq.-rest",a);}return a}function $a(){}function ab(){}
var cb=function(){function a(d,e,g){var h=bb[q(null==d?null:d)];if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);h=bb._;if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);throw y("ILookup.-lookup",d);}function b(d,e){var g=bb[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e):g.call(null,d,e);g=bb._;if(null!=g)return g.l?g.l(d,e):g.call(null,d,e);throw y("ILookup.-lookup",d);}var c=null;c=function(d,e,g){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,g)}throw Error("Invalid arity: "+
arguments.length);};c.l=b;c.m=a;return c}(),bb=function bb(a){switch(arguments.length){case 2:return bb.l(arguments[0],arguments[1]);case 3:return bb.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};bb.l=function(a,b){return null!=a&&null!=a.ba?a.ba(a,b):cb(a,b)};bb.m=function(a,b,c){return null!=a&&null!=a.M?a.M(a,b,c):cb(a,b,c)};bb.O=3;function db(){}
function eb(a,b){if(null!=a&&null!=a.la)a=a.la(a,b);else{var c=eb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IAssociative.-contains-key?",a);}return a}function fb(a,b,c){if(null!=a&&null!=a.$)a=a.$(a,b,c);else{var d=fb[q(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=fb._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw y("IAssociative.-assoc",a);}return a}function gb(){}
function hb(a,b){if(null!=a&&null!=a.Gb)a=a.Gb(a,b);else{var c=hb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=hb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IFind.-find",a);}return a}function ib(){}function jb(a,b){if(null!=a&&null!=a.za)a=a.za(a,b);else{var c=jb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=jb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IMap.-dissoc",a);}return a}
function kb(a){if(null!=a&&null!=a.hd)a=a.key;else{var b=kb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=kb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IMapEntry.-key",a);}return a}function lb(a){if(null!=a&&null!=a.jd)a=a.val;else{var b=lb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=lb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IMapEntry.-val",a);}return a}function mb(){}
function nb(a,b){if(null!=a&&null!=a.Lc)a=a.Lc(a,b);else{var c=nb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=nb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("ISet.-disjoin",a);}return a}function ob(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=ob[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ob._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IStack.-peek",a);}return a}
function pb(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=pb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=pb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IStack.-pop",a);}return a}function qb(){}function rb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=rb[q(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=rb._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw y("IVector.-assoc-n",a);}return a}
function sb(a){if(null!=a&&null!=a.Wa)a=a.Wa(a);else{var b=sb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=sb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IDeref.-deref",a);}return a}function tb(){}function ub(a){if(null!=a&&null!=a.U)a=a.U(a);else{var b=ub[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ub._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IMeta.-meta",a);}return a}function vb(){}
function wb(a,b){if(null!=a&&null!=a.W)a=a.W(a,b);else{var c=wb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=wb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IWithMeta.-with-meta",a);}return a}function xb(){}
var zb=function(){function a(d,e,g){var h=yb[q(null==d?null:d)];if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);h=yb._;if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);throw y("IReduce.-reduce",d);}function b(d,e){var g=yb[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e):g.call(null,d,e);g=yb._;if(null!=g)return g.l?g.l(d,e):g.call(null,d,e);throw y("IReduce.-reduce",d);}var c=null;c=function(d,e,g){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,g)}throw Error("Invalid arity: "+
arguments.length);};c.l=b;c.m=a;return c}(),yb=function yb(a){switch(arguments.length){case 2:return yb.l(arguments[0],arguments[1]);case 3:return yb.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};yb.l=function(a,b){return null!=a&&null!=a.oa?a.oa(a,b):zb(a,b)};yb.m=function(a,b,c){return null!=a&&null!=a.pa?a.pa(a,b,c):zb(a,b,c)};yb.O=3;function Ab(){}
function Bb(a,b,c){if(null!=a&&null!=a.ta)a=a.ta(a,b,c);else{var d=Bb[q(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=Bb._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw y("IKVReduce.-kv-reduce",a);}return a}function Cb(a,b){if(null!=a&&null!=a.R)a=a.R(a,b);else{var c=Cb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=Cb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IEquiv.-equiv",a);}return a}
function Db(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=Db[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Db._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IHash.-hash",a);}return a}function Eb(){}function Fb(a){if(null!=a&&null!=a.V)a=a.V(a);else{var b=Fb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Fb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("ISeqable.-seq",a);}return a}function Gb(){}function Hb(){}function Ib(){}function Jb(){}
function Kb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Kb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Kb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IReversible.-rseq",a);}return a}function Lb(a,b){if(null!=a&&null!=a.Mc)a=a.Mc(a,b);else{var c=Lb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=Lb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IWriter.-write",a);}return a}function Mb(){}
function Nb(a,b,c){if(null!=a&&null!=a.N)a=a.N(a,b,c);else{var d=Nb[q(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=Nb._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw y("IPrintWithWriter.-pr-writer",a);}return a}function Ob(a,b){var c=Pb;if(null!=a&&null!=a.dc)a.dc(a,b,c);else{var d=Ob[q(null==a?null:a)];if(null!=d)d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=Ob._,null!=d)d.m?d.m(a,b,c):d.call(null,a,b,c);else throw y("IWatchable.-add-watch",a);}}
function Qb(a,b){if(null!=a&&null!=a.ec)a.ec(a,b);else{var c=Qb[q(null==a?null:a)];if(null!=c)c.l?c.l(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)c.l?c.l(a,b):c.call(null,a,b);else throw y("IWatchable.-remove-watch",a);}}function Rb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Rb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Rb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IEditableCollection.-as-transient",a);}return a}
function Sb(a,b){if(null!=a&&null!=a.Lb)a=a.Lb(a,b);else{var c=Sb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=Sb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("ITransientCollection.-conj!",a);}return a}function Tb(a){if(null!=a&&null!=a.Sb)a=a.Sb(a);else{var b=Tb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Tb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("ITransientCollection.-persistent!",a);}return a}
function Ub(a,b,c){if(null!=a&&null!=a.Kb)a=a.Kb(a,b,c);else{var d=Ub[q(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=Ub._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw y("ITransientAssociative.-assoc!",a);}return a}function Vb(){}function Wb(a,b){if(null!=a&&null!=a.cb)a=a.cb(a,b);else{var c=Wb[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=Wb._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IComparable.-compare",a);}return a}
function Xb(a){if(null!=a&&null!=a.Gc)a=a.Gc(a);else{var b=Xb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Xb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IChunk.-drop-first",a);}return a}function Yb(a){if(null!=a&&null!=a.rc)a=a.rc(a);else{var b=Yb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Yb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-first",a);}return a}
function Zb(a){if(null!=a&&null!=a.cc)a=a.cc(a);else{var b=Zb[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Zb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-rest",a);}return a}function $b(a,b){if(null!=a&&null!=a.Ja)a=a.Ja(a,b);else{var c=$b[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=$b._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("IReset.-reset!",a);}return a}
var bc=function(){function a(g,h,k,l,m){var n=ac[q(null==g?null:g)];if(null!=n)return n.fa?n.fa(g,h,k,l,m):n.call(null,g,h,k,l,m);n=ac._;if(null!=n)return n.fa?n.fa(g,h,k,l,m):n.call(null,g,h,k,l,m);throw y("ISwap.-swap!",g);}function b(g,h,k,l){var m=ac[q(null==g?null:g)];if(null!=m)return m.Y?m.Y(g,h,k,l):m.call(null,g,h,k,l);m=ac._;if(null!=m)return m.Y?m.Y(g,h,k,l):m.call(null,g,h,k,l);throw y("ISwap.-swap!",g);}function c(g,h,k){var l=ac[q(null==g?null:g)];if(null!=l)return l.m?l.m(g,h,k):l.call(null,
g,h,k);l=ac._;if(null!=l)return l.m?l.m(g,h,k):l.call(null,g,h,k);throw y("ISwap.-swap!",g);}function d(g,h){var k=ac[q(null==g?null:g)];if(null!=k)return k.l?k.l(g,h):k.call(null,g,h);k=ac._;if(null!=k)return k.l?k.l(g,h):k.call(null,g,h);throw y("ISwap.-swap!",g);}var e=null;e=function(g,h,k,l,m){switch(arguments.length){case 2:return d.call(this,g,h);case 3:return c.call(this,g,h,k);case 4:return b.call(this,g,h,k,l);case 5:return a.call(this,g,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.l=d;e.m=c;e.Y=b;e.fa=a;return e}(),ac=function ac(a){switch(arguments.length){case 2:return ac.l(arguments[0],arguments[1]);case 3:return ac.m(arguments[0],arguments[1],arguments[2]);case 4:return ac.Y(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ac.fa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};ac.l=function(a,b){return null!=a&&null!=a.sc?a.sc(a,b):bc(a,b)};
ac.m=function(a,b,c){return null!=a&&null!=a.tc?a.tc(a,b,c):bc(a,b,c)};ac.Y=function(a,b,c,d){return null!=a&&null!=a.uc?a.uc(a,b,c,d):bc(a,b,c,d)};ac.fa=function(a,b,c,d,e){return null!=a&&null!=a.vc?a.vc(a,b,c,d,e):bc(a,b,c,d,e)};ac.O=5;function cc(){}function dc(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=dc[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=dc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IIterable.-iterator",a);}return a}
function ec(a){this.Fd=a;this.B=1073741824;this.I=0}ec.prototype.Mc=function(a,b){return this.Fd.append(b)};function fc(a){var b=new sa;a.N(null,new ec(b),ua());return z.g(b)}var gc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function hc(a){a=gc(a|0,-862048943);return gc(a<<15|a>>>-15,461845907)}
function ic(a,b){a=(a|0)^(b|0);return gc(a<<13|a>>>-13,5)+-430675100|0}function jc(a,b){a=(a|0)^b;a=gc(a^a>>>16,-2048144789);a=gc(a^a>>>13,-1028477387);return a^a>>>16}function kc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=ic(c,hc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return jc(1===(a.length&1)?b^hc(a.charCodeAt(a.length-1)):b,gc(2,a.length))}var mc={},nc=0;
function oc(a){255<nc&&(mc={},nc=0);if(null==a)return 0;var b=mc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=gc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;mc[a]=b;nc+=1;a=b}return a}
function pc(a){if(null!=a&&(a.B&4194304||t===a.Jd))return a.T(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=oc(a),a=0===a?a:jc(ic(0,hc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Db(a)^0,a}function qc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}function rc(a){return a instanceof C}
function sc(a,b){if(a.Va===b.Va)return 0;var c=Ba(a.ya);if(w(c?b.ya:c))return-1;if(w(a.ya)){if(Ba(b.ya))return 1;c=pa(a.ya,b.ya);return 0===c?pa(a.name,b.name):c}return pa(a.name,b.name)}function C(a,b,c,d,e){this.ya=a;this.name=b;this.Va=c;this.Db=d;this.Ta=e;this.B=2154168321;this.I=4096}f=C.prototype;f.toString=function(){return this.Va};f.R=function(a,b){return b instanceof C?this.Va===b.Va:!1};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return D.l?D.l(a,this):D.call(null,a,this)};f.l=function(a,b){return D.m?D.m(a,this,b):D.call(null,a,this,b)};f.U=function(){return this.Ta};
f.W=function(a,b){return new C(this.ya,this.name,this.Va,this.Db,b)};f.T=function(){var a=this.Db;return null!=a?a:this.Db=a=qc(kc(this.name),oc(this.ya))};f.N=function(a,b){return Lb(b,this.Va)};var tc=function tc(a){switch(arguments.length){case 1:return tc.g(arguments[0]);case 2:return tc.l(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};
tc.g=function(a){for(;;){if(a instanceof C)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?tc.l(null,a):tc.l(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof E)a=a.S;else throw Error("no conversion to symbol");}};tc.l=function(a,b){var c=null!=a?[z.g(a),"/",z.g(b)].join(""):b;return new C(a,b,c,null,null)};tc.O=2;function uc(a){return null!=a?a.I&131072||t===a.Kd?!0:a.I?!1:x(cc,a):x(cc,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.B&8388608||t===a.md))return a.V(null);if(Aa(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[Fa])return a=ha(a,Fa).call(a),vc.g?vc.g(a):vc.call(null,a);if(x(Eb,a))return Fb(a);throw Error([z.g(a)," is not ISeqable"].join(""));}function I(a){if(null==a)return null;if(null!=a&&(a.B&64||t===a.Hb))return a.va(null);a=G(a);return null==a?null:Ya(a)}
function wc(a){return null!=a?null!=a&&(a.B&64||t===a.Hb)?a.wa(null):(a=G(a))?a.wa(null):xc:xc}function J(a){return null==a?null:null!=a&&(a.B&128||t===a.Qb)?a.ua():G(wc(a))}var M=function M(a){switch(arguments.length){case 1:return M.g(arguments[0]);case 2:return M.l(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return M.F(arguments[0],arguments[1],c)}};M.g=function(){return!0};
M.l=function(a,b){return null==a?null==b:a===b||Cb(a,b)};M.F=function(a,b,c){for(;;)if(M.l(a,b))if(J(c))a=b,b=I(c),c=J(c);else return M.l(b,I(c));else return!1};M.K=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};M.O=2;function yc(a){this.s=a}yc.prototype.next=function(){if(null!=this.s){var a=I(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function zc(a){return new yc(G(a))}
function Ac(a,b){this.value=a;this.Nb=b;this.mc=null;this.B=8388672;this.I=0}Ac.prototype.V=function(){return this};Ac.prototype.va=function(){return this.value};Ac.prototype.wa=function(){null==this.mc&&(this.mc=vc.g?vc.g(this.Nb):vc.call(null,this.Nb));return this.mc};function vc(a){var b=a.next();return w(b.done)?null:new Ac(b.value,a)}function Bc(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=gc(31,c)+pc(I(a))|0,a=J(a);else return jc(ic(0,hc(c)),b)}var Cc=jc(ic(0,hc(1)),0);
function Dc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+pc(I(a))|0,a=J(a);else return jc(ic(0,hc(c)),b)}var Ec=jc(ic(0,hc(0)),0);Oa["null"]=!0;Pa["null"]=function(){return 0};Date.prototype.R=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Eb=t;Date.prototype.cb=function(a,b){if(b instanceof Date)return pa(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",z.g(this)," to ",z.g(b)].join(""));};Cb.number=function(a,b){return a===b};Ma["function"]=!0;
tb["function"]=!0;ub["function"]=function(){return null};Db._=function(a){return ba(a)};function Fc(a){return a+1}function Gc(){this.val=!1;this.B=32768;this.I=0}Gc.prototype.Wa=function(){return this.val};function Hc(a){return a instanceof Gc}function Ic(a){return sb(a)}function Jc(a,b){var c=a.X(null);if(0===c)return b.H?b.H():b.call(null);for(var d=a.ga(null,0),e=1;;)if(e<c){var g=a.ga(null,e);d=b.l?b.l(d,g):b.call(null,d,g);if(Hc(d))return sb(d);e+=1}else return d}
function Kc(a,b,c){var d=a.X(null),e=c;for(c=0;;)if(c<d){var g=a.ga(null,c);e=b.l?b.l(e,g):b.call(null,e,g);if(Hc(e))return sb(e);c+=1}else return e}function Lc(a,b){var c=a.length;if(0===a.length)return b.H?b.H():b.call(null);for(var d=a[0],e=1;;)if(e<c){var g=a[e];d=b.l?b.l(d,g):b.call(null,d,g);if(Hc(d))return sb(d);e+=1}else return d}function Mc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var g=a[c];e=b.l?b.l(e,g):b.call(null,e,g);if(Hc(e))return sb(e);c+=1}else return e}
function Nc(a,b,c,d){for(var e=a.length;;)if(d<e){var g=a[d];c=b.l?b.l(c,g):b.call(null,c,g);if(Hc(c))return sb(c);d+=1}else return c}function Oc(a){return null!=a?a.B&2||t===a.ad?!0:a.B?!1:x(Oa,a):x(Oa,a)}function Pc(a){return null!=a?a.B&16||t===a.Ic?!0:a.B?!1:x(Va,a):x(Va,a)}function N(a,b,c){var d=O.g?O.g(a):O.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(M.l(Qc?Qc(a,c):Rc.call(null,a,c),b))return c;c+=1}else return-1}
function P(a,b,c){var d=O.g?O.g(a):O.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(M.l(Qc?Qc(a,c):Rc.call(null,a,c),b))return c;--c}else return-1}function Sc(a,b){this.o=a;this.i=b}Sc.prototype.ka=function(){return this.i<this.o.length};Sc.prototype.next=function(){var a=this.o[this.i];this.i+=1;return a};function H(a,b,c){this.o=a;this.i=b;this.meta=c;this.B=166592766;this.I=139264}f=H.prototype;f.toString=function(){return fc(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O.g?O.g(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.ga=function(a,b){a=b+this.i;if(0<=a&&a<this.o.length)return this.o[a];throw Error("Index out of bounds");};f.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.o.length?this.o[a]:c};
f.ia=function(){return new Sc(this.o,this.i)};f.U=function(){return this.meta};f.ua=function(){return this.i+1<this.o.length?new H(this.o,this.i+1,null):null};f.X=function(){var a=this.o.length-this.i;return 0>a?0:a};f.Rb=function(){var a=this.X(null);return 0<a?new Tc(this,a-1,null):null};f.T=function(){return Bc(this)};f.R=function(a,b){return Uc.l?Uc.l(this,b):Uc.call(null,this,b)};f.ja=function(){return xc};f.oa=function(a,b){return Nc(this.o,b,this.o[this.i],this.i+1)};
f.pa=function(a,b,c){return Nc(this.o,b,c,this.i)};f.va=function(){return this.o[this.i]};f.wa=function(){return this.i+1<this.o.length?new H(this.o,this.i+1,null):xc};f.V=function(){return this.i<this.o.length?this:null};f.W=function(a,b){return b===this.meta?this:new H(this.o,this.i,b)};f.aa=function(a,b){return Q.l?Q.l(b,this):Q.call(null,b,this)};H.prototype[Fa]=function(){return zc(this)};function Vc(a){return 0<a.length?new H(a,0,null):null}
function Tc(a,b,c){this.bc=a;this.i=b;this.meta=c;this.B=32374990;this.I=8192}f=Tc.prototype;f.toString=function(){return fc(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O.g?O.g(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){return 0<this.i?new Tc(this.bc,this.i-1,null):null};f.X=function(){return this.i+1};f.T=function(){return Bc(this)};
f.R=function(a,b){return Uc.l?Uc.l(this,b):Uc.call(null,this,b)};f.ja=function(){return xc};f.oa=function(a,b){return Wc?Wc(b,this):Xc.call(null,b,this)};f.pa=function(a,b,c){return Yc?Yc(b,c,this):Xc.call(null,b,c,this)};f.va=function(){return B(this.bc,this.i)};f.wa=function(){return 0<this.i?new Tc(this.bc,this.i-1,null):xc};f.V=function(){return this};f.W=function(a,b){return b===this.meta?this:new Tc(this.bc,this.i,b)};f.aa=function(a,b){return Q.l?Q.l(b,this):Q.call(null,b,this)};
Tc.prototype[Fa]=function(){return zc(this)};Cb._=function(a,b){return a===b};var Zc=function Zc(a){switch(arguments.length){case 0:return Zc.H();case 1:return Zc.g(arguments[0]);case 2:return Zc.l(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Zc.F(arguments[0],arguments[1],c)}};Zc.H=function(){return $c};Zc.g=function(a){return a};
Zc.l=function(a,b){return null!=a?Ua(a,b):new R(null,b,null,1,null)};Zc.F=function(a,b,c){for(;;)if(w(c))a=Zc.l(a,b),b=I(c),c=J(c);else return Zc.l(a,b)};Zc.K=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Zc.O=2;
function O(a){if(null!=a)if(null!=a&&(a.B&2||t===a.ad))a=a.X(null);else if(Aa(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.B&8388608||t===a.md))a:{a=G(a);for(var b=0;;){if(Oc(a)){a=b+Pa(a);break a}a=J(a);b+=1}}else a=Pa(a);else a=0;return a}function ad(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?I(a):c;if(Pc(a))return B(a,b,c);if(G(a))a=J(a),--b;else return c}}
function Rc(a){switch(arguments.length){case 2:return Qc(arguments[0],arguments[1]);case 3:return S(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}}
function Qc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.B&16||t===a.Ic))return a.ga(null,b);if(Aa(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.B&64||t===a.Hb)||null!=a&&(a.B&16777216||t===a.Kc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=I(a);break a}throw Error("Index out of bounds");}if(Pc(a)){a=B(a,b);break a}if(G(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(x(Va,a))return B(a,b);throw Error(["nth not supported on this type ",z.g(Da(null==a?null:a.constructor))].join(""));}
function S(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.B&16||t===a.Ic))return a.Aa(null,b,c);if(Aa(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.B&64||t===a.Hb)||null!=a&&(a.B&16777216||t===a.Kc))return 0>b?c:ad(a,b,c);if(x(Va,a))return B(a,b,c);throw Error(["nth not supported on this type ",z.g(Da(null==a?null:a.constructor))].join(""));}
var D=function D(a){switch(arguments.length){case 2:return D.l(arguments[0],arguments[1]);case 3:return D.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};D.l=function(a,b){return null==a?null:null!=a&&(a.B&256||t===a.gd)?a.ba(null,b):Aa(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:x(ab,a)?bb(a,b):null};
D.m=function(a,b,c){return null!=a?null!=a&&(a.B&256||t===a.gd)?a.M(null,b,c):Aa(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:x(ab,a)?bb(a,b,c):c:c};D.O=3;var T=function T(a){switch(arguments.length){case 3:return T.m(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(3),0,null);return T.F(arguments[0],arguments[1],arguments[2],c)}};
T.m=function(a,b,c){return null!=a&&(a.B&512||t===a.Fc)?a.$(null,b,c):null!=a?fb(a,b,c):bd([b,c])};T.F=function(a,b,c,d){for(;;)if(a=T.m(a,b,c),w(d))b=I(d),c=I(J(d)),d=J(J(d));else return a};T.K=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.F(b,a,c,d)};T.O=3;
var cd=function cd(a){switch(arguments.length){case 1:return cd.g(arguments[0]);case 2:return cd.l(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return cd.F(arguments[0],arguments[1],c)}};cd.g=function(a){return a};cd.l=function(a,b){return null==a?null:jb(a,b)};cd.F=function(a,b,c){for(;;){if(null==a)return null;a=cd.l(a,b);if(w(c))b=I(c),c=J(c);else return a}};
cd.K=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};cd.O=2;function dd(a){var b="function"===typeof a;return b?b:null!=a?t===a.$c?!0:a.Tb?!1:x(Ma,a):x(Ma,a)}function ed(a,b){this.J=a;this.meta=b;this.B=393217;this.I=0}f=ed.prototype;f.U=function(){return this.meta};f.W=function(a,b){return new ed(this.J,b)};f.$c=t;
f.call=function(a){switch(arguments.length-1){case 0:return this.H();case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);case 3:return this.m(arguments[1],arguments[2],arguments[3]);case 4:return this.Y(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.ub(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ob(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.qb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.sb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],g=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],r=arguments[12],v=arguments[13],A=arguments[14],F=arguments[15],
K=arguments[16],V=arguments[17],na=arguments[18],oa=arguments[19],Ea=arguments[20],Qa=arguments[21];return fd.fd?fd.fd(this.J,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea,Qa):fd.call(null,this.J,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea,Qa);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.H=function(){return this.J.H?this.J.H():this.J.call(null)};
f.g=function(a){return this.J.g?this.J.g(a):this.J.call(null,a)};f.l=function(a,b){return this.J.l?this.J.l(a,b):this.J.call(null,a,b)};f.m=function(a,b,c){return this.J.m?this.J.m(a,b,c):this.J.call(null,a,b,c)};f.Y=function(a,b,c,d){return this.J.Y?this.J.Y(a,b,c,d):this.J.call(null,a,b,c,d)};f.fa=function(a,b,c,d,e){return this.J.fa?this.J.fa(a,b,c,d,e):this.J.call(null,a,b,c,d,e)};f.tb=function(a,b,c,d,e,g){return this.J.tb?this.J.tb(a,b,c,d,e,g):this.J.call(null,a,b,c,d,e,g)};
f.ub=function(a,b,c,d,e,g,h){return this.J.ub?this.J.ub(a,b,c,d,e,g,h):this.J.call(null,a,b,c,d,e,g,h)};f.vb=function(a,b,c,d,e,g,h,k){return this.J.vb?this.J.vb(a,b,c,d,e,g,h,k):this.J.call(null,a,b,c,d,e,g,h,k)};f.wb=function(a,b,c,d,e,g,h,k,l){return this.J.wb?this.J.wb(a,b,c,d,e,g,h,k,l):this.J.call(null,a,b,c,d,e,g,h,k,l)};f.ib=function(a,b,c,d,e,g,h,k,l,m){return this.J.ib?this.J.ib(a,b,c,d,e,g,h,k,l,m):this.J.call(null,a,b,c,d,e,g,h,k,l,m)};
f.jb=function(a,b,c,d,e,g,h,k,l,m,n){return this.J.jb?this.J.jb(a,b,c,d,e,g,h,k,l,m,n):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n)};f.kb=function(a,b,c,d,e,g,h,k,l,m,n,p){return this.J.kb?this.J.kb(a,b,c,d,e,g,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p)};f.lb=function(a,b,c,d,e,g,h,k,l,m,n,p,r){return this.J.lb?this.J.lb(a,b,c,d,e,g,h,k,l,m,n,p,r):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r)};
f.mb=function(a,b,c,d,e,g,h,k,l,m,n,p,r,v){return this.J.mb?this.J.mb(a,b,c,d,e,g,h,k,l,m,n,p,r,v):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r,v)};f.nb=function(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A){return this.J.nb?this.J.nb(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r,v,A)};f.ob=function(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F){return this.J.ob?this.J.ob(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F)};
f.pb=function(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K){return this.J.pb?this.J.pb(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K)};f.qb=function(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V){return this.J.qb?this.J.qb(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V)};
f.rb=function(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na){return this.J.rb?this.J.rb(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na)};f.sb=function(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa){return this.J.sb?this.J.sb(a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa):this.J.call(null,a,b,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa)};function gd(a,b){return"function"===typeof a?new ed(a,b):null==a?null:wb(a,b)}
function hd(a){var b=null!=a;return(b?null!=a?a.B&131072||t===a.kd||(a.B?0:x(tb,a)):x(tb,a):b)?ub(a):null}var id=function id(a){switch(arguments.length){case 1:return id.g(arguments[0]);case 2:return id.l(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return id.F(arguments[0],arguments[1],c)}};id.g=function(a){return a};id.l=function(a,b){return null==a?null:nb(a,b)};
id.F=function(a,b,c){for(;;){if(null==a)return null;a=id.l(a,b);if(w(c))b=I(c),c=J(c);else return a}};id.K=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};id.O=2;function jd(a){return null==a||Ba(G(a))}function kd(a){return null==a?!1:null!=a?a.B&8||t===a.Hd?!0:a.B?!1:x(Ta,a):x(Ta,a)}function ld(a){return null==a?!1:null!=a?a.B&4096||t===a.Rd?!0:a.B?!1:x(mb,a):x(mb,a)}function md(a){return null!=a?a.B&16777216||t===a.Kc?!0:a.B?!1:x(Gb,a):x(Gb,a)}
function nd(a){return null==a?!1:null!=a?a.B&1024||t===a.Nd?!0:a.B?!1:x(ib,a):x(ib,a)}function od(a){return null!=a?a.B&67108864||t===a.Pd?!0:a.B?!1:x(Ib,a):x(Ib,a)}function pd(a){return null!=a?a.B&16384||t===a.Sd?!0:a.B?!1:x(qb,a):x(qb,a)}function qd(a){return null!=a?a.I&512||t===a.Gd?!0:!1:!1}function rd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var sd={};function td(a){return null==a?!1:!1===a?!1:!0}
function ud(a){var b=dd(a);return b?b:null!=a?a.B&1||t===a.Id?!0:a.B?!1:x(Na,a):x(Na,a)}function vd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function wd(a,b){return null!=a&&(a.B&512||t===a.Fc)?a.la(null,b):x(db,a)?eb(a,b):D.m(a,b,sd)===sd?!1:!0}function xd(a,b){return(null!=a?t===a.Pb||(a.Tb?0:x(gb,a)):x(gb,a))?hb(a,b):null!=a&&(null!=a?a.B&512||t===a.Fc||(a.B?0:x(db,a)):x(db,a))&&wd(a,b)?new yd(b,D.l(a,b)):null}
function zd(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return pa(a,b);throw Error(["Cannot compare ",z.g(a)," to ",z.g(b)].join(""));}if(null!=a?a.I&2048||t===a.Eb||(a.I?0:x(Vb,a)):x(Vb,a))return Wb(a,b);if("string"!==typeof a&&!Aa(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",z.g(a)," to ",z.g(b)].join(""));return pa(a,b)}
function Ad(a,b){var c=O(a),d=O(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=zd(Qc(a,d),Qc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Bd(a){return M.l(a,zd)?zd:function(b,c){var d=a.l?a.l(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.l?a.l(c,b):a.call(null,c,b))?1:0}}function Cd(a){var b=fa(Ga);if(G(b)){var c=Dd.g?Dd.g(b):Dd.call(null,b);qa(c,Bd(a));return gd(G(c),hd(b))}return xc}
function Xc(a){switch(arguments.length){case 2:return Wc(arguments[0],arguments[1]);case 3:return Yc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}}function Wc(a,b){var c=G(b);return c?(b=I(c),c=J(c),Ka?Ka(a,b,c):La.call(null,a,b,c)):a.H?a.H():a.call(null)}function Yc(a,b,c){for(c=G(c);;)if(c){var d=I(c);b=a.l?a.l(b,d):a.call(null,b,d);if(Hc(b))return sb(b);c=J(c)}else return b}
function Ed(a,b){a=dc(a);if(w(a.ka()))for(var c=a.next();;)if(a.ka()){var d=a.next();c=b.l?b.l(c,d):b.call(null,c,d);if(Hc(c))return sb(c)}else return c;else return b.H?b.H():b.call(null)}function Fd(a,b,c){for(a=dc(a);;)if(a.ka()){var d=a.next();c=b.l?b.l(c,d):b.call(null,c,d);if(Hc(c))return sb(c)}else return c}
function La(a){switch(arguments.length){case 2:return Gd(arguments[0],arguments[1]);case 3:return Ka(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}}function Gd(a,b){return null!=b&&(b.B&524288||t===b.ld)?b.oa(null,a):Aa(b)?Lc(b,a):"string"===typeof b?Lc(b,a):x(xb,b)?yb(b,a):uc(b)?Ed(b,a):Wc(a,b)}
function Ka(a,b,c){return null!=c&&(c.B&524288||t===c.ld)?c.pa(null,a,b):Aa(c)?Mc(c,a,b):"string"===typeof c?Mc(c,a,b):x(xb,c)?yb(c,a,b):uc(c)?Fd(c,a,b):Yc(a,b,c)}function Hd(a,b,c){return null!=c?Bb(c,a,b):b}function Id(a){return a}function Jd(a,b,c,d){a=a.g?a.g(b):a.call(null,b);c=Ka(a,c,d);return a.g?a.g(c):a.call(null,c)}function Kd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}
function Ld(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var z=function z(a){switch(arguments.length){case 0:return z.H();case 1:return z.g(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(1),0,null);return z.F(arguments[0],c)}};z.H=function(){return""};z.g=function(a){return null==a?"":[a].join("")};
z.F=function(a,b){for(a=new sa(z.g(a));;)if(w(b))a=a.append(z.g(I(b))),b=J(b);else return a.toString()};z.K=function(a){var b=I(a);a=J(a);return this.F(b,a)};z.O=1;function Uc(a,b){if(md(b))if(Oc(a)&&Oc(b)&&O(a)!==O(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&M.l(I(a),I(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return td(a)}function R(a,b,c,d,e){this.meta=a;this.first=b;this.$a=c;this.count=d;this.C=e;this.B=65937646;this.I=8192}f=R.prototype;f.toString=function(){return fc(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){return 1===this.count?null:this.$a};f.X=function(){return this.count};f.Ib=function(){return this.first};f.Jb=function(){return this.wa(null)};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){return Uc(this,b)};f.ja=function(){return wb(xc,this.meta)};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return this.first};f.wa=function(){return 1===this.count?xc:this.$a};f.V=function(){return this};f.W=function(a,b){return b===this.meta?this:new R(b,this.first,this.$a,this.count,this.C)};f.aa=function(a,b){return new R(this.meta,b,this,this.count+1,null)};
R.prototype[Fa]=function(){return zc(this)};function Md(a){this.meta=a;this.B=65937614;this.I=8192}f=Md.prototype;f.toString=function(){return fc(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){return null};f.X=function(){return 0};f.Ib=function(){return null};f.Jb=function(){throw Error("Can't pop empty list");};f.T=function(){return Cc};
f.R=function(a,b){return(null!=b?b.B&33554432||t===b.Md||(b.B?0:x(Hb,b)):x(Hb,b))||md(b)?null==G(b):!1};f.ja=function(){return this};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return null};f.wa=function(){return xc};f.V=function(){return null};f.W=function(a,b){return b===this.meta?this:new Md(b)};f.aa=function(a,b){return new R(this.meta,b,null,1,null)};var xc=new Md(null);Md.prototype[Fa]=function(){return zc(this)};
function Nd(a){return(null!=a?a.B&134217728||t===a.Qd||(a.B?0:x(Jb,a)):x(Jb,a))?(a=Kb(a))?a:xc:Ka(Zc,xc,a)}function Od(a,b,c,d){this.meta=a;this.first=b;this.$a=c;this.C=d;this.B=65929452;this.I=8192}f=Od.prototype;f.toString=function(){return fc(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){return null==this.$a?null:G(this.$a)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){return Uc(this,b)};f.ja=function(){return xc};
f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return this.first};f.wa=function(){return null==this.$a?xc:this.$a};f.V=function(){return this};f.W=function(a,b){return b===this.meta?this:new Od(b,this.first,this.$a,this.C)};f.aa=function(a,b){return new Od(null,b,this,null)};Od.prototype[Fa]=function(){return zc(this)};
function Q(a,b){return null==b?new R(null,a,null,1,null):null!=b&&(b.B&64||t===b.Hb)?new Od(null,a,b,null):new Od(null,a,G(b),null)}function Pd(a,b){if(a.S===b.S)return 0;var c=Ba(a.ya);if(w(c?b.ya:c))return-1;if(w(a.ya)){if(Ba(b.ya))return 1;c=pa(a.ya,b.ya);return 0===c?pa(a.name,b.name):c}return pa(a.name,b.name)}function E(a,b,c,d){this.ya=a;this.name=b;this.S=c;this.Db=d;this.B=2153775105;this.I=4096}f=E.prototype;f.toString=function(){return[":",z.g(this.S)].join("")};
f.R=function(a,b){return b instanceof E?this.S===b.S:!1};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return D.l(a,this)};f.l=function(a,b){return D.m(a,this,b)};
f.T=function(){var a=this.Db;return null!=a?a:this.Db=a=qc(kc(this.name),oc(this.ya))+2654435769|0};f.N=function(a,b){return Lb(b,[":",z.g(this.S)].join(""))};function Qd(a){return a instanceof E}function U(a,b){return a===b?!0:a instanceof E&&b instanceof E?a.S===b.S:!1}function Rd(a){if(null!=a&&(a.I&4096||t===a.Jc))return a.ya;throw Error(["Doesn't support namespace: ",z.g(a)].join(""));}
var Sd=function Sd(a){switch(arguments.length){case 1:return Sd.g(arguments[0]);case 2:return Sd.l(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};Sd.g=function(a){if(a instanceof E)return a;if(a instanceof C)return new E(Rd(a),Td.g?Td.g(a):Td.call(null,a),a.Va,null);if(M.l("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
Sd.l=function(a,b){a=a instanceof E?Td.g?Td.g(a):Td.call(null,a):a instanceof C?Td.g?Td.g(a):Td.call(null,a):a;b=b instanceof E?Td.g?Td.g(b):Td.call(null,b):b instanceof C?Td.g?Td.g(b):Td.call(null,b):b;return new E(a,b,[w(a)?[z.g(a),"/"].join(""):null,z.g(b)].join(""),null)};Sd.O=2;function Ud(a,b,c){this.meta=a;this.Ub=b;this.s=null;this.C=c;this.B=32374988;this.I=1}f=Ud.prototype;f.toString=function(){return fc(this)};
function Vd(a){null!=a.Ub&&(a.s=a.Ub.H?a.Ub.H():a.Ub.call(null),a.Ub=null);return a.s}f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){this.V(null);return null==this.s?null:J(this.s)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){return Uc(this,b)};
f.ja=function(){return wb(xc,this.meta)};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){this.V(null);return null==this.s?null:I(this.s)};f.wa=function(){this.V(null);return null!=this.s?wc(this.s):xc};f.V=function(){Vd(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Ud)a=Vd(a);else return this.s=a,G(this.s)};f.W=function(a,b){var c=this;return b===this.meta?c:new Ud(b,function(){return c.V(null)},this.C)};
f.aa=function(a,b){return Q(b,this)};Ud.prototype[Fa]=function(){return zc(this)};function Wd(a){this.nc=a;this.end=0;this.B=2;this.I=0}Wd.prototype.add=function(a){this.nc[this.end]=a;return this.end+=1};Wd.prototype.xa=function(){var a=new Xd(this.nc,0,this.end);this.nc=null;return a};Wd.prototype.X=function(){return this.end};function Yd(a){return new Wd(Array(a))}function Xd(a,b,c){this.o=a;this.ma=b;this.end=c;this.B=524306;this.I=0}f=Xd.prototype;f.X=function(){return this.end-this.ma};
f.ga=function(a,b){return this.o[this.ma+b]};f.Aa=function(a,b,c){return 0<=b&&b<this.end-this.ma?this.o[this.ma+b]:c};f.Gc=function(){if(this.ma===this.end)throw Error("-drop-first of empty chunk");return new Xd(this.o,this.ma+1,this.end)};f.oa=function(a,b){return Nc(this.o,b,this.o[this.ma],this.ma+1)};f.pa=function(a,b,c){return Nc(this.o,b,c,this.ma)};function Zd(a,b,c,d){this.xa=a;this.Na=b;this.meta=c;this.C=d;this.B=31850732;this.I=1536}f=Zd.prototype;f.toString=function(){return fc(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){return 1<Pa(this.xa)?new Zd(Xb(this.xa),this.Na,null,null):null==this.Na?null:Fb(this.Na)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};
f.R=function(a,b){return Uc(this,b)};f.ja=function(){return xc};f.va=function(){return B(this.xa,0)};f.wa=function(){return 1<Pa(this.xa)?new Zd(Xb(this.xa),this.Na,null,null):null==this.Na?xc:this.Na};f.V=function(){return this};f.rc=function(){return this.xa};f.cc=function(){return null==this.Na?xc:this.Na};f.W=function(a,b){return b===this.meta?this:new Zd(this.xa,this.Na,b,this.C)};f.aa=function(a,b){return Q(b,this)};f.Hc=function(){return null==this.Na?null:this.Na};Zd.prototype[Fa]=function(){return zc(this)};
function ae(a,b){return 0===Pa(a)?b:new Zd(a,b,null,null)}function be(a,b){a.add(b)}function Dd(a){var b=[];for(a=G(a);;)if(null!=a)b.push(I(a)),a=J(a);else return b}function ce(a,b){if(Oc(b))return O(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var de=function de(a){if(null==a)return null;var c=J(a);return null==c?G(I(a)):Q(I(a),de.g?de.g(c):de.call(null,c))},ee=function ee(a){switch(arguments.length){case 0:return ee.H();case 1:return ee.g(arguments[0]);case 2:return ee.l(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return ee.F(arguments[0],arguments[1],c)}};ee.H=function(){return new Ud(null,function(){return null},null)};
ee.g=function(a){return new Ud(null,function(){return a},null)};ee.l=function(a,b){return new Ud(null,function(){var c=G(a);return c?qd(c)?ae(Yb(c),ee.l(Zb(c),b)):Q(I(c),ee.l(wc(c),b)):b},null)};ee.F=function(a,b,c){return function h(e,g){return new Ud(null,function(){var k=G(e);return k?qd(k)?ae(Yb(k),h(Zb(k),g)):Q(I(k),h(wc(k),g)):w(g)?h(I(g),J(g)):null},null)}(ee.l(a,b),c)};ee.K=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};ee.O=2;
function fe(a,b,c){var d=G(c);if(0===b)return a.H?a.H():a.call(null);c=Ya(d);var e=Za(d);if(1===b)return a.g?a.g(c):a.call(null,c);d=Ya(e);var g=Za(e);if(2===b)return a.l?a.l(c,d):a.call(null,c,d);e=Ya(g);var h=Za(g);if(3===b)return a.m?a.m(c,d,e):a.call(null,c,d,e);g=Ya(h);var k=Za(h);if(4===b)return a.Y?a.Y(c,d,e,g):a.call(null,c,d,e,g);h=Ya(k);var l=Za(k);if(5===b)return a.fa?a.fa(c,d,e,g,h):a.call(null,c,d,e,g,h);k=Ya(l);var m=Za(l);if(6===b)return a.tb?a.tb(c,d,e,g,h,k):a.call(null,c,d,e,g,h,
k);l=Ya(m);var n=Za(m);if(7===b)return a.ub?a.ub(c,d,e,g,h,k,l):a.call(null,c,d,e,g,h,k,l);m=Ya(n);var p=Za(n);if(8===b)return a.vb?a.vb(c,d,e,g,h,k,l,m):a.call(null,c,d,e,g,h,k,l,m);n=Ya(p);var r=Za(p);if(9===b)return a.wb?a.wb(c,d,e,g,h,k,l,m,n):a.call(null,c,d,e,g,h,k,l,m,n);p=Ya(r);var v=Za(r);if(10===b)return a.ib?a.ib(c,d,e,g,h,k,l,m,n,p):a.call(null,c,d,e,g,h,k,l,m,n,p);r=Ya(v);var A=Za(v);if(11===b)return a.jb?a.jb(c,d,e,g,h,k,l,m,n,p,r):a.call(null,c,d,e,g,h,k,l,m,n,p,r);v=Ya(A);var F=Za(A);
if(12===b)return a.kb?a.kb(c,d,e,g,h,k,l,m,n,p,r,v):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v);A=Ya(F);var K=Za(F);if(13===b)return a.lb?a.lb(c,d,e,g,h,k,l,m,n,p,r,v,A):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A);F=Ya(K);var V=Za(K);if(14===b)return a.mb?a.mb(c,d,e,g,h,k,l,m,n,p,r,v,A,F):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A,F);K=Ya(V);var na=Za(V);if(15===b)return a.nb?a.nb(c,d,e,g,h,k,l,m,n,p,r,v,A,F,K):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K);V=Ya(na);var oa=Za(na);if(16===b)return a.ob?a.ob(c,d,e,g,h,
k,l,m,n,p,r,v,A,F,K,V):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V);na=Ya(oa);var Ea=Za(oa);if(17===b)return a.pb?a.pb(c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na);oa=Ya(Ea);var Qa=Za(Ea);if(18===b)return a.qb?a.qb(c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa);Ea=Ya(Qa);Qa=Za(Qa);if(19===b)return a.rb?a.rb(c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea);var lc=Ya(Qa);
Za(Qa);if(20===b)return a.sb?a.sb(c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea,lc):a.call(null,c,d,e,g,h,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea,lc);throw Error("Only up to 20 arguments supported on functions");}function ge(a){return null!=a&&(a.B&128||t===a.Qb)?a.ua():G(wc(a))}function he(a,b,c){return null==c?a.g?a.g(b):a.call(a,b):ie(a,b,Ya(c),ge(c))}function ie(a,b,c,d){return null==d?a.l?a.l(b,c):a.call(a,b,c):je(a,b,c,Ya(d),ge(d))}
function je(a,b,c,d,e){return null==e?a.m?a.m(b,c,d):a.call(a,b,c,d):ke(a,b,c,d,Ya(e),ge(e))}
function ke(a,b,c,d,e,g){if(null==g)return a.Y?a.Y(b,c,d,e):a.call(a,b,c,d,e);var h=Ya(g),k=J(g);if(null==k)return a.fa?a.fa(b,c,d,e,h):a.call(a,b,c,d,e,h);g=Ya(k);var l=J(k);if(null==l)return a.tb?a.tb(b,c,d,e,h,g):a.call(a,b,c,d,e,h,g);k=Ya(l);var m=J(l);if(null==m)return a.ub?a.ub(b,c,d,e,h,g,k):a.call(a,b,c,d,e,h,g,k);l=Ya(m);var n=J(m);if(null==n)return a.vb?a.vb(b,c,d,e,h,g,k,l):a.call(a,b,c,d,e,h,g,k,l);m=Ya(n);var p=J(n);if(null==p)return a.wb?a.wb(b,c,d,e,h,g,k,l,m):a.call(a,b,c,d,e,h,g,
k,l,m);n=Ya(p);var r=J(p);if(null==r)return a.ib?a.ib(b,c,d,e,h,g,k,l,m,n):a.call(a,b,c,d,e,h,g,k,l,m,n);p=Ya(r);var v=J(r);if(null==v)return a.jb?a.jb(b,c,d,e,h,g,k,l,m,n,p):a.call(a,b,c,d,e,h,g,k,l,m,n,p);r=Ya(v);var A=J(v);if(null==A)return a.kb?a.kb(b,c,d,e,h,g,k,l,m,n,p,r):a.call(a,b,c,d,e,h,g,k,l,m,n,p,r);v=Ya(A);var F=J(A);if(null==F)return a.lb?a.lb(b,c,d,e,h,g,k,l,m,n,p,r,v):a.call(a,b,c,d,e,h,g,k,l,m,n,p,r,v);A=Ya(F);var K=J(F);if(null==K)return a.mb?a.mb(b,c,d,e,h,g,k,l,m,n,p,r,v,A):a.call(a,
b,c,d,e,h,g,k,l,m,n,p,r,v,A);F=Ya(K);var V=J(K);if(null==V)return a.nb?a.nb(b,c,d,e,h,g,k,l,m,n,p,r,v,A,F):a.call(a,b,c,d,e,h,g,k,l,m,n,p,r,v,A,F);K=Ya(V);var na=J(V);if(null==na)return a.ob?a.ob(b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K):a.call(a,b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K);V=Ya(na);var oa=J(na);if(null==oa)return a.pb?a.pb(b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V):a.call(a,b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V);na=Ya(oa);var Ea=J(oa);if(null==Ea)return a.qb?a.qb(b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V,na):a.call(a,b,
c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V,na);oa=Ya(Ea);var Qa=J(Ea);if(null==Qa)return a.rb?a.rb(b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V,na,oa):a.call(a,b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V,na,oa);Ea=Ya(Qa);Qa=J(Qa);if(null==Qa)return a.sb?a.sb(b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea):a.call(a,b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea);b=[b,c,d,e,h,g,k,l,m,n,p,r,v,A,F,K,V,na,oa,Ea];for(c=Qa;;)if(c)b.push(Ya(c)),c=J(c);else break;return a.apply(a,b)}
function fd(a){switch(arguments.length){case 2:return le(arguments[0],arguments[1]);case 3:return me(arguments[0],arguments[1],arguments[2]);case 4:return ne(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return oe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new H(b.slice(5),0,null);return pe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function le(a,b){if(a.K){var c=a.O,d=ce(c+1,b);return d<=c?fe(a,d,b):a.K(b)}b=G(b);return null==b?a.H?a.H():a.call(a):he(a,Ya(b),ge(b))}function me(a,b,c){if(a.K){b=Q(b,c);var d=a.O;c=ce(d,c)+1;return c<=d?fe(a,c,b):a.K(b)}return he(a,b,G(c))}function ne(a,b,c,d){return a.K?(b=Q(b,Q(c,d)),c=a.O,d=2+ce(c-1,d),d<=c?fe(a,d,b):a.K(b)):ie(a,b,c,G(d))}function oe(a,b,c,d,e){return a.K?(b=Q(b,Q(c,Q(d,e))),c=a.O,e=3+ce(c-2,e),e<=c?fe(a,e,b):a.K(b)):je(a,b,c,d,G(e))}
function pe(a,b,c,d,e,g){return a.K?(g=de(g),b=Q(b,Q(c,Q(d,Q(e,g)))),c=a.O,g=4+ce(c-3,g),g<=c?fe(a,g,b):a.K(b)):ke(a,b,c,d,e,de(g))}function qe(a){return null!=a&&(a.B&64||t===a.Hb)?J(a)?bd(Dd(a)):G(a)?I(a):re:a}function se(a,b,c){var d=hd(a);b=T.m?T.m(d,b,c):T.call(null,d,b,c);return gd(a,b)}function te(a){return G(a)?a:null}function ue(a){this.xd=a;this.B=393216;this.I=0}f=ue.prototype;f.W=function(a,b){return new ue(b)};f.U=function(){return this.xd};f.ka=function(){return!1};f.next=function(){return Error("No such element")};
f.remove=function(){return Error("Unsupported operation")};function ve(){return new ue(re)}var we={},xe={};function ye(a){this.Ob=we;this.hb=a}ye.prototype.ka=function(){this.Ob===we?(this.Ob=xe,this.hb=G(this.hb)):this.Ob===this.hb&&(this.hb=J(this.Ob));return null!=this.hb};ye.prototype.next=function(){if(this.ka())return this.Ob=this.hb,I(this.hb);throw Error("No such element");};ye.prototype.remove=function(){return Error("Unsupported operation")};
function ze(a,b){for(;;){if(null==G(b))return!0;var c=I(b);c=a.g?a.g(c):a.call(null,c);if(w(c))b=J(b);else return!1}}function Ae(a,b){for(;;)if(b=G(b)){var c=I(b);c=a.g?a.g(c):a.call(null,c);if(w(c))return c;b=J(b)}else return null}function Be(a,b){return Ba(Ae(a,b))}
function Ce(){var a=De;return function(){function b(h,k){return Ba(a.l?a.l(h,k):a.call(null,h,k))}function c(h){return Ba(a.g?a.g(h):a.call(null,h))}function d(){return Ba(a.H?a.H():a.call(null))}var e=null,g=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var r=Array(arguments.length-2);p<r.length;)r[p]=arguments[p+2],++p;p=new H(r,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return Ba(ne(a,l,m,n))}h.O=2;h.K=function(l){var m=I(l);l=J(l);var n=I(l);l=wc(l);return k(m,
n,l)};h.F=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return g.F(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.O=2;e.K=g.K;e.H=d;e.g=c;e.l=b;e.F=g.F;return e}()}
var Ee=function Ee(a){switch(arguments.length){case 0:return Ee.H();case 1:return Ee.g(arguments[0]);case 2:return Ee.l(arguments[0],arguments[1]);case 3:return Ee.m(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(3),0,null);return Ee.F(arguments[0],arguments[1],arguments[2],c)}};Ee.H=function(){return Id};Ee.g=function(a){return a};
Ee.l=function(a,b){return function(){function c(l,m,n){l=b.m?b.m(l,m,n):b.call(null,l,m,n);return a.g?a.g(l):a.call(null,l)}function d(l,m){l=b.l?b.l(l,m):b.call(null,l,m);return a.g?a.g(l):a.call(null,l)}function e(l){l=b.g?b.g(l):b.call(null,l);return a.g?a.g(l):a.call(null,l)}function g(){var l=b.H?b.H():b.call(null);return a.g?a.g(l):a.call(null,l)}var h=null,k=function(){function l(n,p,r,v){var A=null;if(3<arguments.length){A=0;for(var F=Array(arguments.length-3);A<F.length;)F[A]=arguments[A+
3],++A;A=new H(F,0,null)}return m.call(this,n,p,r,A)}function m(n,p,r,v){n=oe(b,n,p,r,v);return a.g?a.g(n):a.call(null,n)}l.O=3;l.K=function(n){var p=I(n);n=J(n);var r=I(n);n=J(n);var v=I(n);n=wc(n);return m(p,r,v,n)};l.F=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return g.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var v=Array(arguments.length-3);r<v.length;)v[r]=arguments[r+
3],++r;r=new H(v,0,null)}return k.F(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};h.O=3;h.K=k.K;h.H=g;h.g=e;h.l=d;h.m=c;h.F=k.F;return h}()};
Ee.m=function(a,b,c){return function(){function d(m,n,p){m=c.m?c.m(m,n,p):c.call(null,m,n,p);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function e(m,n){m=c.l?c.l(m,n):c.call(null,m,n);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function g(m){m=c.g?c.g(m):c.call(null,m);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function h(){var m=c.H?c.H():c.call(null);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}var k=null,l=function(){function m(p,
r,v,A){var F=null;if(3<arguments.length){F=0;for(var K=Array(arguments.length-3);F<K.length;)K[F]=arguments[F+3],++F;F=new H(K,0,null)}return n.call(this,p,r,v,F)}function n(p,r,v,A){p=oe(c,p,r,v,A);p=b.g?b.g(p):b.call(null,p);return a.g?a.g(p):a.call(null,p)}m.O=3;m.K=function(p){var r=I(p);p=J(p);var v=I(p);p=J(p);var A=I(p);p=wc(p);return n(r,v,A,p)};m.F=n;return m}();k=function(m,n,p,r){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var A=Array(arguments.length-3);v<A.length;)A[v]=arguments[v+3],++v;v=new H(A,0,null)}return l.F(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};k.O=3;k.K=l.K;k.H=h;k.g=g;k.l=e;k.m=d;k.F=l.F;return k}()};
Ee.F=function(a,b,c,d){var e=Nd(Q(a,Q(b,Q(c,d))));return function(){function g(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new H(m,0,null)}return h.call(this,l)}function h(k){k=le(I(e),k);for(var l=J(e);;)if(l){var m=I(l);k=m.g?m.g(k):m.call(null,k);l=J(l)}else return k}g.O=0;g.K=function(k){k=G(k);return h(k)};g.F=h;return g}()};Ee.K=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.F(b,a,c,d)};Ee.O=3;
function Fe(a,b){return new Ud(null,function(){var c=G(b);if(c){if(qd(c)){for(var d=Yb(c),e=O(d),g=Yd(e),h=0;;)if(h<e){var k=function(){var l=B(d,h);return a.g?a.g(l):a.call(null,l)}();null!=k&&g.add(k);h+=1}else break;return ae(g.xa(),Fe(a,Zb(c)))}e=function(){var l=I(c);return a.g?a.g(l):a.call(null,l)}();return null==e?Fe(a,wc(c)):Q(e,Fe(a,wc(c)))}return null},null)}function Ge(a,b,c){this.state=a;this.meta=b;this.Cc=c;this.sa=null;this.I=16386;this.B=6455296}f=Ge.prototype;
f.R=function(a,b){return this===b};f.Wa=function(){return this.state};f.U=function(){return this.meta};f.wc=function(a,b){for(var c=G(this.sa),d=null,e=0,g=0;;)if(g<e){var h=d.ga(null,g),k=S(h,0,null);h=S(h,1,null);h.Y?h.Y(k,this,a,b):h.call(null,k,this,a,b);g+=1}else if(c=G(c))qd(c)?(d=Yb(c),c=Zb(c),k=d,e=O(d),d=k):(d=I(c),k=S(d,0,null),h=S(d,1,null),h.Y?h.Y(k,this,a,b):h.call(null,k,this,a,b),c=J(c),d=null,e=0),g=0;else break};f.dc=function(a,b,c){this.sa=T.m(this.sa,b,c);return this};
f.ec=function(a,b){return this.sa=cd.l(this.sa,b)};f.T=function(){return ba(this)};var He=function He(a){switch(arguments.length){case 1:return He.g(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(1),0,null);return He.F(arguments[0],c)}};He.g=function(a){return new Ge(a,null,null)};He.F=function(a,b){var c=qe(b);b=D.l(c,xa);c=D.l(c,Ie);return new Ge(a,b,c)};He.K=function(a){var b=I(a);a=J(a);return this.F(b,a)};He.O=1;
function Je(a,b){if(a instanceof Ge){var c=a.Cc;if(null!=c&&!w(c.g?c.g(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.sa&&a.wc(c,b);return b}return $b(a,b)}
var Ke=function Ke(a){switch(arguments.length){case 2:return Ke.l(arguments[0],arguments[1]);case 3:return Ke.m(arguments[0],arguments[1],arguments[2]);case 4:return Ke.Y(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(4),0,null);return Ke.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Ke.l=function(a,b){if(a instanceof Ge){var c=a.state;b=b.g?b.g(c):b.call(null,c);a=Je(a,b)}else a=ac(a,b);return a};Ke.m=function(a,b,c){if(a instanceof Ge){var d=a.state;b=b.l?b.l(d,c):b.call(null,d,c);a=Je(a,b)}else a=ac(a,b,c);return a};Ke.Y=function(a,b,c,d){if(a instanceof Ge){var e=a.state;b=b.m?b.m(e,c,d):b.call(null,e,c,d);a=Je(a,b)}else a=ac(a,b,c,d);return a};Ke.F=function(a,b,c,d,e){return a instanceof Ge?Je(a,oe(b,a.state,c,d,e)):ac(a,b,c,d,e)};
Ke.K=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.F(b,a,c,d,e)};Ke.O=4;var Le=function Le(a){switch(arguments.length){case 1:return Le.g(arguments[0]);case 2:return Le.l(arguments[0],arguments[1]);case 3:return Le.m(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(3),0,null);return Le.F(arguments[0],arguments[1],arguments[2],c)}};
Le.g=function(a){return function(){function b(h,k,l){h=a.g?a.g(h):a.call(null,h);if(w(h))return h;k=a.g?a.g(k):a.call(null,k);return w(k)?k:a.g?a.g(l):a.call(null,l)}function c(h,k){h=a.g?a.g(h):a.call(null,h);return w(h)?h:a.g?a.g(k):a.call(null,k)}function d(h){return a.g?a.g(h):a.call(null,h)}var e=null,g=function(){function h(l,m,n,p){var r=null;if(3<arguments.length){r=0;for(var v=Array(arguments.length-3);r<v.length;)v[r]=arguments[r+3],++r;r=new H(v,0,null)}return k.call(this,l,m,n,r)}function k(l,
m,n,p){l=e.m(l,m,n);return w(l)?l:Ae(a,p)}h.O=3;h.K=function(l){var m=I(l);l=J(l);var n=I(l);l=J(l);var p=I(l);l=wc(l);return k(m,n,p,l)};h.F=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return null;case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new H(p,0,null)}return g.F(h,k,l,n)}throw Error("Invalid arity: "+arguments.length);
};e.O=3;e.K=g.K;e.H=function(){return null};e.g=d;e.l=c;e.m=b;e.F=g.F;return e}()};
Le.l=function(a,b){return function(){function c(k,l,m){var n=a.g?a.g(k):a.call(null,k);if(w(n))return n;n=a.g?a.g(l):a.call(null,l);if(w(n))return n;n=a.g?a.g(m):a.call(null,m);if(w(n))return n;k=b.g?b.g(k):b.call(null,k);if(w(k))return k;l=b.g?b.g(l):b.call(null,l);return w(l)?l:b.g?b.g(m):b.call(null,m)}function d(k,l){var m=a.g?a.g(k):a.call(null,k);if(w(m))return m;m=a.g?a.g(l):a.call(null,l);if(w(m))return m;k=b.g?b.g(k):b.call(null,k);return w(k)?k:b.g?b.g(l):b.call(null,l)}function e(k){var l=
a.g?a.g(k):a.call(null,k);return w(l)?l:b.g?b.g(k):b.call(null,k)}var g=null,h=function(){function k(m,n,p,r){var v=null;if(3<arguments.length){v=0;for(var A=Array(arguments.length-3);v<A.length;)A[v]=arguments[v+3],++v;v=new H(A,0,null)}return l.call(this,m,n,p,v)}function l(m,n,p,r){m=g.m(m,n,p);return w(m)?m:Ae(function(v){var A=a.g?a.g(v):a.call(null,v);return w(A)?A:b.g?b.g(v):b.call(null,v)},r)}k.O=3;k.K=function(m){var n=I(m);m=J(m);var p=I(m);m=J(m);var r=I(m);m=wc(m);return l(n,p,r,m)};k.F=
l;return k}();g=function(k,l,m,n){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return h.F(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};g.O=3;g.K=h.K;g.H=function(){return null};g.g=e;g.l=d;g.m=c;g.F=h.F;return g}()};
Le.m=function(a,b,c){return function(){function d(l,m,n){var p=a.g?a.g(l):a.call(null,l);if(w(p))return p;p=a.g?a.g(m):a.call(null,m);if(w(p))return p;p=a.g?a.g(n):a.call(null,n);if(w(p))return p;p=b.g?b.g(l):b.call(null,l);if(w(p))return p;p=b.g?b.g(m):b.call(null,m);if(w(p))return p;p=b.g?b.g(n):b.call(null,n);if(w(p))return p;l=c.g?c.g(l):c.call(null,l);if(w(l))return l;m=c.g?c.g(m):c.call(null,m);return w(m)?m:c.g?c.g(n):c.call(null,n)}function e(l,m){var n=a.g?a.g(l):a.call(null,l);if(w(n))return n;
n=a.g?a.g(m):a.call(null,m);if(w(n))return n;n=b.g?b.g(l):b.call(null,l);if(w(n))return n;n=b.g?b.g(m):b.call(null,m);if(w(n))return n;l=c.g?c.g(l):c.call(null,l);return w(l)?l:c.g?c.g(m):c.call(null,m)}function g(l){var m=a.g?a.g(l):a.call(null,l);if(w(m))return m;m=b.g?b.g(l):b.call(null,l);return w(m)?m:c.g?c.g(l):c.call(null,l)}var h=null,k=function(){function l(n,p,r,v){var A=null;if(3<arguments.length){A=0;for(var F=Array(arguments.length-3);A<F.length;)F[A]=arguments[A+3],++A;A=new H(F,0,null)}return m.call(this,
n,p,r,A)}function m(n,p,r,v){n=h.m(n,p,r);return w(n)?n:Ae(function(A){var F=a.g?a.g(A):a.call(null,A);if(w(F))return F;F=b.g?b.g(A):b.call(null,A);return w(F)?F:c.g?c.g(A):c.call(null,A)},v)}l.O=3;l.K=function(n){var p=I(n);n=J(n);var r=I(n);n=J(n);var v=I(n);n=wc(n);return m(p,r,v,n)};l.F=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return null;case 1:return g.call(this,l);case 2:return e.call(this,l,m);case 3:return d.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=
0;for(var v=Array(arguments.length-3);r<v.length;)v[r]=arguments[r+3],++r;r=new H(v,0,null)}return k.F(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};h.O=3;h.K=k.K;h.H=function(){return null};h.g=g;h.l=e;h.m=d;h.F=k.F;return h}()};
Le.F=function(a,b,c,d){var e=Q(a,Q(b,Q(c,d)));return function(){function g(n,p,r){return Ae(function(v){var A=v.g?v.g(n):v.call(null,n);if(w(A))return A;A=v.g?v.g(p):v.call(null,p);return w(A)?A:v.g?v.g(r):v.call(null,r)},e)}function h(n,p){return Ae(function(r){var v=r.g?r.g(n):r.call(null,n);return w(v)?v:r.g?r.g(p):r.call(null,p)},e)}function k(n){return Ae(function(p){return p.g?p.g(n):p.call(null,n)},e)}var l=null,m=function(){function n(r,v,A,F){var K=null;if(3<arguments.length){K=0;for(var V=
Array(arguments.length-3);K<V.length;)V[K]=arguments[K+3],++K;K=new H(V,0,null)}return p.call(this,r,v,A,K)}function p(r,v,A,F){r=l.m(r,v,A);return w(r)?r:Ae(function(K){return Ae(K,F)},e)}n.O=3;n.K=function(r){var v=I(r);r=J(r);var A=I(r);r=J(r);var F=I(r);r=wc(r);return p(v,A,F,r)};n.F=p;return n}();l=function(n,p,r,v){switch(arguments.length){case 0:return null;case 1:return k.call(this,n);case 2:return h.call(this,n,p);case 3:return g.call(this,n,p,r);default:var A=null;if(3<arguments.length){A=
0;for(var F=Array(arguments.length-3);A<F.length;)F[A]=arguments[A+3],++A;A=new H(F,0,null)}return m.F(n,p,r,A)}throw Error("Invalid arity: "+arguments.length);};l.O=3;l.K=m.K;l.H=function(){return null};l.g=k;l.l=h;l.m=g;l.F=m.F;return l}()};Le.K=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.F(b,a,c,d)};Le.O=3;
var Me=function Me(a){switch(arguments.length){case 1:return Me.g(arguments[0]);case 2:return Me.l(arguments[0],arguments[1]);case 3:return Me.m(arguments[0],arguments[1],arguments[2]);case 4:return Me.Y(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(4),0,null);return Me.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Me.g=function(a){return function(b){return function(){function c(k,l){l=a.g?a.g(l):a.call(null,l);return b.l?b.l(k,l):b.call(null,k,l)}function d(k){return b.g?b.g(k):b.call(null,k)}function e(){return b.H?b.H():b.call(null)}var g=null,h=function(){function k(m,n,p){var r=null;if(2<arguments.length){r=0;for(var v=Array(arguments.length-2);r<v.length;)v[r]=arguments[r+2],++r;r=new H(v,0,null)}return l.call(this,m,n,r)}function l(m,n,p){n=me(a,n,p);return b.l?b.l(m,n):b.call(null,m,n)}k.O=2;k.K=function(m){var n=
I(m);m=J(m);var p=I(m);m=wc(m);return l(n,p,m)};k.F=l;return k}();g=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new H(p,0,null)}return h.F(k,l,n)}throw Error("Invalid arity: "+arguments.length);};g.O=2;g.K=h.K;g.H=e;g.g=d;g.l=c;g.F=h.F;return g}()}};
Me.l=function(a,b){return new Ud(null,function(){var c=G(b);if(c){if(qd(c)){for(var d=Yb(c),e=O(d),g=Yd(e),h=0;;)if(h<e)be(g,function(){var k=B(d,h);return a.g?a.g(k):a.call(null,k)}()),h+=1;else break;return ae(g.xa(),Me.l(a,Zb(c)))}return Q(function(){var k=I(c);return a.g?a.g(k):a.call(null,k)}(),Me.l(a,wc(c)))}return null},null)};
Me.m=function(a,b,c){return new Ud(null,function(){var d=G(b),e=G(c);if(d&&e){var g=I(d);var h=I(e);g=a.l?a.l(g,h):a.call(null,g,h);d=Q(g,Me.m(a,wc(d),wc(e)))}else d=null;return d},null)};Me.Y=function(a,b,c,d){return new Ud(null,function(){var e=G(b),g=G(c),h=G(d);if(e&&g&&h){var k=I(e);var l=I(g),m=I(h);k=a.m?a.m(k,l,m):a.call(null,k,l,m);e=Q(k,Me.Y(a,wc(e),wc(g),wc(h)))}else e=null;return e},null)};
Me.F=function(a,b,c,d,e){return Me.l(function(g){return le(a,g)},function k(h){return new Ud(null,function(){var l=Me.l(G,h);return ze(Id,l)?Q(Me.l(I,l),k(Me.l(wc,l))):null},null)}(Zc.F(e,d,Vc([c,b]))))};Me.K=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.F(b,a,c,d,e)};Me.O=4;function Ne(a){return new Ud(null,function(){a:for(var b=2,c=a;;)if(c=G(c),0<b&&c)--b,c=wc(c);else break a;return c},null)}
function Oe(a){return Me.m(function(b){return b},a,Ne(a))}function Pe(a,b){return new Ud(null,function(){a:for(var c=a,d=b;;){d=G(d);var e;if(e=d)e=I(d),e=c.g?c.g(e):c.call(null,e);if(w(e))d=wc(d);else break a}return d},null)}
function Qe(a,b){return new Ud(null,function(){var c=G(b);if(c){if(qd(c)){for(var d=Yb(c),e=O(d),g=Yd(e),h=0;;)if(h<e){var k=B(d,h);k=a.g?a.g(k):a.call(null,k);w(k)&&(k=B(d,h),g.add(k));h+=1}else break;return ae(g.xa(),Qe(a,Zb(c)))}d=I(c);c=wc(c);return w(a.g?a.g(d):a.call(null,d))?Q(d,Qe(a,c)):Qe(a,c)}return null},null)}
var Re=function Re(a){switch(arguments.length){case 0:return Re.H();case 1:return Re.g(arguments[0]);case 2:return Re.l(arguments[0],arguments[1]);case 3:return Re.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}};Re.H=function(){return $c};Re.g=function(a){return a};Re.l=function(a,b){return null!=a?null!=a&&(a.I&4||t===a.bd)?wb(Tb(Ka(Sb,Rb(a),b)),hd(a)):Ka(Ua,a,b):Ka(Zc,a,b)};
Re.m=function(a,b,c){if(null!=a&&(a.I&4||t===a.bd)){var d=hd(a);return Jd(b,function(){function e(h){return wb(Tb(h),d)}var g=null;g=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Sb(h,k)}throw Error("Invalid arity: "+arguments.length);};g.g=e;g.l=function(h,k){return Sb(h,k)};return g}(),Rb(a),c)}return Jd(b,Zc,a,c)};Re.O=3;function Se(a,b){return Tb(Ka(function(c,d){d=a.g?a.g(d):a.call(null,d);return Sb(c,d)},Rb($c),b))}function Te(a,b){this.da=a;this.o=b}
function Ue(a){return new Te(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Ve(a){return new Te(a.da,Ia(a.o))}function We(a){a=a.D;return 32>a?0:a-1>>>5<<5}function Xe(a,b,c){for(;;){if(0===b)return c;var d=Ue(a);d.o[0]=c;c=d;b-=5}}
var Ye=function Ye(a,b,c,d){var g=Ve(c),h=a.D-1>>>b&31;5===b?g.o[h]=d:(c=c.o[h],null!=c?(b-=5,a=Ye.Y?Ye.Y(a,b,c,d):Ye.call(null,a,b,c,d)):a=Xe(null,b-5,d),g.o[h]=a);return g};function Ze(a,b){throw Error(["No item ",z.g(a)," in vector of length ",z.g(b)].join(""));}function $e(a,b){if(b>=We(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.o[b>>>a&31];a=d}else return c.o}function af(a,b){return 0<=b&&b<a.D?$e(a,b):Ze(b,a.D)}
var bf=function bf(a,b,c,d,e){var h=Ve(c);if(0===b)h.o[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.o[k];a=bf.fa?bf.fa(a,b,c,d,e):bf.call(null,a,b,c,d,e);h.o[k]=a}return h},cf=function cf(a,b,c){var e=a.D-2>>>b&31;if(5<b){b-=5;var g=c.o[e];a=cf.m?cf.m(a,b,g):cf.call(null,a,b,g);if(null==a&&0===e)return null;c=Ve(c);c.o[e]=a;return c}if(0===e)return null;c=Ve(c);c.o[e]=null;return c};function df(a,b,c,d,e,g){this.i=a;this.base=b;this.o=c;this.v=d;this.start=e;this.end=g}
df.prototype.ka=function(){return this.i<this.end};df.prototype.next=function(){32===this.i-this.base&&(this.o=$e(this.v,this.i),this.base+=32);var a=this.o[this.i&31];this.i+=1;return a};function ef(a,b,c){return new df(b,b-b%32,b<O(a)?$e(a,b):null,a,b,c)}function ff(a,b,c,d){return c<d?gf(a,b,Qc(a,c),c+1,d):b.H?b.H():b.call(null)}
function gf(a,b,c,d,e){var g=c;c=d;for(d=$e(a,d);;)if(c<e){var h=c&31;d=0===h?$e(a,c):d;h=d[h];g=b.l?b.l(g,h):b.call(null,g,h);if(Hc(g))return sb(g);c+=1}else return g}function W(a,b,c,d,e,g){this.meta=a;this.D=b;this.shift=c;this.root=d;this.tail=e;this.C=g;this.B=167666463;this.I=139268}f=W.prototype;f.Pb=t;f.Gb=function(a,b){return 0<=b&&b<this.D?new yd(b,$e(this,b)[b&31]):null};f.toString=function(){return fc(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
f.ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.D){var e=$e(this,a);c=e.length;a:for(var g=0;;)if(g<c){var h=g+a,k=e[g];d=b.m?b.m(d,h,k):b.call(null,d,h,k);if(Hc(d)){e=d;break a}g+=1}else{e=d;break a}if(Hc(e))return sb(e);a+=c;d=e}else return d};f.qc=t;f.ga=function(a,b){return af(this,b)[b&31]};f.Aa=function(a,b,c){return 0<=b&&b<this.D?$e(this,b)[b&31]:c};
f.xb=function(a,b,c){if(0<=b&&b<this.D)return We(this)<=b?(a=Ia(this.tail),a[b&31]=c,new W(this.meta,this.D,this.shift,this.root,a,null)):new W(this.meta,this.D,this.shift,bf(this,this.shift,this.root,b,c),this.tail,null);if(b===this.D)return this.aa(null,c);throw Error(["Index ",z.g(b)," out of bounds  [0,",z.g(this.D),"]"].join(""));};f.ia=function(){return ef(this,0,this.D)};f.U=function(){return this.meta};f.X=function(){return this.D};f.Ib=function(){return 0<this.D?this.ga(null,this.D-1):null};
f.Jb=function(){if(0===this.D)throw Error("Can't pop empty vector");if(1===this.D)return wb($c,this.meta);if(1<this.D-We(this))return new W(this.meta,this.D-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=$e(this,this.D-2),b=cf(this,this.shift,this.root);b=null==b?X:b;var c=this.D-1;return 5<this.shift&&null==b.o[1]?new W(this.meta,c,this.shift-5,b.o[0],a,null):new W(this.meta,c,this.shift,b,a,null)};f.Rb=function(){return 0<this.D?new Tc(this,this.D-1,null):null};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){if(b instanceof W)if(this.D===O(b))for(a=this.ia(null),b=b.ia(null);;)if(a.ka()){var c=a.next(),d=b.next();if(!M.l(c,d))return!1}else return!0;else return!1;else return Uc(this,b)};f.Fb=function(){return new hf(this.D,this.shift,jf.g?jf.g(this.root):jf.call(null,this.root),kf.g?kf.g(this.tail):kf.call(null,this.tail))};f.ja=function(){return wb($c,this.meta)};f.oa=function(a,b){return ff(this,b,0,this.D)};
f.pa=function(a,b,c){a=0;for(var d=c;;)if(a<this.D){var e=$e(this,a);c=e.length;a:for(var g=0;;)if(g<c){var h=e[g];d=b.l?b.l(d,h):b.call(null,d,h);if(Hc(d)){e=d;break a}g+=1}else{e=d;break a}if(Hc(e))return sb(e);a+=c;d=e}else return d};f.$=function(a,b,c){if("number"===typeof b)return this.xb(null,b,c);throw Error("Vector's key for assoc must be a number.");};f.la=function(a,b){return vd(b)?0<=b&&b<this.D:!1};
f.V=function(){if(0===this.D)return null;if(32>=this.D)return new H(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.o[0];else{a=a.o;break a}}return lf?lf(this,a,0,0):mf.call(null,this,a,0,0)};f.W=function(a,b){return b===this.meta?this:new W(b,this.D,this.shift,this.root,this.tail,this.C)};
f.aa=function(a,b){if(32>this.D-We(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new W(this.meta,this.D+1,this.shift,this.root,c,null)}a=(c=this.D>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Ue(null),c.o[0]=this.root,d=Xe(null,this.shift,new Te(null,this.tail)),c.o[1]=d):c=Ye(this,this.shift,this.root,new Te(null,this.tail));return new W(this.meta,this.D+1,a,c,[b],null)};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){if("number"===typeof a)return this.ga(null,a);throw Error("Key must be integer");};
var X=new Te(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),$c=new W(null,0,5,X,[],Cc);function nf(a,b){var c=a.length;a=b?a:Ia(a);if(32>c)return new W(null,c,5,X,a,null);var d=a.slice(0,32);b=32;for(var e=(new W(null,32,5,X,d,null)).Fb(null);;)if(b<c)d=b+1,e=Sb(e,a[b]),b=d;else return Tb(e)}W.prototype[Fa]=function(){return zc(this)};
function of(a){return w(pf.g?pf.g(a):pf.call(null,a))?new W(null,2,5,X,[qf.g?qf.g(a):qf.call(null,a),rf.g?rf.g(a):rf.call(null,a)],null):pd(a)?gd(a,null):Aa(a)?nf(a,!0):Tb(Ka(Sb,Rb($c),a))}var sf=function sf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return sf.F(c)};sf.F=function(a){return a instanceof H&&0===a.i?nf(a.o,!Aa(a.o)):of(a)};sf.O=0;sf.K=function(a){return this.F(G(a))};
function tf(a,b,c,d,e){this.Fa=a;this.node=b;this.i=c;this.ma=d;this.meta=e;this.C=null;this.B=32375020;this.I=1536}f=tf.prototype;f.toString=function(){return fc(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){if(this.ma+1<this.node.length){var a=this.Fa;var b=this.node,c=this.i,d=this.ma+1;a=lf?lf(a,b,c,d):mf.call(null,a,b,c,d);return null==a?null:a}return this.Hc()};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){return Uc(this,b)};f.ja=function(){return xc};f.oa=function(a,b){return ff(this.Fa,b,this.i+this.ma,O(this.Fa))};f.pa=function(a,b,c){return gf(this.Fa,b,c,this.i+this.ma,O(this.Fa))};f.va=function(){return this.node[this.ma]};f.wa=function(){if(this.ma+1<this.node.length){var a=this.Fa;var b=this.node,c=this.i,d=this.ma+1;a=lf?lf(a,b,c,d):mf.call(null,a,b,c,d);return null==a?xc:a}return this.cc(null)};f.V=function(){return this};
f.rc=function(){var a=this.node;return new Xd(a,this.ma,a.length)};f.cc=function(){var a=this.i+this.node.length;if(a<Pa(this.Fa)){var b=this.Fa,c=$e(this.Fa,a);return lf?lf(b,c,a,0):mf.call(null,b,c,a,0)}return xc};f.W=function(a,b){return b===this.meta?this:uf?uf(this.Fa,this.node,this.i,this.ma,b):mf.call(null,this.Fa,this.node,this.i,this.ma,b)};f.aa=function(a,b){return Q(b,this)};
f.Hc=function(){var a=this.i+this.node.length;if(a<Pa(this.Fa)){var b=this.Fa,c=$e(this.Fa,a);return lf?lf(b,c,a,0):mf.call(null,b,c,a,0)}return null};tf.prototype[Fa]=function(){return zc(this)};
function mf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new tf(b,af(b,c),c,d,null);case 4:return lf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return uf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}}function lf(a,b,c,d){return new tf(a,b,c,d,null)}function uf(a,b,c,d,e){return new tf(a,b,c,d,e)}
function vf(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.C=e;this.B=167666463;this.I=139264}f=vf.prototype;f.Pb=t;f.Gb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new yd(b,bb(this.v,a)):null};f.toString=function(){return fc(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
f.ta=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,g=B(this.v,a);c=b.m?b.m(c,e,g):b.call(null,c,e,g);if(Hc(c))return sb(c);d+=1;a+=1}else return c};f.ga=function(a,b){return 0>b||this.end<=this.start+b?Ze(b,this.end-this.start):B(this.v,this.start+b)};f.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:B(this.v,this.start+b,c)};
f.xb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",z.g(b)," out of bounds [0,",z.g(this.X(null)),"]"].join(""));b=this.meta;c=T.m(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return wf.fa?wf.fa(b,c,d,a,null):wf.call(null,b,c,d,a,null)};f.ia=function(){return null!=this.v&&t===this.v.qc?ef(this.v,this.start,this.end):new ye(this)};f.U=function(){return this.meta};f.X=function(){return this.end-this.start};
f.Ib=function(){return this.start===this.end?null:B(this.v,this.end-1)};f.Jb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return wf.fa?wf.fa(a,b,c,d,null):wf.call(null,a,b,c,d,null)};f.Rb=function(){return this.start!==this.end?new Tc(this,this.end-this.start-1,null):null};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){return Uc(this,b)};f.ja=function(){return wb($c,this.meta)};
f.oa=function(a,b){return null!=this.v&&t===this.v.qc?ff(this.v,b,this.start,this.end):Jc(this,b)};f.pa=function(a,b,c){return null!=this.v&&t===this.v.qc?gf(this.v,b,c,this.start,this.end):Kc(this,b,c)};f.$=function(a,b,c){if("number"===typeof b)return this.xb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};f.la=function(a,b){return vd(b)?0<=b&&b<this.end-this.start:!1};
f.V=function(){var a=this;return function d(c){return c===a.end?null:Q(B(a.v,c),new Ud(null,function(){return d(c+1)},null))}(a.start)};f.W=function(a,b){return b===this.meta?this:wf.fa?wf.fa(b,this.v,this.start,this.end,this.C):wf.call(null,b,this.v,this.start,this.end,this.C)};f.aa=function(a,b){a=this.meta;b=rb(this.v,this.end,b);var c=this.start,d=this.end+1;return wf.fa?wf.fa(a,b,c,d,null):wf.call(null,a,b,c,d,null)};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return this.ga(null,a)};f.l=function(a,b){return this.Aa(null,a,b)};vf.prototype[Fa]=function(){return zc(this)};
function wf(a,b,c,d,e){for(;;)if(b instanceof vf)c=b.start+c,d=b.start+d,b=b.v;else{if(!pd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>O(b))throw Error("Index out of bounds");return new vf(a,b,c,d,e)}}function xf(a,b){return a===b.da?b:new Te(a,Ia(b.o))}function jf(a){return new Te({},Ia(a.o))}
function kf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];rd(a,0,b,0,a.length);return b}var yf=function yf(a,b,c,d){c=xf(a.root.da,c);var g=a.D-1>>>b&31;if(5===b)a=d;else{var h=c.o[g];null!=h?(b-=5,a=yf.Y?yf.Y(a,b,h,d):yf.call(null,a,b,h,d)):a=Xe(a.root.da,b-5,d)}c.o[g]=a;return c};function hf(a,b,c,d){this.D=a;this.shift=b;this.root=c;this.tail=d;this.I=88;this.B=275}f=hf.prototype;
f.Lb=function(a,b){if(this.root.da){if(32>this.D-We(this))this.tail[this.D&31]=b;else{a=new Te(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.D>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Xe(this.root.da,this.shift,a),this.root=new Te(this.root.da,b),this.shift=c):this.root=yf(this,this.shift,this.root,a)}this.D+=1;return this}throw Error("conj! after persistent!");};f.Sb=function(){if(this.root.da){this.root.da=null;var a=this.D-We(this),b=Array(a);rd(this.tail,0,b,0,a);return new W(null,this.D,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
f.Kb=function(a,b,c){if("number"===typeof b)return zf(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function zf(a,b,c){if(a.root.da){if(0<=b&&b<a.D){if(We(a)<=b)a.tail[b&31]=c;else{var d=function k(g,h){h=xf(a.root.da,h);if(0===g)h.o[b&31]=c;else{var l=b>>>g&31;g=k(g-5,h.o[l]);h.o[l]=g}return h}(a.shift,a.root);a.root=d}return a}if(b===a.D)return a.Lb(null,c);throw Error(["Index ",z.g(b)," out of bounds for TransientVector of length",z.g(a.D)].join(""));}throw Error("assoc! after persistent!");}f.X=function(){if(this.root.da)return this.D;throw Error("count after persistent!");};
f.ga=function(a,b){if(this.root.da)return af(this,b)[b&31];throw Error("nth after persistent!");};f.Aa=function(a,b,c){return 0<=b&&b<this.D?this.ga(null,b):c};f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return this.ba(null,a)};f.l=function(a,b){return this.M(null,a,b)};function Af(){this.B=2097152;this.I=0}Af.prototype.R=function(){return!1};var Bf=new Af;
function Cf(a,b){return td(nd(b)&&!od(b)?O(a)===O(b)?(null!=a?a.B&1048576||t===a.Ld||(a.B?0:x(Ab,a)):x(Ab,a))?Hd(function(c,d,e){return M.l(D.m(b,d,Bf),e)?!0:new Gc},!0,a):ze(function(c){return M.l(D.m(b,I(c),Bf),I(J(c)))},a):null:null)}function Df(a,b,c,d){this.i=0;this.Ed=a;this.Ec=b;this.vd=c;this.Rc=d}Df.prototype.ka=function(){var a=this.i<this.Ec;return a?a:this.Rc.ka()};Df.prototype.next=function(){if(this.i<this.Ec){var a=Qc(this.vd,this.i);this.i+=1;return new yd(a,bb(this.Ed,a))}return this.Rc.next()};
Df.prototype.remove=function(){return Error("Unsupported operation")};function Ef(a){this.s=a}Ef.prototype.next=function(){if(null!=this.s){var a=I(this.s),b=S(a,0,null);a=S(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ff(a){this.s=a}Ff.prototype.next=function(){if(null!=this.s){var a=I(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Gf(a,b){if(b instanceof E)a:{var c=a.length;b=b.S;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].S){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof C)a:for(c=a.length,b=b.Va,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].Va){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(M.l(b,a[d])){a=d;break a}d+=2}return a}function yd(a,b){this.key=a;this.val=b;this.C=null;this.B=166619935;this.I=0}f=yd.prototype;f.Pb=t;f.Gb=function(a,b){switch(b){case 0:return new yd(0,this.key);case 1:return new yd(1,this.val);default:return null}};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.ba=function(a,b){return this.Aa(null,b,null)};f.M=function(a,b,c){return this.Aa(null,b,c)};f.ga=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
f.Aa=function(a,b,c){return 0===b?this.key:1===b?this.val:c};f.xb=function(a,b,c){return(new W(null,2,5,X,[this.key,this.val],null)).xb(null,b,c)};f.U=function(){return null};f.X=function(){return 2};f.hd=function(){return this.key};f.jd=function(){return this.val};f.Ib=function(){return this.val};f.Jb=function(){return new W(null,1,5,X,[this.key],null)};f.Rb=function(){return new H([this.val,this.key],0,null)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};
f.R=function(a,b){return Uc(this,b)};f.ja=function(){return null};f.oa=function(a,b){return Jc(this,b)};f.pa=function(a,b,c){return Kc(this,b,c)};f.$=function(a,b,c){return T.m(new W(null,2,5,X,[this.key,this.val],null),b,c)};f.la=function(a,b){return 0===b||1===b};f.V=function(){return new H([this.key,this.val],0,null)};f.W=function(a,b){return gd(new W(null,2,5,X,[this.key,this.val],null),b)};f.aa=function(a,b){return new W(null,3,5,X,[this.key,this.val,b],null)};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return this.ga(null,a)};f.l=function(a,b){return this.Aa(null,a,b)};function pf(a){return null!=a?a.B&2048||t===a.Od?!0:!1:!1}function If(a,b,c){this.o=a;this.i=b;this.Ta=c;this.B=32374990;this.I=0}f=If.prototype;
f.toString=function(){return fc(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.Ta};f.ua=function(){return this.i<this.o.length-2?new If(this.o,this.i+2,null):null};f.X=function(){return(this.o.length-this.i)/2};f.T=function(){return Bc(this)};
f.R=function(a,b){return Uc(this,b)};f.ja=function(){return xc};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return new yd(this.o[this.i],this.o[this.i+1])};f.wa=function(){return this.i<this.o.length-2?new If(this.o,this.i+2,null):xc};f.V=function(){return this};f.W=function(a,b){return b===this.Ta?this:new If(this.o,this.i,b)};f.aa=function(a,b){return Q(b,this)};If.prototype[Fa]=function(){return zc(this)};
function Jf(a,b){this.o=a;this.i=0;this.D=b}Jf.prototype.ka=function(){return this.i<this.D};Jf.prototype.next=function(){var a=new yd(this.o[this.i],this.o[this.i+1]);this.i+=2;return a};function u(a,b,c,d){this.meta=a;this.D=b;this.o=c;this.C=d;this.B=16647951;this.I=139268}f=u.prototype;f.Pb=t;f.Gb=function(a,b){a=Gf(this.o,b);return-1===a?null:new yd(this.o[a],this.o[a+1])};f.toString=function(){return fc(this)};f.keys=function(){return zc(Kf.g?Kf.g(this):Kf.call(null,this))};f.entries=function(){return new Ef(G(G(this)))};
f.values=function(){return zc(Lf.g?Lf.g(this):Lf.call(null,this))};f.has=function(a){return wd(this,a)};f.get=function(a,b){return this.M(null,a,b)};f.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var g=c.ga(null,e),h=S(g,0,null);g=S(g,1,null);a.l?a.l(g,h):a.call(null,g,h);e+=1}else if(b=G(b))qd(b)?(c=Yb(b),b=Zb(b),h=c,d=O(c),c=h):(c=I(b),h=S(c,0,null),g=S(c,1,null),a.l?a.l(g,h):a.call(null,g,h),b=J(b),c=null,d=0),e=0;else return null};f.ba=function(a,b){return this.M(null,b,null)};
f.M=function(a,b,c){a=Gf(this.o,b);return-1===a?c:this.o[a+1]};f.ta=function(a,b,c){a=this.o.length;for(var d=0;;)if(d<a){var e=this.o[d],g=this.o[d+1];c=b.m?b.m(c,e,g):b.call(null,c,e,g);if(Hc(c))return sb(c);d+=2}else return c};f.ia=function(){return new Jf(this.o,2*this.D)};f.U=function(){return this.meta};f.X=function(){return this.D};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Dc(this)};
f.R=function(a,b){if(nd(b)&&!od(b))if(a=this.o.length,this.D===b.X(null))for(var c=0;;)if(c<a){var d=b.M(null,this.o[c],sd);if(d!==sd)if(M.l(this.o[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};f.Fb=function(){return new Mf(this.o.length,Ia(this.o))};f.ja=function(){return wb(re,this.meta)};f.oa=function(a,b){return Ed(this,b)};f.pa=function(a,b,c){return Fd(this,b,c)};
f.za=function(a,b){if(0<=Gf(this.o,b)){a=this.o.length;var c=a-2;if(0===c)return this.ja(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new u(this.meta,this.D-1,c,null);M.l(b,this.o[d])?d+=2:(c[e]=this.o[d],c[e+1]=this.o[d+1],e+=2,d+=2)}}else return this};
f.$=function(a,b,c){a=Gf(this.o,b);if(-1===a){if(this.D<Nf){a=this.o;for(var d=a.length,e=Array(d+2),g=0;;)if(g<d)e[g]=a[g],g+=1;else break;e[d]=b;e[d+1]=c;return new u(this.meta,this.D+1,e,null)}return wb(fb(Re.l(Of,this),b,c),this.meta)}if(c===this.o[a+1])return this;b=Ia(this.o);b[a+1]=c;return new u(this.meta,this.D,b,null)};f.la=function(a,b){return-1!==Gf(this.o,b)};f.V=function(){var a=this.o;return 0<=a.length-2?new If(a,0,null):null};
f.W=function(a,b){return b===this.meta?this:new u(b,this.D,this.o,this.C)};f.aa=function(a,b){if(pd(b))return this.$(null,B(b,0),B(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(pd(c))a=fb(a,B(c,0),B(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return this.ba(null,a)};f.l=function(a,b){return this.M(null,a,b)};var re=new u(null,0,[],Ec),Nf=8;function Pf(a,b){return a===b?!0:U(a,b)?!0:M.l(a,b)}
function Qf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=Pf(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function Rf(a,b){var c=a.length-1,d=G(b);b=Array(c+2*O(d));a=rd(a,0,b,0,c);for(b=c;;)if(d){var e=I(d);a[b]=kb(e);a[b+1]=lb(e);b=2+c;d=J(d)}else return a}
function bd(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var g=Pf(a[d],a[e]);if(g){e=g;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?Sf(a,c):new u(null,b/2,a,null)}
function Sf(a,b){var c=b?Rf(a,Re.l(re,a[a.length-1])):a;a=Qf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,g=0;;)if(e<d)(function(){for(var h=0;;)if(h<g){var k=Pf(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=g,e=2+e,g=b):(b=function(){for(var h=d-2;;)if(h>=e){if(Pf(c[e],c[h]))return h;h-=2}else return h}(),a[g]=c[e],a[g+1]=c[b+1],b=2+g,e=2+e,g=b);else break;return new u(null,a.length/2,a,null)}return new u(null,c.length/2,c,null)}u.prototype[Fa]=function(){return zc(this)};
function Mf(a,b){this.Mb={};this.zb=a;this.o=b;this.B=259;this.I=56}f=Mf.prototype;f.X=function(){if(this.Mb)return Kd(this.zb);throw Error("count after persistent!");};f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){if(this.Mb)return a=Gf(this.o,b),-1===a?c:this.o[a+1];throw Error("lookup after persistent!");};
f.Lb=function(a,b){if(this.Mb){if(pf(b))return this.Kb(null,qf.g?qf.g(b):qf.call(null,b),rf.g?rf.g(b):rf.call(null,b));if(pd(b))return this.Kb(null,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));a=G(b);for(b=this;;){var c=I(a);if(w(c))a=J(a),b=Ub(b,qf.g?qf.g(c):qf.call(null,c),rf.g?rf.g(c):rf.call(null,c));else return b}}else throw Error("conj! after persistent!");};f.Sb=function(){if(this.Mb)return this.Mb=!1,new u(null,Kd(this.zb),this.o,null);throw Error("persistent! called twice");};
f.Kb=function(a,b,c){if(this.Mb){a=Gf(this.o,b);if(-1===a){if(this.zb+2<=2*Nf)return this.zb+=2,this.o.push(b),this.o.push(c),this;a=Tf.l?Tf.l(this.zb,this.o):Tf.call(null,this.zb,this.o);return Ub(a,b,c)}c!==this.o[a+1]&&(this.o[a+1]=c);return this}throw Error("assoc! after persistent!");};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};
f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return this.M(null,a,null)};f.l=function(a,b){return this.M(null,a,b)};function Tf(a,b){for(var c=Rb(Of),d=0;;)if(d<a)c=Ub(c,b[d],b[d+1]),d+=2;else return c}function Uf(){this.val=!1}function Vf(a,b,c){a=Ia(a);a[b]=c;return a}function Wf(a,b){var c=Array(a.length-2);rd(a,0,c,0,2*b);rd(a,2*(b+1),c,2*b,c.length-2*b);return c}function Xf(a,b,c,d){a=a.yb(b);a.o[c]=d;return a}
function Yf(a,b,c){for(var d=a.length,e=0,g=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.m?b.m(g,c,h):b.call(null,g,c,h)}else c=a[e+1],c=null!=c?c.Yb(b,g):g;if(Hc(c))return c;e+=2;g=c}else return g}function Zf(a){this.o=a;this.i=0;this.Oa=this.Zb=null}Zf.prototype.advance=function(){for(var a=this.o.length;;)if(this.i<a){var b=this.o[this.i],c=this.o[this.i+1];null!=b?b=this.Zb=new yd(b,c):null!=c?(b=dc(c),b=b.ka()?this.Oa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
Zf.prototype.ka=function(){var a=null!=this.Zb;return a?a:(a=null!=this.Oa)?a:this.advance()};Zf.prototype.next=function(){if(null!=this.Zb){var a=this.Zb;this.Zb=null;return a}if(null!=this.Oa)return a=this.Oa.next(),this.Oa.ka()||(this.Oa=null),a;if(this.advance())return this.next();throw Error("No such element");};Zf.prototype.remove=function(){return Error("Unsupported operation")};function $f(a,b,c){this.da=a;this.ea=b;this.o=c;this.I=131072;this.B=0}f=$f.prototype;
f.yb=function(a){if(a===this.da)return this;var b=Ld(this.ea),c=Array(0>b?4:2*(b+1));rd(this.o,0,c,0,2*b);return new $f(a,this.ea,c)};f.Wb=function(){return ag?ag(this.o):bg.call(null,this.o)};f.Yb=function(a,b){return Yf(this.o,a,b)};f.fb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.ea&e))return d;var g=Ld(this.ea&e-1);e=this.o[2*g];g=this.o[2*g+1];return null==e?g.fb(a+5,b,c,d):Pf(c,e)?g:d};
f.La=function(a,b,c,d,e,g){var h=1<<(c>>>b&31),k=Ld(this.ea&h-1);if(0===(this.ea&h)){var l=Ld(this.ea);if(2*l<this.o.length){a=this.yb(a);b=a.o;g.val=!0;c=2*(l-k);g=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[g],--l,--c,--g;b[2*k]=d;b[2*k+1]=e;a.ea|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=cg.La(a,b+5,c,d,e,g);for(e=d=0;;)if(32>d)0===(this.ea>>>
d&1)?d+=1:(k[d]=null!=this.o[e]?cg.La(a,b+5,pc(this.o[e]),this.o[e],this.o[e+1],g):this.o[e+1],e+=2,d+=1);else break;return new dg(a,l+1,k)}b=Array(2*(l+4));rd(this.o,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;rd(this.o,2*k,b,2*(k+1),2*(l-k));g.val=!0;a=this.yb(a);a.o=b;a.ea|=h;return a}l=this.o[2*k];h=this.o[2*k+1];if(null==l)return l=h.La(a,b+5,c,d,e,g),l===h?this:Xf(this,a,2*k+1,l);if(Pf(d,l))return e===h?this:Xf(this,a,2*k+1,e);g.val=!0;g=b+5;d=eg?eg(a,g,l,h,c,d,e):fg.call(null,a,g,l,h,c,d,e);e=2*k;k=2*k+
1;a=this.yb(a);a.o[e]=null;a.o[k]=d;return a};
f.Ka=function(a,b,c,d,e){var g=1<<(b>>>a&31),h=Ld(this.ea&g-1);if(0===(this.ea&g)){var k=Ld(this.ea);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=cg.Ka(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.ea>>>c&1)?c+=1:(h[c]=null!=this.o[d]?cg.Ka(a+5,pc(this.o[d]),this.o[d],this.o[d+1],e):this.o[d+1],d+=2,c+=1);else break;return new dg(null,k+1,h)}a=Array(2*(k+1));rd(this.o,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;rd(this.o,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new $f(null,this.ea|g,a)}var l=this.o[2*h];g=this.o[2*h+1];if(null==l)return k=g.Ka(a+5,b,c,d,e),k===g?this:new $f(null,this.ea,Vf(this.o,2*h+1,k));if(Pf(c,l))return d===g?this:new $f(null,this.ea,Vf(this.o,2*h+1,d));e.val=!0;e=this.ea;k=this.o;a+=5;a=gg?gg(a,l,g,b,c,d):fg.call(null,a,l,g,b,c,d);c=2*h;h=2*h+1;d=Ia(k);d[c]=null;d[h]=a;return new $f(null,e,d)};
f.Vb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.ea&e))return d;var g=Ld(this.ea&e-1);e=this.o[2*g];g=this.o[2*g+1];return null==e?g.Vb(a+5,b,c,d):Pf(c,e)?new yd(e,g):d};
f.Xb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.ea&d))return this;var e=Ld(this.ea&d-1),g=this.o[2*e],h=this.o[2*e+1];return null==g?(a=h.Xb(a+5,b,c),a===h?this:null!=a?new $f(null,this.ea,Vf(this.o,2*e+1,a)):this.ea===d?null:new $f(null,this.ea^d,Wf(this.o,e))):Pf(c,g)?this.ea===d?null:new $f(null,this.ea^d,Wf(this.o,e)):this};f.ia=function(){return new Zf(this.o)};var cg=new $f(null,0,[]);function hg(a){this.o=a;this.i=0;this.Oa=null}
hg.prototype.ka=function(){for(var a=this.o.length;;){if(null!=this.Oa&&this.Oa.ka())return!0;if(this.i<a){var b=this.o[this.i];this.i+=1;null!=b&&(this.Oa=dc(b))}else return!1}};hg.prototype.next=function(){if(this.ka())return this.Oa.next();throw Error("No such element");};hg.prototype.remove=function(){return Error("Unsupported operation")};function dg(a,b,c){this.da=a;this.D=b;this.o=c;this.I=131072;this.B=0}f=dg.prototype;f.yb=function(a){return a===this.da?this:new dg(a,this.D,Ia(this.o))};
f.Wb=function(){return ig?ig(this.o):jg.call(null,this.o)};f.Yb=function(a,b){for(var c=this.o.length,d=0;;)if(d<c){var e=this.o[d];if(null!=e){b=e.Yb(a,b);if(Hc(b))return b;d+=1}else d+=1}else return b};f.fb=function(a,b,c,d){var e=this.o[b>>>a&31];return null!=e?e.fb(a+5,b,c,d):d};f.La=function(a,b,c,d,e,g){var h=c>>>b&31,k=this.o[h];if(null==k)return a=Xf(this,a,h,cg.La(a,b+5,c,d,e,g)),a.D+=1,a;b=k.La(a,b+5,c,d,e,g);return b===k?this:Xf(this,a,h,b)};
f.Ka=function(a,b,c,d,e){var g=b>>>a&31,h=this.o[g];if(null==h)return new dg(null,this.D+1,Vf(this.o,g,cg.Ka(a+5,b,c,d,e)));a=h.Ka(a+5,b,c,d,e);return a===h?this:new dg(null,this.D,Vf(this.o,g,a))};f.Vb=function(a,b,c,d){var e=this.o[b>>>a&31];return null!=e?e.Vb(a+5,b,c,d):d};
f.Xb=function(a,b,c){var d=b>>>a&31,e=this.o[d];if(null!=e){a=e.Xb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.D)a:{e=this.o;a=e.length;b=Array(2*(this.D-1));c=0;for(var g=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[g]=e[c],g+=2,h|=1<<c,c+=1):c+=1;else{d=new $f(null,h,b);break a}}else d=new dg(null,this.D-1,Vf(this.o,d,a));else d=new dg(null,this.D,Vf(this.o,d,a));return d}return this};f.ia=function(){return new hg(this.o)};
function kg(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Pf(c,a[d]))return d;d+=2}else return-1}function lg(a,b,c,d){this.da=a;this.Xa=b;this.D=c;this.o=d;this.I=131072;this.B=0}f=lg.prototype;f.yb=function(a){if(a===this.da)return this;var b=Array(2*(this.D+1));rd(this.o,0,b,0,2*this.D);return new lg(a,this.Xa,this.D,b)};f.Wb=function(){return ag?ag(this.o):bg.call(null,this.o)};f.Yb=function(a,b){return Yf(this.o,a,b)};
f.fb=function(a,b,c,d){a=kg(this.o,this.D,c);return 0>a?d:Pf(c,this.o[a])?this.o[a+1]:d};
f.La=function(a,b,c,d,e,g){if(c===this.Xa){b=kg(this.o,this.D,d);if(-1===b){if(this.o.length>2*this.D)return b=2*this.D,c=2*this.D+1,a=this.yb(a),a.o[b]=d,a.o[c]=e,g.val=!0,a.D+=1,a;c=this.o.length;b=Array(c+2);rd(this.o,0,b,0,c);b[c]=d;b[c+1]=e;g.val=!0;d=this.D+1;a===this.da?(this.o=b,this.D=d,a=this):a=new lg(this.da,this.Xa,d,b);return a}return this.o[b+1]===e?this:Xf(this,a,b+1,e)}return(new $f(a,1<<(this.Xa>>>b&31),[null,this,null,null])).La(a,b,c,d,e,g)};
f.Ka=function(a,b,c,d,e){return b===this.Xa?(a=kg(this.o,this.D,c),-1===a?(a=2*this.D,b=Array(a+2),rd(this.o,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new lg(null,this.Xa,this.D+1,b)):M.l(this.o[a+1],d)?this:new lg(null,this.Xa,this.D,Vf(this.o,a+1,d))):(new $f(null,1<<(this.Xa>>>a&31),[null,this])).Ka(a,b,c,d,e)};f.Vb=function(a,b,c,d){a=kg(this.o,this.D,c);return 0>a?d:Pf(c,this.o[a])?new yd(this.o[a],this.o[a+1]):d};
f.Xb=function(a,b,c){a=kg(this.o,this.D,c);return-1===a?this:1===this.D?null:new lg(null,this.Xa,this.D-1,Wf(this.o,Kd(a)))};f.ia=function(){return new Zf(this.o)};function fg(a){switch(arguments.length){case 6:return gg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return eg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}}
function gg(a,b,c,d,e,g){var h=pc(b);if(h===d)return new lg(null,h,2,[b,c,e,g]);var k=new Uf;return cg.Ka(a,h,b,c,k).Ka(a,d,e,g,k)}function eg(a,b,c,d,e,g,h){var k=pc(c);if(k===e)return new lg(null,k,2,[c,d,g,h]);var l=new Uf;return cg.La(a,b,k,c,d,l).La(a,b,e,g,h,l)}function mg(a,b,c,d,e){this.meta=a;this.Pa=b;this.i=c;this.s=d;this.C=e;this.B=32374988;this.I=0}f=mg.prototype;f.toString=function(){return fc(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){if(null==this.s){var a=this.Pa,b=this.i+2;return ng?ng(a,b,null):bg.call(null,a,b,null)}a=this.Pa;b=this.i;var c=J(this.s);return ng?ng(a,b,c):bg.call(null,a,b,c)};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){return Uc(this,b)};f.ja=function(){return xc};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return null==this.s?new yd(this.Pa[this.i],this.Pa[this.i+1]):I(this.s)};
f.wa=function(){var a=this,b=null==a.s?function(){var c=a.Pa,d=a.i+2;return ng?ng(c,d,null):bg.call(null,c,d,null)}():function(){var c=a.Pa,d=a.i,e=J(a.s);return ng?ng(c,d,e):bg.call(null,c,d,e)}();return null!=b?b:xc};f.V=function(){return this};f.W=function(a,b){return b===this.meta?this:new mg(b,this.Pa,this.i,this.s,this.C)};f.aa=function(a,b){return Q(b,this)};mg.prototype[Fa]=function(){return zc(this)};
function bg(a){switch(arguments.length){case 1:return ag(arguments[0]);case 3:return ng(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}}function ag(a){return ng(a,0,null)}function ng(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new mg(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.Wb(),w(d)))return new mg(null,a,b+2,d,null);b+=2}else return null;else return new mg(null,a,b,c,null)}
function og(a,b,c,d,e){this.meta=a;this.Pa=b;this.i=c;this.s=d;this.C=e;this.B=32374988;this.I=0}f=og.prototype;f.toString=function(){return fc(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.meta};f.ua=function(){var a=this.Pa,b=this.i,c=J(this.s);return pg?pg(a,b,c):jg.call(null,a,b,c)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Bc(this)};f.R=function(a,b){return Uc(this,b)};
f.ja=function(){return xc};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return I(this.s)};f.wa=function(){var a=this.Pa;var b=this.i,c=J(this.s);a=pg?pg(a,b,c):jg.call(null,a,b,c);return null!=a?a:xc};f.V=function(){return this};f.W=function(a,b){return b===this.meta?this:new og(b,this.Pa,this.i,this.s,this.C)};f.aa=function(a,b){return Q(b,this)};og.prototype[Fa]=function(){return zc(this)};
function jg(a){switch(arguments.length){case 1:return ig(arguments[0]);case 3:return pg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length)].join(""));}}function ig(a){return pg(a,0,null)}function pg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.Wb(),w(d)))return new og(null,a,b+1,d,null);b+=1}else return null;else return new og(null,a,b,c,null)}function qg(a,b){this.ra=a;this.Zc=b;this.Bc=!1}
qg.prototype.ka=function(){return!this.Bc||this.Zc.ka()};qg.prototype.next=function(){if(this.Bc)return this.Zc.next();this.Bc=!0;return new yd(null,this.ra)};qg.prototype.remove=function(){return Error("Unsupported operation")};function rg(a,b,c,d,e,g){this.meta=a;this.D=b;this.root=c;this.qa=d;this.ra=e;this.C=g;this.B=16123663;this.I=139268}f=rg.prototype;f.Pb=t;f.Gb=function(a,b){return null==b?this.qa?new yd(null,this.ra):null:null==this.root?null:this.root.Vb(0,pc(b),b,null)};f.toString=function(){return fc(this)};
f.keys=function(){return zc(Kf.g?Kf.g(this):Kf.call(null,this))};f.entries=function(){return new Ef(G(G(this)))};f.values=function(){return zc(Lf.g?Lf.g(this):Lf.call(null,this))};f.has=function(a){return wd(this,a)};f.get=function(a,b){return this.M(null,a,b)};
f.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var g=c.ga(null,e),h=S(g,0,null);g=S(g,1,null);a.l?a.l(g,h):a.call(null,g,h);e+=1}else if(b=G(b))qd(b)?(c=Yb(b),b=Zb(b),h=c,d=O(c),c=h):(c=I(b),h=S(c,0,null),g=S(c,1,null),a.l?a.l(g,h):a.call(null,g,h),b=J(b),c=null,d=0),e=0;else return null};f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){return null==b?this.qa?this.ra:c:null==this.root?c:this.root.fb(0,pc(b),b,c)};
f.ta=function(a,b,c){a=this.qa?b.m?b.m(c,null,this.ra):b.call(null,c,null,this.ra):c;Hc(a)?b=sb(a):null!=this.root?(b=this.root.Yb(b,a),b=Hc(b)?Ic.g?Ic.g(b):Ic.call(null,b):b):b=a;return b};f.ia=function(){var a=this.root?dc(this.root):ve();return this.qa?new qg(this.ra,a):a};f.U=function(){return this.meta};f.X=function(){return this.D};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Dc(this)};f.R=function(a,b){return Cf(this,b)};f.Fb=function(){return new sg(this.root,this.D,this.qa,this.ra)};
f.ja=function(){return wb(Of,this.meta)};f.za=function(a,b){if(null==b)return this.qa?new rg(this.meta,this.D-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Xb(0,pc(b),b);return a===this.root?this:new rg(this.meta,this.D-1,a,this.qa,this.ra,null)};
f.$=function(a,b,c){if(null==b)return this.qa&&c===this.ra?this:new rg(this.meta,this.qa?this.D:this.D+1,this.root,!0,c,null);a=new Uf;b=(null==this.root?cg:this.root).Ka(0,pc(b),b,c,a);return b===this.root?this:new rg(this.meta,a.val?this.D+1:this.D,b,this.qa,this.ra,null)};f.la=function(a,b){return null==b?this.qa:null==this.root?!1:this.root.fb(0,pc(b),b,sd)!==sd};f.V=function(){if(0<this.D){var a=null!=this.root?this.root.Wb():null;return this.qa?Q(new yd(null,this.ra),a):a}return null};
f.W=function(a,b){return b===this.meta?this:new rg(b,this.D,this.root,this.qa,this.ra,this.C)};f.aa=function(a,b){if(pd(b))return this.$(null,B(b,0),B(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(pd(c))a=fb(a,B(c,0),B(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return this.ba(null,a)};f.l=function(a,b){return this.M(null,a,b)};var Of=new rg(null,0,null,!1,null,Ec);rg.prototype[Fa]=function(){return zc(this)};
function sg(a,b,c,d){this.da={};this.root=a;this.count=b;this.qa=c;this.ra=d;this.B=259;this.I=56}function tg(a,b,c){if(a.da){if(null==b)a.ra!==c&&(a.ra=c),a.qa||(a.count+=1,a.qa=!0);else{var d=new Uf;b=(null==a.root?cg:a.root).La(a.da,0,pc(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}f=sg.prototype;f.X=function(){if(this.da)return this.count;throw Error("count after persistent!");};
f.ba=function(a,b){return null==b?this.qa?this.ra:null:null==this.root?null:this.root.fb(0,pc(b),b)};f.M=function(a,b,c){return null==b?this.qa?this.ra:c:null==this.root?c:this.root.fb(0,pc(b),b,c)};
f.Lb=function(a,b){a:if(this.da)if(pf(b))a=tg(this,qf.g?qf.g(b):qf.call(null,b),rf.g?rf.g(b):rf.call(null,b));else if(pd(b))a=tg(this,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));else for(a=G(b),b=this;;){var c=I(a);if(w(c))a=J(a),b=tg(b,qf.g?qf.g(c):qf.call(null,c),rf.g?rf.g(c):rf.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
f.Sb=function(){if(this.da){this.da=null;var a=new rg(null,this.count,this.root,this.qa,this.ra,null)}else throw Error("persistent! called twice");return a};f.Kb=function(a,b,c){return tg(this,b,c)};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};
f.g=function(a){return this.ba(null,a)};f.l=function(a,b){return this.M(null,a,b)};function ug(a,b){this.Z=a;this.Ta=b;this.B=32374988;this.I=0}f=ug.prototype;f.toString=function(){return fc(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.Ta};f.ua=function(){var a=(null!=this.Z?this.Z.B&128||t===this.Z.Qb||(this.Z.B?0:x($a,this.Z)):x($a,this.Z))?this.Z.ua():J(this.Z);return null==a?null:new ug(a,null)};f.T=function(){return Bc(this)};
f.R=function(a,b){return Uc(this,b)};f.ja=function(){return xc};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return this.Z.va(null).key};f.wa=function(){var a=(null!=this.Z?this.Z.B&128||t===this.Z.Qb||(this.Z.B?0:x($a,this.Z)):x($a,this.Z))?this.Z.ua():J(this.Z);return null!=a?new ug(a,null):xc};f.V=function(){return this};f.W=function(a,b){return b===this.Ta?this:new ug(this.Z,b)};f.aa=function(a,b){return Q(b,this)};ug.prototype[Fa]=function(){return zc(this)};
function Kf(a){return(a=G(a))?new ug(a,null):null}function qf(a){return kb(a)}function vg(a,b){this.Z=a;this.Ta=b;this.B=32374988;this.I=0}f=vg.prototype;f.toString=function(){return fc(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return N(this,b,0)};a.l=function(b,c){return N(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.l=function(c,d){return P(this,c,d)};return b}();f.U=function(){return this.Ta};f.ua=function(){var a=(null!=this.Z?this.Z.B&128||t===this.Z.Qb||(this.Z.B?0:x($a,this.Z)):x($a,this.Z))?this.Z.ua():J(this.Z);return null==a?null:new vg(a,null)};f.T=function(){return Bc(this)};
f.R=function(a,b){return Uc(this,b)};f.ja=function(){return xc};f.oa=function(a,b){return Wc(b,this)};f.pa=function(a,b,c){return Yc(b,c,this)};f.va=function(){return this.Z.va(null).val};f.wa=function(){var a=(null!=this.Z?this.Z.B&128||t===this.Z.Qb||(this.Z.B?0:x($a,this.Z)):x($a,this.Z))?this.Z.ua():J(this.Z);return null!=a?new vg(a,null):xc};f.V=function(){return this};f.W=function(a,b){return b===this.Ta?this:new vg(this.Z,b)};f.aa=function(a,b){return Q(b,this)};vg.prototype[Fa]=function(){return zc(this)};
function Lf(a){return(a=G(a))?new vg(a,null):null}function rf(a){return lb(a)}var wg=function wg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return wg.F(c)};wg.F=function(a){return w(Ae(Id,a))?Gd(function(b,c){return Zc.l(w(b)?b:re,c)},a):null};wg.O=0;wg.K=function(a){return this.F(G(a))};function xg(a){for(var b=re,c=G(yg);;)if(c){var d=I(c),e=D.m(a,d,zg);b=M.l(e,zg)?b:T.m(b,d,e);c=J(c)}else return wb(b,hd(a))}
function Ag(a){this.Nb=a}Ag.prototype.ka=function(){return this.Nb.ka()};Ag.prototype.next=function(){if(this.Nb.ka())return this.Nb.next().key;throw Error("No such element");};Ag.prototype.remove=function(){return Error("Unsupported operation")};function Bg(a,b,c){this.meta=a;this.Za=b;this.C=c;this.B=15077647;this.I=139268}f=Bg.prototype;f.toString=function(){return fc(this)};f.keys=function(){return zc(G(this))};f.entries=function(){return new Ff(G(G(this)))};f.values=function(){return zc(G(this))};
f.has=function(a){return wd(this,a)};f.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var g=c.ga(null,e),h=S(g,0,null);g=S(g,1,null);a.l?a.l(g,h):a.call(null,g,h);e+=1}else if(b=G(b))qd(b)?(c=Yb(b),b=Zb(b),h=c,d=O(c),c=h):(c=I(b),h=S(c,0,null),g=S(c,1,null),a.l?a.l(g,h):a.call(null,g,h),b=J(b),c=null,d=0),e=0;else return null};f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){a=hb(this.Za,b);return w(a)?kb(a):c};f.ia=function(){return new Ag(dc(this.Za))};f.U=function(){return this.meta};
f.X=function(){return Pa(this.Za)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=Dc(this)};f.R=function(a,b){if(a=ld(b))if(a=O(this)===O(b))try{return Hd(function(c,d){return(c=wd(b,d))?c:new Gc},!0,this.Za)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};f.Fb=function(){return new Cg(Rb(this.Za))};f.ja=function(){return wb(Dg,this.meta)};f.Lc=function(a,b){return new Bg(this.meta,jb(this.Za,b),null)};f.V=function(){return Kf(this.Za)};
f.W=function(a,b){return b===this.meta?this:new Bg(b,this.Za,this.C)};f.aa=function(a,b){return new Bg(this.meta,T.m(this.Za,b,null),null)};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return this.ba(null,a)};f.l=function(a,b){return this.M(null,a,b)};
var Dg=new Bg(null,re,Ec);Bg.prototype[Fa]=function(){return zc(this)};function Cg(a){this.Ab=a;this.I=136;this.B=259}f=Cg.prototype;f.Lb=function(a,b){this.Ab=Ub(this.Ab,b,null);return this};f.Sb=function(){return new Bg(null,Tb(this.Ab),null)};f.X=function(){return O(this.Ab)};f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){return bb(this.Ab,b,sd)===sd?c:b};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.l(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(Ia(b)))};f.g=function(a){return bb(this.Ab,a,sd)===sd?null:a};f.l=function(a,b){return bb(this.Ab,a,sd)===sd?b:a};
function Eg(a){if(ld(a))return gd(a,null);a=G(a);if(null==a)return Dg;if(a instanceof H&&0===a.i){a=a.o;for(var b=a.length,c=Rb(Dg),d=0;;)if(d<b)Sb(c,a[d]),d+=1;else break;return Tb(c)}for(c=Rb(Dg);;)if(null!=a)b=J(a),c=Sb(c,Ya(a)),a=b;else return Tb(c)}function Fg(a){for(var b=$c;;)if(J(a))b=Zc.l(b,I(a)),a=J(a);else return G(b)}function Td(a){if(null!=a&&(a.I&4096||t===a.Jc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.g(a)].join(""));}
function Gg(a,b){return new Ud(null,function(){var c=G(b);if(c){var d=I(c);d=a.g?a.g(d):a.call(null,d);c=w(d)?Q(I(c),Gg(a,wc(c))):null}else c=null;return c},null)}function Hg(a,b){return new W(null,2,5,X,[Gg(a,b),Pe(a,b)],null)}function Ig(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&M.l(a[0],b)?1===a.length?a[0]:of(a):null;throw new TypeError("re-matches must match against a string.");}
function Jg(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:of(a);throw new TypeError("re-find must match against a string.");}
function Kg(a,b,c,d,e,g,h){var k=ta;ta=null==ta?null:ta-1;try{if(null!=ta&&0>ta)return Lb(a,"#");Lb(a,c);if(0===za.g(g))G(h)&&Lb(a,function(){var v=Lg.g(g);return w(v)?v:"..."}());else{if(G(h)){var l=I(h);b.m?b.m(l,a,g):b.call(null,l,a,g)}for(var m=J(h),n=za.g(g)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(Lb(a,d),Lb(a,function(){var v=Lg.g(g);return w(v)?v:"..."}()));break}else{Lb(a,d);var p=I(m);c=a;h=g;b.m?b.m(p,c,h):b.call(null,p,c,h);var r=J(m);c=n-1;m=r;n=c}}return Lb(a,e)}finally{ta=k}}
function Mg(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var g=c.ga(null,e);Lb(a,g);e+=1}else if(b=G(b))c=b,qd(c)?(b=Yb(c),d=Zb(c),c=b,g=O(b),b=d,d=g):(g=I(c),Lb(a,g),b=J(c),c=null,d=0),e=0;else return null}var Ng={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Og(a){return['"',z.g(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return Ng[b]})),'"'].join("")}
function Pg(a,b){return(a=td(D.l(a,xa)))?(a=null!=b?b.B&131072||t===b.kd?!0:!1:!1)?null!=hd(b):a:a}
function Qg(a,b,c){if(null==a)return Lb(b,"nil");if(Pg(c,a)){Lb(b,"^");var d=hd(a);Rg.m?Rg.m(d,b,c):Rg.call(null,d,b,c);Lb(b," ")}if(a.Nc)return a.od(b);if(null!=a?a.B&2147483648||t===a.ca||(a.B?0:x(Mb,a)):x(Mb,a))return Nb(a,b,c);if(!0===a||!1===a)return Lb(b,z.g(a));if("number"===typeof a)return Lb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.g(a));if(null!=a&&a.constructor===Object)return Lb(b,"#js "),d=Me.l(function(g){return new yd(null!=Ig(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
g)?Sd.g(g):g,a[g])},fa(a)),Sg.Y?Sg.Y(d,Rg,b,c):Sg.call(null,d,Rg,b,c);if(Aa(a))return Kg(b,Rg,"#js ["," ","]",c,a);if("string"===typeof a)return w(wa.g(c))?Lb(b,Og(a)):Lb(b,a);if("function"===typeof a){var e=a.name;c=w(function(){var g=null==e;return g?g:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Mg(b,Vc(["#object[",c,w(!1)?[' "',z.g(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(g,h){for(g=z.g(g);;)if(g.length<h)g=["0",g].join("");else return g},Mg(b,Vc(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Mg(b,Vc(['#"',a.source,'"']));if("symbol"===q(a)||"undefined"!==typeof Symbol&&a instanceof Symbol)return Mg(b,Vc(["#object[",a.toString(),"]"]));if(w(function(){var g=null==a?null:a.constructor;return null==g?null:g.fc}()))return Mg(b,Vc(["#object[",a.constructor.fc.replace(RegExp("/","g"),
"."),"]"]));e=function(){var g=null==a?null:a.constructor;return null==g?null:g.name}();c=w(function(){var g=null==e;return g?g:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Mg(b,Vc(["#object[",c,"]"])):Mg(b,Vc(["#object[",c," ",z.g(a),"]"]))}function Rg(a,b,c){var d=Tg.g(c);return w(d)?(c=T.m(c,Ug,Qg),d.m?d.m(a,b,c):d.call(null,a,b,c)):Qg(a,b,c)}
function Vg(a){var b=ua();if(jd(a))b="";else{var c=z,d=c.g,e=new sa,g=new ec(e);Rg(I(a),g,b);a=G(J(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ga(null,l);Lb(g," ");Rg(m,g,b);l+=1}else if(a=G(a))h=a,qd(h)?(a=Yb(h),k=Zb(h),h=a,m=O(a),a=k,k=m):(m=I(h),Lb(g," "),Rg(m,g,b),a=J(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function Wg(a){return a instanceof C?tc.l(null,Td(a)):Sd.l(null,Td(a))}
function Xg(a){if(w(!1)){var b=G(a),c=G(b),d=I(c);J(c);S(d,0,null);S(d,1,null);c=null==a?null:null!=a&&(a.B&4||t===a.cd)?a.ja(null):(null!=a?a.B&4||t===a.cd||(a.B?0:x(Ra,a)):x(Ra,a))?Sa(a):null;for(a=null;;){d=a;b=G(b);a=I(b);var e=J(b),g=a;a=S(g,0,null);b=S(g,1,null);if(w(g))if(a instanceof E||a instanceof C)if(w(d))if(M.l(d,Rd(a)))c=T.m(c,Wg(a),b),a=d,b=e;else return null;else if(d=Rd(a),w(d))c=T.m(c,Wg(a),b),a=d,b=e;else return null;else return null;else return new W(null,2,5,X,[d,c],null)}}else return null}
function Yg(a,b,c,d,e){return Kg(d,function(g,h,k){var l=kb(g);c.m?c.m(l,h,k):c.call(null,l,h,k);Lb(h," ");g=lb(g);return c.m?c.m(g,h,k):c.call(null,g,h,k)},[z.g(a),"{"].join(""),", ","}",e,G(b))}function Sg(a,b,c,d){var e=nd(a)?Xg(a):null,g=S(e,0,null);e=S(e,1,null);return w(g)?Yg(["#:",z.g(g)].join(""),e,b,c,d):Yg(null,a,b,c,d)}H.prototype.ca=t;H.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};Ud.prototype.ca=t;Ud.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};
yd.prototype.ca=t;yd.prototype.N=function(a,b,c){return Kg(b,Rg,"["," ","]",c,this)};mg.prototype.ca=t;mg.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};If.prototype.ca=t;If.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};Ac.prototype.ca=t;Ac.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};tf.prototype.ca=t;tf.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};Od.prototype.ca=t;
Od.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};Tc.prototype.ca=t;Tc.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};rg.prototype.ca=t;rg.prototype.N=function(a,b,c){return Sg(this,Rg,b,c)};og.prototype.ca=t;og.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};vf.prototype.ca=t;vf.prototype.N=function(a,b,c){return Kg(b,Rg,"["," ","]",c,this)};Bg.prototype.ca=t;Bg.prototype.N=function(a,b,c){return Kg(b,Rg,"#{"," ","}",c,this)};Zd.prototype.ca=t;
Zd.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};Ge.prototype.ca=t;Ge.prototype.N=function(a,b,c){Lb(b,"#object[cljs.core.Atom ");Rg(new u(null,1,[Zg,this.state],null),b,c);return Lb(b,"]")};vg.prototype.ca=t;vg.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};W.prototype.ca=t;W.prototype.N=function(a,b,c){return Kg(b,Rg,"["," ","]",c,this)};Md.prototype.ca=t;Md.prototype.N=function(a,b){return Lb(b,"()")};u.prototype.ca=t;
u.prototype.N=function(a,b,c){return Sg(this,Rg,b,c)};ug.prototype.ca=t;ug.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};R.prototype.ca=t;R.prototype.N=function(a,b,c){return Kg(b,Rg,"("," ",")",c,this)};C.prototype.Eb=t;C.prototype.cb=function(a,b){if(b instanceof C)return sc(this,b);throw Error(["Cannot compare ",z.g(this)," to ",z.g(b)].join(""));};E.prototype.Eb=t;
E.prototype.cb=function(a,b){if(b instanceof E)return Pd(this,b);throw Error(["Cannot compare ",z.g(this)," to ",z.g(b)].join(""));};vf.prototype.Eb=t;vf.prototype.cb=function(a,b){if(pd(b))return Ad(this,b);throw Error(["Cannot compare ",z.g(this)," to ",z.g(b)].join(""));};W.prototype.Eb=t;W.prototype.cb=function(a,b){if(pd(b))return Ad(this,b);throw Error(["Cannot compare ",z.g(this)," to ",z.g(b)].join(""));};yd.prototype.Eb=t;
yd.prototype.cb=function(a,b){if(pd(b))return Ad(this,b);throw Error(["Cannot compare ",z.g(this)," to ",z.g(b)].join(""));};var $g=null;function ah(a){null==$g&&($g=He.g(0));return tc.g([z.g(a),z.g(Ke.l($g,Fc))].join(""))}function bh(a){this.f=a;this.value=null;this.B=2147516416;this.I=1}bh.prototype.Wa=function(){w(this.f)&&(this.value=this.f.H?this.f.H():this.f.call(null),this.f=null);return this.value};
bh.prototype.N=function(a,b,c){Lb(b,"#object[cljs.core.Delay ");Rg(new u(null,2,[ch,null==this.f?dh:eh,Zg,this.value],null),b,c);return Lb(b,"]")};function fh(){}function gh(a){if(null!=a&&null!=a.ed)a=a.ed(a);else{var b=gh[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=gh._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IEncodeJS.-clj-\x3ejs",a);}return a}
function hh(a,b){return(null!=a?t===a.dd||(a.Tb?0:x(fh,a)):x(fh,a))?gh(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof C?b.g?b.g(a):b.call(null,a):Vg(Vc([a]))}var ih=function ih(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new H(c.slice(1),0,null):null;return ih.F(arguments[0],c)};
ih.F=function(a,b){b=qe(b);var c=D.m(b,jh,Td),d=function h(g){if(null==g)return null;if(null!=g?t===g.dd||(g.Tb?0:x(fh,g)):x(fh,g))return gh(g);if(g instanceof E)return c.g?c.g(g):c.call(null,g);if(g instanceof C)return z.g(g);if(nd(g)){var k={};g=G(g);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ga(null,n),r=S(p,0,null);p=S(p,1,null);r=hh(r,d);p=h(p);k[r]=p;n+=1}else if(g=G(g))qd(g)?(m=Yb(g),g=Zb(g),l=m,m=O(m)):(m=I(g),l=S(m,0,null),m=S(m,1,null),l=hh(l,d),m=h(m),k[l]=m,g=J(g),l=null,m=0),n=0;else break;
return k}if(kd(g)){k=[];g=G(Me.l(h,g));l=null;for(n=m=0;;)if(n<m)r=l.ga(null,n),k.push(r),n+=1;else if(g=G(g))l=g,qd(l)?(g=Yb(l),n=Zb(l),l=g,m=O(g),g=n):(g=I(l),k.push(g),g=J(l),l=null,m=0),n=0;else break;return k}return g};return d(a)};ih.O=1;ih.K=function(a){var b=I(a);a=J(a);return this.F(b,a)};function kh(a,b){return Tb(Ka(function(c,d){var e=a.g?a.g(d):a.call(null,d);d=Zc.l(D.m(c,e,$c),d);return Ub(c,e,d)},Rb(re),b))}function lh(a,b){this.Bb=a;this.C=b;this.B=2153775104;this.I=2048}f=lh.prototype;
f.nd=t;f.toString=function(){return this.Bb};f.R=function(a,b){return(a=null!=b?t===b.nd?!0:!1:!1)?this.Bb===b.Bb:a};f.N=function(a,b){return Lb(b,['#uuid "',z.g(this.Bb),'"'].join(""))};f.T=function(){null==this.C&&(this.C=pc(this.Bb));return this.C};f.cb=function(a,b){if(b instanceof lh)return pa(this.Bb,b.Bb);throw Error(["Cannot compare ",z.g(this)," to ",z.g(b)].join(""));};
function mh(a,b){var c=Error(a);this.message=a;this.data=b;this.cause=null;this.name=c.name;this.description=c.description;this.number=c.number;this.fileName=c.fileName;this.lineNumber=c.lineNumber;this.columnNumber=c.columnNumber;this.stack=c.stack;return this}mh.prototype.__proto__=Error.prototype;mh.prototype.ca=t;
mh.prototype.N=function(a,b,c){Lb(b,"#error {:message ");Rg(this.message,b,c);w(this.data)&&(Lb(b,", :data "),Rg(this.data,b,c));w(this.cause)&&(Lb(b,", :cause "),Rg(this.cause,b,c));return Lb(b,"}")};mh.prototype.toString=function(){return fc(this)};function nh(){w(Ha)||(Ha=function(){for(var a=Cd(function(e,g){return g.length-e.length}),b="";;)if(G(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),z.g(I(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Ha};var oh=new E(null,"constrainRotation","constrainRotation",-1131668600),ph=new C(null,"Keyword","Keyword",-850065993,null),qh=new C(null,"Uuid","Uuid",-1866694318,null),rh=new C(null,"invalid-key","invalid-key",-1461682245,null),sh=new E(null,"projection","projection",-412523042),th=new E(null,"description","description",-1428560544),uh=new C(null,"has-extra-elts?","has-extra-elts?",-1376562869,null),vh=new E(null,"constructor","constructor",-1953928811),ya=new E(null,"dup","dup",556298533),wh=new E(null,
"no-cache","no-cache",1588056370),ch=new E(null,"status","status",-1997798413),xh=new E(null,"style","style",-496642736),yh=new E(null,"key-schema","key-schema",-1096660726),zh=new E("schema.spec.core","in-progress","schema.spec.core/in-progress",-1604867615),Bh=new E(null,"pred-name","pred-name",-3677451),Ch=new E(null,"multiWorld","multiWorld",410793673),Dh=new E(null,"return-walked?","return-walked?",-1684646015),Eh=new E(null,"auto-run","auto-run",1958400437),Fh=new E(null,"getDerivedStateFromProps",
"getDerivedStateFromProps",-991834739),wa=new E(null,"readably","readably",1129599760),Gh=new E(null,"parse-tag","parse-tag",1427313738),Hh=new E(null,"post-name","post-name",491455269),Ih=new E(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),Jh=new C(null,"throws?","throws?",789734533,null),Kh=new E(null,"childContextTypes","childContextTypes",578717991),Lh=new E(null,"h4","h4",2004862993),Mh=new C(null,"instance?","instance?",1075939923,null),Nh=new E(null,"component-will-unmount",
"component-will-unmount",-2058314698),Oh=new E(null,"class","class",-2030961996),Ph=new C(null,"Int","Int",-2116888740,null),eh=new E(null,"pending","pending",-220036727),Qh=new E(null,"url","url",276297046),ai=new E(null,"default","default",-1987822328),Rh=new E(null,"reagentRender","reagentRender",-358306383),Sh=new C(null,"string?","string?",-1129175764,null),Th=new C(null,"sequential?","sequential?",1102351463,null),Uh=new C(null,"required-key","required-key",1624616412,null),Vh=new C(null,"missing-required-key",
"missing-required-key",709961446,null),Wh=new E(null,"resolution","resolution",-756075601),Xh=new C(null,"re-find","re-find",1143444147,null),Yh=new E(null,"zoom","zoom",-1827487038),Zh=new C(null,"set?","set?",1636014792,null),$h=new E(null,"render","render",-1408033454),Y=new E(null,"title","title",636505583),bi=new E(null,"constrainOnlyCenter","constrainOnlyCenter",2136234545),ci=new E("schema.spec.collection","remaining","schema.spec.collection/remaining",-421177821),ki=new E(null,"br","br",934104792),
di=new E(null,"subschema-checker","subschema-checker",1137701360),ei=new E(null,"minZoom","minZoom",1002989305),fi=new E(null,"wrap-error","wrap-error",536732809),gi=new E(null,"val-schema","val-schema",-2014773619),hi=new E(null,"error","error",-978969032),ii=new E(null,"extent","extent",-186399820),ji=new E(null,"err-f","err-f",651620941),xi=new C(null,"Handlers","Handlers",-1963341120,null),li=new C(null,"OLOpts","OLOpts",-1610897481,null),mi=new C(null,"keyword?","keyword?",1917797069,null),ni=
new E("schema.core","missing","schema.core/missing",1420181325),oi=new E("schema.core","error","schema.core/error",1991454308),pi=new E(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),qi=new E(null,"schema","schema",-1582001791),ri=new E(null,"guard","guard",-873147811),si=new E(null,"function-components","function-components",1492814963),ti=new E(null,"post","post",269697687),ui=new E(null,"ns","ns",441598760),vi=new E(null,"p?","p?",-1172161701),wi=new C(null,"present?","present?",-1810613791,
null),Ii=new E(null,"div","div",1057191632),yi=new C(null,"cljs-map-pins.core","cljs-map-pins.core",978101917,null),zi=new E(null,"center","center",-748944368),Ai=new C(null,"constrained","constrained",-2057147788,null),Bi=new C(null,"optional","optional",-600484260,null),Ci=new C(null,"symbol?","symbol?",1820680511,null),Di=new E(null,"value","value",305978217),Ei=new E(null,"withoutAttribution","withoutAttribution",-1134539999),Fi=new E(null,"id","id",-1388402092),Gi=new E(null,"contextType","contextType",
1033066077),dh=new E(null,"ready","ready",1086465795),Hi=new E(null,"maxZoom","maxZoom",566190639),Ji=new E(null,"text","text",-1790561697),Ki=new E(null,"on-set","on-set",-140953470),Li=new E(null,"showFullExtent","showFullExtent",-723085178),xa=new E(null,"meta","meta",1499536964),za=new E(null,"print-length","print-length",1931866356),Mi=new C(null,"satisfies?","satisfies?",-433227199,null),Ni=new C(null,"protocol","protocol",-2001965651,null),Oi=new C(null,"optional-key","optional-key",988406145,
null),Pi=new E(null,"on-write","on-write",31519475),Qi=new E(null,"v","v",21465059),Ri=new C(null,"one","one",-1719427865,null),Si=new E(null,"no-feature","no-feature",486570659),Ti=new E(null,"p","p",151049309),Ui=new E(null,"componentWillUnmount","componentWillUnmount",1573788814),Vi=new E(null,"className","className",-1983287057),Wi=new E(null,"elements","elements",657646735),Xi=new C(null,"Symbol","Symbol",716452869,null),Yi=new E(null,"k","k",-2146297393),Zi=new C(null,"Features","Features",
982331715,null),$i=new E(null,"smoothResolutionConstraint","smoothResolutionConstraint",1122399524),aj=new E(null,"options","options",99638489),bj=new E(null,"_","_",1453416199),cj=new C(null,"\x3d","\x3d",-1501502141,null),dj=new E(null,"getInitialState","getInitialState",1541760916),ej=new E(null,"enableRotation","enableRotation",160862650),fj=new E(null,"img","img",1442687358),Ug=new E(null,"fallback-impl","fallback-impl",-1501286995),Z=new E(null,"name","name",1843675177),gj=new E(null,"cache",
"cache",-1237023054),hj=new C(null,"map?","map?",-1780568534,null),ij=new C(null,"Any","Any",1277492269,null),jj=new E(null,"component-did-update","component-did-update",-1468549173),kj=new E(null,"error-wrap","error-wrap",-1295833514),lj=new C(null,"Inst","Inst",292408622,null),mj=new E(null,"rotation","rotation",-1728051644),jh=new E(null,"keyword-fn","keyword-fn",-64566675),nj=new E(null,"proto-sym","proto-sym",-886371734),oj=new E(null,"reagent-render","reagent-render",-985383853),pj=new C(null,
"disallowed-key","disallowed-key",-1877785633,null),qj=new E(null,"contextTypes","contextTypes",-2023853910),rj=new C(null,"pred","pred",-727012372,null),sj=new C(null,"Str","Str",907970895,null),tj=new E(null,"on-dispose","on-dispose",2105306360),uj=new E("schema.spec.variant","exception","schema.spec.variant/exception",-253680523),vj=new E(null,"displayName","displayName",-809144601),wj=new E(null,"restaurant","restaurant",-1643127983),xj=new E(null,"on-error","on-error",1728533530),yj=new E(null,
"postcondition","postcondition",-737101222),zj=new E(null,"konstructor","konstructor",-1422324557),zg=new E("cljs.core","not-found","cljs.core/not-found",-1572889185),Aj=new C(null,"FeatureHandler","FeatureHandler",-2031970802,null),Zg=new E(null,"val","val",128701612),Bj=new E(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Cj=new C(null,"map-entry","map-entry",329617471,null),Ie=new E(null,"validator","validator",-1966190681),Dj=new E(null,"zoomFactor","zoomFactor",1304474440),
Ej=new E(null,"resolutions","resolutions",-1177660761),Fj=new E(null,"callback","callback",-705136228),Gj=new C(null,"Num","Num",-2044934708,null),va=new E(null,"flush-on-newline","flush-on-newline",-151457939),Hj=new E(null,"controls","controls",1340701452),Ij=new C(null,"integer?","integer?",1303791671,null),Jj=new E(null,"minResolution","minResolution",1876651086),Kj=new E(null,"display-name","display-name",694513143),Lj=new E(null,"maxResolution","maxResolution",213635973),Mj=new E(null,"padding",
"padding",1660304693),Nj=new C(null,"eq","eq",1021992460,null),Oj=new C(null,"named","named",1218138048,null),Pj=new E(null,"pre","pre",2118456869),Qj=new C(null,"not","not",1044554643,null),Rj=new E(null,"parser","parser",-1543495310),Lg=new E(null,"more-marker","more-marker",-14717935),Sj=new E("schema.spec.collection","optional","schema.spec.collection/optional",-854614927),Tj=new C(null,"Bool","Bool",195910502,null),Uj=new E(null,"span","span",1394872991),Vj=new E(null,"constrainResolution","constrainResolution",
-1849426088),Wj=new E(null,"key","key",-1516042587),Xj=new E(null,"type","type",1174270348),Tg=new E(null,"alt-impl","alt-impl",670969595),Yj=new E(null,"smoothExtentConstraint","smoothExtentConstraint",1393553530),Zj=new E(null,"coordinates","coordinates",-1225332668),ak=new E(null,"proto-pred","proto-pred",1885698716);function bk(){return la("iPhone")&&!la("iPod")&&!la("iPad")};la("Opera");la("Trident")||la("MSIE");la("Edge");!la("Gecko")||-1!=ka().toLowerCase().indexOf("webkit")&&!la("Edge")||la("Trident")||la("MSIE")||la("Edge");-1!=ka().toLowerCase().indexOf("webkit")&&!la("Edge")&&la("Mobile");la("Macintosh");la("Windows");la("Linux")||la("CrOS");var ck=aa.navigator||null;ck&&(ck.appVersion||"").indexOf("X11");la("Android");bk();la("iPad");la("iPod");bk()||la("iPad")||la("iPod");ka().toLowerCase().indexOf("kaios");try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};function dk(a){var b=document;return"string"===typeof a?b.getElementById(a):a}function ek(a,b){ea(b,function(c,d){c&&"object"==typeof c&&c.Vd&&(c=c.Ud());"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==d?a.htmlFor=c:fk.hasOwnProperty(d)?a.setAttribute(fk[d],c):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,c):a[d]=c})}
var fk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};var gk={},hk={},ik=[];function jk(a,b){var c=hk[a];if(void 0!==c)return c;try{ik.push(a);var d=gk[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};gk[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,jk,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var g=b.globals;if(g)for(a=0;a<g.length;a++)window[g[a]]=d.exports}}}finally{ik.pop()}return d.exports}jk.cache={};jk.resolve=function(a){return a};
jk.exportCopy=function(a,b){let c={};a=a.exports;for(let d in b)"default"==d||d in a||d in c||(c[d]={enumerable:!0,get:function(){return b[d]}});Object.defineProperties(a,c)};jk.esmDefault=function(a){return a&&a.__esModule?a:{"default":a}};var kk=jk(2,{});function lk(a,b,c){var d=w(b.ignoreCase)?"gi":"g";d=w(b.multiline)?[d,"m"].join(""):d;return a.replace(new RegExp(b.source,w(b.unicode)?[d,"u"].join(""):d),c)}
function mk(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var g=Array(arguments.length-0);e<g.length;)g[e]=arguments[e+0],++e;e=new H(g,0,null)}return c.call(this,e)}function c(d){d=Oe(d);if(M.l(O(d),1))return d=I(d),a.g?a.g(d):a.call(null,d);d=of(d);return a.g?a.g(d):a.call(null,d)}b.O=0;b.K=function(d){d=G(d);return c(d)};b.F=c;return b}()}
function nk(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?lk(a,b,c):lk(a,b,mk(c));throw["Invalid match arg: ",z.g(b)].join("");}function ok(a){var b=new sa;for(a=G(a);;)if(null!=a)b.append(z.g(I(a))),a=J(a),null!=a&&b.append(" ");else return b.toString()}
function pk(a){var b=/-/;a="/(?:)/"===z.g(b)?Zc.l(of(Q("",Me.l(z,G(a)))),""):of(z.g(a).split(b));if(1<O(a))a:for(;;)if(""===(null==a?null:ob(a)))a=null==a?null:pb(a);else break a;return a};He.g(null);var qk="undefined"!==typeof window&&null!=window.document,rk=new Bg(null,new u(null,2,["aria",null,"data",null],null),null);function sk(a){return 2>O(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function tk(a){if("string"===typeof a)return a;a=Td(a);var b=pk(a),c=G(b);b=I(c);c=J(c);return w(rk.g?rk.g(b):rk.call(null,b))?a:me(z,b,Me.l(sk,c))}
function uk(a){var b=function(){var c=function(){var d=dd(a);if(d){d=a.displayName;if(w(d))return d;d=a.name;return"string"===typeof d&&G(d)?d:null}return d}();if(w(c))return c;c=function(){var d=null!=a?a.I&4096||t===a.Jc?!0:!1:!1;return d?Td(a):d}();if(w(c))return c;c=hd(a);return nd(c)?Z.g(c):null}();return w(b)?nk(z.g(b),"$","."):null}function vk(a){return a instanceof E||a instanceof C}
var wk=function wk(a){switch(arguments.length){case 0:return wk.H();case 1:return wk.g(arguments[0]);case 2:return wk.l(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return wk.F(arguments[0],arguments[1],c)}};wk.H=function(){return null};wk.g=function(a){return kd(a)?(a=Fe(function(b){return w(b)?vk(b)?Td(b):b:null},a),G(a)?ok(a):null):vk(a)?Td(a):a};
wk.l=function(a,b){return w(a)?w(b)?[z.g(wk.g(a))," ",z.g(wk.g(b))].join(""):wk.g(a):wk.g(b)};wk.F=function(a,b,c){return Ka(wk,wk.l(a,b),c)};wk.K=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};wk.O=2;var xk=!1;function yk(a){if(nd(a))try{var b=D.l(a,Wj)}catch(c){b=null}else b=null;return b}
function zk(a){var b=Wj.g(hd(a));if(w(b))return b;b=yk(S(a,1,null));if(w(b))return b;b=S(a,0,null);switch(b instanceof E?b.S:null){case "\x3e":case "f\x3e":return yk(S(a,2,null));case "r\x3e":return a=S(a,2,null),null==a?null:a.key;default:return null}};var Ak=0;function Bk(a){return setTimeout(a,16)}var Ck=qk?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(w(b))return b;b=a.webkitRequestAnimationFrame;if(w(b))return b;b=a.mozRequestAnimationFrame;if(w(b))return b;b=a.msRequestAnimationFrame;return w(b)?b:Bk}().bind(a)}():Bk;function Ek(a,b){return a.yc-b.yc}function Fk(){return null}function Gk(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.H?d.H():d.call(null);c+=1}else return null}
function Hk(a,b,c){b.push(c);return a.schedule()}function Ik(){this.kc=!1}f=Ik.prototype;f.flush_after_render=function(){var a=this.$b;if(null==a)return null;this.$b=null;return Gk(a)};f.queue_render=function(a){null==this.ic&&(this.ic=[]);return Hk(this,this.ic,a)};f.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.kc)return null;this.kc=!0;return Ck.g?Ck.g(a):Ck.call(null,a)};f.flush_before_flush=function(){var a=this.ac;if(null==a)return null;this.ac=null;return Gk(a)};
f.flush_queues=function(){this.flush_before_flush();Fk();this.flush_render();return this.flush_after_render()};f.run_queues=function(){this.kc=!1;return this.flush_queues()};f.add_before_flush=function(a){null==this.ac&&(this.ac=[]);return Hk(this,this.ac,a)};f.add_after_render=function(a){null==this.$b&&(this.$b=[]);return Hk(this,this.$b,a)};
f.flush_render=function(){var a=this.ic;if(null==a)return null;this.ic=null;a:{a.sort(Ek);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Jk=new Ik;function Kk(a){if(w(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Jk.queue_render(a)};function Lk(a){if(null!=a&&null!=a.Cd)a=a.id;else{var b=Lk[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Lk._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("Compiler.get-id",a);}return a}function Mk(a,b,c){if(null!=a&&null!=a.Xc)a=a.Xc(a,b,c);else{var d=Mk[q(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=Mk._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw y("Compiler.parse-tag",a);}return a}
function Nk(a,b){if(null!=a&&null!=a.Vc)a=a.Vc(a,b);else{var c=Nk[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=Nk._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("Compiler.as-element",a);}return a}
function Ok(a,b,c,d,e){if(null!=a&&null!=a.Wc)a=a.Wc(a,b,c,d,e);else{var g=Ok[q(null==a?null:a)];if(null!=g)a=g.fa?g.fa(a,b,c,d,e):g.call(null,a,b,c,d,e);else if(g=Ok._,null!=g)a=g.fa?g.fa(a,b,c,d,e):g.call(null,a,b,c,d,e);else throw y("Compiler.make-element",a);}return a};var Pk=function Pk(a){switch(arguments.length){case 1:return Pk.g(arguments[0]);case 2:return Pk.l(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Pk.F(arguments[0],arguments[1],c)}};Pk.g=function(a){return a};Pk.l=function(a,b){return O(a)<O(b)?Ka(function(c,d){return wd(b,d)?id.l(c,d):c},a,a):Ka(id,a,b)};Pk.F=function(a,b,c){return Ka(Pk,a,Zc.l(c,b))};
Pk.K=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Pk.O=2;var Qk;He.g(0);function Rk(a,b){b.oc=null;a:{var c=Qk;Qk=b;try{var d=a.H?a.H():a.call(null);break a}finally{Qk=c}d=void 0}a=b.oc;b.eb=!1;a:{c=b.Cb;var e=null==a?0:a.length,g=e===(null==c?0:c.length);if(g)for(g=0;;){var h=g===e;if(h){c=h;break a}if(a[g]===c[g])g+=1;else{c=!1;break a}}else c=g}c||b._update_watching(a);return d}function Sk(a){var b=Qk;if(null!=b){var c=b.oc;null==c?b.oc=[a]:c.push(a)}}function Tk(a,b,c){a.sa=T.m(a.sa,b,c);return a.Dc=null}
function Uk(a,b){a.sa=cd.l(a.sa,b);return a.Dc=null}function Vk(a,b,c){var d=a.Dc;d=null==d?a.Dc=Hd(function(l,m,n){l.push(m);l.push(n);return l},[],a.sa):d;for(var e=d.length,g=0;;)if(g<e){var h=d[g],k=d[g+1];k.Y?k.Y(h,a,b,c):k.call(null,h,a,b,c);g=2+g}else break}function Wk(a,b,c,d){Lb(a,["#object[reagent.ratom.",z.g(c)," "].join(""));a:{c=Qk;Qk=null;try{var e=d;break a}finally{Qk=c}e=void 0}Rg(e,a,b);return Lb(a,"]")}var Xk=null;
function Yk(a,b,c,d){this.state=a;this.meta=b;this.Cc=c;this.sa=d;this.B=2154201088;this.I=114690}f=Yk.prototype;f.N=function(a,b,c){return Wk(b,c,"RAtom",new u(null,1,[Zg,this.Wa(null)],null))};f.U=function(){return this.meta};f.T=function(){return ba(this)};f.R=function(a,b){return this===b};f.Ja=function(a,b){a=this.state;this.state=b;null!=this.sa&&Vk(this,a,b);return b};f.sc=function(a,b){return this.Ja(null,b.g?b.g(this.state):b.call(null,this.state))};
f.tc=function(a,b,c){return this.Ja(null,b.l?b.l(this.state,c):b.call(null,this.state,c))};f.uc=function(a,b,c,d){return this.Ja(null,b.m?b.m(this.state,c,d):b.call(null,this.state,c,d))};f.vc=function(a,b,c,d,e){return this.Ja(null,oe(b,this.state,c,d,e))};f.wc=function(a,b){Vk(this,a,b)};f.dc=function(a,b,c){return Tk(this,b,c)};f.ec=function(a,b){return Uk(this,b)};f.W=function(a,b){return new Yk(this.state,b,this.Cc,this.sa)};f.Wa=function(){Sk(this);return this.state};
var Zk=function Zk(a){switch(arguments.length){case 1:return Zk.g(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(1),0,null);return Zk.F(arguments[0],c)}};Zk.g=function(a){return new Yk(a,null,null,null)};Zk.F=function(a,b){var c=qe(b);b=D.l(c,xa);c=D.l(c,Ie);return new Yk(a,b,c,null)};Zk.K=function(a){var b=I(a);a=J(a);return this.F(b,a)};Zk.O=1;
function $k(a){if(null!=a&&null!=a.Ac)a=a.Ac(a);else{var b=$k[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$k._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("IDisposable.dispose!",a);}return a}function Pb(a,b,c,d){return a._handle_change(b,c,d)}function al(a){this.f=a;this.state=null;this.eb=!0;this.Tc=!1;this.pc=this.Ua=this.sa=this.Cb=null;this.B=2153807872;this.I=114690}f=al.prototype;f._peek_at=function(){var a=Qk;Qk=null;try{return this.Wa(null)}finally{Qk=a}};
f._handle_change=function(a,b,c){return b===c||this.eb?null:null==this.Ua?(this.eb=!0,null==Xk&&(Xk=[],!1===Jk.kc&&Jk.schedule()),Xk.push(this)):!0===this.Ua?this._run(!1):this.Ua.g?this.Ua.g(this):this.Ua.call(null,this)};
f._update_watching=function(a){var b=Eg(a),c=Eg(this.Cb);this.Cb=a;a=G(Pk.l(b,c));for(var d=null,e=0,g=0;;)if(g<e){var h=d.ga(null,g);Ob(h,this);g+=1}else if(a=G(a))d=a,qd(d)?(a=Yb(d),g=Zb(d),d=a,e=O(a),a=g):(a=I(d),Ob(a,this),a=J(d),d=null,e=0),g=0;else break;b=G(Pk.l(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ga(null,e),Qb(a,this),e+=1;else if(b=G(b))c=b,qd(c)?(b=Yb(c),d=Zb(c),c=b,a=O(b),b=d,d=a):(a=I(c),Qb(a,this),b=J(c),c=null,d=0),e=0;else return null};
f._queued_run=function(){return this.eb&&null!=this.Cb?this._run(!0):null};f._try_capture=function(a){try{return this.pc=null,Rk(a,this)}catch(b){return this.pc=this.state=a=b,this.eb=!1}};f._run=function(a){var b=this.state;a=w(a)?this._try_capture(this.f):Rk(this.f,this);this.Tc||(this.state=a,null==this.sa||M.l(b,a)||Vk(this,b,a));return a};
f._set_opts=function(a){var b=qe(a);a=D.l(b,Eh);var c=D.l(b,Ki),d=D.l(b,tj);b=D.l(b,wh);null!=a&&(this.Ua=a);null!=c&&(this.zd=c);null!=d&&(this.Uc=d);return null!=b?this.Tc=b:null};f.N=function(a,b,c){return Wk(b,c,"Reaction",new u(null,1,[Zg,this.Wa(null)],null))};f.T=function(){return ba(this)};f.R=function(a,b){return this===b};
f.Ac=function(){var a=this.state,b=this.Cb;this.Ua=this.state=this.Cb=null;this.eb=!0;b=G(Eg(b));for(var c=null,d=0,e=0;;)if(e<d){var g=c.ga(null,e);Qb(g,this);e+=1}else if(b=G(b))c=b,qd(c)?(b=Yb(c),e=Zb(c),c=b,d=O(b),b=e):(b=I(c),Qb(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.Uc&&this.Uc(a);a=this.Wd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.g?d.g(this):d.call(null,this),c+=1;else return null};f.Ja=function(a,b){a=this.state;this.state=b;this.zd(a,b);Vk(this,a,b);return b};
f.sc=function(a,b){a=this.Ja;var c=this._peek_at();b=b.g?b.g(c):b.call(null,c);return a.call(this,null,b)};f.tc=function(a,b,c){a=this.Ja;var d=this._peek_at();b=b.l?b.l(d,c):b.call(null,d,c);return a.call(this,null,b)};f.uc=function(a,b,c,d){a=this.Ja;var e=this._peek_at();b=b.m?b.m(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};f.vc=function(a,b,c,d,e){return this.Ja(null,oe(b,this._peek_at(),c,d,e))};f.wc=function(a,b){Vk(this,a,b)};f.dc=function(a,b,c){return Tk(this,b,c)};
f.ec=function(a,b){a=jd(this.sa);Uk(this,b);return!a&&jd(this.sa)&&null==this.Ua?this.Ac(null):null};f.Wa=function(){var a=this.pc;if(null!=a)throw a;(a=null==Qk)&&(bl.H?bl.H():bl.call(null));a&&null==this.Ua?this.eb&&(a=this.state,this.state=this.f.H?this.f.H():this.f.call(null),null==this.sa||M.l(a,this.state)||Vk(this,a,this.state)):(Sk(this),this.eb&&this._run(!1));return this.state};
function bl(){for(;;){var a=Xk;if(null==a)return null;Xk=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Fk=bl;function cl(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new H(b.slice(1),0,null):null;b=arguments[0];var e=qe(c);c=D.l(e,Eh);d=D.l(e,Ki);e=D.l(e,tj);b=new al(b);b._set_opts(new u(null,3,[Eh,c,Ki,d,tj,e],null));return b}var dl=cl(null);
function el(a,b){var c=fl,d=dl,e=Rk(a,d);null!=d.Cb&&(dl=cl(null),d._set_opts(c),d.f=a,d.Ua=function(){return Kk.g?Kk.g(b):Kk.call(null,b)},b.cljsRatom=d);return e};var gl;function hl(a,b){var c=b.argv;if(null==c){c=X;a=a.constructor;a:for(var d=fa(b),e=d.length,g=re,h=0;;)if(h<e){var k=d[h];g=T.m(g,Sd.g(k),ha(b,k));h+=1}else break a;b=new W(null,2,5,c,[a,g],null)}else b=c;return b}function il(a){var b;if(b=dd(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.gb);return b}
function jl(a,b){for(;;){var c=a.gb,d=!0===a.pd?c.call(a,a):function(){var e=hl(a,a.props);switch(O(e)){case 1:return c.call(a);case 2:return c.call(a,Qc(e,1));case 3:return c.call(a,Qc(e,1),Qc(e,2));case 4:return c.call(a,Qc(e,1),Qc(e,2),Qc(e,3));case 5:return c.call(a,Qc(e,1),Qc(e,2),Qc(e,3),Qc(e,4));default:return c.apply(a,Ja(e).slice(1))}}();if(pd(d))return Nk(b,d);if(ud(d))a.gb=il(d)?function(e,g,h,k,l){return function(){function m(p){var r=null;if(0<arguments.length){r=0;for(var v=Array(arguments.length-
0);r<v.length;)v[r]=arguments[r+0],++r;r=new H(v,0,null)}return n.call(this,r)}function n(p){return Nk(g,me(sf,l,p))}m.O=0;m.K=function(p){p=G(p);return n(p)};m.F=n;return m}()}(a,b,c,null,d):d;else return d}}var fl=new u(null,1,[wh,!0],null);
function kl(a,b){switch(a instanceof E?a.S:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,g=c.argv;null!=g&&(c=S(g,1,null),c=nd(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.rd;d=null!=d?d:c.rd=Zk.g(null);return Je(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,hl(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,hl(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,hl(this,c))};case "shouldComponentUpdate":return function(c){var d=xk;if(w(d))return d;d=this.props.argv;var e=c.argv,g=null==d||null==e;if(null==b){if(g)return g;try{return!M.l(d,e)}catch(h){return!1}}else return g?b.call(this,this,hl(this,this.props),hl(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,hl(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,hl(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,hl(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ha(this,"cljsRatom");null!=c&&$k(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var ll=new u(null,2,[Ih,null,Ui,null],null),ml=function(a){var b=He.g(re);return function(c){var d=D.l(sb(b),c);if(null!=d)return d;d=a.g?a.g(c):a.call(null,c);Ke.Y(b,T,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Td(a);a=nk(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=pk(a);var b=G(a);a=I(b);b=J(b);return me(z,a,Me.l(sk,b))});function nl(a){return Hd(function(b,c,d){return T.m(b,Sd.g(ml(c)),d)},re,a)}
function ol(a,b){var c=function(){var h=Rh.g(a);return w(h)?h:$h.g(a)}(),d=null==Rh.g(a),e=function(){var h=vj.g(a);if(w(h))return h;h=uk(c);return w(h)?h:z.g(ah("reagent"))}(),g=Hd(function(h,k,l){var m=T.m,n=kl(k,l);return m.call(T,h,k,w(n)?n:l)},re,a);return T.F(g,vj,e,Vc([pi,d,Rh,c,$h,function(){var h=this,k=ha(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?el(function(){a:{var l=gl;gl=h;try{var m=jl(h,b);break a}finally{gl=l}m=void 0}return m},h):k._run(!1)}]))}
function pl(a){return Hd(function(b,c,d){c=Td(c);b[c]=d;return b},{},a)}function ql(a,b){return ol(wg.F(Vc([ll,nl(a)])),b)}var yg=new W(null,5,5,X,[Kh,qj,Gi,Fh,Bj],null);
function rl(a,b){function c(k,l,m){kk.Component.call(this,k,l,m);w(h)&&(h.l?h.l(this,k):h.call(null,this,k));w(g)&&(this.state=g.g?g.g(this):g.call(null,this));this.yc=Ak+=1;return this}a=ql(a,b);b=pl(pe(cd,a,vj,dj,vh,Vc([$h,Rh,yg])));var d=pl(xg(a)),e=vj.g(a),g=dj.g(a),h=vh.g(a);ja(c.prototype,kk.Component.prototype,b);w($h.g(a))&&(c.prototype.render=$h.g(a));w(Rh.g(a))&&(c.prototype.gb=Rh.g(a));w(pi.g(a))&&(c.prototype.pd=pi.g(a));ja(c,kk.Component,d);w(e)&&(c.displayName=e,c.fc=e,c.od=function(k){return Lb(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Nc=!0;return c.prototype.constructor=c}function sl(a,b,c){a=Lk(a);return b[a]=c}
function tl(a,b){for(;;){var c=b.gb,d=b.argv,e=le(c,d);if(pd(e))return Nk(a,e);if(ud(e))b.gb=il(e)?function(g,h,k,l,m,n){return function(){function p(v){var A=null;if(0<arguments.length){A=0;for(var F=Array(arguments.length-0);A<F.length;)F[A]=arguments[A+0],++A;A=new H(F,0,null)}return r.call(this,A)}function r(v){return Nk(g,me(sf,n,v))}p.O=0;p.K=function(v){v=G(v);return r(v)};p.F=r;return p}()}(a,b,c,null,d,e):e;else return e}}
function ul(a,b){var c=b.argv,d=b.gb;b=kk.useState(0);S(b,0,null);var e=S(b,1,null),g=kk.useRef();w(g.current)||function(){var k={forceUpdate:function(){return e.g?e.g(Fc):e.call(null,Fc)}};k.yc=Ak+=1;k.constructor=d;k.gb=d;return g.current=k}();var h=g.current;b=ha(h,"cljsRatom");kk.useEffect(function(){return function(){var k=ha(h,"cljsRatom");return null==k?null:$k(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?el(function(){a:{var k=gl;gl=h;try{var l=tl(a,h);break a}finally{gl=k}l=void 0}return l},
h):b._run(!1)}function vl(a,b){a=a.argv;b=b.argv;var c=!1===xk;if(c)try{return M.l(a,b)}catch(d){return!1}else return c}function wl(a,b){function c(e){return ul(a,e)}var d=ha(b,Lk(a));if(w(d))return d;d=uk(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=kk.memo(c,vl);sl(a,b,d);return d};var xl=new Bg(null,new u(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function yl(a,b,c,d){var e=qe(re);e=D.l(e,Pi);if(a===document.activeElement&&wd(xl,a.type)&&"string"===typeof b&&"string"===typeof c){var g=a.value;if(!M.l(g,c))return Jk.add_after_render(function(){return zl.g?zl.g(d):zl.call(null,d)});c=O(g)-a.selectionStart;c=O(b)-c;d.hc=b;a.value=b;dd(e)&&(e.g?e.g(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.hc=b;a.value=b;return dd(e)?e.g?e.g(b):e.call(null,b):null}
function zl(a){if(w(a.xc)){a.Oc=!1;var b=a.qd,c=a.hc,d=a.zc;return M.l(b,c)?null:yl(d,b,c,a)}return null}function Al(a,b,c){a.hc=c.target.value;w(a.Oc)||(a.Oc=!0,Jk.add_after_render(function(){return zl(a)}));return b.g?b.g(c):b.call(null,c)}
function Bl(a){var b=gl;if(w(function(){var g=null!=a;return g?(g=a.hasOwnProperty("onChange"),w(g)?a.hasOwnProperty("value"):g):g}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;w(b.xc)||(b.xc=!0,b.hc=c);w(b.Yc)||(b.Yc=dd(e)?function(g){b.zc=g;return e.g?e.g(g):e.call(null,g)}:w(w(e)?e.hasOwnProperty("current"):e)?function(g){b.zc=g;return e.current=g}:function(g){return b.zc=g});b.qd=c;delete a.value;a.defaultValue=c;a.onChange=function(g){return Al(b,d,g)};a.ref=b.Yc}}
var Cl=new u(null,4,[Kj,"ReagentInput",jj,zl,Nh,function(a){return a.xc=null},oj,function(a,b,c,d,e){Bl(c);return Ok(e,a,b,c,d)}],null);var Dl=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,El={"class":"className","for":"htmlFor",charset:"charSet"};function Fl(a,b){return a.hasOwnProperty(b)?ha(a,b):null}function Gl(a,b,c){if(vk(b)){var d=Fl(El,Td(b));null==d?(d=tk(b),b=Td(b),b=El[b]=d):b=d}c=Hl.g?Hl.g(c):Hl.call(null,c);a[b]=c;return a}
function Hl(a){return"object"!==q(a)?a:vk(a)?Td(a):nd(a)?Hd(Gl,{},a):kd(a)?ih(a):ud(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var g=Array(arguments.length-0);e<g.length;)g[e]=arguments[e+0],++e;e=new H(g,0,null)}return c.call(this,e)}function c(d){return le(a,d)}b.O=0;b.K=function(d){d=G(d);return c(d)};b.F=c;return b}():ih(a)}var Il={};function Jl(a,b,c){if(vk(b)){var d=Fl(Il,Td(b));null==d?(d=tk(b),b=Td(b),b=Il[b]=d):b=d}c=Hl(c);a[b]=c;return a}
function Kl(a){return"object"!==q(a)?a:vk(a)?Td(a):nd(a)?Hd(Jl,{},a):kd(a)?ih(a):ud(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var g=Array(arguments.length-0);e<g.length;)g[e]=arguments[e+0],++e;e=new H(g,0,null)}return c.call(this,e)}function c(d){return le(a,d)}b.O=0;b.K=function(d){d=G(d);return c(d)};b.F=c;return b}():ih(a)}
function Ll(a,b,c,d,e){switch(O(b)-e){case 0:return kk.createElement(c,d);case 1:return kk.createElement(c,d,Nk(a,S(b,e,null)));default:return kk.createElement.apply(null,Hd(function(g,h,k){h>=e&&g.push(Nk(a,k));return g},[c,d],b))}}function Ml(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.sd=d}function Nl(a,b,c){var d=ha(a,Lk(c));null==d?il(a)?a=sl(c,a,a):(d=hd(a),d=T.m(d,oj,a),d=rl(d,c),a=sl(c,a,d)):a=d;c={};c.argv=b;b=zk(b);null!=b&&(c.key=b);return kk.createElement(a,c)}
function Ol(a,b,c,d){var e={};e.gb=a;var g=O(b);c=wf(null,b,c|0,g|0,null);e.argv=c;b=zk(b);null!=b&&(e.key=b);return kk.createElement(wl(d,a),e)}function Pl(a,b,c){var d;if(d=dd(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?Nl(a,b,c):Ol(a,b,1,c)}var Ql={};
function Rl(a,b,c,d){var e=a.tag,g=S(b,c,null),h=null==g||nd(g),k=function(){var n=h?g:null;var p=Oh.g(n);p=w(p)?T.m(n,Oh,wk.g(p)):n;var r=a.id;n=a.className;r=null!=r&&null==Fi.g(p)?T.m(p,Fi,r):p;if(w(n)){var v=T.m,A=wk.l,F=Oh.g(p);p=w(F)?F:Vi.g(p);n=v.call(T,r,Oh,A.call(wk,n,p))}else n=r;n=w(a.sd)?Kl(n):Hl(n);return w(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=yk(g);var m=function(){var n=d.Dd;if(w(n))return n;n=rl(Cl,d);return d.Dd=n}();return Nk(d,
gd(new W(null,6,5,X,[m,b,e,k,c,d],null),wg.F(Vc([w(l)?new u(null,1,[Wj,l],null):null,hd(b)]))))}l=yk(hd(b));null!=l&&(k.key=l);return Ok(d,b,e,k,c)}function Sl(a,b){return Ja(Me.l(function(c){return Nk(b,c)},a))}
function Tl(a,b,c){null==b&&console.error("vec-to-elem",Vg(Vc([a])));var d=S(a,0,null);switch(d instanceof E?d.S:null){case "\x3e":return c=S(a,1,null),Rl(new Ml(c,null,null,null),a,2,b);case "r\x3e":c=S(a,1,null);d=S(a,2,null);d=w(d)?d:{};var e=yk(hd(a));null!=e&&(d.key=e);return Ok(b,a,c,d,3);case "f\x3e":return Ol(S(a,1,null),a,2,b);case "\x3c\x3e":return d=S(a,1,null),c=null==d||nd(d),d=Hl(c?d:null),d=w(d)?d:{},c=1+(c?1:0),e=zk(a),null!=e&&(d.key=e),Ok(b,a,kk.Fragment,d,c);default:if(vk(d)||"string"===
typeof d)a:for(;;)switch(c=S(a,0,null),d=Td(c),e=d.indexOf("\x3e"),e){case -1:b=Rl(Mk(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=gd(new W(null,2,5,X,[d.substring(0,e),T.m(gd(a,null),0,d.substring(e+1))],null),hd(a))}else b=c.m?c.m(d,a,b):c.call(null,d,a,b);return b}}function Ul(a,b,c,d,e){this.Bd=a;this.id=b;this.Sc=c;this.jc=d;this.yd=e;this.B=393216;this.I=0}f=Ul.prototype;f.W=function(a,b){return new Ul(this.Bd,this.id,this.Sc,this.jc,b)};f.U=function(){return this.yd};f.Cd=function(){return this.id};
f.Xc=function(a,b,c){return this.jc.m?this.jc.m(this,b,c):this.jc.call(null,this,b,c)};f.Vc=function(a,b){return"object"!==q(b)?b:pd(b)?Tl(b,this,this.Sc):(null==b?0:null!=b?b.B&64||t===b.Hb||(b.B?0:x(Xa,b)):x(Xa,b))?Sl(b,this):vk(b)?Td(b):(null!=b?b.B&2147483648||t===b.ca||(b.B?0:x(Mb,b)):x(Mb,b))?Vg(Vc([b])):b};f.Wc=function(a,b,c,d,e){return Ll(this,b,c,d,e)};
var Vl,Wl=re,Xl=ah("reagent-compiler"),Yl=w(si.g(Wl))?Pl:Nl,Zl=D.m(Wl,Gh,function(a,b){a=Fl(Ql,b);if(null==a){var c=J(Ig(Dl,Td(b)));a=S(c,0,null);var d=S(c,1,null);c=S(c,2,null);c=null==c?null:nk(c,/\./," ");var e=a.indexOf("-");e=!M.l(-1,e);a=new Ml(a,d,c,e);return Ql[b]=a}return a});Vl=new Ul(Wl,Xl,Yl,Zl,re);var $l=jk(8,{});var am=He.g(re);function bm(a,b,c){var d=xk;xk=!0;try{$l.render(a.H?a.H():a.call(null),b,function(){var e=xk;xk=!1;try{return Ke.Y(am,T,b,a),Jk.flush_after_render(),null!=c?c.H?c.H():c.call(null):null}finally{xk=e}})}finally{xk=d}}function cm(){var a=dm,b=new W(null,1,5,X,[em],null);bl();var c=dd(Vl)?new W(null,2,5,X,[Vl,Vl],null):new W(null,2,5,X,[Vl,Fj.g(Vl)],null),d=S(c,0,null);c=S(c,1,null);bm(function(){return Nk(d,dd(b)?b.H?b.H():b.call(null):b)},a,c)};function fm(a,b){const c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,g,h,k,l,m,n,p){if("%"==m)return"%";const r=c.shift();if("undefined"==typeof r)throw Error("[goog.string.format] Not enough arguments");arguments[0]=r;return fm.Ya[m].apply(null,arguments)})}fm.Ya={};
fm.Ya.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+ra(" ",Number(c)-a.length):ra(" ",Number(c)-a.length)+a};
fm.Ya.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));let g;g=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=g+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-g.length;0<=b.indexOf("-",0)?d=g+d+ra(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=g+ra(b,a)+d);return d};fm.Ya.d=function(a,b,c,d,e,g,h,k){return fm.Ya.f(parseInt(a,10),b,c,d,0,g,h,k)};
fm.Ya.i=fm.Ya.d;fm.Ya.u=fm.Ya.d;function gm(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new H(b.slice(1),0,null):null;return hm(arguments[0],b)}function hm(a,b){return me(fm,a,b)}var im=He.g(19);function jm(a){var b=typeof a;return z.g(a).length<=sb(im)?a:tc.g(["a-",z.g(b)].join(""))}
function km(a){a=Ig(/#object\[(.*)\]/,Vg(Vc([a])));S(a,0,null);a=S(a,1,null);if(M.l("Function",a))a="function";else{var b=z.g(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(nh(),"g");var d=b.length-1;d=0<=d&&b.indexOf("$",d)==d;b=w(d)?b.substring(0,b.length-1):b;d="";for(var e=0;;){var g=c.exec(b);if(w(g))g=S(g,0,null),d=[d,z.g(b.substring(e,c.lastIndex-g.length)),z.g("$"===g?"/":ha(Ga,g))].join(""),e=c.lastIndex;else{c=[d,z.g(b.substring(e,b.length))].join("");break a}}}a=a instanceof C?
tc:z;a=a.g?a.g(c):a.call(null,c);a=Jg(/[^\/]+(?:$|(?=\/+$))/,a)}return a}function lm(a,b,c,d){this.ha=a;this.value=b;this.td=c;this.ud=d;this.B=2147483648;this.I=0}lm.prototype.N=function(a,b,c){return Nb(mm.g?mm.g(this):mm.call(null,this),b,c)};function mm(a){var b=a.ud;return new R(null,w(b)?b:Qj,new R(null,sb(a.td),null,1,null),2,null)}function nm(a,b,c,d){return new lm(a,b,c,d)}function om(a,b){this.name=a;this.error=b;this.B=2147483648;this.I=0}
om.prototype.N=function(a,b,c){return Nb(pm.g?pm.g(this):pm.call(null,this),b,c)};function pm(a){return new R(null,Oj,new R(null,a.error,new R(null,a.name,null,1,null),2,null),3,null)}function qm(a,b,c,d){this.error=a;this.G=b;this.A=c;this.C=d;this.B=2230716170;this.I=139264}f=qm.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "error":return this.error;default:return D.m(this.A,b,c)}};
f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.utils.ErrorContainer{",", ","}",c,ee.l(new W(null,1,5,X,[new W(null,2,5,X,[hi,this.error],null)],null),this.A))};f.ia=function(){return new Df(this,1,new W(null,1,5,X,[hi],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 1+O(this.A)};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=1172277899^Dc(this)};f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.error,b.error)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,1,[hi,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new qm(this.error,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "error":return!0;default:return wd(this.A,b)}};
f.$=function(a,b,c){return w(U.l?U.l(hi,b):U.call(null,hi,b))?new qm(c,this.G,this.A,null):new qm(this.error,this.G,T.m(this.A,b,c),null)};f.V=function(){return G(ee.l(new W(null,1,5,X,[new yd(hi,this.error)],null),this.A))};f.W=function(a,b){return new qm(this.error,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};function rm(a){return new qm(a,null,null,null)}function sm(a){return a instanceof qm}function tm(a){return sm(a)?a.error:null}He.g(!1);function um(a,b){if(null!=a&&null!=a.lc)a=a.lc(a,b);else{var c=um[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=um._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("CoreSpec.checker",a);}return a}function vm(){return null}function wm(a,b,c){return function(d){try{var e=w(b.g?b.g(d):b.call(null,d))?null:Qj}catch(g){if(g instanceof Object)e=Jh;else throw g;}return w(e)?rm(nm(a,d,new bh(function(){var g=jm(d);return c.g?c.g(g):c.call(null,g)}),e)):null}}
function xm(a,b){var c=new u(null,3,[di,a,Dh,!1,gj,He.g(re)],null);return a.l?a.l(b,c):a.call(null,b,c)}function ym(a,b,c,d){var e=function(){var g=sb(a);return g.g?g.g(b):g.call(null,b)}();if(w(e))return M.l(zh,e)?(d=new bh(function(){var g=sb(a);return g.g?g.g(b):g.call(null,b)}),c.g?c.g(d):c.call(null,d)):e;Ke.Y(a,T,b,zh);c=d.H?d.H():d.call(null);Ke.Y(a,T,b,c);return c}
function zm(a,b){a=qe(a);var c=D.l(a,qi),d=D.l(a,kj),e=qe(b),g=D.l(e,di);b=D.l(e,gj);var h=ym(b,c,function(k){return function(l){var m=sb(k);return m.g?m.g(l):m.call(null,l)}},function(){return g.l?g.l(c,e):g.call(null,c,e)});return w(d)?function(k){k=h.g?h.g(k):h.call(null,k);return w(tm(k))?rm(d.g?d.g(k):d.call(null,k)):k}:h};function Am(a,b,c,d){this.P=a;this.G=b;this.A=c;this.C=d;this.B=2230716170;this.I=139264}f=Am.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "pre":return this.P;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};f.lc=function(){var a=this;return function(b){var c=a.P.g?a.P.g(b):a.P.call(null,b);return w(c)?c:b}};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.spec.leaf.LeafSpec{",", ","}",c,ee.l(new W(null,1,5,X,[new W(null,2,5,X,[Pj,this.P],null)],null),this.A))};f.ia=function(){return new Df(this,1,new W(null,1,5,X,[Pj],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 1+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=-1595767002^Dc(this)};
f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.P,b.P)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,1,[Pj,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new Am(this.P,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "pre":return!0;default:return wd(this.A,b)}};f.$=function(a,b,c){return w(U.l?U.l(Pj,b):U.call(null,Pj,b))?new Am(c,this.G,this.A,null):new Am(this.P,this.G,T.m(this.A,b,c),null)};
f.V=function(){return G(ee.l(new W(null,1,5,X,[new yd(Pj,this.P)],null),this.A))};f.W=function(a,b){return new Am(this.P,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};function Bm(a){return new Am(a,null,null,null)};function Cm(a,b,c){var d=ri.g(a),e=zm(a,b),g=w(d)?function(k){try{var l=d.g?d.g(k):d.call(null,k)}catch(m){if(m instanceof Object)l=uj;else throw m;}return M.l(uj,l)?rm(nm(qi.g(a),k,new bh(function(){return new R(null,tc.g(km(d)),new R(null,jm(k),null,1,null),2,null)}),Jh)):w(l)?e.g?e.g(k):e.call(null,k):c.g?c.g(k):c.call(null,k)}:e,h=fi.g(a);return w(h)?function(k){k=g.g?g.g(k):g.call(null,k);var l=tm(k);return w(l)?rm(h.g?h.g(l):h.call(null,l)):k}:g}
function Dm(a,b,c,d,e,g,h){this.P=a;this.options=b;this.Ca=c;this.Ba=d;this.G=e;this.A=g;this.C=h;this.B=2230716170;this.I=139264}f=Dm.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "pre":return this.P;case "options":return this.options;case "err-f":return this.Ca;case "post":return this.Ba;default:return D.m(this.A,b,c)}};
f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.lc=function(a,b){var c=this,d=this,e=Ka(function(g,h){return Cm(h,b,g)},function(g){return rm(nm(d,g,new bh(function(){var h=jm(g);return c.Ca.g?c.Ca.g(h):c.Ca.call(null,h)}),null))},Nd(c.options));return w(c.Ba)?function(g){var h=c.P.g?c.P.g(g):c.P.call(null,g);if(w(h))return h;h=e.g?e.g(g):e.call(null,g);if(sm(h))return h;g=w(Dh.g(b))?h:g;g=c.Ba.g?c.Ba.g(g):c.Ba.call(null,g);return w(g)?g:h}:function(g){var h=c.P.g?c.P.g(g):c.P.call(null,g);return w(h)?h:e.g?e.g(g):e.call(null,g)}};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.spec.variant.VariantSpec{",", ","}",c,ee.l(new W(null,4,5,X,[new W(null,2,5,X,[Pj,this.P],null),new W(null,2,5,X,[aj,this.options],null),new W(null,2,5,X,[ji,this.Ca],null),new W(null,2,5,X,[ti,this.Ba],null)],null),this.A))};f.ia=function(){return new Df(this,4,new W(null,4,5,X,[Pj,aj,ji,ti],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 4+O(this.A)};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=-1524878868^Dc(this)};f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.P,b.P)&&M.l(this.options,b.options)&&M.l(this.Ca,b.Ca)&&M.l(this.Ba,b.Ba)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,4,[Pj,null,ji,null,ti,null,aj,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new Dm(this.P,this.options,this.Ca,this.Ba,this.G,te(cd.l(this.A,b)),null)};
f.la=function(a,b){switch(b instanceof E?b.S:null){case "pre":case "options":case "err-f":case "post":return!0;default:return wd(this.A,b)}};
f.$=function(a,b,c){return w(U.l?U.l(Pj,b):U.call(null,Pj,b))?new Dm(c,this.options,this.Ca,this.Ba,this.G,this.A,null):w(U.l?U.l(aj,b):U.call(null,aj,b))?new Dm(this.P,c,this.Ca,this.Ba,this.G,this.A,null):w(U.l?U.l(ji,b):U.call(null,ji,b))?new Dm(this.P,this.options,c,this.Ba,this.G,this.A,null):w(U.l?U.l(ti,b):U.call(null,ti,b))?new Dm(this.P,this.options,this.Ca,c,this.G,this.A,null):new Dm(this.P,this.options,this.Ca,this.Ba,this.G,T.m(this.A,b,c),null)};
f.V=function(){return G(ee.l(new W(null,4,5,X,[new yd(Pj,this.P),new yd(aj,this.options),new yd(ji,this.Ca),new yd(ti,this.Ba)],null),this.A))};f.W=function(a,b){return new Dm(this.P,this.options,this.Ca,this.Ba,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};function Em(a,b){return Fm(a,b,null)}
function Fm(a,b,c){if(w(null))var d=null;else{d=ri.g;var e;a:for(e=b;;){var g=J(e);if(null!=g)e=g;else{e=I(e);break a}}d=null==d.call(ri,e)}if(!w(d))throw Error(gm("when last option has a guard, err-f must be provided"));return new Dm(a,b,null,c,null,null,null)};function Gm(a,b,c){if(pd(a)){var d=I(a);d=d instanceof E?d.S:null;switch(d){case "schema.spec.collection/optional":return a=J(a),Hm.m?Hm.m(a,b,c):Hm.call(null,a,b,c);case "schema.spec.collection/remaining":if(!M.l(2,O(a)))throw Error(gm("remaining can have only one schema."));var e=zm(I(J(a)),b);return function(h,k){Ke.m(h,Re,Me.l(e,k));return c.l?c.l(h,null):c.call(null,h,null)};default:throw Error(["No matching clause: ",z.g(d)].join(""));}}else{var g=Rj.g(a);e=zm(a,b);return function(h,k){var l=
function(){function m(n){return Ke.m(h,Zc,sm(n)?n:e.g?e.g(n):e.call(null,n))}return g.l?g.l(m,k):g.call(null,m,k)}();return c.l?c.l(h,l):c.call(null,h,l)}}}function Hm(a,b,c){if(!Be(function(d){return pd(d)&&M.l(I(d),ci)},Fg(a)))throw Error(gm("Remaining schemas must be in tail position."));return Ka(function(d,e){return Gm(e,b,d)},c,Nd(a))}function Im(a,b,c,d,e,g,h){this.P=a;this.Ha=b;this.elements=c;this.Da=d;this.G=e;this.A=g;this.C=h;this.B=2230716170;this.I=139264}f=Im.prototype;
f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "pre":return this.P;case "konstructor":return this.Ha;case "elements":return this.elements;case "on-error":return this.Da;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.lc=function(a,b){var c=this,d=w(Dh.g(b))?c.Ha:function(){return null},e=Hm(c.elements,b,function(g,h){return h});return function(g){var h=c.P.g?c.P.g(g):c.P.call(null,g);if(w(h))return h;var k=He.g($c);h=e.l?e.l(k,g):e.call(null,k,g);k=sb(k);var l=(l=G(h))?l:Ae(sm,k);return w(l)?rm(c.Da.m?c.Da.m(g,k,h):c.Da.call(null,g,k,h)):d.g?d.g(k):d.call(null,k)}};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.spec.collection.CollectionSpec{",", ","}",c,ee.l(new W(null,4,5,X,[new W(null,2,5,X,[Pj,this.P],null),new W(null,2,5,X,[zj,this.Ha],null),new W(null,2,5,X,[Wi,this.elements],null),new W(null,2,5,X,[xj,this.Da],null)],null),this.A))};f.ia=function(){return new Df(this,4,new W(null,4,5,X,[Pj,zj,Wi,xj],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 4+O(this.A)};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=1800698765^Dc(this)};f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.P,b.P)&&M.l(this.Ha,b.Ha)&&M.l(this.elements,b.elements)&&M.l(this.Da,b.Da)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,4,[Pj,null,Wi,null,zj,null,xj,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new Im(this.P,this.Ha,this.elements,this.Da,this.G,te(cd.l(this.A,b)),null)};
f.la=function(a,b){switch(b instanceof E?b.S:null){case "pre":case "konstructor":case "elements":case "on-error":return!0;default:return wd(this.A,b)}};
f.$=function(a,b,c){return w(U.l?U.l(Pj,b):U.call(null,Pj,b))?new Im(c,this.Ha,this.elements,this.Da,this.G,this.A,null):w(U.l?U.l(zj,b):U.call(null,zj,b))?new Im(this.P,c,this.elements,this.Da,this.G,this.A,null):w(U.l?U.l(Wi,b):U.call(null,Wi,b))?new Im(this.P,this.Ha,c,this.Da,this.G,this.A,null):w(U.l?U.l(xj,b):U.call(null,xj,b))?new Im(this.P,this.Ha,this.elements,c,this.G,this.A,null):new Im(this.P,this.Ha,this.elements,this.Da,this.G,T.m(this.A,b,c),null)};
f.V=function(){return G(ee.l(new W(null,4,5,X,[new yd(Pj,this.P),new yd(zj,this.Ha),new yd(Wi,this.elements),new yd(xj,this.Da)],null),this.A))};f.W=function(a,b){return new Im(this.P,this.Ha,this.elements,this.Da,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};function Jm(a,b,c,d){return new Im(a,b,c,d,null,null,null)}function Km(a){return new W(null,2,5,X,[ci,new u(null,2,[qi,a,Rj,function(){throw Error("should never be not called");}],null)],null)}
function Lm(a,b,c){b=new u(null,2,[qi,b,Rj,c],null);return w(a)?b:of(Q(Sj,Vc([b])))}function Mm(a,b,c){return Re.l(of(Q(Sj,Vc([new u(null,2,[qi,a,Rj,b],null)]))),c)};function Nm(a){if(null!=a&&null!=a.Ga)a=a.Ga(a);else{var b=Nm[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Nm._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("Schema.spec",a);}return a}function Om(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=Om[q(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Om._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw y("Schema.explain",a);}return a}function Pm(a){return Ee.l(tm,xm(function(b,c){return um(Nm(b),c)},a))}
function Qm(a){var b=Pm(a);return function(c){var d=b(c);if(w(d)){var e=hm("Value does not match schema: %s",Vc([Vg(Vc([d]))]));throw new mh(e,new u(null,4,[Xj,oi,qi,a,Di,c,hi,d],null));}return c}}function Rm(a,b){return Qm(a)(b)}function Sm(a,b){return wm(a,function(c){var d=null!=c;return d?(d=b===c.constructor)?d:c instanceof b:d},function(c){return new R(null,Mh,new R(null,b,new R(null,c,null,1,null),2,null),3,null)})}
Nm["function"]=function(a){var b=Sm(a,a);a=ha(a,"schema$utils$schema");return w(a)?Em(b,new W(null,1,5,X,[new u(null,1,[qi,a],null)],null)):Bm(b)};Om["function"]=function(a){var b=ha(a,"schema$utils$schema");return w(b)?Om(b):w(M.l?M.l(Boolean,a):M.call(null,Boolean,a))?Tj:w(M.l?M.l(Number,a):M.call(null,Number,a))?Gj:w(M.l?M.l(Date,a):M.call(null,Date,a))?lj:w(M.l?M.l(lh,a):M.call(null,lh,a))?qh:a};function Tm(a,b,c,d){this.ab=a;this.G=b;this.A=c;this.C=d;this.B=2230716170;this.I=139264}f=Tm.prototype;
f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "_":return this.ab;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.AnythingSchema{",", ","}",c,ee.l(new W(null,1,5,X,[new W(null,2,5,X,[bj,this.ab],null)],null),this.A))};
f.ia=function(){return new Df(this,1,new W(null,1,5,X,[bj],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 1+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=-1432036169^Dc(this)};f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.ab,b.ab)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,1,[bj,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new Tm(this.ab,this.G,te(cd.l(this.A,b)),null)};
f.la=function(a,b){switch(b instanceof E?b.S:null){case "_":return!0;default:return wd(this.A,b)}};f.$=function(a,b,c){return w(U.l?U.l(bj,b):U.call(null,bj,b))?new Tm(c,this.G,this.A,null):new Tm(this.ab,this.G,T.m(this.A,b,c),null)};f.V=function(){return G(ee.l(new W(null,1,5,X,[new yd(bj,this.ab)],null),this.A))};f.W=function(a,b){return new Tm(this.ab,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};f.Ga=function(){return Bm(vm)};f.na=function(){return ij};
f.ca=t;f.N=function(a,b){return Lb(b,this.na(null))};var Um=new Tm(null,null,null,null);function Vm(a,b,c,d){this.v=a;this.G=b;this.A=c;this.C=d;this.B=2230716170;this.I=139264}f=Vm.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "v":return this.v;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.EqSchema{",", ","}",c,ee.l(new W(null,1,5,X,[new W(null,2,5,X,[Qi,this.v],null)],null),this.A))};f.ia=function(){return new Df(this,1,new W(null,1,5,X,[Qi],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 1+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=-907989292^Dc(this)};
f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.v,b.v)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,1,[Qi,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new Vm(this.v,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "v":return!0;default:return wd(this.A,b)}};f.$=function(a,b,c){return w(U.l?U.l(Qi,b):U.call(null,Qi,b))?new Vm(c,this.G,this.A,null):new Vm(this.v,this.G,T.m(this.A,b,c),null)};
f.V=function(){return G(ee.l(new W(null,1,5,X,[new yd(Qi,this.v)],null),this.A))};f.W=function(a,b){return new Vm(this.v,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};f.Ga=function(){var a=this;return Bm(wm(this,function(b){return M.l(a.v,b)},function(b){return new R(null,cj,new R(null,a.v,new R(null,b,null,1,null),2,null),3,null)}))};f.na=function(){return new R(null,Nj,new R(null,this.v,null,1,null),2,null)};f.ca=t;f.N=function(a,b){return Lb(b,this.na(null))};
function Wm(a,b,c,d,e){this.Ea=a;this.Ra=b;this.G=c;this.A=d;this.C=e;this.B=2230716170;this.I=139264}f=Wm.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "p?":return this.Ea;case "pred-name":return this.Ra;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.Predicate{",", ","}",c,ee.l(new W(null,2,5,X,[new W(null,2,5,X,[vi,this.Ea],null),new W(null,2,5,X,[Bh,this.Ra],null)],null),this.A))};f.ia=function(){return new Df(this,2,new W(null,2,5,X,[vi,Bh],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 2+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=2041221968^Dc(this)};
f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.Ea,b.Ea)&&M.l(this.Ra,b.Ra)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,2,[Bh,null,vi,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new Wm(this.Ea,this.Ra,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "p?":case "pred-name":return!0;default:return wd(this.A,b)}};
f.$=function(a,b,c){return w(U.l?U.l(vi,b):U.call(null,vi,b))?new Wm(c,this.Ra,this.G,this.A,null):w(U.l?U.l(Bh,b):U.call(null,Bh,b))?new Wm(this.Ea,c,this.G,this.A,null):new Wm(this.Ea,this.Ra,this.G,T.m(this.A,b,c),null)};f.V=function(){return G(ee.l(new W(null,2,5,X,[new yd(vi,this.Ea),new yd(Bh,this.Ra)],null),this.A))};f.W=function(a,b){return new Wm(this.Ea,this.Ra,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};
f.Ga=function(){var a=this;return Bm(wm(this,a.Ea,function(b){return new R(null,a.Ra,new R(null,b,null,1,null),2,null)}))};f.na=function(){return M.l(this.Ea,vd)?Ph:M.l(this.Ea,Qd)?ph:M.l(this.Ea,rc)?Xi:M.l(this.Ea,Ca)?sj:new R(null,rj,new R(null,this.Ra,null,1,null),2,null)};f.ca=t;f.N=function(a,b){return Lb(b,this.na(null))};function Xm(a,b){if(!ud(a))throw Error(hm("Not a function: %s",Vc([a])));return new Wm(a,b,null,null,null)}
function Ym(a,b,c,d){this.p=a;this.G=b;this.A=c;this.C=d;this.B=2230716170;this.I=139264}f=Ym.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "p":return this.p;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.Protocol{",", ","}",c,ee.l(new W(null,1,5,X,[new W(null,2,5,X,[Ti,this.p],null)],null),this.A))};f.ia=function(){return new Df(this,1,new W(null,1,5,X,[Ti],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 1+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=-1892592712^Dc(this)};
f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.p,b.p)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,1,[Ti,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new Ym(this.p,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "p":return!0;default:return wd(this.A,b)}};f.$=function(a,b,c){return w(U.l?U.l(Ti,b):U.call(null,Ti,b))?new Ym(c,this.G,this.A,null):new Ym(this.p,this.G,T.m(this.A,b,c),null)};
f.V=function(){return G(ee.l(new W(null,1,5,X,[new yd(Ti,this.p)],null),this.A))};f.W=function(a,b){return new Ym(this.p,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};f.Ga=function(){var a=this;return Bm(wm(a,ak.g(hd(a)),function(b){return new R(null,Mi,new R(null,nj.g(hd(a)),new R(null,b,null,1,null),2,null),3,null)}))};f.na=function(){return new R(null,Ni,new R(null,nj.g(hd(this)),null,1,null),2,null)};f.ca=t;f.N=function(a,b){return Lb(b,this.na(null))};
RegExp.prototype.Ga=function(){var a=this;return Bm(Le.l(wm(a,Ca,function(b){return new R(null,Sh,new R(null,b,null,1,null),2,null)}),wm(a,function(b){return Jg(a,b)},function(b){return new R(null,Xh,new R(null,Om(a),new R(null,b,null,1,null),2,null),3,null)})))};RegExp.prototype.na=function(){return tc.g(['#"',z.g(z.g(this).slice(1,-1)),'"'].join(""))};var Zm=Xm(Ca,Sh),$m=Boolean,an=Number,bn=Xm(vd,Ij),cn=Xm(Qd,mi);Xm(rc,Ci);
function dn(a,b,c,d,e){this.ha=a;this.name=b;this.G=c;this.A=d;this.C=e;this.B=2230716170;this.I=139264}f=dn.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "schema":return this.ha;case "name":return this.name;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.NamedSchema{",", ","}",c,ee.l(new W(null,2,5,X,[new W(null,2,5,X,[qi,this.ha],null),new W(null,2,5,X,[Z,this.name],null)],null),this.A))};f.ia=function(){return new Df(this,2,new W(null,2,5,X,[qi,Z],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 2+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=456601728^Dc(this)};
f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.ha,b.ha)&&M.l(this.name,b.name)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,2,[qi,null,Z,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new dn(this.ha,this.name,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "schema":case "name":return!0;default:return wd(this.A,b)}};
f.$=function(a,b,c){return w(U.l?U.l(qi,b):U.call(null,qi,b))?new dn(c,this.name,this.G,this.A,null):w(U.l?U.l(Z,b):U.call(null,Z,b))?new dn(this.ha,c,this.G,this.A,null):new dn(this.ha,this.name,this.G,T.m(this.A,b,c),null)};f.V=function(){return G(ee.l(new W(null,2,5,X,[new yd(qi,this.ha),new yd(Z,this.name)],null),this.A))};f.W=function(a,b){return new dn(this.ha,this.name,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};
f.Ga=function(){var a=this;return Em(vm,new W(null,1,5,X,[new u(null,2,[qi,a.ha,fi,function(b){return new om(a.name,b)}],null)],null))};f.na=function(){return new R(null,Oj,new R(null,Om(this.ha),new R(null,this.name,null,1,null),2,null),3,null)};f.ca=t;f.N=function(a,b){return Lb(b,this.na(null))};function en(a,b,c,d,e,g){this.ha=a;this.Qa=b;this.Ia=c;this.G=d;this.A=e;this.C=g;this.B=2230716170;this.I=139264}f=en.prototype;f.ba=function(a,b){return this.M(null,b,null)};
f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "schema":return this.ha;case "postcondition":return this.Qa;case "post-name":return this.Ia;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.Constrained{",", ","}",c,ee.l(new W(null,3,5,X,[new W(null,2,5,X,[qi,this.ha],null),new W(null,2,5,X,[yj,this.Qa],null),new W(null,2,5,X,[Hh,this.Ia],null)],null),this.A))};f.ia=function(){return new Df(this,3,new W(null,3,5,X,[qi,yj,Hh],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 3+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=725895648^Dc(this)};
f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.ha,b.ha)&&M.l(this.Qa,b.Qa)&&M.l(this.Ia,b.Ia)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,3,[qi,null,Hh,null,yj,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new en(this.ha,this.Qa,this.Ia,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "schema":case "postcondition":case "post-name":return!0;default:return wd(this.A,b)}};
f.$=function(a,b,c){return w(U.l?U.l(qi,b):U.call(null,qi,b))?new en(c,this.Qa,this.Ia,this.G,this.A,null):w(U.l?U.l(yj,b):U.call(null,yj,b))?new en(this.ha,c,this.Ia,this.G,this.A,null):w(U.l?U.l(Hh,b):U.call(null,Hh,b))?new en(this.ha,this.Qa,c,this.G,this.A,null):new en(this.ha,this.Qa,this.Ia,this.G,T.m(this.A,b,c),null)};f.V=function(){return G(ee.l(new W(null,3,5,X,[new yd(qi,this.ha),new yd(yj,this.Qa),new yd(Hh,this.Ia)],null),this.A))};
f.W=function(a,b){return new en(this.ha,this.Qa,this.Ia,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};f.Ga=function(){var a=this;return Fm(vm,new W(null,1,5,X,[new u(null,1,[qi,a.ha],null)],null),wm(this,a.Qa,function(b){return new R(null,a.Ia,new R(null,b,null,1,null),2,null)}))};f.na=function(){return new R(null,Ai,new R(null,Om(this.ha),new R(null,this.Ia,null,1,null),2,null),3,null)};f.ca=t;f.N=function(a,b){return Lb(b,this.na(null))};
function fn(a,b){var c=tc.g(km(b));if(!ud(b))throw Error(hm("Not a function: %s",Vc([b])));return new en(a,b,c,null,null,null)}function gn(a,b,c,d){this.k=a;this.G=b;this.A=c;this.C=d;this.B=2230716170;this.I=139264}f=gn.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "k":return this.k;default:return D.m(this.A,b,c)}};
f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.RequiredKey{",", ","}",c,ee.l(new W(null,1,5,X,[new W(null,2,5,X,[Yi,this.k],null)],null),this.A))};f.ia=function(){return new Df(this,1,new W(null,1,5,X,[Yi],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 1+O(this.A)};
f.T=function(){var a=this.C;return null!=a?a:this.C=a=-1805575094^Dc(this)};f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.k,b.k)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,1,[Yi,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new gn(this.k,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "k":return!0;default:return wd(this.A,b)}};
f.$=function(a,b,c){return w(U.l?U.l(Yi,b):U.call(null,Yi,b))?new gn(c,this.G,this.A,null):new gn(this.k,this.G,T.m(this.A,b,c),null)};f.V=function(){return G(ee.l(new W(null,1,5,X,[new yd(Yi,this.k)],null),this.A))};f.W=function(a,b){return new gn(this.k,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};function hn(a){return a instanceof E?a:new gn(a,null,null,null)}function jn(a){return a instanceof E||a instanceof gn}
function kn(a,b,c,d){this.k=a;this.G=b;this.A=c;this.C=d;this.B=2230716170;this.I=139264}f=kn.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "k":return this.k;default:return D.m(this.A,b,c)}};f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};
f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.OptionalKey{",", ","}",c,ee.l(new W(null,1,5,X,[new W(null,2,5,X,[Yi,this.k],null)],null),this.A))};f.ia=function(){return new Df(this,1,new W(null,1,5,X,[Yi],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};f.X=function(){return 1+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=-1508333161^Dc(this)};
f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.k,b.k)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,1,[Yi,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new kn(this.k,this.G,te(cd.l(this.A,b)),null)};f.la=function(a,b){switch(b instanceof E?b.S:null){case "k":return!0;default:return wd(this.A,b)}};f.$=function(a,b,c){return w(U.l?U.l(Yi,b):U.call(null,Yi,b))?new kn(c,this.G,this.A,null):new kn(this.k,this.G,T.m(this.A,b,c),null)};
f.V=function(){return G(ee.l(new W(null,1,5,X,[new yd(Yi,this.k)],null),this.A))};f.W=function(a,b){return new kn(this.k,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};function ln(a){return new kn(a,null,null,null)}function mn(a){if(a instanceof E)return a;if(a instanceof gn||a instanceof kn)return a.k;throw Error(hm("Bad explicit key: %s",Vc([a])));}function De(a){return jn(a)||a instanceof kn}
function nn(a){var b=S(a,0,null);a=S(a,1,null);return new yd(b,a)}function on(a,b,c,d,e){this.Ma=a;this.Sa=b;this.G=c;this.A=d;this.C=e;this.B=2230716170;this.I=139264}f=on.prototype;f.ba=function(a,b){return this.M(null,b,null)};f.M=function(a,b,c){switch(b instanceof E?b.S:null){case "key-schema":return this.Ma;case "val-schema":return this.Sa;default:return D.m(this.A,b,c)}};
f.ta=function(a,b,c){return Ka(function(d,e){var g=S(e,0,null);e=S(e,1,null);return b.m?b.m(d,g,e):b.call(null,d,g,e)},c,this)};f.N=function(a,b,c){return Kg(b,function(d){return Kg(b,Rg,""," ","",c,d)},"#schema.core.MapEntry{",", ","}",c,ee.l(new W(null,2,5,X,[new W(null,2,5,X,[yh,this.Ma],null),new W(null,2,5,X,[gi,this.Sa],null)],null),this.A))};f.ia=function(){return new Df(this,2,new W(null,2,5,X,[yh,gi],null),w(this.A)?dc(this.A):ve())};f.U=function(){return this.G};
f.X=function(){return 2+O(this.A)};f.T=function(){var a=this.C;return null!=a?a:this.C=a=-804356212^Dc(this)};f.R=function(a,b){return null!=b&&this.constructor===b.constructor&&M.l(this.Ma,b.Ma)&&M.l(this.Sa,b.Sa)&&M.l(this.A,b.A)};f.za=function(a,b){return wd(new Bg(null,new u(null,2,[yh,null,gi,null],null),null),b)?cd.l(wb(Re.l(re,this),this.G),b):new on(this.Ma,this.Sa,this.G,te(cd.l(this.A,b)),null)};
f.la=function(a,b){switch(b instanceof E?b.S:null){case "key-schema":case "val-schema":return!0;default:return wd(this.A,b)}};f.$=function(a,b,c){return w(U.l?U.l(yh,b):U.call(null,yh,b))?new on(c,this.Sa,this.G,this.A,null):w(U.l?U.l(gi,b):U.call(null,gi,b))?new on(this.Ma,c,this.G,this.A,null):new on(this.Ma,this.Sa,this.G,T.m(this.A,b,c),null)};f.V=function(){return G(ee.l(new W(null,2,5,X,[new yd(yh,this.Ma),new yd(gi,this.Sa)],null),this.A))};
f.W=function(a,b){return new on(this.Ma,this.Sa,b,this.A,this.C)};f.aa=function(a,b){return pd(b)?this.$(null,B(b,0),B(b,1)):Ka(Ua,this,b)};f.Ga=function(){return Jm(vm,nn,new W(null,2,5,X,[Lm(!0,this.Ma,function(a,b){var c=kb(b);a.g?a.g(c):a.call(null,c);return b}),Lm(!0,this.Sa,function(a,b){b=lb(b);a.g?a.g(b):a.call(null,b);return null})],null),function(a,b){a=S(a,0,null);var c=S(b,0,null);b=S(b,1,null);c=tm(c);return w(c)?new W(null,2,5,X,[c,rh],null):new W(null,2,5,X,[a,tm(b)],null)})};
f.na=function(){return new R(null,Cj,new R(null,Om(this.Ma),new R(null,Om(this.Sa),null,1,null),2,null),3,null)};f.ca=t;f.N=function(a,b){return Lb(b,this.na(null))};function pn(a){a=Kf(a);a=Qe(Ce(),a);if(!(2>O(a)))throw Error(hm("More than one non-optional/required key schemata: %s",Vc([of(a)])));return I(a)}function qn(a){return De(a)?a instanceof E?a:new R(null,jn(a)?Uh:a instanceof kn?Oi:null,new R(null,mn(a),null,1,null),2,null):Om(a)}
function rn(a){var b=pn(a),c=Se(qn,le(ee,Qe(function(e){return 1<O(e)},Lf(kh(mn,Kf(cd.l(a,b)))))));if(!jd(c))throw Error(hm("Schema has multiple variants of the same explicit key: %s",Vc([c])));var d=cd.l(a,b);return ee.l(function(){return function h(g){return new Ud(null,function(){for(;;){var k=G(g);if(k){var l=k;if(qd(l)){var m=Yb(l),n=O(m),p=Yd(n);return function(){for(var F=0;;)if(F<n){var K=B(m,F),V=S(K,0,null),na=S(K,1,null);be(p,function(){var oa=mn(V),Ea=jn(V);return Lm(Ea,new on(new Vm(oa,
null,null,null),na,null,null,null),function(Qa,lc,Nn){return function($d,Ah){var Hf=xd(Ah,lc);if(w(Hf))$d.g?$d.g(Hf):$d.call(null,Hf);else if(Nn){var Dk=rm(new W(null,2,5,X,[lc,Vh],null));$d.g?$d.g(Dk):$d.call(null,Dk)}return w(Hf)?cd.l(Ah,lc):Ah}}(F,oa,Ea,K,V,na,m,n,p,l,k,d,b))}());F+=1}else return!0}()?ae(p.xa(),h(Zb(l))):ae(p.xa(),null)}var r=I(l),v=S(r,0,null),A=S(r,1,null);return Q(function(){var F=mn(v),K=jn(v);return Lm(K,new on(new Vm(F,null,null,null),A,null,null,null),function(V,na){return function(oa,
Ea){var Qa=xd(Ea,V);if(w(Qa))oa.g?oa.g(Qa):oa.call(null,Qa);else if(na){var lc=rm(new W(null,2,5,X,[V,Vh],null));oa.g?oa.g(lc):oa.call(null,lc)}return w(Qa)?cd.l(Ea,V):Ea}}(F,K,r,v,A,l,k,d,b))}(),h(wc(l)))}return null}},null)}(d)}(),w(b)?function(){var e=Eg(Me.l(mn,Kf(d))),g=xd(a,b),h=S(g,0,null);g=S(g,1,null);h=fn(h,function(k){return!wd(e,k)});return new W(null,1,5,X,[Km(new on(h,g,null,null,null))],null)}():null)}
function sn(){return function(a,b,c){return Re.l(re,ee.l(Fe(tm,b),function(){return function g(e){return new Ud(null,function(){for(;;){var h=G(e);if(h){if(qd(h)){var k=Yb(h),l=O(k),m=Yd(l);a:for(var n=0;;)if(n<l){var p=B(k,n),r=S(p,0,null);S(p,1,null);m.add(new W(null,2,5,X,[r,pj],null));n+=1}else{k=!0;break a}return k?ae(m.xa(),g(Zb(h))):ae(m.xa(),null)}m=I(h);k=S(m,0,null);S(m,1,null);return Q(new W(null,2,5,X,[k,pj],null),g(wc(h)))}return null}},null)}(c)}()))}}
function tn(a){return Jm(wm(a,nd,function(b){return new R(null,hj,new R(null,b,null,1,null),2,null)}),function(b){return Re.l(re,b)},rn(a),sn())}
function un(a){return Re.l(re,function(){return function d(c){return new Ud(null,function(){for(;;){var e=G(c);if(e){if(qd(e)){var g=Yb(e),h=O(g),k=Yd(h);a:for(var l=0;;)if(l<h){var m=B(g,l),n=S(m,0,null);m=S(m,1,null);n=new W(null,2,5,X,[qn(n),Om(m)],null);k.add(n);l+=1}else{g=!0;break a}return g?ae(k.xa(),d(Zb(e))):ae(k.xa(),null)}g=I(e);k=S(g,0,null);g=S(g,1,null);return Q(new W(null,2,5,X,[qn(k),Om(g)],null),d(wc(e)))}return null}},null)}(a)}())}u.prototype.Ga=function(){return tn(this)};
u.prototype.na=function(){return un(this)};rg.prototype.Ga=function(){return tn(this)};rg.prototype.na=function(){return un(this)};Bg.prototype.Ga=function(){if(!M.l(O(this),1))throw Error(gm("Set schema must have exactly one element"));return Jm(wm(this,ld,function(a){return new R(null,Zh,new R(null,a,null,1,null),2,null)}),Eg,new W(null,1,5,X,[Km(I(this))],null),function(a,b){return Eg(Fe(tm,b))})};Bg.prototype.na=function(){return Eg(new W(null,1,5,X,[Om(I(this))],null))};
function vn(a){var b=Hg(function(){return!1},a),c=S(b,0,null);b=S(b,1,null);var d=Hg(function(){return!1},b);b=S(d,0,null);d=S(d,1,null);if(!(1>=O(d)&&Be(function(){return!1},d)))throw Error(hm("%s is not a valid sequence schema; %s%s%s",Vc([a,"a valid sequence schema consists of zero or more `one` elements, ","followed by zero or more `optional` elements, followed by an optional ","schema that will match the remaining elements."])));return new W(null,2,5,X,[ee.l(c,b),I(d)],null)}
W.prototype.Ga=function(){var a=this;return Jm(wm(a,function(b){return null==b||md(b)},function(b){return new R(null,Th,new R(null,b,null,1,null),2,null)}),of,function(){var b=vn(a),c=S(b,0,null);b=S(b,1,null);return Ka(function(d,e){return Ba(e.Ad)?Q(Lm(!0,new dn(e.ha,e.name,null,null,null),function(g,h){if(h=G(h)){var k=I(h);g.g?g.g(k):g.call(null,k);return wc(h)}h=rm(nm(e.ha,ni,new bh(function(){return new R(null,wi,new R(null,e.name,null,1,null),2,null)}),null));g.g?g.g(h):g.call(null,h);return null}),
d):new W(null,1,5,X,[Mm(new dn(e.ha,e.name,null,null,null),function(g,h){if(h=G(h)){var k=I(h);g.g?g.g(k):g.call(null,k);return wc(h)}return null},d)],null)},w(b)?new W(null,1,5,X,[Km(b)],null):null,Nd(c))}(),function(b,c,d){b=Se(tm,c);return G(d)?Zc.l(b,tm(rm(nm(null,d,new bh(function(){return new R(null,uh,new R(null,O(d),null,1,null),2,null)}),null)))):b})};
W.prototype.na=function(){var a=vn(this),b=S(a,0,null);a=S(a,1,null);b=Se(function(c){return new R(null,w(c.Ad)?Bi:Ri,new R(null,Om(qi.g(c)),new R(null,Z.g(c),null,1,null),2,null),3,null)},b);return w(a)?Zc.l(b,Om(a)):b};function wn(a,b){if(!(null!=a?a.B&262144||t===a.Td||(a.B?0:x(vb,a)):x(vb,a)))throw Error(hm("Named schema (such as the right-most `s/defalias` arg) must support metadata: %s",Vc([typeof a])));return se(a,Z,b)}He.g(!1);var xn=jk(114,{});var yn=jk(175,{});var zn=jk(182,{});var An=jk(189,{});var Bn=jk(237,{});var Cn=jk(283,{});function Dn(a){a:{var b=Kf(a),c=Me.l(ih,Lf(a));a=Rb(re);b=G(b);for(c=G(c);;)if(b&&c){var d=I(b),e=I(c);a=Ub(a,d,e);b=J(b);c=J(c)}else{a=Tb(a);break a}}return ih(a)}function En(){}function Fn(a,b){if(null!=a&&null!=a.Qc)a=a.Qc(a,b);else{var c=Fn[q(null==a?null:a)];if(null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else if(c=Fn._,null!=c)a=c.l?c.l(a,b):c.call(null,a,b);else throw y("FeatureHandler.handle",a);}return a}var Gn;
a:for(var Hn=[ln($i),ln(Yj),ln(Ej),ln(Jj),ln(Ch),ln(Hj),hn(sh),ln(Hi),ln(Li),ln(Wh),ln(Lj),ln(oh),ln(Vj),ln(ej),ln(mj),ln(bi),ln(ei),hn(zi),hn(Yh),ln(ii),ln(Mj),ln(Dj),ln(Ei)],In=[$m,$m,new W(null,1,5,X,[an],null),an,an,new W(null,1,5,X,[Um],null),Zm,bn,$m,an,an,$m,$m,$m,an,$m,bn,new W(null,1,5,X,[an],null),bn,new W(null,1,5,X,[an],null),new W(null,1,5,X,[an],null),an,$m],Jn=Hn.length,Kn=0,Ln=Rb(Of);;)if(Kn<Jn){if(In.length<=Kn)throw Error(["No value supplied for key: ",z.g(Hn[Kn])].join(""));var Mn=
Kn+1,On=Ub(Ln,Hn[Kn],In[Kn]);Kn=Mn;Ln=On}else{Gn=Tb(Ln);break a}
var Pn=se(wn(Gn,li),ui,yi),Qn=se(wn(new W(null,1,5,X,[bd([hn(Z),Zm,hn(Xj),cn,hn(Y),Zm,hn(th),Zm,ln(Qh),Zm,hn(Zj),new W(null,1,5,X,[an],null),ln(fj),Zm,ln(xh),Um])],null),Zi),ui,yi),Rn=se(wn(bd([cn,gd(new Ym(En,null,null,null),new u(null,2,[nj,Aj,ak,function(a){return null!=a?t===a.Pc?!0:a.Tb?!1:x(En,a):x(En,a)}],null)),ai,gd(new Ym(En,null,null,null),new u(null,2,[nj,Aj,ak,function(a){return null!=a?t===a.Pc?!0:a.Tb?!1:x(En,a):x(En,a)}],null)),Si,Um]),xi),ui,yi);
function Sn(a){var b=qe(a),c=D.l(b,Zj);a=D.l(b,fj);var d=D.l(b,xh);b=new yn.Feature(ih(b));c=new An.Point(ih(c));a=w(a)?new xn.Style({image:new xn.Icon({src:a})}):d;b.setGeometry(c);b.setStyle(a);return b}function Tn(a){return Ae(function(b){return b instanceof zn.Attribution},a)}
function Un(a,b){var c=qe(b);b=D.l(c,Ei);c=D.l(c,Hj);if(w(c)){var d=Tn(c);b=w(w(d)?d:b)?c:Zc.l(c,new zn.Attribution)}else b=w(b)?$c:new W(null,1,5,X,[new zn.Attribution],null);b=G(b);c=null;for(var e=d=0;;)if(e<d){var g=c.ga(null,e);a.addControl(g);e+=1}else if(b=G(b))c=b,qd(c)?(b=Yb(c),e=Zb(c),c=b,d=O(b),b=e):(b=I(c),a.addControl(b),b=J(c),c=null,d=0),e=0;else break}
function Vn(a,b){a.on("pointermove",function(c){if(w(c.dragging))return null;c=a.getEventPixel(c.originalEvent);return w(a.hasFeatureAtPixel(c))?ek(b,{style:"cursor: pointer"}):ek(b,{style:"cursor: ''"})})}function Wn(a){return function(b){var c=Sd.g(b.get("type"));c=c.g?c.g(a):c.call(null,a);var d=ai.g(a);return null!=c?Fn(c,b):Fn(d,b)}}
function Xn(a,b){var c=qe(b),d=D.l(c,Si);a.on("singleclick",function(e){var g=a.getEventPixel(e.originalEvent);return w(a.hasFeatureAtPixel(g))?a.forEachFeatureAtPixel(e.pixel,Wn(c)):d.H?d.H():d.call(null)})}
function Yn(){var a=Zn,b=$n,c=ao,d=bo;if(w(function(){var k=null!=a;return k?(k=Rm(Pn,b),w(k)?(k=Rm(Qn,c),w(k)?Rm(Rn,d):k):k):k}())){var e=new Cn.OSM({layer:"sat"});e=new Bn.Tile({source:e});var g=new Cn.Vector({features:ih(Me.l(Sn,c))});g=new Bn.Vector({source:g});var h=new yn.View(Dn(b));e=new yn.Map({layers:[e,g],target:"string"!==typeof a?a.id:a,view:h,controls:[]});Un(e,b);Vn(e,a);Xn(e,d)}};var co=Zk.g(new u(null,2,[Y,"",Ji,""],null));
function em(){return new W(null,6,5,X,[Ii,new W(null,3,5,X,[Lh,new u(null,1,[Oh,new W(null,3,5,X,["h4","display-6","text-center"],null)],null),"Point of interest"],null),new W(null,3,5,X,[Uj,new u(null,1,[Oh,new W(null,4,5,X,["fst-italic","fw-bolder","font-monospace","fs-4"],null)],null),Y.g(sb(co))],null),new W(null,1,5,X,[ki],null),new W(null,1,5,X,[ki],null),new W(null,3,5,X,[Ti,new u(null,1,[Oh,new W(null,2,5,X,["fw-light","font-monospace"],null)],null),Ji.g(sb(co))],null)],null)}
var $n=new u(null,6,[zi,new W(null,2,5,X,[-73.988113,40.736332],null),Yh,11,ii,new W(null,4,5,X,[-74.21196,40.565981,-73.749847,40.930634],null),ei,11,Hi,20,sh,"EPSG:4326"],null),eo=new xn.Style({text:new xn.Text({font:"bold 25px Calibri,sans-serif",fill:new xn.Fill({color:"#000"}),text:"L"})}),fo=new xn.Style({text:new xn.Text({font:"bold 25px Calibri,sans-serif",fill:new xn.Fill({color:"#000"}),text:"R"})}),ao=nf([new u(null,6,[Z,"lm-1-friends-building",Xj,ai,Y,"The Friends apartment building",
th,"The apartment building from Friends. Both Monica and Rachel's\nand Joey and Chandler's apartments are here even though the series is not filmed here.\nRoss's apartment should be across the street here somewhere, but given the configuration\nseen in the series it should not exist.",Zj,new W(null,2,5,X,[-74.00535433220885,40.73243088311406],null),xh,eo],null),new u(null,6,[Z,"lm-2-mrrobot-apartment",Xj,ai,Y,"Mr Robot apartment",th,"The building entrance to the Mr Robot apartment with the dumpling store\nin the front.",
Zj,new W(null,2,5,X,[-73.98739092794052,40.71419515816037],null),xh,eo],null),new u(null,6,[Z,"lm-3-monks",Xj,ai,Y,"Monk's restaurant",th,"Tom's restaurant known as Monk's from Seinfeld.",Zj,new W(null,2,5,X,[-73.96539116064456,40.80555125016668],null),xh,eo],null),new u(null,7,[Z,"lm-4-warriors-park-staircase",Xj,ai,Y,"The Warriors park stone staircase",th,"The Warriors park stone staircase where Ajax, Snow and Cowboy stop\nat the stone staircase where they agree that Swan will continue alone to the Union Square station\nand the other two will check on Ajax. Going to the park from here will lead to the park bench\nlocation where they find Ajax.",
Zj,new W(null,2,5,X,[-73.97329892519512,40.79872233057832],null),Qh,"https://theparanoidtimes.org/thewarriors-path/",xh,eo],null),new u(null,7,[Z,"lm-5-warriors-park-meeting",Xj,ai,Y,"The Warriors Van Cortlandt Park meeting",th,"The location of the famous Van Cortlandt Park meeting of gangs.",Qh,"https://theparanoidtimes.org/thewarriors-path/",Zj,new W(null,2,5,X,[-73.97499181689764,40.79698582764249],null),xh,eo],null),new u(null,7,[Z,"lm-6-warriors-lizzies",Xj,ai,Y,"The Warriors Lizzies hideout",
th,"The location of the Lizzies gang hideout. A Croatian restaurant should be at the location now.",Qh,"https://theparanoidtimes.org/thewarriors-path/",Zj,new W(null,2,5,X,[-73.99191927560015,40.76411766017285],null),xh,eo],null),new u(null,7,[Z,"lm-7-warriors-archway",Xj,ai,Y,"The Warriors run scene archway",th,"The archway that is seen in the scene where The Warriors run from all the gangs\nafter the shooting at the meeting.",Qh,"https://theparanoidtimes.org/thewarriors-path/",Zj,new W(null,2,5,
X,[-73.9752369436896,40.79611905559915],null),xh,eo],null),new u(null,6,[Z,"lm-8-central-park",Xj,ai,Y,"Central park",th,"Well, its Central Park!",Zj,new W(null,2,5,X,[-73.96559495870976,40.78286327637728],null),xh,eo],null),new u(null,6,[Z,"lm-9-guggenheim",Xj,ai,Y,"Guggenheim Museum",th,"Frank Lloyd Wright designed modern art museum\nwith an architecturally significant spiral rotunda.",Zj,new W(null,2,5,X,[-73.95896717409701,40.78301525336056],null),xh,eo],null),new u(null,6,[Z,"lm-10-the-met",
Xj,ai,Y,"The Metropolitan Museum of Art",th,"The Met - a grand setting for one of the world's greatest collections of art,\nfrom ancient to contemporary.",Zj,new W(null,2,5,X,[-73.96320443144636,40.77972014329531],null),xh,eo],null),new u(null,6,[Z,"lm-11-museum-natural-history",Xj,ai,Y,"American Museum of Natural History",th,"From dinosaurs to outer space \x26 everything in between, this huge museum showcases natural wonders.\nThis is a real world analog of Ross's workplace.",Zj,new W(null,2,5,X,
[-73.97399842532135,40.78149138709353],null),xh,eo],null),new u(null,6,[Z,"lm-12-les-halles",Xj,ai,Y,"Les Halles",th,"Closed Anthony Bourdain's restaurant that is now a de facto shrine.",Zj,new W(null,2,5,X,[-74.00880960443487,40.710134464499255],null),xh,eo],null),new u(null,7,[Z,"lm-13-lazlow-abortion-clinic",Xj,ai,Y,"Abortion clinic",th,"Big Wayne had a girlfriend Doreen who got pregnant with him. Her father talked to Big Wayne\nand addressed that he is in no situation to be a father and instructed them to go to an abortion.\nAfter the trip to the clinic, they returned home and got romantic again. A few weeks after,\nthey were back in the clinic with the same reason. Coincidentally, it is the place where legendary Manhattan night club Copacabana was,\nwhere Big Wayne used to go out during the 80s. Lazlow and Reed used to work in the same building, but one floor above, in a\nmarketing agency. The Metropolitan Club is right across the street.",
Qh,"https://theparanoidtimes.org/bigwayne/",Zj,new W(null,2,5,X,[-73.97189720406456,40.764366716029116],null),xh,eo],null),new u(null,7,[Z,"lm-14-lazlow-porn-shoot",Xj,ai,Y,"Porn shoot",th,"Wayne, Reed and Lazlow were invited to a porn movie shoot by the director Joe Gallant.\nIt was in some movie/photo studio on the 12th floor of a building in Chelsea. They watched a couple of scenes\nbeing made from the front row sitting in the directors' chairs. As soon as the girls took their clothes of,\nWayne wanted to stay for the whole night if needed, after worrying if they will miss the train ride home.\nHe proceeded to call all the people he knows to brag. Mia Bang had a crush on Big Wayne and dedicated 'a move' to him.",
Qh,"https://theparanoidtimes.org/bigwayne/",Zj,new W(null,2,5,X,[-74.00010271906025,40.75297427355688],null),xh,eo],null),new u(null,6,[Z,"lm-15-high-line",Xj,ai,Y,"Beginning of The High Line",th,"The High Line - popular park 30 feet above street level on an old rail line, with river \x26 city views.",Zj,new W(null,2,5,X,[-74.00819335725672,40.73956346142458],null),xh,eo],null),new u(null,6,[Z,"lm-16-att",Xj,ai,Y,"AT\x26T Long Lines Building",th,"The brutalistic building without windows that is the inspiration for The Oldest House.",
Zj,new W(null,2,5,X,[-74.00631971656912,40.716573765781185],null),xh,eo],null),new u(null,6,[Z,"lm-17-midtown-precinct-north",Xj,ai,Y,"Midtown Precinct North",th,"Max Payne's first assigned police precinct. There are some dry-cleaning stores across the\nstreet that could've been an inspiration for the ones in the game.",Zj,new W(null,2,5,X,[-73.98511621033981,40.765023390883556],null),xh,eo],null),new u(null,6,[Z,"lm-18-times-square",Xj,ai,Y,"Times Square",th,"Iconic New York square - 2 minutes of time worth.",
Zj,new W(null,2,5,X,[-73.98554539380676,40.75814742302404],null),xh,eo],null),new u(null,6,[Z,"lm-19-empire-state",Xj,ai,Y,"Empire State Building",th,"Historical NYC landmark building.",Zj,new W(null,2,5,X,[-73.98576038229011,40.7492069394824],null),xh,eo],null),new u(null,6,[Z,"lm-20-flatiron",Xj,ai,Y,"Flatiron Building",th,"Historical NYC landmark building.",Zj,new W(null,2,5,X,[-73.98956587867126,40.741761955027314],null),xh,eo],null),new u(null,6,[Z,"lm-21-tenement",Xj,ai,Y,"Tenement Museum",
th,"The museum that is in fact a preserved tenement building.",Zj,new W(null,2,5,X,[-73.9900736929467,40.71884984658367],null),xh,eo],null),new u(null,6,[Z,"lm-22-kar",Xj,ai,Y,"Kitchen Arts \x26 Letters bookstore",th,"A bookstore specializing in food and drink. ",Zj,new W(null,2,5,X,[-73.95197309257762,40.78414091063987],null),xh,eo],null),new u(null,6,[Z,"r-1-2nd-ave-1",Xj,wj,Y,"2nd Ave Deli 1st location",th,"Old school Jewish deli - first location.",Zj,new W(null,2,5,X,[-73.97916657706699,40.74523656545278],
null),xh,fo],null),new u(null,6,[Z,"r-2-2nd-ave-2",Xj,wj,Y,"2nd Ave Deli 2nd location",th,"Old school Jewish deli - second location.",Zj,new W(null,2,5,X,[-73.95435441963464,40.770321214702],null),xh,fo],null),new u(null,6,[Z,"r-3-barney-greengrass",Xj,wj,Y,"Barney Greengrass",th,"A great deli known for fish.",Zj,new W(null,2,5,X,[-73.97463777301152,40.788164416828025],null),xh,fo],null),new u(null,6,[Z,"r-4-birdland",Xj,wj,Y,"Birdland",th,"Iconic jazz club.",Zj,new W(null,2,5,X,[-73.98969437684592,
40.75908309484538],null),xh,fo],null),new u(null,6,[Z,"r-5-de-jagua-1",Xj,wj,Y,"El Castillo De Jagua Restaurant 1st location",th,"A Caribbean diner - first location.",Zj,new W(null,2,5,X,[-73.98785686485056,40.72007354804193],null),xh,fo],null),new u(null,6,[Z,"r-6-de-jagua-2",Xj,wj,Y,"El Castillo De Jagua Restaurant 2nd location",th,"A Caribbean diner - second location.",Zj,new W(null,2,5,X,[-73.98185519139712,40.714714821759024],null),xh,fo],null),new u(null,6,[Z,"r-7-blue-sky",Xj,wj,Y,"Blue Sky Deli (Hajjis)",
th,"Old school local deli.",Zj,new W(null,2,5,X,[-73.93849006830166,40.79221473206647],null),xh,fo],null),new u(null,6,[Z,"r-8-harvest",Xj,wj,Y,"Harvest Kitchen",th,"A really good modern hipster restaurant.",Zj,new W(null,2,5,X,[-73.97828220738245,40.777861155163635],null),xh,fo],null),new u(null,6,[Z,"r-9-harrys",Xj,wj,Y,"Harry's Italian",th,"A great modest Italian restaurant.",Zj,new W(null,2,5,X,[-74.01474435582371,40.71532110292594],null),xh,fo],null),new u(null,6,[Z,"r-10-hop-kee",Xj,wj,Y,"Hop Kee",
th,"Great Chinese restaurant.",Zj,new W(null,2,5,X,[-73.9990347997922,40.7144739818575],null),xh,fo],null),new u(null,6,[Z,"r-11-il-cortile",Xj,wj,Y,"IL Cortile",th,"A traditional Italian restaurant on Mulberry street.\nThis is the place where almost the whole Sopranos production crew went\nfor special occasions.",Zj,new W(null,2,5,X,[-73.99817791052801,40.71797536472738],null),xh,fo],null),new u(null,6,[Z,"r-12-ivan-ramen",Xj,wj,Y,"Ivan Ramen",th,"Homemade noodles izakaya style place.",Zj,new W(null,
2,5,X,[-73.98443409039561,40.720589734642054],null),xh,fo],null),new u(null,6,[Z,"r-13-katzs",Xj,wj,Y,"Katz's Delicatessen",th,"Iconic deli that always has a line around the block.",Zj,new W(null,2,5,X,[-73.9874075973677,40.72227569008815],null),xh,fo],null),new u(null,6,[Z,"r-14-papaya",Xj,wj,Y,"Papaya King",th,"Best New York style hot dogs. Probably will move to 1535 Third Avenue, between East 86th and 87th Streets.",Zj,new W(null,2,5,X,[-73.95352992561149,40.77918675201452],null),xh,fo],null),
new u(null,6,[Z,"r-15-morini",Xj,wj,Y,"Osteria Morini",th,"Michael White's Emilia Romagna Italian restaurant.",Zj,new W(null,2,5,X,[-73.99778411275267,40.722031322925965],null),xh,fo],null),new u(null,6,[Z,"r-16-patsys-1",Xj,wj,Y,"Patsy's Pizzeria 1st location",th,"Great pizza on slice - first location.",Zj,new W(null,2,5,X,[-73.97216501319812,40.75043241138734],null),xh,fo],null),new u(null,6,[Z,"r-17-patsys-2",Xj,wj,Y,"Patsy's Pizzeria 2nd location",th,"Great pizza on slice - second location.",
Zj,new W(null,2,5,X,[-73.97745695412746,40.778714342249835],null),xh,fo],null),new u(null,6,[Z,"r-18-pastis",Xj,wj,Y,"Pastis",th,"Top Parisian bistro style restaurant.",Zj,new W(null,2,5,X,[-74.00701209767176,40.73925269109202],null),xh,fo],null),new u(null,6,[Z,"r-19-pisillo",Xj,wj,Y,"Pisillo Italian Panini",th,"Top Italian sandwiches.",Zj,new W(null,2,5,X,[-74.00758763558237,40.710575856385745],null),xh,fo],null),new u(null,6,[Z,"r-20-rudys",Xj,wj,Y,"Rudy's Bar \x26 Grill",th,"Nice bar and free hot dogs.",
Zj,new W(null,2,5,X,[-73.99179474561647,40.76004178988108],null),xh,fo],null),new u(null,6,[Z,"r-21-walkers",Xj,wj,Y,"Walker's",th,"A great local pub that was a favorite of James Gandolfini.",Zj,new W(null,2,5,X,[-74.00705430482597,40.71967517121412],null),xh,fo],null),new u(null,6,[Z,"r-22-wei-west",Xj,wj,Y,"Wei West",th,"A great Asian restaurant.",Zj,new W(null,2,5,X,[-74.01482272552879,40.71505557909593],null),xh,fo],null),new u(null,6,[Z,"r-23-sushi-35",Xj,wj,Y,"Sushi 35 West",th,"Best low key sushi place in the basement.",
Zj,new W(null,2,5,X,[-73.99132104662793,40.75185373918473],null),xh,fo],null),new u(null,6,[Z,"r-24-zabars",Xj,wj,Y,"Zabar's",th,"Iconic fish grocery store, where salmon salad is said to be the best. Appeared in Friends multiple times.",Zj,new W(null,2,5,X,[-73.97964367655393,40.78477185221817],null),xh,fo],null),new u(null,6,[Z,"r-25-le-bernardin",Xj,wj,Y,"Le Bernardin",th,"Eric Ripert's famous fish restaurant.",Zj,new W(null,2,5,X,[-73.98177726074337,40.76156804632364],null),xh,fo],null),new u(null,
6,[Z,"r-26-piccolo",Xj,wj,Y,"Piccolo Cafe",th,"Michael Imperioli said that this is the best coffee in New York, but it appears to not exist anymore.",Zj,new W(null,2,5,X,[-73.98026808519143,40.78019943540329],null),xh,fo],null),new u(null,6,[Z,"r-27-playwrights",Xj,wj,Y,"Playwright's bar",th,"Big Wayne, Lazlow and Couzin Ed went to this bar once after one of the shows on K-Rock.",Zj,new W(null,2,5,X,[-73.98800146405054,40.759527980260025],null),xh,fo],null),new u(null,6,[Z,"r-28-burger-joint-1",Xj,
wj,Y,"Burger Joint First location",th,"Great NY burgers recommended by Anthony Bourdain.",Zj,new W(null,2,5,X,[-73.99570627637115,40.75180766799425],null),xh,fo],null),new u(null,6,[Z,"r-28-burger-joint-2",Xj,wj,Y,"Burger Joint Second location",th,"Great NY burgers recommended by Anthony Bourdain.",Zj,new W(null,2,5,X,[-73.97856199627599,40.764241874287904],null),xh,fo],null),new u(null,6,[Z,"r-29-corner-bistro",Xj,wj,Y,"Corner Bistro",th,"Great NY curbside burgers recommended by Anthony Bourdain.",
Zj,new W(null,2,5,X,[-74.00375541061831,40.73808775260181],null),xh,fo],null),new u(null,6,[Z,"r-30-noodletown",Xj,wj,Y,"Great NY Noodletown",th,"Late hour Chinese restaurant.",Zj,new W(null,2,5,X,[-73.99706134604489,40.71503582766869],null),xh,fo],null),new u(null,6,[Z,"r-31-sake-bar",Xj,wj,Y,"Sake Bar Hagi",th,"Cozy, brick-walled Japanese eatery \x26 sake bar offering yakitori, noodles \x26 set-price party menus.",Zj,new W(null,2,5,X,[-73.98496892158687,40.762791292552784],null),xh,fo],null),new u(null,
6,[Z,"r-32-jeremys",Xj,wj,Y,"Jeremy's Ale House",th,"Old time NYC dive bar.",Zj,new W(null,2,5,X,[-74.00210708773388,40.7079183643334],null),xh,fo],null),new u(null,6,[Z,"r-33-russ-1",Xj,wj,Y,"Russ \x26 Daughters First location",th,"Traditional Jewish appetizing place specialized in fish. Like a deli.",Zj,new W(null,2,5,X,[-73.98822780365073,40.722895643535],null),xh,fo],null),new u(null,6,[Z,"r-33-russ-2",Xj,wj,Y,"Russ \x26 Daughters Second location",th,"Traditional Jewish appetizing place specialized in fish. Like a deli.",
Zj,new W(null,2,5,X,[-73.98968380058294,40.72045156666822],null),xh,fo],null),new u(null,6,[Z,"r-33-russ-3",Xj,wj,Y,"Russ \x26 Daughters Third location",th,"Traditional Jewish appetizing place specialized in fish. Like a deli.",Zj,new W(null,2,5,X,[-73.99931058894134,40.756097081206576],null),xh,fo],null)],!0);function go(a){this.wd=a;this.B=393216;this.I=0}go.prototype.W=function(a,b){return new go(b)};go.prototype.U=function(){return this.wd};go.prototype.Pc=t;
go.prototype.Qc=function(a,b){Ke.Y(co,T,Y,b.get("title"));return Ke.Y(co,T,Ji,b.get("description"))};var bo=new u(null,2,[ai,new go(re),Si,function(){return null}],null),dm=dk("feature");w(dm)&&cm();var Zn=dk("map");w(Zn)&&Yn();
}).call(this);</script>
    </body>

</html>